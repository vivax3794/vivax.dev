[{"data":1,"prerenderedAt":60990},["Reactive",2],{"content-query-AYsYKEZnkk":3},[4,3156,14387,23089,38520,52019],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"body":11,"_type":3151,"_id":3152,"_source":3153,"_file":3154,"_extension":3155},"/blog/compiler_1","blog",false,"","Compiler part 1 - How to generate an exe?","So in this little series, I am going to be making a compiler and taking you along every step of the way!",{"type":12,"children":13,"toc":3139},"root",[14,22,27,32,37,53,58,65,70,75,89,94,103,116,122,133,138,144,149,167,173,178,191,198,203,209,237,242,285,290,308,345,350,406,433,491,519,539,544,568,589,620,625,646,654,659,694,699,712,718,723,725,738,751,756,764,769,893,933,938,1064,1107,1126,1253,1266,1320,1339,1404,1511,1530,1601,1638,1650,1742,1770,1828,1840,1915,1934,1939,1989,1994,2855,2861,2874,2882,2896,2901,2947,2952,2987,2992,3012,3045,3087,3092,3106,3111,3117,3125,3133],{"type":15,"tag":16,"props":17,"children":19},"element","h1",{"id":18},"compiler-part-1-how-to-generate-an-exe",[20],{"type":21,"value":9},"text",{"type":15,"tag":23,"props":24,"children":25},"p",{},[26],{"type":21,"value":10},{"type":15,"tag":23,"props":28,"children":29},{},[30],{"type":21,"value":31},"To be clear, this won't be a tutorial per se, but I will show you every step along the way.",{"type":15,"tag":23,"props":33,"children":34},{},[35],{"type":21,"value":36},"Also, I am not a professional compiler dev, this is a hobby and from my own experience.",{"type":15,"tag":23,"props":38,"children":39},{},[40,42,51],{"type":21,"value":41},"And if you want a better resource for making languages, check out ",{"type":15,"tag":43,"props":44,"children":48},"a",{"href":45,"rel":46},"https://craftinginterpreters.com/",[47],"nofollow",[49],{"type":21,"value":50},"Crafting Interpreters",{"type":21,"value":52},", it is free online and goes over making an interpreter in huge detail. And yes I will make a compiler, but a lot of the concepts carry over, so if you ever get confused by this blog might try giving that a read;",{"type":15,"tag":23,"props":54,"children":55},{},[56],{"type":21,"value":57},"Also having an understanding of Rust or C will help a lot in understanding some of the terms used (like pointer), I will try to explain stuff that isn't commonly known.",{"type":15,"tag":59,"props":60,"children":62},"h3",{"id":61},"the-goal",[63],{"type":21,"value":64},"The goal",{"type":15,"tag":23,"props":66,"children":67},{},[68],{"type":21,"value":69},"We are going to make a compiler in Rust, the lang will be simple with type inference!\nStarting out with just numbers, then moving on to strings and even custom structs and classes.\nFigure out how to make import systems, parse code into an AST (abstract syntax tree), how to resolve type information.",{"type":15,"tag":23,"props":71,"children":72},{},[73],{"type":21,"value":74},"And most importantly how to generate LLVM IR and turn it into an exe that you can run independently.",{"type":15,"tag":23,"props":76,"children":77},{},[78,80,87],{"type":21,"value":79},"We will also look a bit at how to create a good CLI interface for our compiler and how to handle errors.\nAnother issue that comes up is testing, if you aren't writing tests for your code you should! Although what is the best way to test a compiler? Well, what I will be doing is adding ",{"type":15,"tag":81,"props":82,"children":84},"code",{"className":83},[],[85],{"type":21,"value":86},"assert",{"type":21,"value":88}," statements to our language and running a bunch of smaller programs to see if they fail.",{"type":15,"tag":23,"props":90,"children":91},{},[92],{"type":21,"value":93},"The lang itself is gonna be inspired by Python and Rust! Hence type inference, which means you won't have to declare the types of variables.\nBut arguments and return types you need to. an example of code in the lang might be:",{"type":15,"tag":95,"props":96,"children":98},"pre",{"code":97},"fn add(a: int, b: int) -> int {\n    return a + b;\n}\n\nfn main() {\n    print add(1, 2);\n}\n",[99],{"type":15,"tag":81,"props":100,"children":101},{"__ignoreMap":8},[102],{"type":21,"value":97},{"type":15,"tag":23,"props":104,"children":105},{},[106,108,114],{"type":21,"value":107},"and yes ",{"type":15,"tag":81,"props":109,"children":111},{"className":110},[],[112],{"type":21,"value":113},"print",{"type":21,"value":115}," is gonna be a statement as it makes debugging easier at the start before we have functions!",{"type":15,"tag":59,"props":117,"children":119},{"id":118},"assembly",[120],{"type":21,"value":121},"Assembly",{"type":15,"tag":23,"props":123,"children":124},{},[125,127,131],{"type":21,"value":126},"So how do we create an exe? Well, we could write all the bytes manually ourselves! But that is a lot of work and most importantly isn't cross-platform ",{"type":15,"tag":128,"props":129,"children":130},"o",{},[],{"type":21,"value":132},"\nBecause each CPU is gonna have a separate set of assembly instructions, and even on the same CPU model different OSes are going to have different exe formats!",{"type":15,"tag":23,"props":134,"children":135},{},[136],{"type":21,"value":137},"So what do we do? Well, we use LLVM IR.",{"type":15,"tag":59,"props":139,"children":141},{"id":140},"llvm",[142],{"type":21,"value":143},"LLVM",{"type":15,"tag":23,"props":145,"children":146},{},[147],{"type":21,"value":148},"So what is this magical LLVM IR I speak of? Well, it is a programming lang, well an IR (Intermediate Representation), basically, it is somewhere between assembly and a programming lang. Most langs are converted into some form of IR before then being compiled all the way down to an exe.\nMany compilers also have a lang specific IR that they use before converting to the LLVM IR, and we are going to as well.",{"type":15,"tag":23,"props":150,"children":151},{},[152,154,165],{"type":21,"value":153},"And we don't need to generate the LLVM IR text ourselves, there are tools to do it for us making it really convenient! We will be using ",{"type":15,"tag":43,"props":155,"children":158},{"href":156,"rel":157},"https://github.com/TheDan64/inkwell",[47],[159],{"type":15,"tag":81,"props":160,"children":162},{"className":161},[],[163],{"type":21,"value":164},"inkwell",{"type":21,"value":166}," for this, it wraps the LLVM C library.",{"type":15,"tag":59,"props":168,"children":170},{"id":169},"overall-compiler-structure",[171],{"type":21,"value":172},"Overall compiler structure",{"type":15,"tag":23,"props":174,"children":175},{},[176],{"type":21,"value":177},"This is how we are going to structure our compiler, and over the following blog posts we will work on these parts!",{"type":15,"tag":23,"props":179,"children":180},{},[181],{"type":15,"tag":43,"props":182,"children":185},{"href":183,"rel":184},"https://mermaid.live/edit#pako:eNpNjrsOgzAMRX8l8kz6ARkqVWJBokuLOmWxwBTUPFBwBAjx7w3QoZ6uj4-lu0LtGwIFrfFT3WFgUeXaiTQVzSykvIrbyCdJIQFRLQOJQKM3kXvvDqdwTMGhkUU43T-w__TuM5Exh1uWr7ssHqf3W47DhWaCDCwFi32TSq27o4E7sqRBpdhQi9GwBu22pGJk_1xcDYpDpAzi0CBT3uM7oAXVohlp-wJr-kfl",[47],[186],{"type":15,"tag":187,"props":188,"children":190},"img",{"alt":8,"src":189},"https://mermaid.ink/img/pako:eNpNjrsOgzAMRX8l8kz6ARkqVWJBokuLOmWxwBTUPFBwBAjx7w3QoZ6uj4-lu0LtGwIFrfFT3WFgUeXaiTQVzSykvIrbyCdJIQFRLQOJQKM3kXvvDqdwTMGhkUU43T-w__TuM5Exh1uWr7ssHqf3W47DhWaCDCwFi32TSq27o4E7sqRBpdhQi9GwBu22pGJk_1xcDYpDpAzi0CBT3uM7oAXVohlp-wJr-kfl?type=png",[],{"type":15,"tag":192,"props":193,"children":195},"h2",{"id":194},"so-lets-write-some-code",[196],{"type":21,"value":197},"So let's write some code!",{"type":15,"tag":23,"props":199,"children":200},{},[201],{"type":21,"value":202},"let's just start very simple, we will hardcode some inkwell code to generate a simple \"Hello World\" script, in the next post we will start laying out the code structure of our compiler!",{"type":15,"tag":59,"props":204,"children":206},{"id":205},"installing-inkwell-and-llvm",[207],{"type":21,"value":208},"Installing inkwell and LLVM",{"type":15,"tag":210,"props":211,"children":212},"blockquote",{},[213,218,223,228],{"type":15,"tag":23,"props":214,"children":215},{},[216],{"type":21,"value":217},"***WARNING: ***",{"type":15,"tag":23,"props":219,"children":220},{},[221],{"type":21,"value":222},"This step takes a while, the first few steps are slow but you can sit thru them fine.",{"type":15,"tag":23,"props":224,"children":225},{},[226],{"type":21,"value":227},"The last build step on the other hand takes a VERY long time, so go watch a movie or something.",{"type":15,"tag":23,"props":229,"children":230},{},[231,233],{"type":21,"value":232},"The LLVM install below is building from source, it is what I found worked for me, but you should try your package managers LLVM first and if it works then great! you saved yourself a lot of time ",{"type":15,"tag":234,"props":235,"children":236},"d",{},[],{"type":15,"tag":23,"props":238,"children":239},{},[240],{"type":21,"value":241},"first, we need to add the inkwell library to our project.",{"type":15,"tag":95,"props":243,"children":247},{"code":244,"language":245,"meta":8,"className":246,"style":8},"cargo add inkwell --features llvm15-0\n","bash","language-bash shiki shiki-themes github-dark",[248],{"type":15,"tag":81,"props":249,"children":250},{"__ignoreMap":8},[251],{"type":15,"tag":252,"props":253,"children":256},"span",{"class":254,"line":255},"line",1,[257,263,269,274,280],{"type":15,"tag":252,"props":258,"children":260},{"style":259},"--shiki-default:#B392F0",[261],{"type":21,"value":262},"cargo",{"type":15,"tag":252,"props":264,"children":266},{"style":265},"--shiki-default:#9ECBFF",[267],{"type":21,"value":268}," add",{"type":15,"tag":252,"props":270,"children":271},{"style":265},[272],{"type":21,"value":273}," inkwell",{"type":15,"tag":252,"props":275,"children":277},{"style":276},"--shiki-default:#79B8FF",[278],{"type":21,"value":279}," --features",{"type":15,"tag":252,"props":281,"children":282},{"style":265},[283],{"type":21,"value":284}," llvm15-0\n",{"type":15,"tag":23,"props":286,"children":287},{},[288],{"type":21,"value":289},"now if you try to just run the code you get an error complaining that LLVM is not installed on your system (or maybe you don't in that case skip this step!)\nYou need to install LLVM, I am using Arch so will include instructions for that, but this should work on other Linux systems as well.",{"type":15,"tag":23,"props":291,"children":292},{},[293,295,306],{"type":21,"value":294},"We will use ",{"type":15,"tag":43,"props":296,"children":299},{"href":297,"rel":298},"https://crates.io/crates/llvmenv",[47],[300],{"type":15,"tag":81,"props":301,"children":303},{"className":302},[],[304],{"type":21,"value":305},"llvmenv",{"type":21,"value":307}," to build a local copy of the LLVM source code!",{"type":15,"tag":95,"props":309,"children":311},{"code":310,"language":245,"meta":8,"className":246,"style":8},"cargo install llvmenv\nllvmenv init\n",[312],{"type":15,"tag":81,"props":313,"children":314},{"__ignoreMap":8},[315,332],{"type":15,"tag":252,"props":316,"children":317},{"class":254,"line":255},[318,322,327],{"type":15,"tag":252,"props":319,"children":320},{"style":259},[321],{"type":21,"value":262},{"type":15,"tag":252,"props":323,"children":324},{"style":265},[325],{"type":21,"value":326}," install",{"type":15,"tag":252,"props":328,"children":329},{"style":265},[330],{"type":21,"value":331}," llvmenv\n",{"type":15,"tag":252,"props":333,"children":335},{"class":254,"line":334},2,[336,340],{"type":15,"tag":252,"props":337,"children":338},{"style":259},[339],{"type":21,"value":305},{"type":15,"tag":252,"props":341,"children":342},{"style":265},[343],{"type":21,"value":344}," init\n",{"type":15,"tag":23,"props":346,"children":347},{},[348],{"type":21,"value":349},"We will need to clone the LLVM project and switch to the version 15 branch (this is around a 2GB download)",{"type":15,"tag":95,"props":351,"children":353},{"code":352,"language":245,"meta":8,"className":246,"style":8},"git clone https://github.com/llvm/llvm-project.git\ncd llvm-project\ngit checkout release/15.x\n",[354],{"type":15,"tag":81,"props":355,"children":356},{"__ignoreMap":8},[357,375,388],{"type":15,"tag":252,"props":358,"children":359},{"class":254,"line":255},[360,365,370],{"type":15,"tag":252,"props":361,"children":362},{"style":259},[363],{"type":21,"value":364},"git",{"type":15,"tag":252,"props":366,"children":367},{"style":265},[368],{"type":21,"value":369}," clone",{"type":15,"tag":252,"props":371,"children":372},{"style":265},[373],{"type":21,"value":374}," https://github.com/llvm/llvm-project.git\n",{"type":15,"tag":252,"props":376,"children":377},{"class":254,"line":334},[378,383],{"type":15,"tag":252,"props":379,"children":380},{"style":276},[381],{"type":21,"value":382},"cd",{"type":15,"tag":252,"props":384,"children":385},{"style":265},[386],{"type":21,"value":387}," llvm-project\n",{"type":15,"tag":252,"props":389,"children":391},{"class":254,"line":390},3,[392,396,401],{"type":15,"tag":252,"props":393,"children":394},{"style":259},[395],{"type":21,"value":364},{"type":15,"tag":252,"props":397,"children":398},{"style":265},[399],{"type":21,"value":400}," checkout",{"type":15,"tag":252,"props":402,"children":403},{"style":265},[404],{"type":21,"value":405}," release/15.x\n",{"type":15,"tag":23,"props":407,"children":408},{},[409,411,416,418,423,425,431],{"type":21,"value":410},"then we will need to add this path to the list of LLVM versions ",{"type":15,"tag":81,"props":412,"children":414},{"className":413},[],[415],{"type":21,"value":305},{"type":21,"value":417}," knows about, open the ",{"type":15,"tag":81,"props":419,"children":421},{"className":420},[],[422],{"type":21,"value":305},{"type":21,"value":424}," entires file located in ",{"type":15,"tag":81,"props":426,"children":428},{"className":427},[],[429],{"type":21,"value":430},"~/.config/llvmend/entry.toml",{"type":21,"value":432},".",{"type":15,"tag":95,"props":434,"children":438},{"code":435,"language":436,"meta":8,"className":437,"style":8},"[local-15]\npath = \"PATH_TO_YOUR_CLONED_REPO/llvm-project/llvm\"\ntarget = [\"X86\"]\n","toml","language-toml shiki shiki-themes github-dark",[439],{"type":15,"tag":81,"props":440,"children":441},{"__ignoreMap":8},[442,461,474],{"type":15,"tag":252,"props":443,"children":444},{"class":254,"line":255},[445,451,456],{"type":15,"tag":252,"props":446,"children":448},{"style":447},"--shiki-default:#E1E4E8",[449],{"type":21,"value":450},"[",{"type":15,"tag":252,"props":452,"children":453},{"style":259},[454],{"type":21,"value":455},"local-15",{"type":15,"tag":252,"props":457,"children":458},{"style":447},[459],{"type":21,"value":460},"]\n",{"type":15,"tag":252,"props":462,"children":463},{"class":254,"line":334},[464,469],{"type":15,"tag":252,"props":465,"children":466},{"style":447},[467],{"type":21,"value":468},"path = ",{"type":15,"tag":252,"props":470,"children":471},{"style":265},[472],{"type":21,"value":473},"\"PATH_TO_YOUR_CLONED_REPO/llvm-project/llvm\"\n",{"type":15,"tag":252,"props":475,"children":476},{"class":254,"line":390},[477,482,487],{"type":15,"tag":252,"props":478,"children":479},{"style":447},[480],{"type":21,"value":481},"target = [",{"type":15,"tag":252,"props":483,"children":484},{"style":265},[485],{"type":21,"value":486},"\"X86\"",{"type":15,"tag":252,"props":488,"children":489},{"style":447},[490],{"type":21,"value":460},{"type":15,"tag":23,"props":492,"children":493},{},[494,496,502,504,510,512,518],{"type":21,"value":495},"Remember to specify where you cloned it, for example for me it is ",{"type":15,"tag":81,"props":497,"children":499},{"className":498},[],[500],{"type":21,"value":501},"/home/vivax/llvm-project/llvm",{"type":21,"value":503}," (I just cloned it in my home folder).\nalso, you might need a different value for ",{"type":15,"tag":81,"props":505,"children":507},{"className":506},[],[508],{"type":21,"value":509},"target",{"type":21,"value":511},", look at what it says for ",{"type":15,"tag":81,"props":513,"children":515},{"className":514},[],[516],{"type":21,"value":517},"llvm-mirror",{"type":21,"value":432},{"type":15,"tag":23,"props":520,"children":521},{},[522,524,530,532,537],{"type":21,"value":523},"now when we do ",{"type":15,"tag":81,"props":525,"children":527},{"className":526},[],[528],{"type":21,"value":529},"llvmenv entries",{"type":21,"value":531}," we should see our ",{"type":15,"tag":81,"props":533,"children":535},{"className":534},[],[536],{"type":21,"value":455},{"type":21,"value":538}," on there, and now we can build it!",{"type":15,"tag":23,"props":540,"children":541},{},[542],{"type":21,"value":543},"This is going to take a good while, for me it took an hour.",{"type":15,"tag":95,"props":545,"children":547},{"code":546,"language":245,"meta":8,"className":246,"style":8},"llvmenv build-entry local-15\n",[548],{"type":15,"tag":81,"props":549,"children":550},{"__ignoreMap":8},[551],{"type":15,"tag":252,"props":552,"children":553},{"class":254,"line":255},[554,558,563],{"type":15,"tag":252,"props":555,"children":556},{"style":259},[557],{"type":21,"value":305},{"type":15,"tag":252,"props":559,"children":560},{"style":265},[561],{"type":21,"value":562}," build-entry",{"type":15,"tag":252,"props":564,"children":565},{"style":265},[566],{"type":21,"value":567}," local-15\n",{"type":15,"tag":23,"props":569,"children":570},{},[571,573,579,581,587],{"type":21,"value":572},"Now we need to tell cargo where to find our new LLVM build, llvmenv would likely have installed it in ",{"type":15,"tag":81,"props":574,"children":576},{"className":575},[],[577],{"type":21,"value":578},"~/.local/share/llvmenv/local-15",{"type":21,"value":580},".\nWe can tell Rust how to find this using the ",{"type":15,"tag":81,"props":582,"children":584},{"className":583},[],[585],{"type":21,"value":586},"LLVM_SYS_150_PREFIX.",{"type":21,"value":588}," env var, you can either export it once:",{"type":15,"tag":95,"props":590,"children":592},{"code":591,"language":245,"meta":8,"className":246,"style":8},"export LLVM_SYS_150_PREFIX=\"/home/USERNAME/.local/share/llvmenv/local-15\"\n",[593],{"type":15,"tag":81,"props":594,"children":595},{"__ignoreMap":8},[596],{"type":15,"tag":252,"props":597,"children":598},{"class":254,"line":255},[599,605,610,615],{"type":15,"tag":252,"props":600,"children":602},{"style":601},"--shiki-default:#F97583",[603],{"type":21,"value":604},"export",{"type":15,"tag":252,"props":606,"children":607},{"style":447},[608],{"type":21,"value":609}," LLVM_SYS_150_PREFIX",{"type":15,"tag":252,"props":611,"children":612},{"style":601},[613],{"type":21,"value":614},"=",{"type":15,"tag":252,"props":616,"children":617},{"style":265},[618],{"type":21,"value":619},"\"/home/USERNAME/.local/share/llvmenv/local-15\"\n",{"type":15,"tag":23,"props":621,"children":622},{},[623],{"type":21,"value":624},"Alternatively you can save this in a file so cargo always uses it for this project (although that does make it hard to share the project with others, so be warned)",{"type":15,"tag":23,"props":626,"children":627},{},[628,630,636,638,644],{"type":21,"value":629},"create a ",{"type":15,"tag":81,"props":631,"children":633},{"className":632},[],[634],{"type":21,"value":635},".cargo",{"type":21,"value":637}," folder in the root of your project, then add a ",{"type":15,"tag":81,"props":639,"children":641},{"className":640},[],[642],{"type":21,"value":643},"config.toml",{"type":21,"value":645}," file in the folder.",{"type":15,"tag":95,"props":647,"children":649},{"code":648},".cargo/\n    config.toml\nsrc/\n    ...\nCargo.toml\n",[650],{"type":15,"tag":81,"props":651,"children":652},{"__ignoreMap":8},[653],{"type":21,"value":648},{"type":15,"tag":23,"props":655,"children":656},{},[657],{"type":21,"value":658},"in the file we can set build settings",{"type":15,"tag":95,"props":660,"children":662},{"code":661,"language":436,"meta":8,"className":437,"style":8},"[env]\nLLVM_SYS_150_PREFIX=\"/home/USERNAME/.local/share/llvmenv/local-15\"\n",[663],{"type":15,"tag":81,"props":664,"children":665},{"__ignoreMap":8},[666,682],{"type":15,"tag":252,"props":667,"children":668},{"class":254,"line":255},[669,673,678],{"type":15,"tag":252,"props":670,"children":671},{"style":447},[672],{"type":21,"value":450},{"type":15,"tag":252,"props":674,"children":675},{"style":259},[676],{"type":21,"value":677},"env",{"type":15,"tag":252,"props":679,"children":680},{"style":447},[681],{"type":21,"value":460},{"type":15,"tag":252,"props":683,"children":684},{"class":254,"line":334},[685,690],{"type":15,"tag":252,"props":686,"children":687},{"style":447},[688],{"type":21,"value":689},"LLVM_SYS_150_PREFIX=",{"type":15,"tag":252,"props":691,"children":692},{"style":265},[693],{"type":21,"value":619},{"type":15,"tag":23,"props":695,"children":696},{},[697],{"type":21,"value":698},"that way you don't have to export the path again each time you come back to the project!",{"type":15,"tag":23,"props":700,"children":701},{},[702,704,710],{"type":21,"value":703},"Now that we got that installed, we can try to run our project again, (you might wanna do ",{"type":15,"tag":81,"props":705,"children":707},{"className":706},[],[708],{"type":21,"value":709},"cargo clean",{"type":21,"value":711}," first if you tried to build it earlier)",{"type":15,"tag":59,"props":713,"children":715},{"id":714},"hello-world",[716],{"type":21,"value":717},"Hello World",{"type":15,"tag":23,"props":719,"children":720},{},[721],{"type":21,"value":722},"Okay, that was a lot of work (and time) for the first step ",{"type":21,"value":724},"\nBut now we can finally write some code!",{"type":15,"tag":23,"props":726,"children":727},{},[728,730,736],{"type":21,"value":729},"So we are just gonna do this in ",{"type":15,"tag":81,"props":731,"children":733},{"className":732},[],[734],{"type":21,"value":735},"main.rs",{"type":21,"value":737}," as a proof of concept, in the next post we will write a proper code structure with minimal implementations for each part of the compiler, and after that, we will have a technically fully working compiler, although it will be quite minimal. We will also tackle the CLI interface in the next post, so for now lets us just hardcode everything.",{"type":15,"tag":23,"props":739,"children":740},{},[741,743,749],{"type":21,"value":742},"But first, we need to talk about lib-c, the standard library of C, we will be using it as well! You may ask, why are we using the stdlib from another lang, well simple, everybody is! The reason is that libc is implemented on basically any major platform you can imagine, and instead of dealing with OS specific terminal stuff, you can just use ",{"type":15,"tag":81,"props":744,"children":746},{"className":745},[],[747],{"type":21,"value":748},"printf",{"type":21,"value":750}," from libc!",{"type":15,"tag":23,"props":752,"children":753},{},[754],{"type":21,"value":755},"first, we need some imports:",{"type":15,"tag":95,"props":757,"children":759},{"code":758},"use inkwell::{context::Context, AddressSpace};\n",[760],{"type":15,"tag":81,"props":761,"children":762},{"__ignoreMap":8},[763],{"type":21,"value":758},{"type":15,"tag":23,"props":765,"children":766},{},[767],{"type":21,"value":768},"now let's get started, we need to create some structs we will use to generate our code.",{"type":15,"tag":95,"props":770,"children":774},{"code":771,"language":772,"meta":8,"className":773,"style":8},"let context = Context::create();\nlet module = context.create_module(\"hello world\");\nlet builder = context.create_builder();\n","rust","language-rust shiki shiki-themes github-dark",[775],{"type":15,"tag":81,"props":776,"children":777},{"__ignoreMap":8},[778,815,860],{"type":15,"tag":252,"props":779,"children":780},{"class":254,"line":255},[781,786,791,795,800,805,810],{"type":15,"tag":252,"props":782,"children":783},{"style":601},[784],{"type":21,"value":785},"let",{"type":15,"tag":252,"props":787,"children":788},{"style":447},[789],{"type":21,"value":790}," context ",{"type":15,"tag":252,"props":792,"children":793},{"style":601},[794],{"type":21,"value":614},{"type":15,"tag":252,"props":796,"children":797},{"style":259},[798],{"type":21,"value":799}," Context",{"type":15,"tag":252,"props":801,"children":802},{"style":601},[803],{"type":21,"value":804},"::",{"type":15,"tag":252,"props":806,"children":807},{"style":259},[808],{"type":21,"value":809},"create",{"type":15,"tag":252,"props":811,"children":812},{"style":447},[813],{"type":21,"value":814},"();\n",{"type":15,"tag":252,"props":816,"children":817},{"class":254,"line":334},[818,822,827,831,836,840,845,850,855],{"type":15,"tag":252,"props":819,"children":820},{"style":601},[821],{"type":21,"value":785},{"type":15,"tag":252,"props":823,"children":824},{"style":447},[825],{"type":21,"value":826}," module ",{"type":15,"tag":252,"props":828,"children":829},{"style":601},[830],{"type":21,"value":614},{"type":15,"tag":252,"props":832,"children":833},{"style":447},[834],{"type":21,"value":835}," context",{"type":15,"tag":252,"props":837,"children":838},{"style":601},[839],{"type":21,"value":432},{"type":15,"tag":252,"props":841,"children":842},{"style":259},[843],{"type":21,"value":844},"create_module",{"type":15,"tag":252,"props":846,"children":847},{"style":447},[848],{"type":21,"value":849},"(",{"type":15,"tag":252,"props":851,"children":852},{"style":265},[853],{"type":21,"value":854},"\"hello world\"",{"type":15,"tag":252,"props":856,"children":857},{"style":447},[858],{"type":21,"value":859},");\n",{"type":15,"tag":252,"props":861,"children":862},{"class":254,"line":390},[863,867,872,876,880,884,889],{"type":15,"tag":252,"props":864,"children":865},{"style":601},[866],{"type":21,"value":785},{"type":15,"tag":252,"props":868,"children":869},{"style":447},[870],{"type":21,"value":871}," builder ",{"type":15,"tag":252,"props":873,"children":874},{"style":601},[875],{"type":21,"value":614},{"type":15,"tag":252,"props":877,"children":878},{"style":447},[879],{"type":21,"value":835},{"type":15,"tag":252,"props":881,"children":882},{"style":601},[883],{"type":21,"value":432},{"type":15,"tag":252,"props":885,"children":886},{"style":259},[887],{"type":21,"value":888},"create_builder",{"type":15,"tag":252,"props":890,"children":891},{"style":447},[892],{"type":21,"value":814},{"type":15,"tag":894,"props":895,"children":896},"ul",{},[897,911,922],{"type":15,"tag":898,"props":899,"children":900},"li",{},[901,903,909],{"type":21,"value":902},"the ",{"type":15,"tag":81,"props":904,"children":906},{"className":905},[],[907],{"type":21,"value":908},"context",{"type":21,"value":910}," is basically a builder for generic stuff like types.",{"type":15,"tag":898,"props":912,"children":913},{},[914,920],{"type":15,"tag":81,"props":915,"children":917},{"className":916},[],[918],{"type":21,"value":919},"module",{"type":21,"value":921}," is what will contain our definitions and code, think of it as a file!",{"type":15,"tag":898,"props":923,"children":924},{},[925,931],{"type":15,"tag":81,"props":926,"children":928},{"className":927},[],[929],{"type":21,"value":930},"builder",{"type":21,"value":932}," is what we use to generate code, we need to point it to the correct spot in the module, and we will get to that soon!",{"type":15,"tag":23,"props":934,"children":935},{},[936],{"type":21,"value":937},"first let's declare some types we will be using later",{"type":15,"tag":95,"props":939,"children":941},{"code":940,"language":772,"meta":8,"className":773,"style":8},"let i8_type = context.i8_type();\nlet i8_ptr_type = i8_type.ptr_type(AddressSpace::default());\nlet i32_type = context.i32_type();\n",[942],{"type":15,"tag":81,"props":943,"children":944},{"__ignoreMap":8},[945,978,1031],{"type":15,"tag":252,"props":946,"children":947},{"class":254,"line":255},[948,952,957,961,965,969,974],{"type":15,"tag":252,"props":949,"children":950},{"style":601},[951],{"type":21,"value":785},{"type":15,"tag":252,"props":953,"children":954},{"style":447},[955],{"type":21,"value":956}," i8_type ",{"type":15,"tag":252,"props":958,"children":959},{"style":601},[960],{"type":21,"value":614},{"type":15,"tag":252,"props":962,"children":963},{"style":447},[964],{"type":21,"value":835},{"type":15,"tag":252,"props":966,"children":967},{"style":601},[968],{"type":21,"value":432},{"type":15,"tag":252,"props":970,"children":971},{"style":259},[972],{"type":21,"value":973},"i8_type",{"type":15,"tag":252,"props":975,"children":976},{"style":447},[977],{"type":21,"value":814},{"type":15,"tag":252,"props":979,"children":980},{"class":254,"line":334},[981,985,990,994,999,1003,1008,1012,1017,1021,1026],{"type":15,"tag":252,"props":982,"children":983},{"style":601},[984],{"type":21,"value":785},{"type":15,"tag":252,"props":986,"children":987},{"style":447},[988],{"type":21,"value":989}," i8_ptr_type ",{"type":15,"tag":252,"props":991,"children":992},{"style":601},[993],{"type":21,"value":614},{"type":15,"tag":252,"props":995,"children":996},{"style":447},[997],{"type":21,"value":998}," i8_type",{"type":15,"tag":252,"props":1000,"children":1001},{"style":601},[1002],{"type":21,"value":432},{"type":15,"tag":252,"props":1004,"children":1005},{"style":259},[1006],{"type":21,"value":1007},"ptr_type",{"type":15,"tag":252,"props":1009,"children":1010},{"style":447},[1011],{"type":21,"value":849},{"type":15,"tag":252,"props":1013,"children":1014},{"style":259},[1015],{"type":21,"value":1016},"AddressSpace",{"type":15,"tag":252,"props":1018,"children":1019},{"style":601},[1020],{"type":21,"value":804},{"type":15,"tag":252,"props":1022,"children":1023},{"style":259},[1024],{"type":21,"value":1025},"default",{"type":15,"tag":252,"props":1027,"children":1028},{"style":447},[1029],{"type":21,"value":1030},"());\n",{"type":15,"tag":252,"props":1032,"children":1033},{"class":254,"line":390},[1034,1038,1043,1047,1051,1055,1060],{"type":15,"tag":252,"props":1035,"children":1036},{"style":601},[1037],{"type":21,"value":785},{"type":15,"tag":252,"props":1039,"children":1040},{"style":447},[1041],{"type":21,"value":1042}," i32_type ",{"type":15,"tag":252,"props":1044,"children":1045},{"style":601},[1046],{"type":21,"value":614},{"type":15,"tag":252,"props":1048,"children":1049},{"style":447},[1050],{"type":21,"value":835},{"type":15,"tag":252,"props":1052,"children":1053},{"style":601},[1054],{"type":21,"value":432},{"type":15,"tag":252,"props":1056,"children":1057},{"style":259},[1058],{"type":21,"value":1059},"i32_type",{"type":15,"tag":252,"props":1061,"children":1062},{"style":447},[1063],{"type":21,"value":814},{"type":15,"tag":23,"props":1065,"children":1066},{},[1067,1069,1075,1077,1083,1085,1090,1092,1097,1099,1105],{"type":21,"value":1068},"We are going to use an ",{"type":15,"tag":81,"props":1070,"children":1072},{"className":1071},[],[1073],{"type":21,"value":1074},"i8",{"type":21,"value":1076},", ",{"type":15,"tag":81,"props":1078,"children":1080},{"className":1079},[],[1081],{"type":21,"value":1082},"i32",{"type":21,"value":1084},", and also a ",{"type":15,"tag":81,"props":1086,"children":1088},{"className":1087},[],[1089],{"type":21,"value":1074},{"type":21,"value":1091}," pointer.\nThe ",{"type":15,"tag":81,"props":1093,"children":1095},{"className":1094},[],[1096],{"type":21,"value":1016},{"type":21,"value":1098}," is basically just where in memory the pointer points to, we don't really have any specific requirements for this so the ",{"type":15,"tag":81,"props":1100,"children":1102},{"className":1101},[],[1103],{"type":21,"value":1104},"::default()",{"type":21,"value":1106}," is fine.",{"type":15,"tag":23,"props":1108,"children":1109},{},[1110,1112,1117,1119,1124],{"type":21,"value":1111},"So I mentioned we are going to use ",{"type":15,"tag":81,"props":1113,"children":1115},{"className":1114},[],[1116],{"type":21,"value":748},{"type":21,"value":1118},", but we need to tell LLVM what the hell ",{"type":15,"tag":81,"props":1120,"children":1122},{"className":1121},[],[1123],{"type":21,"value":748},{"type":21,"value":1125}," is! When you are linking everything together there is no real concept of scope (except functions), all functions are in the same scope. so when we link with libc we get every function from libc in the global scope, but we need to declare what their types are as LLVM doesn't actually care about what libc is (with one exception, it does do optimizations around malloc/free).",{"type":15,"tag":95,"props":1127,"children":1129},{"code":1128,"language":772,"meta":8,"className":773,"style":8},"let printf_type = i32_type.fn_type(&[i8_ptr_type.into()], true);\nlet printf = module.add_function(\"printf\", printf_type, None);\n",[1130],{"type":15,"tag":81,"props":1131,"children":1132},{"__ignoreMap":8},[1133,1200],{"type":15,"tag":252,"props":1134,"children":1135},{"class":254,"line":255},[1136,1140,1145,1149,1154,1158,1163,1167,1172,1177,1181,1186,1191,1196],{"type":15,"tag":252,"props":1137,"children":1138},{"style":601},[1139],{"type":21,"value":785},{"type":15,"tag":252,"props":1141,"children":1142},{"style":447},[1143],{"type":21,"value":1144}," printf_type ",{"type":15,"tag":252,"props":1146,"children":1147},{"style":601},[1148],{"type":21,"value":614},{"type":15,"tag":252,"props":1150,"children":1151},{"style":447},[1152],{"type":21,"value":1153}," i32_type",{"type":15,"tag":252,"props":1155,"children":1156},{"style":601},[1157],{"type":21,"value":432},{"type":15,"tag":252,"props":1159,"children":1160},{"style":259},[1161],{"type":21,"value":1162},"fn_type",{"type":15,"tag":252,"props":1164,"children":1165},{"style":447},[1166],{"type":21,"value":849},{"type":15,"tag":252,"props":1168,"children":1169},{"style":601},[1170],{"type":21,"value":1171},"&",{"type":15,"tag":252,"props":1173,"children":1174},{"style":447},[1175],{"type":21,"value":1176},"[i8_ptr_type",{"type":15,"tag":252,"props":1178,"children":1179},{"style":601},[1180],{"type":21,"value":432},{"type":15,"tag":252,"props":1182,"children":1183},{"style":259},[1184],{"type":21,"value":1185},"into",{"type":15,"tag":252,"props":1187,"children":1188},{"style":447},[1189],{"type":21,"value":1190},"()], ",{"type":15,"tag":252,"props":1192,"children":1193},{"style":276},[1194],{"type":21,"value":1195},"true",{"type":15,"tag":252,"props":1197,"children":1198},{"style":447},[1199],{"type":21,"value":859},{"type":15,"tag":252,"props":1201,"children":1202},{"class":254,"line":334},[1203,1207,1212,1216,1221,1225,1230,1234,1239,1244,1249],{"type":15,"tag":252,"props":1204,"children":1205},{"style":601},[1206],{"type":21,"value":785},{"type":15,"tag":252,"props":1208,"children":1209},{"style":447},[1210],{"type":21,"value":1211}," printf ",{"type":15,"tag":252,"props":1213,"children":1214},{"style":601},[1215],{"type":21,"value":614},{"type":15,"tag":252,"props":1217,"children":1218},{"style":447},[1219],{"type":21,"value":1220}," module",{"type":15,"tag":252,"props":1222,"children":1223},{"style":601},[1224],{"type":21,"value":432},{"type":15,"tag":252,"props":1226,"children":1227},{"style":259},[1228],{"type":21,"value":1229},"add_function",{"type":15,"tag":252,"props":1231,"children":1232},{"style":447},[1233],{"type":21,"value":849},{"type":15,"tag":252,"props":1235,"children":1236},{"style":265},[1237],{"type":21,"value":1238},"\"printf\"",{"type":15,"tag":252,"props":1240,"children":1241},{"style":447},[1242],{"type":21,"value":1243},", printf_type, ",{"type":15,"tag":252,"props":1245,"children":1246},{"style":259},[1247],{"type":21,"value":1248},"None",{"type":15,"tag":252,"props":1250,"children":1251},{"style":447},[1252],{"type":21,"value":859},{"type":15,"tag":23,"props":1254,"children":1255},{},[1256,1258,1264],{"type":21,"value":1257},"so let's break this down, ",{"type":15,"tag":81,"props":1259,"children":1261},{"className":1260},[],[1262],{"type":21,"value":1263},"printf_type",{"type":21,"value":1265}," is basically the function signature, and what that line is saying is basically:",{"type":15,"tag":894,"props":1267,"children":1268},{},[1269,1296,1308],{"type":15,"tag":898,"props":1270,"children":1271},{},[1272,1274,1279,1281,1287,1289,1294],{"type":21,"value":1273},"The first parameter is an ",{"type":15,"tag":81,"props":1275,"children":1277},{"className":1276},[],[1278],{"type":21,"value":1074},{"type":21,"value":1280}," pointer, which is actually a string, a string is really just an array of characters, or ",{"type":15,"tag":81,"props":1282,"children":1284},{"className":1283},[],[1285],{"type":21,"value":1286},"u8",{"type":21,"value":1288}," (but we don't have unsigned types in LLVM, so ",{"type":15,"tag":81,"props":1290,"children":1292},{"className":1291},[],[1293],{"type":21,"value":1074},{"type":21,"value":1295}," it is)",{"type":15,"tag":898,"props":1297,"children":1298},{},[1299,1301,1306],{"type":21,"value":1300},"It then takes a variable amount of arguments, that is what the ",{"type":15,"tag":81,"props":1302,"children":1304},{"className":1303},[],[1305],{"type":21,"value":1195},{"type":21,"value":1307}," is signaling.",{"type":15,"tag":898,"props":1309,"children":1310},{},[1311,1313,1318],{"type":21,"value":1312},"It then returns an ",{"type":15,"tag":81,"props":1314,"children":1316},{"className":1315},[],[1317],{"type":21,"value":1082},{"type":21,"value":1319},", which is rarely used, but represents how many chars were written, or a negative number for error.",{"type":15,"tag":23,"props":1321,"children":1322},{},[1323,1325,1330,1332,1337],{"type":21,"value":1324},"then we add the function declaration to the module, under the name ",{"type":15,"tag":81,"props":1326,"children":1328},{"className":1327},[],[1329],{"type":21,"value":748},{"type":21,"value":1331},", using the type we defined in the line above, the ",{"type":15,"tag":81,"props":1333,"children":1335},{"className":1334},[],[1336],{"type":21,"value":1248},{"type":21,"value":1338}," is the linking option, for which we just leave it at default.",{"type":15,"tag":23,"props":1340,"children":1341},{},[1342,1344,1350,1352,1357,1359,1365,1367,1372,1374,1380,1382,1388,1390,1395,1397,1402],{"type":21,"value":1343},"Have you ever wondered why basically every lang uses ",{"type":15,"tag":81,"props":1345,"children":1347},{"className":1346},[],[1348],{"type":21,"value":1349},"main",{"type":21,"value":1351},"? well, there is a reason! Did you know that the actual entry point to your program isn't ",{"type":15,"tag":81,"props":1353,"children":1355},{"className":1354},[],[1356],{"type":21,"value":1349},{"type":21,"value":1358},"? it is ",{"type":15,"tag":81,"props":1360,"children":1362},{"className":1361},[],[1363],{"type":21,"value":1364},"_start",{"type":21,"value":1366},"? libc defines a ",{"type":15,"tag":81,"props":1368,"children":1370},{"className":1369},[],[1371],{"type":21,"value":1364},{"type":21,"value":1373}," function for us, it does some setup like reading arguments, then it calls ",{"type":15,"tag":81,"props":1375,"children":1377},{"className":1376},[],[1378],{"type":21,"value":1379},"main()",{"type":21,"value":1381}," and then calls ",{"type":15,"tag":81,"props":1383,"children":1385},{"className":1384},[],[1386],{"type":21,"value":1387},"exit()",{"type":21,"value":1389}," with mains return code!\nSo if you wanted to create a lang without libc (like if you are targeting embedded systems) you need to define ",{"type":15,"tag":81,"props":1391,"children":1393},{"className":1392},[],[1394],{"type":21,"value":1364},{"type":21,"value":1396}," instead!\nBut that is just some trivia for you, we are using libc, so we will define a ",{"type":15,"tag":81,"props":1398,"children":1400},{"className":1399},[],[1401],{"type":21,"value":1379},{"type":21,"value":1403}," function.",{"type":15,"tag":95,"props":1405,"children":1407},{"code":1406,"language":772,"meta":8,"className":773,"style":8},"let main_function_type = i8_type.fn_type(&[], false);\nlet main_function = module.add_function(\"main\", main_function_type, None);\n",[1408],{"type":15,"tag":81,"props":1409,"children":1410},{"__ignoreMap":8},[1411,1461],{"type":15,"tag":252,"props":1412,"children":1413},{"class":254,"line":255},[1414,1418,1423,1427,1431,1435,1439,1443,1447,1452,1457],{"type":15,"tag":252,"props":1415,"children":1416},{"style":601},[1417],{"type":21,"value":785},{"type":15,"tag":252,"props":1419,"children":1420},{"style":447},[1421],{"type":21,"value":1422}," main_function_type ",{"type":15,"tag":252,"props":1424,"children":1425},{"style":601},[1426],{"type":21,"value":614},{"type":15,"tag":252,"props":1428,"children":1429},{"style":447},[1430],{"type":21,"value":998},{"type":15,"tag":252,"props":1432,"children":1433},{"style":601},[1434],{"type":21,"value":432},{"type":15,"tag":252,"props":1436,"children":1437},{"style":259},[1438],{"type":21,"value":1162},{"type":15,"tag":252,"props":1440,"children":1441},{"style":447},[1442],{"type":21,"value":849},{"type":15,"tag":252,"props":1444,"children":1445},{"style":601},[1446],{"type":21,"value":1171},{"type":15,"tag":252,"props":1448,"children":1449},{"style":447},[1450],{"type":21,"value":1451},"[], ",{"type":15,"tag":252,"props":1453,"children":1454},{"style":276},[1455],{"type":21,"value":1456},"false",{"type":15,"tag":252,"props":1458,"children":1459},{"style":447},[1460],{"type":21,"value":859},{"type":15,"tag":252,"props":1462,"children":1463},{"class":254,"line":334},[1464,1468,1473,1477,1481,1485,1489,1493,1498,1503,1507],{"type":15,"tag":252,"props":1465,"children":1466},{"style":601},[1467],{"type":21,"value":785},{"type":15,"tag":252,"props":1469,"children":1470},{"style":447},[1471],{"type":21,"value":1472}," main_function ",{"type":15,"tag":252,"props":1474,"children":1475},{"style":601},[1476],{"type":21,"value":614},{"type":15,"tag":252,"props":1478,"children":1479},{"style":447},[1480],{"type":21,"value":1220},{"type":15,"tag":252,"props":1482,"children":1483},{"style":601},[1484],{"type":21,"value":432},{"type":15,"tag":252,"props":1486,"children":1487},{"style":259},[1488],{"type":21,"value":1229},{"type":15,"tag":252,"props":1490,"children":1491},{"style":447},[1492],{"type":21,"value":849},{"type":15,"tag":252,"props":1494,"children":1495},{"style":265},[1496],{"type":21,"value":1497},"\"main\"",{"type":15,"tag":252,"props":1499,"children":1500},{"style":447},[1501],{"type":21,"value":1502},", main_function_type, ",{"type":15,"tag":252,"props":1504,"children":1505},{"style":259},[1506],{"type":21,"value":1248},{"type":15,"tag":252,"props":1508,"children":1509},{"style":447},[1510],{"type":21,"value":859},{"type":15,"tag":23,"props":1512,"children":1513},{},[1514,1516,1521,1523,1528],{"type":21,"value":1515},"this is very similar to ",{"type":15,"tag":81,"props":1517,"children":1519},{"className":1518},[],[1520],{"type":21,"value":748},{"type":21,"value":1522},", our return type is an ",{"type":15,"tag":81,"props":1524,"children":1526},{"className":1525},[],[1527],{"type":21,"value":1074},{"type":21,"value":1529},", which will be the program's exit code, and we take no arguments.\nnow we can start generating our code!",{"type":15,"tag":95,"props":1531,"children":1533},{"code":1532,"language":772,"meta":8,"className":773,"style":8},"let main_block = context.append_basic_block(main_function, \"entry\");\nbuilder.position_at_end(main_block);\n",[1534],{"type":15,"tag":81,"props":1535,"children":1536},{"__ignoreMap":8},[1537,1580],{"type":15,"tag":252,"props":1538,"children":1539},{"class":254,"line":255},[1540,1544,1549,1553,1557,1561,1566,1571,1576],{"type":15,"tag":252,"props":1541,"children":1542},{"style":601},[1543],{"type":21,"value":785},{"type":15,"tag":252,"props":1545,"children":1546},{"style":447},[1547],{"type":21,"value":1548}," main_block ",{"type":15,"tag":252,"props":1550,"children":1551},{"style":601},[1552],{"type":21,"value":614},{"type":15,"tag":252,"props":1554,"children":1555},{"style":447},[1556],{"type":21,"value":835},{"type":15,"tag":252,"props":1558,"children":1559},{"style":601},[1560],{"type":21,"value":432},{"type":15,"tag":252,"props":1562,"children":1563},{"style":259},[1564],{"type":21,"value":1565},"append_basic_block",{"type":15,"tag":252,"props":1567,"children":1568},{"style":447},[1569],{"type":21,"value":1570},"(main_function, ",{"type":15,"tag":252,"props":1572,"children":1573},{"style":265},[1574],{"type":21,"value":1575},"\"entry\"",{"type":15,"tag":252,"props":1577,"children":1578},{"style":447},[1579],{"type":21,"value":859},{"type":15,"tag":252,"props":1581,"children":1582},{"class":254,"line":334},[1583,1587,1591,1596],{"type":15,"tag":252,"props":1584,"children":1585},{"style":447},[1586],{"type":21,"value":930},{"type":15,"tag":252,"props":1588,"children":1589},{"style":601},[1590],{"type":21,"value":432},{"type":15,"tag":252,"props":1592,"children":1593},{"style":259},[1594],{"type":21,"value":1595},"position_at_end",{"type":15,"tag":252,"props":1597,"children":1598},{"style":447},[1599],{"type":21,"value":1600},"(main_block);\n",{"type":15,"tag":23,"props":1602,"children":1603},{},[1604,1606,1612,1614,1620,1622,1628,1630,1636],{"type":21,"value":1605},"So a block is basically a part of code, a jump target if you will, these blocks are what you can use ",{"type":15,"tag":81,"props":1607,"children":1609},{"className":1608},[],[1610],{"type":21,"value":1611},"goto",{"type":21,"value":1613},"/",{"type":15,"tag":81,"props":1615,"children":1617},{"className":1616},[],[1618],{"type":21,"value":1619},"jump",{"type":21,"value":1621}," to jump to.\nThey are how we structure ",{"type":15,"tag":81,"props":1623,"children":1625},{"className":1624},[],[1626],{"type":21,"value":1627},"if",{"type":21,"value":1629},", loops, ",{"type":15,"tag":81,"props":1631,"children":1633},{"className":1632},[],[1634],{"type":21,"value":1635},"switch",{"type":21,"value":1637},", etc. basically any form of branching/repeating code. We only need one block, the name doesn't really matter, all it does is help with debugging and reading the produced IR. But I would still recommend giving stuff good names for your own sake.",{"type":15,"tag":23,"props":1639,"children":1640},{},[1641,1643,1648],{"type":21,"value":1642},"Then we move the ",{"type":15,"tag":81,"props":1644,"children":1646},{"className":1645},[],[1647],{"type":21,"value":930},{"type":21,"value":1649}," to the end of the (empty) block, this means when we use the builder methods the code will be generated in this block!",{"type":15,"tag":95,"props":1651,"children":1653},{"code":1652,"language":772,"meta":8,"className":773,"style":8},"let string = builder.build_global_string_ptr(\"Hello World!\", \"output\");\nlet string = string.as_pointer_value();\n",[1654],{"type":15,"tag":81,"props":1655,"children":1656},{"__ignoreMap":8},[1657,1709],{"type":15,"tag":252,"props":1658,"children":1659},{"class":254,"line":255},[1660,1664,1669,1673,1678,1682,1687,1691,1696,1700,1705],{"type":15,"tag":252,"props":1661,"children":1662},{"style":601},[1663],{"type":21,"value":785},{"type":15,"tag":252,"props":1665,"children":1666},{"style":447},[1667],{"type":21,"value":1668}," string ",{"type":15,"tag":252,"props":1670,"children":1671},{"style":601},[1672],{"type":21,"value":614},{"type":15,"tag":252,"props":1674,"children":1675},{"style":447},[1676],{"type":21,"value":1677}," builder",{"type":15,"tag":252,"props":1679,"children":1680},{"style":601},[1681],{"type":21,"value":432},{"type":15,"tag":252,"props":1683,"children":1684},{"style":259},[1685],{"type":21,"value":1686},"build_global_string_ptr",{"type":15,"tag":252,"props":1688,"children":1689},{"style":447},[1690],{"type":21,"value":849},{"type":15,"tag":252,"props":1692,"children":1693},{"style":265},[1694],{"type":21,"value":1695},"\"Hello World!\"",{"type":15,"tag":252,"props":1697,"children":1698},{"style":447},[1699],{"type":21,"value":1076},{"type":15,"tag":252,"props":1701,"children":1702},{"style":265},[1703],{"type":21,"value":1704},"\"output\"",{"type":15,"tag":252,"props":1706,"children":1707},{"style":447},[1708],{"type":21,"value":859},{"type":15,"tag":252,"props":1710,"children":1711},{"class":254,"line":334},[1712,1716,1720,1724,1729,1733,1738],{"type":15,"tag":252,"props":1713,"children":1714},{"style":601},[1715],{"type":21,"value":785},{"type":15,"tag":252,"props":1717,"children":1718},{"style":447},[1719],{"type":21,"value":1668},{"type":15,"tag":252,"props":1721,"children":1722},{"style":601},[1723],{"type":21,"value":614},{"type":15,"tag":252,"props":1725,"children":1726},{"style":447},[1727],{"type":21,"value":1728}," string",{"type":15,"tag":252,"props":1730,"children":1731},{"style":601},[1732],{"type":21,"value":432},{"type":15,"tag":252,"props":1734,"children":1735},{"style":259},[1736],{"type":21,"value":1737},"as_pointer_value",{"type":15,"tag":252,"props":1739,"children":1740},{"style":447},[1741],{"type":21,"value":814},{"type":15,"tag":23,"props":1743,"children":1744},{},[1745,1747,1753,1755,1761,1763,1768],{"type":21,"value":1746},"here we create a global string, basically a ",{"type":15,"tag":81,"props":1748,"children":1750},{"className":1749},[],[1751],{"type":21,"value":1752},"const",{"type":21,"value":1754}," and then convert it to a pointer (",{"type":15,"tag":81,"props":1756,"children":1758},{"className":1757},[],[1759],{"type":21,"value":1760},"i8*",{"type":21,"value":1762},"), next we will construct the ",{"type":15,"tag":81,"props":1764,"children":1766},{"className":1765},[],[1767],{"type":21,"value":748},{"type":21,"value":1769}," call. And again, the name doesn't matter!",{"type":15,"tag":95,"props":1771,"children":1773},{"code":1772,"language":772,"meta":8,"className":773,"style":8},"builder.build_call(printf, &[string.into()], \"Print_Statement\");\n",[1774],{"type":15,"tag":81,"props":1775,"children":1776},{"__ignoreMap":8},[1777],{"type":15,"tag":252,"props":1778,"children":1779},{"class":254,"line":255},[1780,1784,1788,1793,1798,1802,1807,1811,1815,1819,1824],{"type":15,"tag":252,"props":1781,"children":1782},{"style":447},[1783],{"type":21,"value":930},{"type":15,"tag":252,"props":1785,"children":1786},{"style":601},[1787],{"type":21,"value":432},{"type":15,"tag":252,"props":1789,"children":1790},{"style":259},[1791],{"type":21,"value":1792},"build_call",{"type":15,"tag":252,"props":1794,"children":1795},{"style":447},[1796],{"type":21,"value":1797},"(printf, ",{"type":15,"tag":252,"props":1799,"children":1800},{"style":601},[1801],{"type":21,"value":1171},{"type":15,"tag":252,"props":1803,"children":1804},{"style":447},[1805],{"type":21,"value":1806},"[string",{"type":15,"tag":252,"props":1808,"children":1809},{"style":601},[1810],{"type":21,"value":432},{"type":15,"tag":252,"props":1812,"children":1813},{"style":259},[1814],{"type":21,"value":1185},{"type":15,"tag":252,"props":1816,"children":1817},{"style":447},[1818],{"type":21,"value":1190},{"type":15,"tag":252,"props":1820,"children":1821},{"style":265},[1822],{"type":21,"value":1823},"\"Print_Statement\"",{"type":15,"tag":252,"props":1825,"children":1826},{"style":447},[1827],{"type":21,"value":859},{"type":15,"tag":23,"props":1829,"children":1830},{},[1831,1833,1838],{"type":21,"value":1832},"This is very straightforward, we specify the function we wish to call, its arguments, and the name of the return value.\nNow our code is basically done except, for one thing, our ",{"type":15,"tag":81,"props":1834,"children":1836},{"className":1835},[],[1837],{"type":21,"value":1379},{"type":21,"value":1839}," should return the exit code!",{"type":15,"tag":95,"props":1841,"children":1843},{"code":1842,"language":772,"meta":8,"className":773,"style":8},"builder.build_return(Some(&i8_type.const_int(0, false)));\n",[1844],{"type":15,"tag":81,"props":1845,"children":1846},{"__ignoreMap":8},[1847],{"type":15,"tag":252,"props":1848,"children":1849},{"class":254,"line":255},[1850,1854,1858,1863,1867,1872,1876,1880,1884,1888,1893,1897,1902,1906,1910],{"type":15,"tag":252,"props":1851,"children":1852},{"style":447},[1853],{"type":21,"value":930},{"type":15,"tag":252,"props":1855,"children":1856},{"style":601},[1857],{"type":21,"value":432},{"type":15,"tag":252,"props":1859,"children":1860},{"style":259},[1861],{"type":21,"value":1862},"build_return",{"type":15,"tag":252,"props":1864,"children":1865},{"style":447},[1866],{"type":21,"value":849},{"type":15,"tag":252,"props":1868,"children":1869},{"style":259},[1870],{"type":21,"value":1871},"Some",{"type":15,"tag":252,"props":1873,"children":1874},{"style":447},[1875],{"type":21,"value":849},{"type":15,"tag":252,"props":1877,"children":1878},{"style":601},[1879],{"type":21,"value":1171},{"type":15,"tag":252,"props":1881,"children":1882},{"style":447},[1883],{"type":21,"value":973},{"type":15,"tag":252,"props":1885,"children":1886},{"style":601},[1887],{"type":21,"value":432},{"type":15,"tag":252,"props":1889,"children":1890},{"style":259},[1891],{"type":21,"value":1892},"const_int",{"type":15,"tag":252,"props":1894,"children":1895},{"style":447},[1896],{"type":21,"value":849},{"type":15,"tag":252,"props":1898,"children":1899},{"style":276},[1900],{"type":21,"value":1901},"0",{"type":15,"tag":252,"props":1903,"children":1904},{"style":447},[1905],{"type":21,"value":1076},{"type":15,"tag":252,"props":1907,"children":1908},{"style":276},[1909],{"type":21,"value":1456},{"type":15,"tag":252,"props":1911,"children":1912},{"style":447},[1913],{"type":21,"value":1914},")));\n",{"type":15,"tag":23,"props":1916,"children":1917},{},[1918,1920,1925,1927,1932],{"type":21,"value":1919},"We create a ",{"type":15,"tag":81,"props":1921,"children":1923},{"className":1922},[],[1924],{"type":21,"value":1752},{"type":21,"value":1926}," int of value 0 (meaning no errors), don't worry about the ",{"type":15,"tag":81,"props":1928,"children":1930},{"className":1929},[],[1931],{"type":21,"value":1456},{"type":21,"value":1933}," it is to enable a feature we don't need.",{"type":15,"tag":23,"props":1935,"children":1936},{},[1937],{"type":21,"value":1938},"And now our code is finally done, we just need to save it!",{"type":15,"tag":95,"props":1940,"children":1942},{"code":1941,"language":772,"meta":8,"className":773,"style":8},"module.print_to_file(\"output.ll\").unwrap();\n",[1943],{"type":15,"tag":81,"props":1944,"children":1945},{"__ignoreMap":8},[1946],{"type":15,"tag":252,"props":1947,"children":1948},{"class":254,"line":255},[1949,1953,1957,1962,1966,1971,1976,1980,1985],{"type":15,"tag":252,"props":1950,"children":1951},{"style":447},[1952],{"type":21,"value":919},{"type":15,"tag":252,"props":1954,"children":1955},{"style":601},[1956],{"type":21,"value":432},{"type":15,"tag":252,"props":1958,"children":1959},{"style":259},[1960],{"type":21,"value":1961},"print_to_file",{"type":15,"tag":252,"props":1963,"children":1964},{"style":447},[1965],{"type":21,"value":849},{"type":15,"tag":252,"props":1967,"children":1968},{"style":265},[1969],{"type":21,"value":1970},"\"output.ll\"",{"type":15,"tag":252,"props":1972,"children":1973},{"style":447},[1974],{"type":21,"value":1975},")",{"type":15,"tag":252,"props":1977,"children":1978},{"style":601},[1979],{"type":21,"value":432},{"type":15,"tag":252,"props":1981,"children":1982},{"style":259},[1983],{"type":21,"value":1984},"unwrap",{"type":15,"tag":252,"props":1986,"children":1987},{"style":447},[1988],{"type":21,"value":814},{"type":15,"tag":23,"props":1990,"children":1991},{},[1992],{"type":21,"value":1993},"Our code should now look like this:",{"type":15,"tag":95,"props":1995,"children":1997},{"code":1996,"language":772,"meta":8,"className":773,"style":8},"use inkwell::{context::Context, AddressSpace};\n\nfn main() {\n    let context = Context::create();\n    let module = context.create_module(\"hello world\");\n    let builder = context.create_builder();\n\n    let i8_type = context.i8_type();\n    let i8_ptr_type = i8_type.ptr_type(AddressSpace::default());\n    let i32_type = context.i32_type();\n\n    let printf_type = i32_type.fn_type(&[i8_ptr_type.into()], true);\n    let printf = module.add_function(\"printf\", printf_type, None);\n\n    let main_function_type = i8_type.fn_type(&[], false);\n    let main_function = module.add_function(\"main\", main_function_type, None);\n\n    let main_block = context.append_basic_block(main_function, \"entry\");\n    builder.position_at_end(main_block);\n\n    let string = builder.build_global_string_ptr(\"Hello World!\", \"output\");\n    let string = string.as_pointer_value();\n    builder.build_call(printf, &[string.into()], \"Print_Statement\");\n\n    builder.build_return(Some(&i8_type.const_int(0, false)));\n\n    module.print_to_file(\"output.ll\").unwrap();\n}\n",[1998],{"type":15,"tag":81,"props":1999,"children":2000},{"__ignoreMap":8},[2001,2048,2057,2075,2108,2148,2180,2188,2220,2268,2300,2308,2368,2416,2424,2472,2520,2528,2568,2589,2597,2645,2677,2725,2733,2797,2805,2846],{"type":15,"tag":252,"props":2002,"children":2003},{"class":254,"line":255},[2004,2009,2013,2017,2022,2026,2030,2035,2039,2043],{"type":15,"tag":252,"props":2005,"children":2006},{"style":601},[2007],{"type":21,"value":2008},"use",{"type":15,"tag":252,"props":2010,"children":2011},{"style":259},[2012],{"type":21,"value":273},{"type":15,"tag":252,"props":2014,"children":2015},{"style":601},[2016],{"type":21,"value":804},{"type":15,"tag":252,"props":2018,"children":2019},{"style":447},[2020],{"type":21,"value":2021},"{",{"type":15,"tag":252,"props":2023,"children":2024},{"style":259},[2025],{"type":21,"value":908},{"type":15,"tag":252,"props":2027,"children":2028},{"style":601},[2029],{"type":21,"value":804},{"type":15,"tag":252,"props":2031,"children":2032},{"style":259},[2033],{"type":21,"value":2034},"Context",{"type":15,"tag":252,"props":2036,"children":2037},{"style":447},[2038],{"type":21,"value":1076},{"type":15,"tag":252,"props":2040,"children":2041},{"style":259},[2042],{"type":21,"value":1016},{"type":15,"tag":252,"props":2044,"children":2045},{"style":447},[2046],{"type":21,"value":2047},"};\n",{"type":15,"tag":252,"props":2049,"children":2050},{"class":254,"line":334},[2051],{"type":15,"tag":252,"props":2052,"children":2054},{"emptyLinePlaceholder":2053},true,[2055],{"type":21,"value":2056},"\n",{"type":15,"tag":252,"props":2058,"children":2059},{"class":254,"line":390},[2060,2065,2070],{"type":15,"tag":252,"props":2061,"children":2062},{"style":601},[2063],{"type":21,"value":2064},"fn",{"type":15,"tag":252,"props":2066,"children":2067},{"style":259},[2068],{"type":21,"value":2069}," main",{"type":15,"tag":252,"props":2071,"children":2072},{"style":447},[2073],{"type":21,"value":2074},"() {\n",{"type":15,"tag":252,"props":2076,"children":2078},{"class":254,"line":2077},4,[2079,2084,2088,2092,2096,2100,2104],{"type":15,"tag":252,"props":2080,"children":2081},{"style":601},[2082],{"type":21,"value":2083},"    let",{"type":15,"tag":252,"props":2085,"children":2086},{"style":447},[2087],{"type":21,"value":790},{"type":15,"tag":252,"props":2089,"children":2090},{"style":601},[2091],{"type":21,"value":614},{"type":15,"tag":252,"props":2093,"children":2094},{"style":259},[2095],{"type":21,"value":799},{"type":15,"tag":252,"props":2097,"children":2098},{"style":601},[2099],{"type":21,"value":804},{"type":15,"tag":252,"props":2101,"children":2102},{"style":259},[2103],{"type":21,"value":809},{"type":15,"tag":252,"props":2105,"children":2106},{"style":447},[2107],{"type":21,"value":814},{"type":15,"tag":252,"props":2109,"children":2111},{"class":254,"line":2110},5,[2112,2116,2120,2124,2128,2132,2136,2140,2144],{"type":15,"tag":252,"props":2113,"children":2114},{"style":601},[2115],{"type":21,"value":2083},{"type":15,"tag":252,"props":2117,"children":2118},{"style":447},[2119],{"type":21,"value":826},{"type":15,"tag":252,"props":2121,"children":2122},{"style":601},[2123],{"type":21,"value":614},{"type":15,"tag":252,"props":2125,"children":2126},{"style":447},[2127],{"type":21,"value":835},{"type":15,"tag":252,"props":2129,"children":2130},{"style":601},[2131],{"type":21,"value":432},{"type":15,"tag":252,"props":2133,"children":2134},{"style":259},[2135],{"type":21,"value":844},{"type":15,"tag":252,"props":2137,"children":2138},{"style":447},[2139],{"type":21,"value":849},{"type":15,"tag":252,"props":2141,"children":2142},{"style":265},[2143],{"type":21,"value":854},{"type":15,"tag":252,"props":2145,"children":2146},{"style":447},[2147],{"type":21,"value":859},{"type":15,"tag":252,"props":2149,"children":2151},{"class":254,"line":2150},6,[2152,2156,2160,2164,2168,2172,2176],{"type":15,"tag":252,"props":2153,"children":2154},{"style":601},[2155],{"type":21,"value":2083},{"type":15,"tag":252,"props":2157,"children":2158},{"style":447},[2159],{"type":21,"value":871},{"type":15,"tag":252,"props":2161,"children":2162},{"style":601},[2163],{"type":21,"value":614},{"type":15,"tag":252,"props":2165,"children":2166},{"style":447},[2167],{"type":21,"value":835},{"type":15,"tag":252,"props":2169,"children":2170},{"style":601},[2171],{"type":21,"value":432},{"type":15,"tag":252,"props":2173,"children":2174},{"style":259},[2175],{"type":21,"value":888},{"type":15,"tag":252,"props":2177,"children":2178},{"style":447},[2179],{"type":21,"value":814},{"type":15,"tag":252,"props":2181,"children":2183},{"class":254,"line":2182},7,[2184],{"type":15,"tag":252,"props":2185,"children":2186},{"emptyLinePlaceholder":2053},[2187],{"type":21,"value":2056},{"type":15,"tag":252,"props":2189,"children":2191},{"class":254,"line":2190},8,[2192,2196,2200,2204,2208,2212,2216],{"type":15,"tag":252,"props":2193,"children":2194},{"style":601},[2195],{"type":21,"value":2083},{"type":15,"tag":252,"props":2197,"children":2198},{"style":447},[2199],{"type":21,"value":956},{"type":15,"tag":252,"props":2201,"children":2202},{"style":601},[2203],{"type":21,"value":614},{"type":15,"tag":252,"props":2205,"children":2206},{"style":447},[2207],{"type":21,"value":835},{"type":15,"tag":252,"props":2209,"children":2210},{"style":601},[2211],{"type":21,"value":432},{"type":15,"tag":252,"props":2213,"children":2214},{"style":259},[2215],{"type":21,"value":973},{"type":15,"tag":252,"props":2217,"children":2218},{"style":447},[2219],{"type":21,"value":814},{"type":15,"tag":252,"props":2221,"children":2223},{"class":254,"line":2222},9,[2224,2228,2232,2236,2240,2244,2248,2252,2256,2260,2264],{"type":15,"tag":252,"props":2225,"children":2226},{"style":601},[2227],{"type":21,"value":2083},{"type":15,"tag":252,"props":2229,"children":2230},{"style":447},[2231],{"type":21,"value":989},{"type":15,"tag":252,"props":2233,"children":2234},{"style":601},[2235],{"type":21,"value":614},{"type":15,"tag":252,"props":2237,"children":2238},{"style":447},[2239],{"type":21,"value":998},{"type":15,"tag":252,"props":2241,"children":2242},{"style":601},[2243],{"type":21,"value":432},{"type":15,"tag":252,"props":2245,"children":2246},{"style":259},[2247],{"type":21,"value":1007},{"type":15,"tag":252,"props":2249,"children":2250},{"style":447},[2251],{"type":21,"value":849},{"type":15,"tag":252,"props":2253,"children":2254},{"style":259},[2255],{"type":21,"value":1016},{"type":15,"tag":252,"props":2257,"children":2258},{"style":601},[2259],{"type":21,"value":804},{"type":15,"tag":252,"props":2261,"children":2262},{"style":259},[2263],{"type":21,"value":1025},{"type":15,"tag":252,"props":2265,"children":2266},{"style":447},[2267],{"type":21,"value":1030},{"type":15,"tag":252,"props":2269,"children":2271},{"class":254,"line":2270},10,[2272,2276,2280,2284,2288,2292,2296],{"type":15,"tag":252,"props":2273,"children":2274},{"style":601},[2275],{"type":21,"value":2083},{"type":15,"tag":252,"props":2277,"children":2278},{"style":447},[2279],{"type":21,"value":1042},{"type":15,"tag":252,"props":2281,"children":2282},{"style":601},[2283],{"type":21,"value":614},{"type":15,"tag":252,"props":2285,"children":2286},{"style":447},[2287],{"type":21,"value":835},{"type":15,"tag":252,"props":2289,"children":2290},{"style":601},[2291],{"type":21,"value":432},{"type":15,"tag":252,"props":2293,"children":2294},{"style":259},[2295],{"type":21,"value":1059},{"type":15,"tag":252,"props":2297,"children":2298},{"style":447},[2299],{"type":21,"value":814},{"type":15,"tag":252,"props":2301,"children":2303},{"class":254,"line":2302},11,[2304],{"type":15,"tag":252,"props":2305,"children":2306},{"emptyLinePlaceholder":2053},[2307],{"type":21,"value":2056},{"type":15,"tag":252,"props":2309,"children":2311},{"class":254,"line":2310},12,[2312,2316,2320,2324,2328,2332,2336,2340,2344,2348,2352,2356,2360,2364],{"type":15,"tag":252,"props":2313,"children":2314},{"style":601},[2315],{"type":21,"value":2083},{"type":15,"tag":252,"props":2317,"children":2318},{"style":447},[2319],{"type":21,"value":1144},{"type":15,"tag":252,"props":2321,"children":2322},{"style":601},[2323],{"type":21,"value":614},{"type":15,"tag":252,"props":2325,"children":2326},{"style":447},[2327],{"type":21,"value":1153},{"type":15,"tag":252,"props":2329,"children":2330},{"style":601},[2331],{"type":21,"value":432},{"type":15,"tag":252,"props":2333,"children":2334},{"style":259},[2335],{"type":21,"value":1162},{"type":15,"tag":252,"props":2337,"children":2338},{"style":447},[2339],{"type":21,"value":849},{"type":15,"tag":252,"props":2341,"children":2342},{"style":601},[2343],{"type":21,"value":1171},{"type":15,"tag":252,"props":2345,"children":2346},{"style":447},[2347],{"type":21,"value":1176},{"type":15,"tag":252,"props":2349,"children":2350},{"style":601},[2351],{"type":21,"value":432},{"type":15,"tag":252,"props":2353,"children":2354},{"style":259},[2355],{"type":21,"value":1185},{"type":15,"tag":252,"props":2357,"children":2358},{"style":447},[2359],{"type":21,"value":1190},{"type":15,"tag":252,"props":2361,"children":2362},{"style":276},[2363],{"type":21,"value":1195},{"type":15,"tag":252,"props":2365,"children":2366},{"style":447},[2367],{"type":21,"value":859},{"type":15,"tag":252,"props":2369,"children":2371},{"class":254,"line":2370},13,[2372,2376,2380,2384,2388,2392,2396,2400,2404,2408,2412],{"type":15,"tag":252,"props":2373,"children":2374},{"style":601},[2375],{"type":21,"value":2083},{"type":15,"tag":252,"props":2377,"children":2378},{"style":447},[2379],{"type":21,"value":1211},{"type":15,"tag":252,"props":2381,"children":2382},{"style":601},[2383],{"type":21,"value":614},{"type":15,"tag":252,"props":2385,"children":2386},{"style":447},[2387],{"type":21,"value":1220},{"type":15,"tag":252,"props":2389,"children":2390},{"style":601},[2391],{"type":21,"value":432},{"type":15,"tag":252,"props":2393,"children":2394},{"style":259},[2395],{"type":21,"value":1229},{"type":15,"tag":252,"props":2397,"children":2398},{"style":447},[2399],{"type":21,"value":849},{"type":15,"tag":252,"props":2401,"children":2402},{"style":265},[2403],{"type":21,"value":1238},{"type":15,"tag":252,"props":2405,"children":2406},{"style":447},[2407],{"type":21,"value":1243},{"type":15,"tag":252,"props":2409,"children":2410},{"style":259},[2411],{"type":21,"value":1248},{"type":15,"tag":252,"props":2413,"children":2414},{"style":447},[2415],{"type":21,"value":859},{"type":15,"tag":252,"props":2417,"children":2419},{"class":254,"line":2418},14,[2420],{"type":15,"tag":252,"props":2421,"children":2422},{"emptyLinePlaceholder":2053},[2423],{"type":21,"value":2056},{"type":15,"tag":252,"props":2425,"children":2427},{"class":254,"line":2426},15,[2428,2432,2436,2440,2444,2448,2452,2456,2460,2464,2468],{"type":15,"tag":252,"props":2429,"children":2430},{"style":601},[2431],{"type":21,"value":2083},{"type":15,"tag":252,"props":2433,"children":2434},{"style":447},[2435],{"type":21,"value":1422},{"type":15,"tag":252,"props":2437,"children":2438},{"style":601},[2439],{"type":21,"value":614},{"type":15,"tag":252,"props":2441,"children":2442},{"style":447},[2443],{"type":21,"value":998},{"type":15,"tag":252,"props":2445,"children":2446},{"style":601},[2447],{"type":21,"value":432},{"type":15,"tag":252,"props":2449,"children":2450},{"style":259},[2451],{"type":21,"value":1162},{"type":15,"tag":252,"props":2453,"children":2454},{"style":447},[2455],{"type":21,"value":849},{"type":15,"tag":252,"props":2457,"children":2458},{"style":601},[2459],{"type":21,"value":1171},{"type":15,"tag":252,"props":2461,"children":2462},{"style":447},[2463],{"type":21,"value":1451},{"type":15,"tag":252,"props":2465,"children":2466},{"style":276},[2467],{"type":21,"value":1456},{"type":15,"tag":252,"props":2469,"children":2470},{"style":447},[2471],{"type":21,"value":859},{"type":15,"tag":252,"props":2473,"children":2475},{"class":254,"line":2474},16,[2476,2480,2484,2488,2492,2496,2500,2504,2508,2512,2516],{"type":15,"tag":252,"props":2477,"children":2478},{"style":601},[2479],{"type":21,"value":2083},{"type":15,"tag":252,"props":2481,"children":2482},{"style":447},[2483],{"type":21,"value":1472},{"type":15,"tag":252,"props":2485,"children":2486},{"style":601},[2487],{"type":21,"value":614},{"type":15,"tag":252,"props":2489,"children":2490},{"style":447},[2491],{"type":21,"value":1220},{"type":15,"tag":252,"props":2493,"children":2494},{"style":601},[2495],{"type":21,"value":432},{"type":15,"tag":252,"props":2497,"children":2498},{"style":259},[2499],{"type":21,"value":1229},{"type":15,"tag":252,"props":2501,"children":2502},{"style":447},[2503],{"type":21,"value":849},{"type":15,"tag":252,"props":2505,"children":2506},{"style":265},[2507],{"type":21,"value":1497},{"type":15,"tag":252,"props":2509,"children":2510},{"style":447},[2511],{"type":21,"value":1502},{"type":15,"tag":252,"props":2513,"children":2514},{"style":259},[2515],{"type":21,"value":1248},{"type":15,"tag":252,"props":2517,"children":2518},{"style":447},[2519],{"type":21,"value":859},{"type":15,"tag":252,"props":2521,"children":2523},{"class":254,"line":2522},17,[2524],{"type":15,"tag":252,"props":2525,"children":2526},{"emptyLinePlaceholder":2053},[2527],{"type":21,"value":2056},{"type":15,"tag":252,"props":2529,"children":2531},{"class":254,"line":2530},18,[2532,2536,2540,2544,2548,2552,2556,2560,2564],{"type":15,"tag":252,"props":2533,"children":2534},{"style":601},[2535],{"type":21,"value":2083},{"type":15,"tag":252,"props":2537,"children":2538},{"style":447},[2539],{"type":21,"value":1548},{"type":15,"tag":252,"props":2541,"children":2542},{"style":601},[2543],{"type":21,"value":614},{"type":15,"tag":252,"props":2545,"children":2546},{"style":447},[2547],{"type":21,"value":835},{"type":15,"tag":252,"props":2549,"children":2550},{"style":601},[2551],{"type":21,"value":432},{"type":15,"tag":252,"props":2553,"children":2554},{"style":259},[2555],{"type":21,"value":1565},{"type":15,"tag":252,"props":2557,"children":2558},{"style":447},[2559],{"type":21,"value":1570},{"type":15,"tag":252,"props":2561,"children":2562},{"style":265},[2563],{"type":21,"value":1575},{"type":15,"tag":252,"props":2565,"children":2566},{"style":447},[2567],{"type":21,"value":859},{"type":15,"tag":252,"props":2569,"children":2571},{"class":254,"line":2570},19,[2572,2577,2581,2585],{"type":15,"tag":252,"props":2573,"children":2574},{"style":447},[2575],{"type":21,"value":2576},"    builder",{"type":15,"tag":252,"props":2578,"children":2579},{"style":601},[2580],{"type":21,"value":432},{"type":15,"tag":252,"props":2582,"children":2583},{"style":259},[2584],{"type":21,"value":1595},{"type":15,"tag":252,"props":2586,"children":2587},{"style":447},[2588],{"type":21,"value":1600},{"type":15,"tag":252,"props":2590,"children":2592},{"class":254,"line":2591},20,[2593],{"type":15,"tag":252,"props":2594,"children":2595},{"emptyLinePlaceholder":2053},[2596],{"type":21,"value":2056},{"type":15,"tag":252,"props":2598,"children":2600},{"class":254,"line":2599},21,[2601,2605,2609,2613,2617,2621,2625,2629,2633,2637,2641],{"type":15,"tag":252,"props":2602,"children":2603},{"style":601},[2604],{"type":21,"value":2083},{"type":15,"tag":252,"props":2606,"children":2607},{"style":447},[2608],{"type":21,"value":1668},{"type":15,"tag":252,"props":2610,"children":2611},{"style":601},[2612],{"type":21,"value":614},{"type":15,"tag":252,"props":2614,"children":2615},{"style":447},[2616],{"type":21,"value":1677},{"type":15,"tag":252,"props":2618,"children":2619},{"style":601},[2620],{"type":21,"value":432},{"type":15,"tag":252,"props":2622,"children":2623},{"style":259},[2624],{"type":21,"value":1686},{"type":15,"tag":252,"props":2626,"children":2627},{"style":447},[2628],{"type":21,"value":849},{"type":15,"tag":252,"props":2630,"children":2631},{"style":265},[2632],{"type":21,"value":1695},{"type":15,"tag":252,"props":2634,"children":2635},{"style":447},[2636],{"type":21,"value":1076},{"type":15,"tag":252,"props":2638,"children":2639},{"style":265},[2640],{"type":21,"value":1704},{"type":15,"tag":252,"props":2642,"children":2643},{"style":447},[2644],{"type":21,"value":859},{"type":15,"tag":252,"props":2646,"children":2648},{"class":254,"line":2647},22,[2649,2653,2657,2661,2665,2669,2673],{"type":15,"tag":252,"props":2650,"children":2651},{"style":601},[2652],{"type":21,"value":2083},{"type":15,"tag":252,"props":2654,"children":2655},{"style":447},[2656],{"type":21,"value":1668},{"type":15,"tag":252,"props":2658,"children":2659},{"style":601},[2660],{"type":21,"value":614},{"type":15,"tag":252,"props":2662,"children":2663},{"style":447},[2664],{"type":21,"value":1728},{"type":15,"tag":252,"props":2666,"children":2667},{"style":601},[2668],{"type":21,"value":432},{"type":15,"tag":252,"props":2670,"children":2671},{"style":259},[2672],{"type":21,"value":1737},{"type":15,"tag":252,"props":2674,"children":2675},{"style":447},[2676],{"type":21,"value":814},{"type":15,"tag":252,"props":2678,"children":2680},{"class":254,"line":2679},23,[2681,2685,2689,2693,2697,2701,2705,2709,2713,2717,2721],{"type":15,"tag":252,"props":2682,"children":2683},{"style":447},[2684],{"type":21,"value":2576},{"type":15,"tag":252,"props":2686,"children":2687},{"style":601},[2688],{"type":21,"value":432},{"type":15,"tag":252,"props":2690,"children":2691},{"style":259},[2692],{"type":21,"value":1792},{"type":15,"tag":252,"props":2694,"children":2695},{"style":447},[2696],{"type":21,"value":1797},{"type":15,"tag":252,"props":2698,"children":2699},{"style":601},[2700],{"type":21,"value":1171},{"type":15,"tag":252,"props":2702,"children":2703},{"style":447},[2704],{"type":21,"value":1806},{"type":15,"tag":252,"props":2706,"children":2707},{"style":601},[2708],{"type":21,"value":432},{"type":15,"tag":252,"props":2710,"children":2711},{"style":259},[2712],{"type":21,"value":1185},{"type":15,"tag":252,"props":2714,"children":2715},{"style":447},[2716],{"type":21,"value":1190},{"type":15,"tag":252,"props":2718,"children":2719},{"style":265},[2720],{"type":21,"value":1823},{"type":15,"tag":252,"props":2722,"children":2723},{"style":447},[2724],{"type":21,"value":859},{"type":15,"tag":252,"props":2726,"children":2728},{"class":254,"line":2727},24,[2729],{"type":15,"tag":252,"props":2730,"children":2731},{"emptyLinePlaceholder":2053},[2732],{"type":21,"value":2056},{"type":15,"tag":252,"props":2734,"children":2736},{"class":254,"line":2735},25,[2737,2741,2745,2749,2753,2757,2761,2765,2769,2773,2777,2781,2785,2789,2793],{"type":15,"tag":252,"props":2738,"children":2739},{"style":447},[2740],{"type":21,"value":2576},{"type":15,"tag":252,"props":2742,"children":2743},{"style":601},[2744],{"type":21,"value":432},{"type":15,"tag":252,"props":2746,"children":2747},{"style":259},[2748],{"type":21,"value":1862},{"type":15,"tag":252,"props":2750,"children":2751},{"style":447},[2752],{"type":21,"value":849},{"type":15,"tag":252,"props":2754,"children":2755},{"style":259},[2756],{"type":21,"value":1871},{"type":15,"tag":252,"props":2758,"children":2759},{"style":447},[2760],{"type":21,"value":849},{"type":15,"tag":252,"props":2762,"children":2763},{"style":601},[2764],{"type":21,"value":1171},{"type":15,"tag":252,"props":2766,"children":2767},{"style":447},[2768],{"type":21,"value":973},{"type":15,"tag":252,"props":2770,"children":2771},{"style":601},[2772],{"type":21,"value":432},{"type":15,"tag":252,"props":2774,"children":2775},{"style":259},[2776],{"type":21,"value":1892},{"type":15,"tag":252,"props":2778,"children":2779},{"style":447},[2780],{"type":21,"value":849},{"type":15,"tag":252,"props":2782,"children":2783},{"style":276},[2784],{"type":21,"value":1901},{"type":15,"tag":252,"props":2786,"children":2787},{"style":447},[2788],{"type":21,"value":1076},{"type":15,"tag":252,"props":2790,"children":2791},{"style":276},[2792],{"type":21,"value":1456},{"type":15,"tag":252,"props":2794,"children":2795},{"style":447},[2796],{"type":21,"value":1914},{"type":15,"tag":252,"props":2798,"children":2800},{"class":254,"line":2799},26,[2801],{"type":15,"tag":252,"props":2802,"children":2803},{"emptyLinePlaceholder":2053},[2804],{"type":21,"value":2056},{"type":15,"tag":252,"props":2806,"children":2808},{"class":254,"line":2807},27,[2809,2814,2818,2822,2826,2830,2834,2838,2842],{"type":15,"tag":252,"props":2810,"children":2811},{"style":447},[2812],{"type":21,"value":2813},"    module",{"type":15,"tag":252,"props":2815,"children":2816},{"style":601},[2817],{"type":21,"value":432},{"type":15,"tag":252,"props":2819,"children":2820},{"style":259},[2821],{"type":21,"value":1961},{"type":15,"tag":252,"props":2823,"children":2824},{"style":447},[2825],{"type":21,"value":849},{"type":15,"tag":252,"props":2827,"children":2828},{"style":265},[2829],{"type":21,"value":1970},{"type":15,"tag":252,"props":2831,"children":2832},{"style":447},[2833],{"type":21,"value":1975},{"type":15,"tag":252,"props":2835,"children":2836},{"style":601},[2837],{"type":21,"value":432},{"type":15,"tag":252,"props":2839,"children":2840},{"style":259},[2841],{"type":21,"value":1984},{"type":15,"tag":252,"props":2843,"children":2844},{"style":447},[2845],{"type":21,"value":814},{"type":15,"tag":252,"props":2847,"children":2849},{"class":254,"line":2848},28,[2850],{"type":15,"tag":252,"props":2851,"children":2852},{"style":447},[2853],{"type":21,"value":2854},"}\n",{"type":15,"tag":59,"props":2856,"children":2858},{"id":2857},"testing-our-work",[2859],{"type":21,"value":2860},"Testing our work",{"type":15,"tag":23,"props":2862,"children":2863},{},[2864,2866,2872],{"type":21,"value":2865},"If we now run this code we should get a ",{"type":15,"tag":81,"props":2867,"children":2869},{"className":2868},[],[2870],{"type":21,"value":2871},"output.ll",{"type":21,"value":2873}," file in our output directory,  it should look something like this:",{"type":15,"tag":95,"props":2875,"children":2877},{"code":2876},"; ModuleID = 'hello world'\nsource_filename = \"hello world\"\n\n@output = private unnamed_addr constant [13 x i8] c\"Hello World!\\00\", align 1\n\ndeclare i32 @printf(ptr, ...)\n\ndefine i8 @main() {\nentry:\n  %Print_Statement = call i32 (ptr, ...) @printf(ptr @output)\n  ret i8 0\n}\n",[2878],{"type":15,"tag":81,"props":2879,"children":2880},{"__ignoreMap":8},[2881],{"type":21,"value":2876},{"type":15,"tag":210,"props":2883,"children":2884},{},[2885],{"type":15,"tag":23,"props":2886,"children":2887},{},[2888,2890],{"type":21,"value":2889},"if you are a VScode user you can use the following extension to get this syntax highligthed: ",{"type":15,"tag":43,"props":2891,"children":2894},{"href":2892,"rel":2893},"https://marketplace.visualstudio.com/items?itemName=colejcummins.llvm-syntax-highlighting",[47],[2895],{"type":21,"value":2892},{"type":15,"tag":23,"props":2897,"children":2898},{},[2899],{"type":21,"value":2900},"Now we can try to run this directly using LLVMs builtin interpreter, it is nice for quick testing!\nYou might need to add the LLVM bin directory to your path.",{"type":15,"tag":95,"props":2902,"children":2904},{"code":2903,"language":245,"meta":8,"className":246,"style":8},"export PATH=/home/USERNAME/.local/share/llvmenv/local-15/bin/:$PATH\nlli output.ll\n",[2905],{"type":15,"tag":81,"props":2906,"children":2907},{"__ignoreMap":8},[2908,2934],{"type":15,"tag":252,"props":2909,"children":2910},{"class":254,"line":255},[2911,2915,2920,2924,2929],{"type":15,"tag":252,"props":2912,"children":2913},{"style":601},[2914],{"type":21,"value":604},{"type":15,"tag":252,"props":2916,"children":2917},{"style":447},[2918],{"type":21,"value":2919}," PATH",{"type":15,"tag":252,"props":2921,"children":2922},{"style":601},[2923],{"type":21,"value":614},{"type":15,"tag":252,"props":2925,"children":2926},{"style":265},[2927],{"type":21,"value":2928},"/home/USERNAME/.local/share/llvmenv/local-15/bin/:",{"type":15,"tag":252,"props":2930,"children":2931},{"style":447},[2932],{"type":21,"value":2933},"$PATH\n",{"type":15,"tag":252,"props":2935,"children":2936},{"class":254,"line":334},[2937,2942],{"type":15,"tag":252,"props":2938,"children":2939},{"style":259},[2940],{"type":21,"value":2941},"lli",{"type":15,"tag":252,"props":2943,"children":2944},{"style":265},[2945],{"type":21,"value":2946}," output.ll\n",{"type":15,"tag":23,"props":2948,"children":2949},{},[2950],{"type":21,"value":2951},"You should see \"Hello World\" being printed on your terminal!\nBut this is a compiler, so let's make this into a binary, in the next post these steps will be added to your compiler itself!",{"type":15,"tag":95,"props":2953,"children":2955},{"code":2954,"language":245,"meta":8,"className":246,"style":8},"llc output.ll -filetype=obj -o output.o\n",[2956],{"type":15,"tag":81,"props":2957,"children":2958},{"__ignoreMap":8},[2959],{"type":15,"tag":252,"props":2960,"children":2961},{"class":254,"line":255},[2962,2967,2972,2977,2982],{"type":15,"tag":252,"props":2963,"children":2964},{"style":259},[2965],{"type":21,"value":2966},"llc",{"type":15,"tag":252,"props":2968,"children":2969},{"style":265},[2970],{"type":21,"value":2971}," output.ll",{"type":15,"tag":252,"props":2973,"children":2974},{"style":276},[2975],{"type":21,"value":2976}," -filetype=obj",{"type":15,"tag":252,"props":2978,"children":2979},{"style":276},[2980],{"type":21,"value":2981}," -o",{"type":15,"tag":252,"props":2983,"children":2984},{"style":265},[2985],{"type":21,"value":2986}," output.o\n",{"type":15,"tag":23,"props":2988,"children":2989},{},[2990],{"type":21,"value":2991},"This will use the LLVM static compiler to compile your IR to an object file. An object file is basically almost a binary, it contains the assembly/machine code, but also symbol data, our code is converted into one object file, then a lot of object files are combined into one binary. This is how dependencies are added to your projects, it is also common to have each code file produce its own object file, it makes structuring the compiler easier. But ofc one issue we can run into is that we might have module scope with functions separated, but object files don't, so we need to handle that, but that is a future problem.",{"type":15,"tag":23,"props":2993,"children":2994},{},[2995,2997,3003,3004,3010],{"type":21,"value":2996},"Then we can use ",{"type":15,"tag":81,"props":2998,"children":3000},{"className":2999},[],[3001],{"type":21,"value":3002},"clang",{"type":21,"value":1613},{"type":15,"tag":81,"props":3005,"children":3007},{"className":3006},[],[3008],{"type":21,"value":3009},"gcc",{"type":21,"value":3011}," to compile the object file into a binary",{"type":15,"tag":95,"props":3013,"children":3015},{"code":3014,"language":245,"meta":8,"className":246,"style":8},"clang output.o -no-pie -o output\n",[3016],{"type":15,"tag":81,"props":3017,"children":3018},{"__ignoreMap":8},[3019],{"type":15,"tag":252,"props":3020,"children":3021},{"class":254,"line":255},[3022,3026,3031,3036,3040],{"type":15,"tag":252,"props":3023,"children":3024},{"style":259},[3025],{"type":21,"value":3002},{"type":15,"tag":252,"props":3027,"children":3028},{"style":265},[3029],{"type":21,"value":3030}," output.o",{"type":15,"tag":252,"props":3032,"children":3033},{"style":276},[3034],{"type":21,"value":3035}," -no-pie",{"type":15,"tag":252,"props":3037,"children":3038},{"style":276},[3039],{"type":21,"value":2981},{"type":15,"tag":252,"props":3041,"children":3042},{"style":265},[3043],{"type":21,"value":3044}," output\n",{"type":15,"tag":23,"props":3046,"children":3047},{},[3048,3050,3055,3057,3063,3065,3070,3072,3077,3079,3085],{"type":21,"value":3049},"This will use ",{"type":15,"tag":81,"props":3051,"children":3053},{"className":3052},[],[3054],{"type":21,"value":3002},{"type":21,"value":3056}," (",{"type":15,"tag":81,"props":3058,"children":3060},{"className":3059},[],[3061],{"type":21,"value":3062},"or gcc",{"type":21,"value":3064},") to convert your object file to a final binary, ",{"type":15,"tag":81,"props":3066,"children":3068},{"className":3067},[],[3069],{"type":21,"value":3002},{"type":21,"value":3071}," and ",{"type":15,"tag":81,"props":3073,"children":3075},{"className":3074},[],[3076],{"type":21,"value":3009},{"type":21,"value":3078}," include libc by default so we don't have to worry about that. We also need to pass the ",{"type":15,"tag":81,"props":3080,"children":3082},{"className":3081},[],[3083],{"type":21,"value":3084},"-no-pie",{"type":21,"value":3086}," flag as the code we generate is not compatible with PIE binaries, because it uses absolute addresses.",{"type":15,"tag":23,"props":3088,"children":3089},{},[3090],{"type":21,"value":3091},"We should now be able to run our binary!",{"type":15,"tag":95,"props":3093,"children":3095},{"code":3094,"language":245,"meta":8,"className":246,"style":8},"./output\n",[3096],{"type":15,"tag":81,"props":3097,"children":3098},{"__ignoreMap":8},[3099],{"type":15,"tag":252,"props":3100,"children":3101},{"class":254,"line":255},[3102],{"type":15,"tag":252,"props":3103,"children":3104},{"style":259},[3105],{"type":21,"value":3094},{"type":15,"tag":23,"props":3107,"children":3108},{},[3109],{"type":21,"value":3110},"and we should see the \"Hello World\" message!",{"type":15,"tag":192,"props":3112,"children":3114},{"id":3113},"conclusion",[3115],{"type":21,"value":3116},"Conclusion",{"type":15,"tag":23,"props":3118,"children":3119},{},[3120,3122],{"type":21,"value":3121},"If you followed along then congratulations! You now have a very hardcoded compiler, but you generated a binary from scratch!\nIn the next post we will start laying out the code components of the compiler and start generting binaries based on a input script file ",{"type":15,"tag":128,"props":3123,"children":3124},{},[],{"type":15,"tag":23,"props":3126,"children":3127},{},[3128,3130],{"type":21,"value":3129},"If you have any questions feel free to leave them in the comments ",{"type":15,"tag":234,"props":3131,"children":3132},{},[],{"type":15,"tag":3134,"props":3135,"children":3136},"style",{},[3137],{"type":21,"value":3138},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":8,"searchDepth":334,"depth":334,"links":3140},[3141,3142,3143,3144,3145,3150],{"id":61,"depth":390,"text":64},{"id":118,"depth":390,"text":121},{"id":140,"depth":390,"text":143},{"id":169,"depth":390,"text":172},{"id":194,"depth":334,"text":197,"children":3146},[3147,3148,3149],{"id":205,"depth":390,"text":208},{"id":714,"depth":390,"text":717},{"id":2857,"depth":390,"text":2860},{"id":3113,"depth":334,"text":3116},"markdown","content:blog:1.compiler_1.md","content","blog/1.compiler_1.md","md",{"_path":3157,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":3158,"description":8,"body":3159,"_type":3151,"_id":14385,"_source":3153,"_file":14386,"_extension":3155},"/blog/compiler_2","Compiler part 2.1 - Cli and parsing",{"type":12,"children":3160,"toc":14371},[3161,3166,3172,3188,3193,3209,3214,3223,3228,3236,3264,3275,3426,3438,3444,3487,3552,3571,3577,3597,3602,3627,3648,3679,3684,3887,3915,3920,4123,4164,4169,4177,4182,4190,4195,4203,4209,4214,4681,4709,4719,4965,5012,5023,5512,5536,5542,5547,5552,5563,5571,5583,5621,5627,5640,5683,5727,6045,6064,6072,6077,6237,6243,6248,6256,6261,6338,6343,6349,6377,6382,6656,6669,6674,6850,6862,7527,7532,7537,8532,8537,8565,8892,8924,9286,9291,9463,9468,9670,9682,10329,10334,10374,10389,10408,10869,10885,10904,11126,11131,11139,11144,11180,11185,11264,11275,11285,11290,11295,11300,11319,11354,11366,11685,11697,11868,11873,12586,12599,12604,13730,13742,14133,14138,14173,14178,14358,14362,14367],{"type":15,"tag":16,"props":3162,"children":3164},{"id":3163},"compiler-part-21-cli-and-parsing",[3165],{"type":21,"value":3158},{"type":15,"tag":192,"props":3167,"children":3169},{"id":3168},"intro",[3170],{"type":21,"value":3171},"Intro",{"type":15,"tag":210,"props":3173,"children":3174},{},[3175],{"type":15,"tag":23,"props":3176,"children":3177},{},[3178,3180,3186],{"type":21,"value":3179},"Just a fair warning: This post is ",{"type":15,"tag":3181,"props":3182,"children":3183},"em",{},[3184],{"type":21,"value":3185},"very",{"type":21,"value":3187}," long, Since it details the entire structure of the parser it takes a while.",{"type":15,"tag":23,"props":3189,"children":3190},{},[3191],{"type":21,"value":3192},"So let's start by deleting the code we wrote last blog post! Yhe, Yhe I know, but it was just a proof of concept. now we are gonna write some real code!",{"type":15,"tag":210,"props":3194,"children":3195},{},[3196],{"type":15,"tag":23,"props":3197,"children":3198},{},[3199,3201,3207],{"type":21,"value":3200},"Also forgot to mention this in the last post, the inkwell docs dont build correctly on docs.rs, use ",{"type":15,"tag":43,"props":3202,"children":3205},{"href":3203,"rel":3204},"https://thedan64.github.io/inkwell/inkwell/index.html",[47],[3206],{"type":21,"value":3203},{"type":21,"value":3208}," instead.",{"type":15,"tag":23,"props":3210,"children":3211},{},[3212],{"type":21,"value":3213},"I will also now be publishing the code on GitHub since we will be getting into a lot of files, should you ever be confused about where the code goes you can check there. I will use the same repo for each post, but I will link to specific commits in the posts (if you are unsure what version you are viewing the README should say).",{"type":15,"tag":23,"props":3215,"children":3216},{},[3217],{"type":15,"tag":43,"props":3218,"children":3221},{"href":3219,"rel":3220},"https://github.com/vivax3794/viv_script_blog/tree/211fb45ae1b6ca1b30e96842cd340fb03eabbed6",[47],[3222],{"type":21,"value":3219},{"type":15,"tag":23,"props":3224,"children":3225},{},[3226],{"type":21,"value":3227},"The parts we will build today will work to support print statements of numbers, and that is all, in future posts, we will expand on this!",{"type":15,"tag":95,"props":3229,"children":3231},{"code":3230},"print 1;\nprint 2;\nprint 3;\n",[3232],{"type":15,"tag":81,"props":3233,"children":3234},{"__ignoreMap":8},[3235],{"type":21,"value":3230},{"type":15,"tag":23,"props":3237,"children":3238},{},[3239,3241,3247,3249,3254,3256,3262],{"type":21,"value":3240},"We will also have to decide, should we have multiple int types? I think we should have Both Float and Int, Float should be ",{"type":15,"tag":81,"props":3242,"children":3244},{"className":3243},[],[3245],{"type":21,"value":3246},"f64",{"type":21,"value":3248}," and an Int should be ",{"type":15,"tag":81,"props":3250,"children":3252},{"className":3251},[],[3253],{"type":21,"value":1082},{"type":21,"value":3255},", and we should have an implicit conversion from Int to Float (unlike ",{"type":15,"tag":81,"props":3257,"children":3259},{"className":3258},[],[3260],{"type":21,"value":3261},"Rust",{"type":21,"value":3263},"), but for now we shall only implement Int.",{"type":15,"tag":23,"props":3265,"children":3266},{},[3267,3269],{"type":21,"value":3268},"So to make this easier to change later we going to define some type aliases in ",{"type":15,"tag":81,"props":3270,"children":3272},{"className":3271},[],[3273],{"type":21,"value":3274},"lib.rs",{"type":15,"tag":95,"props":3276,"children":3278},{"code":3277,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\n\ntype IntType = i32;\ntype FloatType = f64;\n\nconst IntWidth: usize = 32;\nconst FloatWidth: usize = 64;\n",[3279],{"type":15,"tag":81,"props":3280,"children":3281},{"__ignoreMap":8},[3282,3291,3298,3326,3351,3358,3393],{"type":15,"tag":252,"props":3283,"children":3284},{"class":254,"line":255},[3285],{"type":15,"tag":252,"props":3286,"children":3288},{"style":3287},"--shiki-default:#6A737D",[3289],{"type":21,"value":3290},"// lib.rs\n",{"type":15,"tag":252,"props":3292,"children":3293},{"class":254,"line":334},[3294],{"type":15,"tag":252,"props":3295,"children":3296},{"emptyLinePlaceholder":2053},[3297],{"type":21,"value":2056},{"type":15,"tag":252,"props":3299,"children":3300},{"class":254,"line":390},[3301,3306,3311,3316,3321],{"type":15,"tag":252,"props":3302,"children":3303},{"style":601},[3304],{"type":21,"value":3305},"type",{"type":15,"tag":252,"props":3307,"children":3308},{"style":259},[3309],{"type":21,"value":3310}," IntType",{"type":15,"tag":252,"props":3312,"children":3313},{"style":601},[3314],{"type":21,"value":3315}," =",{"type":15,"tag":252,"props":3317,"children":3318},{"style":259},[3319],{"type":21,"value":3320}," i32",{"type":15,"tag":252,"props":3322,"children":3323},{"style":447},[3324],{"type":21,"value":3325},";\n",{"type":15,"tag":252,"props":3327,"children":3328},{"class":254,"line":2077},[3329,3333,3338,3342,3347],{"type":15,"tag":252,"props":3330,"children":3331},{"style":601},[3332],{"type":21,"value":3305},{"type":15,"tag":252,"props":3334,"children":3335},{"style":259},[3336],{"type":21,"value":3337}," FloatType",{"type":15,"tag":252,"props":3339,"children":3340},{"style":601},[3341],{"type":21,"value":3315},{"type":15,"tag":252,"props":3343,"children":3344},{"style":259},[3345],{"type":21,"value":3346}," f64",{"type":15,"tag":252,"props":3348,"children":3349},{"style":447},[3350],{"type":21,"value":3325},{"type":15,"tag":252,"props":3352,"children":3353},{"class":254,"line":2110},[3354],{"type":15,"tag":252,"props":3355,"children":3356},{"emptyLinePlaceholder":2053},[3357],{"type":21,"value":2056},{"type":15,"tag":252,"props":3359,"children":3360},{"class":254,"line":2150},[3361,3365,3370,3375,3380,3384,3389],{"type":15,"tag":252,"props":3362,"children":3363},{"style":601},[3364],{"type":21,"value":1752},{"type":15,"tag":252,"props":3366,"children":3367},{"style":276},[3368],{"type":21,"value":3369}," IntWidth",{"type":15,"tag":252,"props":3371,"children":3372},{"style":601},[3373],{"type":21,"value":3374},":",{"type":15,"tag":252,"props":3376,"children":3377},{"style":259},[3378],{"type":21,"value":3379}," usize",{"type":15,"tag":252,"props":3381,"children":3382},{"style":601},[3383],{"type":21,"value":3315},{"type":15,"tag":252,"props":3385,"children":3386},{"style":276},[3387],{"type":21,"value":3388}," 32",{"type":15,"tag":252,"props":3390,"children":3391},{"style":447},[3392],{"type":21,"value":3325},{"type":15,"tag":252,"props":3394,"children":3395},{"class":254,"line":2182},[3396,3400,3405,3409,3413,3417,3422],{"type":15,"tag":252,"props":3397,"children":3398},{"style":601},[3399],{"type":21,"value":1752},{"type":15,"tag":252,"props":3401,"children":3402},{"style":276},[3403],{"type":21,"value":3404}," FloatWidth",{"type":15,"tag":252,"props":3406,"children":3407},{"style":601},[3408],{"type":21,"value":3374},{"type":15,"tag":252,"props":3410,"children":3411},{"style":259},[3412],{"type":21,"value":3379},{"type":15,"tag":252,"props":3414,"children":3415},{"style":601},[3416],{"type":21,"value":3315},{"type":15,"tag":252,"props":3418,"children":3419},{"style":276},[3420],{"type":21,"value":3421}," 64",{"type":15,"tag":252,"props":3423,"children":3424},{"style":447},[3425],{"type":21,"value":3325},{"type":15,"tag":23,"props":3427,"children":3428},{},[3429,3431,3436],{"type":21,"value":3430},"The type aliases are for use by our code in stuff like the IR and AST, while the ",{"type":15,"tag":81,"props":3432,"children":3434},{"className":3433},[],[3435],{"type":21,"value":1752},{"type":21,"value":3437},"s are for the code generation!",{"type":15,"tag":192,"props":3439,"children":3441},{"id":3440},"cli",[3442],{"type":21,"value":3443},"CLI",{"type":15,"tag":23,"props":3445,"children":3446},{},[3447,3449,3460,3462,3473,3474,3485],{"type":21,"value":3448},"For our command line interface we are going to use ",{"type":15,"tag":43,"props":3450,"children":3453},{"href":3451,"rel":3452},"https://crates.io/crates/clap",[47],[3454],{"type":15,"tag":81,"props":3455,"children":3457},{"className":3456},[],[3458],{"type":21,"value":3459},"clap",{"type":21,"value":3461},", it is a fairly simple cli library, which is perfect for us. We are also going to ",{"type":15,"tag":43,"props":3463,"children":3466},{"href":3464,"rel":3465},"https://crates.io/crates/anyhow",[47],[3467],{"type":15,"tag":81,"props":3468,"children":3470},{"className":3469},[],[3471],{"type":21,"value":3472},"anyhow",{"type":21,"value":3071},{"type":15,"tag":43,"props":3475,"children":3478},{"href":3476,"rel":3477},"https://crates.io/crates/thiserror",[47],[3479],{"type":15,"tag":81,"props":3480,"children":3482},{"className":3481},[],[3483],{"type":21,"value":3484},"thiserror",{"type":21,"value":3486}," for error handling.",{"type":15,"tag":95,"props":3488,"children":3490},{"code":3489,"language":245,"meta":8,"className":246,"style":8},"carg add clap --features derive\ncargo add anyhow\ncargo add thiserror\n",[3491],{"type":15,"tag":81,"props":3492,"children":3493},{"__ignoreMap":8},[3494,3520,3536],{"type":15,"tag":252,"props":3495,"children":3496},{"class":254,"line":255},[3497,3502,3506,3511,3515],{"type":15,"tag":252,"props":3498,"children":3499},{"style":259},[3500],{"type":21,"value":3501},"carg",{"type":15,"tag":252,"props":3503,"children":3504},{"style":265},[3505],{"type":21,"value":268},{"type":15,"tag":252,"props":3507,"children":3508},{"style":265},[3509],{"type":21,"value":3510}," clap",{"type":15,"tag":252,"props":3512,"children":3513},{"style":276},[3514],{"type":21,"value":279},{"type":15,"tag":252,"props":3516,"children":3517},{"style":265},[3518],{"type":21,"value":3519}," derive\n",{"type":15,"tag":252,"props":3521,"children":3522},{"class":254,"line":334},[3523,3527,3531],{"type":15,"tag":252,"props":3524,"children":3525},{"style":259},[3526],{"type":21,"value":262},{"type":15,"tag":252,"props":3528,"children":3529},{"style":265},[3530],{"type":21,"value":268},{"type":15,"tag":252,"props":3532,"children":3533},{"style":265},[3534],{"type":21,"value":3535}," anyhow\n",{"type":15,"tag":252,"props":3537,"children":3538},{"class":254,"line":390},[3539,3543,3547],{"type":15,"tag":252,"props":3540,"children":3541},{"style":259},[3542],{"type":21,"value":262},{"type":15,"tag":252,"props":3544,"children":3545},{"style":265},[3546],{"type":21,"value":268},{"type":15,"tag":252,"props":3548,"children":3549},{"style":265},[3550],{"type":21,"value":3551}," thiserror\n",{"type":15,"tag":23,"props":3553,"children":3554},{},[3555,3557,3562,3564,3569],{"type":21,"value":3556},"We are going to put the CLI handling in ",{"type":15,"tag":81,"props":3558,"children":3560},{"className":3559},[],[3561],{"type":21,"value":735},{"type":21,"value":3563},", and the rest of the code in ",{"type":15,"tag":81,"props":3565,"children":3567},{"className":3566},[],[3568],{"type":21,"value":3274},{"type":21,"value":3570}," (and sub-modules).",{"type":15,"tag":59,"props":3572,"children":3574},{"id":3573},"run",[3575],{"type":21,"value":3576},"Run",{"type":15,"tag":23,"props":3578,"children":3579},{},[3580,3582,3587,3589,3595],{"type":21,"value":3581},"So for now we just gonna have the ",{"type":15,"tag":81,"props":3583,"children":3585},{"className":3584},[],[3586],{"type":21,"value":3573},{"type":21,"value":3588}," command, in the future we will also have a ",{"type":15,"tag":81,"props":3590,"children":3592},{"className":3591},[],[3593],{"type":21,"value":3594},"test",{"type":21,"value":3596}," command.",{"type":15,"tag":23,"props":3598,"children":3599},{},[3600],{"type":21,"value":3601},"The interface will look like this:",{"type":15,"tag":95,"props":3603,"children":3605},{"code":3604,"language":245,"meta":8,"className":246,"style":8},"our_compiler run input_file.viv\n",[3606],{"type":15,"tag":81,"props":3607,"children":3608},{"__ignoreMap":8},[3609],{"type":15,"tag":252,"props":3610,"children":3611},{"class":254,"line":255},[3612,3617,3622],{"type":15,"tag":252,"props":3613,"children":3614},{"style":259},[3615],{"type":21,"value":3616},"our_compiler",{"type":15,"tag":252,"props":3618,"children":3619},{"style":265},[3620],{"type":21,"value":3621}," run",{"type":15,"tag":252,"props":3623,"children":3624},{"style":265},[3625],{"type":21,"value":3626}," input_file.viv\n",{"type":15,"tag":23,"props":3628,"children":3629},{},[3630,3632,3638,3640,3646],{"type":21,"value":3631},"Well since we are running it via ",{"type":15,"tag":81,"props":3633,"children":3635},{"className":3634},[],[3636],{"type":21,"value":3637},"cargo run",{"type":21,"value":3639}," we will use ",{"type":15,"tag":81,"props":3641,"children":3643},{"className":3642},[],[3644],{"type":21,"value":3645},"--",{"type":21,"value":3647}," to pass arguments to our code.",{"type":15,"tag":95,"props":3649,"children":3651},{"code":3650,"language":245,"meta":8,"className":246,"style":8},"cargo run -- run input_file.viv\n",[3652],{"type":15,"tag":81,"props":3653,"children":3654},{"__ignoreMap":8},[3655],{"type":15,"tag":252,"props":3656,"children":3657},{"class":254,"line":255},[3658,3662,3666,3671,3675],{"type":15,"tag":252,"props":3659,"children":3660},{"style":259},[3661],{"type":21,"value":262},{"type":15,"tag":252,"props":3663,"children":3664},{"style":265},[3665],{"type":21,"value":3621},{"type":15,"tag":252,"props":3667,"children":3668},{"style":276},[3669],{"type":21,"value":3670}," --",{"type":15,"tag":252,"props":3672,"children":3673},{"style":265},[3674],{"type":21,"value":3621},{"type":15,"tag":252,"props":3676,"children":3677},{"style":265},[3678],{"type":21,"value":3626},{"type":15,"tag":23,"props":3680,"children":3681},{},[3682],{"type":21,"value":3683},"We will define an enum that will hold out different commands.",{"type":15,"tag":95,"props":3685,"children":3687},{"code":3686,"language":772,"meta":8,"className":773,"style":8},"use clap::{Parser, Subcommand};\n\n#[derive(Subcommand)]\nenum CompilerCommand {\n    /// Compile and run file\n    Run { input_file: String },\n}\n\n#[derive(Parser)]\nstruct CompilerArguments {\n    #[command(subcommand)]\n    command: CompilerCommand,\n}\n",[3688],{"type":15,"tag":81,"props":3689,"children":3690},{"__ignoreMap":8},[3691,3728,3735,3752,3770,3778,3805,3812,3819,3834,3851,3859,3880],{"type":15,"tag":252,"props":3692,"children":3693},{"class":254,"line":255},[3694,3698,3702,3706,3710,3715,3719,3724],{"type":15,"tag":252,"props":3695,"children":3696},{"style":601},[3697],{"type":21,"value":2008},{"type":15,"tag":252,"props":3699,"children":3700},{"style":259},[3701],{"type":21,"value":3510},{"type":15,"tag":252,"props":3703,"children":3704},{"style":601},[3705],{"type":21,"value":804},{"type":15,"tag":252,"props":3707,"children":3708},{"style":447},[3709],{"type":21,"value":2021},{"type":15,"tag":252,"props":3711,"children":3712},{"style":259},[3713],{"type":21,"value":3714},"Parser",{"type":15,"tag":252,"props":3716,"children":3717},{"style":447},[3718],{"type":21,"value":1076},{"type":15,"tag":252,"props":3720,"children":3721},{"style":259},[3722],{"type":21,"value":3723},"Subcommand",{"type":15,"tag":252,"props":3725,"children":3726},{"style":447},[3727],{"type":21,"value":2047},{"type":15,"tag":252,"props":3729,"children":3730},{"class":254,"line":334},[3731],{"type":15,"tag":252,"props":3732,"children":3733},{"emptyLinePlaceholder":2053},[3734],{"type":21,"value":2056},{"type":15,"tag":252,"props":3736,"children":3737},{"class":254,"line":390},[3738,3743,3747],{"type":15,"tag":252,"props":3739,"children":3740},{"style":447},[3741],{"type":21,"value":3742},"#[derive(",{"type":15,"tag":252,"props":3744,"children":3745},{"style":259},[3746],{"type":21,"value":3723},{"type":15,"tag":252,"props":3748,"children":3749},{"style":447},[3750],{"type":21,"value":3751},")]\n",{"type":15,"tag":252,"props":3753,"children":3754},{"class":254,"line":2077},[3755,3760,3765],{"type":15,"tag":252,"props":3756,"children":3757},{"style":601},[3758],{"type":21,"value":3759},"enum",{"type":15,"tag":252,"props":3761,"children":3762},{"style":259},[3763],{"type":21,"value":3764}," CompilerCommand",{"type":15,"tag":252,"props":3766,"children":3767},{"style":447},[3768],{"type":21,"value":3769}," {\n",{"type":15,"tag":252,"props":3771,"children":3772},{"class":254,"line":2110},[3773],{"type":15,"tag":252,"props":3774,"children":3775},{"style":3287},[3776],{"type":21,"value":3777},"    /// Compile and run file\n",{"type":15,"tag":252,"props":3779,"children":3780},{"class":254,"line":2150},[3781,3786,3791,3795,3800],{"type":15,"tag":252,"props":3782,"children":3783},{"style":259},[3784],{"type":21,"value":3785},"    Run",{"type":15,"tag":252,"props":3787,"children":3788},{"style":447},[3789],{"type":21,"value":3790}," { input_file",{"type":15,"tag":252,"props":3792,"children":3793},{"style":601},[3794],{"type":21,"value":3374},{"type":15,"tag":252,"props":3796,"children":3797},{"style":259},[3798],{"type":21,"value":3799}," String",{"type":15,"tag":252,"props":3801,"children":3802},{"style":447},[3803],{"type":21,"value":3804}," },\n",{"type":15,"tag":252,"props":3806,"children":3807},{"class":254,"line":2182},[3808],{"type":15,"tag":252,"props":3809,"children":3810},{"style":447},[3811],{"type":21,"value":2854},{"type":15,"tag":252,"props":3813,"children":3814},{"class":254,"line":2190},[3815],{"type":15,"tag":252,"props":3816,"children":3817},{"emptyLinePlaceholder":2053},[3818],{"type":21,"value":2056},{"type":15,"tag":252,"props":3820,"children":3821},{"class":254,"line":2222},[3822,3826,3830],{"type":15,"tag":252,"props":3823,"children":3824},{"style":447},[3825],{"type":21,"value":3742},{"type":15,"tag":252,"props":3827,"children":3828},{"style":259},[3829],{"type":21,"value":3714},{"type":15,"tag":252,"props":3831,"children":3832},{"style":447},[3833],{"type":21,"value":3751},{"type":15,"tag":252,"props":3835,"children":3836},{"class":254,"line":2270},[3837,3842,3847],{"type":15,"tag":252,"props":3838,"children":3839},{"style":601},[3840],{"type":21,"value":3841},"struct",{"type":15,"tag":252,"props":3843,"children":3844},{"style":259},[3845],{"type":21,"value":3846}," CompilerArguments",{"type":15,"tag":252,"props":3848,"children":3849},{"style":447},[3850],{"type":21,"value":3769},{"type":15,"tag":252,"props":3852,"children":3853},{"class":254,"line":2302},[3854],{"type":15,"tag":252,"props":3855,"children":3856},{"style":447},[3857],{"type":21,"value":3858},"    #[command(subcommand)]\n",{"type":15,"tag":252,"props":3860,"children":3861},{"class":254,"line":2310},[3862,3867,3871,3875],{"type":15,"tag":252,"props":3863,"children":3864},{"style":447},[3865],{"type":21,"value":3866},"    command",{"type":15,"tag":252,"props":3868,"children":3869},{"style":601},[3870],{"type":21,"value":3374},{"type":15,"tag":252,"props":3872,"children":3873},{"style":259},[3874],{"type":21,"value":3764},{"type":15,"tag":252,"props":3876,"children":3877},{"style":447},[3878],{"type":21,"value":3879},",\n",{"type":15,"tag":252,"props":3881,"children":3882},{"class":254,"line":2370},[3883],{"type":15,"tag":252,"props":3884,"children":3885},{"style":447},[3886],{"type":21,"value":2854},{"type":15,"tag":23,"props":3888,"children":3889},{},[3890,3892,3898,3900,3905,3907,3913],{"type":21,"value":3891},"so ",{"type":15,"tag":81,"props":3893,"children":3895},{"className":3894},[],[3896],{"type":21,"value":3897},"CompilerCommand",{"type":21,"value":3899}," will be our sub-commands, for now just ",{"type":15,"tag":81,"props":3901,"children":3903},{"className":3902},[],[3904],{"type":21,"value":3573},{"type":21,"value":3906},", then ",{"type":15,"tag":81,"props":3908,"children":3910},{"className":3909},[],[3911],{"type":21,"value":3912},"CompilerArguments",{"type":21,"value":3914}," will be the struct will all the CLI info, including future flags we will add.",{"type":15,"tag":23,"props":3916,"children":3917},{},[3918],{"type":21,"value":3919},"We now need to actually parse the arguments, which is really simple.",{"type":15,"tag":95,"props":3921,"children":3923},{"code":3922,"language":772,"meta":8,"className":773,"style":8},"fn main() -> anyhow::Result\u003C()> {\n    let arguments = CompilerArguments::parse();\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            println!(\"file: {input_file:?}\");\n        }\n    }\n\n    Ok(())\n}\n",[3924],{"type":15,"tag":81,"props":3925,"children":3926},{"__ignoreMap":8},[3927,3967,4000,4007,4029,4059,4080,4088,4096,4103,4116],{"type":15,"tag":252,"props":3928,"children":3929},{"class":254,"line":255},[3930,3934,3938,3943,3948,3953,3957,3962],{"type":15,"tag":252,"props":3931,"children":3932},{"style":601},[3933],{"type":21,"value":2064},{"type":15,"tag":252,"props":3935,"children":3936},{"style":259},[3937],{"type":21,"value":2069},{"type":15,"tag":252,"props":3939,"children":3940},{"style":447},[3941],{"type":21,"value":3942},"() ",{"type":15,"tag":252,"props":3944,"children":3945},{"style":601},[3946],{"type":21,"value":3947},"->",{"type":15,"tag":252,"props":3949,"children":3950},{"style":259},[3951],{"type":21,"value":3952}," anyhow",{"type":15,"tag":252,"props":3954,"children":3955},{"style":601},[3956],{"type":21,"value":804},{"type":15,"tag":252,"props":3958,"children":3959},{"style":259},[3960],{"type":21,"value":3961},"Result",{"type":15,"tag":252,"props":3963,"children":3964},{"style":447},[3965],{"type":21,"value":3966},"\u003C()> {\n",{"type":15,"tag":252,"props":3968,"children":3969},{"class":254,"line":334},[3970,3974,3979,3983,3987,3991,3996],{"type":15,"tag":252,"props":3971,"children":3972},{"style":601},[3973],{"type":21,"value":2083},{"type":15,"tag":252,"props":3975,"children":3976},{"style":447},[3977],{"type":21,"value":3978}," arguments ",{"type":15,"tag":252,"props":3980,"children":3981},{"style":601},[3982],{"type":21,"value":614},{"type":15,"tag":252,"props":3984,"children":3985},{"style":259},[3986],{"type":21,"value":3846},{"type":15,"tag":252,"props":3988,"children":3989},{"style":601},[3990],{"type":21,"value":804},{"type":15,"tag":252,"props":3992,"children":3993},{"style":259},[3994],{"type":21,"value":3995},"parse",{"type":15,"tag":252,"props":3997,"children":3998},{"style":447},[3999],{"type":21,"value":814},{"type":15,"tag":252,"props":4001,"children":4002},{"class":254,"line":390},[4003],{"type":15,"tag":252,"props":4004,"children":4005},{"emptyLinePlaceholder":2053},[4006],{"type":21,"value":2056},{"type":15,"tag":252,"props":4008,"children":4009},{"class":254,"line":2077},[4010,4015,4020,4024],{"type":15,"tag":252,"props":4011,"children":4012},{"style":601},[4013],{"type":21,"value":4014},"    match",{"type":15,"tag":252,"props":4016,"children":4017},{"style":447},[4018],{"type":21,"value":4019}," arguments",{"type":15,"tag":252,"props":4021,"children":4022},{"style":601},[4023],{"type":21,"value":432},{"type":15,"tag":252,"props":4025,"children":4026},{"style":447},[4027],{"type":21,"value":4028},"command {\n",{"type":15,"tag":252,"props":4030,"children":4031},{"class":254,"line":2110},[4032,4037,4041,4045,4050,4055],{"type":15,"tag":252,"props":4033,"children":4034},{"style":259},[4035],{"type":21,"value":4036},"        CompilerCommand",{"type":15,"tag":252,"props":4038,"children":4039},{"style":601},[4040],{"type":21,"value":804},{"type":15,"tag":252,"props":4042,"children":4043},{"style":259},[4044],{"type":21,"value":3576},{"type":15,"tag":252,"props":4046,"children":4047},{"style":447},[4048],{"type":21,"value":4049}," { input_file } ",{"type":15,"tag":252,"props":4051,"children":4052},{"style":601},[4053],{"type":21,"value":4054},"=>",{"type":15,"tag":252,"props":4056,"children":4057},{"style":447},[4058],{"type":21,"value":3769},{"type":15,"tag":252,"props":4060,"children":4061},{"class":254,"line":2150},[4062,4067,4071,4076],{"type":15,"tag":252,"props":4063,"children":4064},{"style":259},[4065],{"type":21,"value":4066},"            println!",{"type":15,"tag":252,"props":4068,"children":4069},{"style":447},[4070],{"type":21,"value":849},{"type":15,"tag":252,"props":4072,"children":4073},{"style":265},[4074],{"type":21,"value":4075},"\"file: {input_file:?}\"",{"type":15,"tag":252,"props":4077,"children":4078},{"style":447},[4079],{"type":21,"value":859},{"type":15,"tag":252,"props":4081,"children":4082},{"class":254,"line":2182},[4083],{"type":15,"tag":252,"props":4084,"children":4085},{"style":447},[4086],{"type":21,"value":4087},"        }\n",{"type":15,"tag":252,"props":4089,"children":4090},{"class":254,"line":2190},[4091],{"type":15,"tag":252,"props":4092,"children":4093},{"style":447},[4094],{"type":21,"value":4095},"    }\n",{"type":15,"tag":252,"props":4097,"children":4098},{"class":254,"line":2222},[4099],{"type":15,"tag":252,"props":4100,"children":4101},{"emptyLinePlaceholder":2053},[4102],{"type":21,"value":2056},{"type":15,"tag":252,"props":4104,"children":4105},{"class":254,"line":2270},[4106,4111],{"type":15,"tag":252,"props":4107,"children":4108},{"style":259},[4109],{"type":21,"value":4110},"    Ok",{"type":15,"tag":252,"props":4112,"children":4113},{"style":447},[4114],{"type":21,"value":4115},"(())\n",{"type":15,"tag":252,"props":4117,"children":4118},{"class":254,"line":2302},[4119],{"type":15,"tag":252,"props":4120,"children":4121},{"style":447},[4122],{"type":21,"value":2854},{"type":15,"tag":23,"props":4124,"children":4125},{},[4126,4128,4134,4136,4142,4144,4149,4151,4156,4158,4163],{"type":21,"value":4127},"So we return a ",{"type":15,"tag":81,"props":4129,"children":4131},{"className":4130},[],[4132],{"type":21,"value":4133},"anyhow::Result",{"type":21,"value":4135},", which is just a type alias for ",{"type":15,"tag":81,"props":4137,"children":4139},{"className":4138},[],[4140],{"type":21,"value":4141},"Result\u003C..., anyhow:Error>",{"type":21,"value":4143},", you might not know this but when you return an error from ",{"type":15,"tag":81,"props":4145,"children":4147},{"className":4146},[],[4148],{"type":21,"value":1379},{"type":21,"value":4150}," rust will print it to stderr? Next, we call the ",{"type":15,"tag":81,"props":4152,"children":4154},{"className":4153},[],[4155],{"type":21,"value":3995},{"type":21,"value":4157}," function from our Parser, this is provided by deriving ",{"type":15,"tag":81,"props":4159,"children":4161},{"className":4160},[],[4162],{"type":21,"value":3714},{"type":21,"value":432},{"type":15,"tag":23,"props":4165,"children":4166},{},[4167],{"type":21,"value":4168},"Now Clap gives us a lot of stuff for free! Like help messages:",{"type":15,"tag":23,"props":4170,"children":4171},{},[4172],{"type":15,"tag":187,"props":4173,"children":4176},{"alt":4174,"src":4175},"--help messages","/assets/compiler/cli/help_messages.png",[],{"type":15,"tag":23,"props":4178,"children":4179},{},[4180],{"type":21,"value":4181},"And ofc we can run our command!",{"type":15,"tag":23,"props":4183,"children":4184},{},[4185],{"type":15,"tag":187,"props":4186,"children":4189},{"alt":4187,"src":4188},"Run result","/assets/compiler/cli/run_result.png",[],{"type":15,"tag":23,"props":4191,"children":4192},{},[4193],{"type":21,"value":4194},"We also get good error messages!",{"type":15,"tag":23,"props":4196,"children":4197},{},[4198],{"type":15,"tag":187,"props":4199,"children":4202},{"alt":4200,"src":4201},"Error messages","/assets/compiler/cli/error_message.png",[],{"type":15,"tag":59,"props":4204,"children":4206},{"id":4205},"debug-flags",[4207],{"type":21,"value":4208},"Debug Flags",{"type":15,"tag":23,"props":4210,"children":4211},{},[4212],{"type":21,"value":4213},"We are also going to have some Debug flags, these are to help us when building the compiler!",{"type":15,"tag":95,"props":4215,"children":4217},{"code":4216,"language":772,"meta":8,"className":773,"style":8},"#[derive(Args)]\nstruct DebugArguments {\n    /// Turn off compiler optimizations\n    #[arg(short = 'd', long, global = true)]\n    dont_optimize: bool,\n\n    /// Print the tokens to stdout\n    #[arg(short = 't', long, global = true)]\n    output_tokens: bool,\n\n    /// Print the ast to stdout\n    #[arg(short = 'a', long, global = true)]\n    output_ast: bool,\n\n    /// Print the Internal ir to stdout\n    #[arg(short = 'i', long, global = true)]\n    output_ir: bool,\n\n    /// Print the produced LLVM ir to stdout\n    #[arg(short = 'l', long, global = true)]\n    output_llvm: bool,\n}\n\n#[derive(Parser)]\nstruct CompilerCli {\n    #[command(subcommand)]\n    command: CompilerCommand,\n\n    #[command(flatten)]\n    debug: DebugArguments,\n}\n",[4218],{"type":15,"tag":81,"props":4219,"children":4220},{"__ignoreMap":8},[4221,4237,4253,4261,4292,4313,4320,4328,4356,4376,4383,4391,4419,4439,4446,4454,4482,4502,4509,4517,4545,4565,4572,4579,4594,4610,4617,4636,4643,4652,4673],{"type":15,"tag":252,"props":4222,"children":4223},{"class":254,"line":255},[4224,4228,4233],{"type":15,"tag":252,"props":4225,"children":4226},{"style":447},[4227],{"type":21,"value":3742},{"type":15,"tag":252,"props":4229,"children":4230},{"style":259},[4231],{"type":21,"value":4232},"Args",{"type":15,"tag":252,"props":4234,"children":4235},{"style":447},[4236],{"type":21,"value":3751},{"type":15,"tag":252,"props":4238,"children":4239},{"class":254,"line":334},[4240,4244,4249],{"type":15,"tag":252,"props":4241,"children":4242},{"style":601},[4243],{"type":21,"value":3841},{"type":15,"tag":252,"props":4245,"children":4246},{"style":259},[4247],{"type":21,"value":4248}," DebugArguments",{"type":15,"tag":252,"props":4250,"children":4251},{"style":447},[4252],{"type":21,"value":3769},{"type":15,"tag":252,"props":4254,"children":4255},{"class":254,"line":390},[4256],{"type":15,"tag":252,"props":4257,"children":4258},{"style":3287},[4259],{"type":21,"value":4260},"    /// Turn off compiler optimizations\n",{"type":15,"tag":252,"props":4262,"children":4263},{"class":254,"line":2077},[4264,4269,4273,4278,4283,4287],{"type":15,"tag":252,"props":4265,"children":4266},{"style":447},[4267],{"type":21,"value":4268},"    #[arg(short ",{"type":15,"tag":252,"props":4270,"children":4271},{"style":601},[4272],{"type":21,"value":614},{"type":15,"tag":252,"props":4274,"children":4275},{"style":265},[4276],{"type":21,"value":4277}," 'd'",{"type":15,"tag":252,"props":4279,"children":4280},{"style":447},[4281],{"type":21,"value":4282},", long, global ",{"type":15,"tag":252,"props":4284,"children":4285},{"style":601},[4286],{"type":21,"value":614},{"type":15,"tag":252,"props":4288,"children":4289},{"style":447},[4290],{"type":21,"value":4291}," true)]\n",{"type":15,"tag":252,"props":4293,"children":4294},{"class":254,"line":2110},[4295,4300,4304,4309],{"type":15,"tag":252,"props":4296,"children":4297},{"style":447},[4298],{"type":21,"value":4299},"    dont_optimize",{"type":15,"tag":252,"props":4301,"children":4302},{"style":601},[4303],{"type":21,"value":3374},{"type":15,"tag":252,"props":4305,"children":4306},{"style":259},[4307],{"type":21,"value":4308}," bool",{"type":15,"tag":252,"props":4310,"children":4311},{"style":447},[4312],{"type":21,"value":3879},{"type":15,"tag":252,"props":4314,"children":4315},{"class":254,"line":2150},[4316],{"type":15,"tag":252,"props":4317,"children":4318},{"emptyLinePlaceholder":2053},[4319],{"type":21,"value":2056},{"type":15,"tag":252,"props":4321,"children":4322},{"class":254,"line":2182},[4323],{"type":15,"tag":252,"props":4324,"children":4325},{"style":3287},[4326],{"type":21,"value":4327},"    /// Print the tokens to stdout\n",{"type":15,"tag":252,"props":4329,"children":4330},{"class":254,"line":2190},[4331,4335,4339,4344,4348,4352],{"type":15,"tag":252,"props":4332,"children":4333},{"style":447},[4334],{"type":21,"value":4268},{"type":15,"tag":252,"props":4336,"children":4337},{"style":601},[4338],{"type":21,"value":614},{"type":15,"tag":252,"props":4340,"children":4341},{"style":265},[4342],{"type":21,"value":4343}," 't'",{"type":15,"tag":252,"props":4345,"children":4346},{"style":447},[4347],{"type":21,"value":4282},{"type":15,"tag":252,"props":4349,"children":4350},{"style":601},[4351],{"type":21,"value":614},{"type":15,"tag":252,"props":4353,"children":4354},{"style":447},[4355],{"type":21,"value":4291},{"type":15,"tag":252,"props":4357,"children":4358},{"class":254,"line":2222},[4359,4364,4368,4372],{"type":15,"tag":252,"props":4360,"children":4361},{"style":447},[4362],{"type":21,"value":4363},"    output_tokens",{"type":15,"tag":252,"props":4365,"children":4366},{"style":601},[4367],{"type":21,"value":3374},{"type":15,"tag":252,"props":4369,"children":4370},{"style":259},[4371],{"type":21,"value":4308},{"type":15,"tag":252,"props":4373,"children":4374},{"style":447},[4375],{"type":21,"value":3879},{"type":15,"tag":252,"props":4377,"children":4378},{"class":254,"line":2270},[4379],{"type":15,"tag":252,"props":4380,"children":4381},{"emptyLinePlaceholder":2053},[4382],{"type":21,"value":2056},{"type":15,"tag":252,"props":4384,"children":4385},{"class":254,"line":2302},[4386],{"type":15,"tag":252,"props":4387,"children":4388},{"style":3287},[4389],{"type":21,"value":4390},"    /// Print the ast to stdout\n",{"type":15,"tag":252,"props":4392,"children":4393},{"class":254,"line":2310},[4394,4398,4402,4407,4411,4415],{"type":15,"tag":252,"props":4395,"children":4396},{"style":447},[4397],{"type":21,"value":4268},{"type":15,"tag":252,"props":4399,"children":4400},{"style":601},[4401],{"type":21,"value":614},{"type":15,"tag":252,"props":4403,"children":4404},{"style":265},[4405],{"type":21,"value":4406}," 'a'",{"type":15,"tag":252,"props":4408,"children":4409},{"style":447},[4410],{"type":21,"value":4282},{"type":15,"tag":252,"props":4412,"children":4413},{"style":601},[4414],{"type":21,"value":614},{"type":15,"tag":252,"props":4416,"children":4417},{"style":447},[4418],{"type":21,"value":4291},{"type":15,"tag":252,"props":4420,"children":4421},{"class":254,"line":2370},[4422,4427,4431,4435],{"type":15,"tag":252,"props":4423,"children":4424},{"style":447},[4425],{"type":21,"value":4426},"    output_ast",{"type":15,"tag":252,"props":4428,"children":4429},{"style":601},[4430],{"type":21,"value":3374},{"type":15,"tag":252,"props":4432,"children":4433},{"style":259},[4434],{"type":21,"value":4308},{"type":15,"tag":252,"props":4436,"children":4437},{"style":447},[4438],{"type":21,"value":3879},{"type":15,"tag":252,"props":4440,"children":4441},{"class":254,"line":2418},[4442],{"type":15,"tag":252,"props":4443,"children":4444},{"emptyLinePlaceholder":2053},[4445],{"type":21,"value":2056},{"type":15,"tag":252,"props":4447,"children":4448},{"class":254,"line":2426},[4449],{"type":15,"tag":252,"props":4450,"children":4451},{"style":3287},[4452],{"type":21,"value":4453},"    /// Print the Internal ir to stdout\n",{"type":15,"tag":252,"props":4455,"children":4456},{"class":254,"line":2474},[4457,4461,4465,4470,4474,4478],{"type":15,"tag":252,"props":4458,"children":4459},{"style":447},[4460],{"type":21,"value":4268},{"type":15,"tag":252,"props":4462,"children":4463},{"style":601},[4464],{"type":21,"value":614},{"type":15,"tag":252,"props":4466,"children":4467},{"style":265},[4468],{"type":21,"value":4469}," 'i'",{"type":15,"tag":252,"props":4471,"children":4472},{"style":447},[4473],{"type":21,"value":4282},{"type":15,"tag":252,"props":4475,"children":4476},{"style":601},[4477],{"type":21,"value":614},{"type":15,"tag":252,"props":4479,"children":4480},{"style":447},[4481],{"type":21,"value":4291},{"type":15,"tag":252,"props":4483,"children":4484},{"class":254,"line":2522},[4485,4490,4494,4498],{"type":15,"tag":252,"props":4486,"children":4487},{"style":447},[4488],{"type":21,"value":4489},"    output_ir",{"type":15,"tag":252,"props":4491,"children":4492},{"style":601},[4493],{"type":21,"value":3374},{"type":15,"tag":252,"props":4495,"children":4496},{"style":259},[4497],{"type":21,"value":4308},{"type":15,"tag":252,"props":4499,"children":4500},{"style":447},[4501],{"type":21,"value":3879},{"type":15,"tag":252,"props":4503,"children":4504},{"class":254,"line":2530},[4505],{"type":15,"tag":252,"props":4506,"children":4507},{"emptyLinePlaceholder":2053},[4508],{"type":21,"value":2056},{"type":15,"tag":252,"props":4510,"children":4511},{"class":254,"line":2570},[4512],{"type":15,"tag":252,"props":4513,"children":4514},{"style":3287},[4515],{"type":21,"value":4516},"    /// Print the produced LLVM ir to stdout\n",{"type":15,"tag":252,"props":4518,"children":4519},{"class":254,"line":2591},[4520,4524,4528,4533,4537,4541],{"type":15,"tag":252,"props":4521,"children":4522},{"style":447},[4523],{"type":21,"value":4268},{"type":15,"tag":252,"props":4525,"children":4526},{"style":601},[4527],{"type":21,"value":614},{"type":15,"tag":252,"props":4529,"children":4530},{"style":265},[4531],{"type":21,"value":4532}," 'l'",{"type":15,"tag":252,"props":4534,"children":4535},{"style":447},[4536],{"type":21,"value":4282},{"type":15,"tag":252,"props":4538,"children":4539},{"style":601},[4540],{"type":21,"value":614},{"type":15,"tag":252,"props":4542,"children":4543},{"style":447},[4544],{"type":21,"value":4291},{"type":15,"tag":252,"props":4546,"children":4547},{"class":254,"line":2599},[4548,4553,4557,4561],{"type":15,"tag":252,"props":4549,"children":4550},{"style":447},[4551],{"type":21,"value":4552},"    output_llvm",{"type":15,"tag":252,"props":4554,"children":4555},{"style":601},[4556],{"type":21,"value":3374},{"type":15,"tag":252,"props":4558,"children":4559},{"style":259},[4560],{"type":21,"value":4308},{"type":15,"tag":252,"props":4562,"children":4563},{"style":447},[4564],{"type":21,"value":3879},{"type":15,"tag":252,"props":4566,"children":4567},{"class":254,"line":2647},[4568],{"type":15,"tag":252,"props":4569,"children":4570},{"style":447},[4571],{"type":21,"value":2854},{"type":15,"tag":252,"props":4573,"children":4574},{"class":254,"line":2679},[4575],{"type":15,"tag":252,"props":4576,"children":4577},{"emptyLinePlaceholder":2053},[4578],{"type":21,"value":2056},{"type":15,"tag":252,"props":4580,"children":4581},{"class":254,"line":2727},[4582,4586,4590],{"type":15,"tag":252,"props":4583,"children":4584},{"style":447},[4585],{"type":21,"value":3742},{"type":15,"tag":252,"props":4587,"children":4588},{"style":259},[4589],{"type":21,"value":3714},{"type":15,"tag":252,"props":4591,"children":4592},{"style":447},[4593],{"type":21,"value":3751},{"type":15,"tag":252,"props":4595,"children":4596},{"class":254,"line":2735},[4597,4601,4606],{"type":15,"tag":252,"props":4598,"children":4599},{"style":601},[4600],{"type":21,"value":3841},{"type":15,"tag":252,"props":4602,"children":4603},{"style":259},[4604],{"type":21,"value":4605}," CompilerCli",{"type":15,"tag":252,"props":4607,"children":4608},{"style":447},[4609],{"type":21,"value":3769},{"type":15,"tag":252,"props":4611,"children":4612},{"class":254,"line":2799},[4613],{"type":15,"tag":252,"props":4614,"children":4615},{"style":447},[4616],{"type":21,"value":3858},{"type":15,"tag":252,"props":4618,"children":4619},{"class":254,"line":2807},[4620,4624,4628,4632],{"type":15,"tag":252,"props":4621,"children":4622},{"style":447},[4623],{"type":21,"value":3866},{"type":15,"tag":252,"props":4625,"children":4626},{"style":601},[4627],{"type":21,"value":3374},{"type":15,"tag":252,"props":4629,"children":4630},{"style":259},[4631],{"type":21,"value":3764},{"type":15,"tag":252,"props":4633,"children":4634},{"style":447},[4635],{"type":21,"value":3879},{"type":15,"tag":252,"props":4637,"children":4638},{"class":254,"line":2848},[4639],{"type":15,"tag":252,"props":4640,"children":4641},{"emptyLinePlaceholder":2053},[4642],{"type":21,"value":2056},{"type":15,"tag":252,"props":4644,"children":4646},{"class":254,"line":4645},29,[4647],{"type":15,"tag":252,"props":4648,"children":4649},{"style":447},[4650],{"type":21,"value":4651},"    #[command(flatten)]\n",{"type":15,"tag":252,"props":4653,"children":4655},{"class":254,"line":4654},30,[4656,4661,4665,4669],{"type":15,"tag":252,"props":4657,"children":4658},{"style":447},[4659],{"type":21,"value":4660},"    debug",{"type":15,"tag":252,"props":4662,"children":4663},{"style":601},[4664],{"type":21,"value":3374},{"type":15,"tag":252,"props":4666,"children":4667},{"style":259},[4668],{"type":21,"value":4248},{"type":15,"tag":252,"props":4670,"children":4671},{"style":447},[4672],{"type":21,"value":3879},{"type":15,"tag":252,"props":4674,"children":4676},{"class":254,"line":4675},31,[4677],{"type":15,"tag":252,"props":4678,"children":4679},{"style":447},[4680],{"type":21,"value":2854},{"type":15,"tag":23,"props":4682,"children":4683},{},[4684,4686,4692,4694,4700,4701,4707],{"type":21,"value":4685},"This will let us debug our compiler, and will be useful to make sure stuff is working as we progress thru the implementation of the compiler! The ",{"type":15,"tag":81,"props":4687,"children":4689},{"className":4688},[],[4690],{"type":21,"value":4691},"global = true",{"type":21,"value":4693}," means that these can be used anywhere on the command line, not just at the start, so ",{"type":15,"tag":81,"props":4695,"children":4697},{"className":4696},[],[4698],{"type":21,"value":4699},"-t run test.viv",{"type":21,"value":3071},{"type":15,"tag":81,"props":4702,"children":4704},{"className":4703},[],[4705],{"type":21,"value":4706},"run -t test.viv",{"type":21,"value":4708}," are the same.",{"type":15,"tag":23,"props":4710,"children":4711},{},[4712,4714],{"type":21,"value":4713},"We will also need to set up some basic stuff in ",{"type":15,"tag":81,"props":4715,"children":4717},{"className":4716},[],[4718],{"type":21,"value":3274},{"type":15,"tag":95,"props":4720,"children":4722},{"code":4721,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\npub struct CompilerOptions {\n    pub dont_optimize: bool,\n    pub output_tokens: bool,\n    pub output_ast: bool,\n    pub output_ir: bool,\n    pub output_llvm: bool,\n}\n\npub fn build(file: &str, options: CompilerOptions) -> anyhow::Result\u003C()> {}\n",[4723],{"type":15,"tag":81,"props":4724,"children":4725},{"__ignoreMap":8},[4726,4733,4755,4780,4804,4828,4852,4876,4883,4890],{"type":15,"tag":252,"props":4727,"children":4728},{"class":254,"line":255},[4729],{"type":15,"tag":252,"props":4730,"children":4731},{"style":3287},[4732],{"type":21,"value":3290},{"type":15,"tag":252,"props":4734,"children":4735},{"class":254,"line":334},[4736,4741,4746,4751],{"type":15,"tag":252,"props":4737,"children":4738},{"style":601},[4739],{"type":21,"value":4740},"pub",{"type":15,"tag":252,"props":4742,"children":4743},{"style":601},[4744],{"type":21,"value":4745}," struct",{"type":15,"tag":252,"props":4747,"children":4748},{"style":259},[4749],{"type":21,"value":4750}," CompilerOptions",{"type":15,"tag":252,"props":4752,"children":4753},{"style":447},[4754],{"type":21,"value":3769},{"type":15,"tag":252,"props":4756,"children":4757},{"class":254,"line":390},[4758,4763,4768,4772,4776],{"type":15,"tag":252,"props":4759,"children":4760},{"style":601},[4761],{"type":21,"value":4762},"    pub",{"type":15,"tag":252,"props":4764,"children":4765},{"style":447},[4766],{"type":21,"value":4767}," dont_optimize",{"type":15,"tag":252,"props":4769,"children":4770},{"style":601},[4771],{"type":21,"value":3374},{"type":15,"tag":252,"props":4773,"children":4774},{"style":259},[4775],{"type":21,"value":4308},{"type":15,"tag":252,"props":4777,"children":4778},{"style":447},[4779],{"type":21,"value":3879},{"type":15,"tag":252,"props":4781,"children":4782},{"class":254,"line":2077},[4783,4787,4792,4796,4800],{"type":15,"tag":252,"props":4784,"children":4785},{"style":601},[4786],{"type":21,"value":4762},{"type":15,"tag":252,"props":4788,"children":4789},{"style":447},[4790],{"type":21,"value":4791}," output_tokens",{"type":15,"tag":252,"props":4793,"children":4794},{"style":601},[4795],{"type":21,"value":3374},{"type":15,"tag":252,"props":4797,"children":4798},{"style":259},[4799],{"type":21,"value":4308},{"type":15,"tag":252,"props":4801,"children":4802},{"style":447},[4803],{"type":21,"value":3879},{"type":15,"tag":252,"props":4805,"children":4806},{"class":254,"line":2110},[4807,4811,4816,4820,4824],{"type":15,"tag":252,"props":4808,"children":4809},{"style":601},[4810],{"type":21,"value":4762},{"type":15,"tag":252,"props":4812,"children":4813},{"style":447},[4814],{"type":21,"value":4815}," output_ast",{"type":15,"tag":252,"props":4817,"children":4818},{"style":601},[4819],{"type":21,"value":3374},{"type":15,"tag":252,"props":4821,"children":4822},{"style":259},[4823],{"type":21,"value":4308},{"type":15,"tag":252,"props":4825,"children":4826},{"style":447},[4827],{"type":21,"value":3879},{"type":15,"tag":252,"props":4829,"children":4830},{"class":254,"line":2150},[4831,4835,4840,4844,4848],{"type":15,"tag":252,"props":4832,"children":4833},{"style":601},[4834],{"type":21,"value":4762},{"type":15,"tag":252,"props":4836,"children":4837},{"style":447},[4838],{"type":21,"value":4839}," output_ir",{"type":15,"tag":252,"props":4841,"children":4842},{"style":601},[4843],{"type":21,"value":3374},{"type":15,"tag":252,"props":4845,"children":4846},{"style":259},[4847],{"type":21,"value":4308},{"type":15,"tag":252,"props":4849,"children":4850},{"style":447},[4851],{"type":21,"value":3879},{"type":15,"tag":252,"props":4853,"children":4854},{"class":254,"line":2182},[4855,4859,4864,4868,4872],{"type":15,"tag":252,"props":4856,"children":4857},{"style":601},[4858],{"type":21,"value":4762},{"type":15,"tag":252,"props":4860,"children":4861},{"style":447},[4862],{"type":21,"value":4863}," output_llvm",{"type":15,"tag":252,"props":4865,"children":4866},{"style":601},[4867],{"type":21,"value":3374},{"type":15,"tag":252,"props":4869,"children":4870},{"style":259},[4871],{"type":21,"value":4308},{"type":15,"tag":252,"props":4873,"children":4874},{"style":447},[4875],{"type":21,"value":3879},{"type":15,"tag":252,"props":4877,"children":4878},{"class":254,"line":2190},[4879],{"type":15,"tag":252,"props":4880,"children":4881},{"style":447},[4882],{"type":21,"value":2854},{"type":15,"tag":252,"props":4884,"children":4885},{"class":254,"line":2222},[4886],{"type":15,"tag":252,"props":4887,"children":4888},{"emptyLinePlaceholder":2053},[4889],{"type":21,"value":2056},{"type":15,"tag":252,"props":4891,"children":4892},{"class":254,"line":2270},[4893,4897,4902,4907,4912,4916,4921,4926,4931,4935,4939,4944,4948,4952,4956,4960],{"type":15,"tag":252,"props":4894,"children":4895},{"style":601},[4896],{"type":21,"value":4740},{"type":15,"tag":252,"props":4898,"children":4899},{"style":601},[4900],{"type":21,"value":4901}," fn",{"type":15,"tag":252,"props":4903,"children":4904},{"style":259},[4905],{"type":21,"value":4906}," build",{"type":15,"tag":252,"props":4908,"children":4909},{"style":447},[4910],{"type":21,"value":4911},"(file",{"type":15,"tag":252,"props":4913,"children":4914},{"style":601},[4915],{"type":21,"value":3374},{"type":15,"tag":252,"props":4917,"children":4918},{"style":601},[4919],{"type":21,"value":4920}," &",{"type":15,"tag":252,"props":4922,"children":4923},{"style":259},[4924],{"type":21,"value":4925},"str",{"type":15,"tag":252,"props":4927,"children":4928},{"style":447},[4929],{"type":21,"value":4930},", options",{"type":15,"tag":252,"props":4932,"children":4933},{"style":601},[4934],{"type":21,"value":3374},{"type":15,"tag":252,"props":4936,"children":4937},{"style":259},[4938],{"type":21,"value":4750},{"type":15,"tag":252,"props":4940,"children":4941},{"style":447},[4942],{"type":21,"value":4943},") ",{"type":15,"tag":252,"props":4945,"children":4946},{"style":601},[4947],{"type":21,"value":3947},{"type":15,"tag":252,"props":4949,"children":4950},{"style":259},[4951],{"type":21,"value":3952},{"type":15,"tag":252,"props":4953,"children":4954},{"style":601},[4955],{"type":21,"value":804},{"type":15,"tag":252,"props":4957,"children":4958},{"style":259},[4959],{"type":21,"value":3961},{"type":15,"tag":252,"props":4961,"children":4962},{"style":447},[4963],{"type":21,"value":4964},"\u003C()> {}\n",{"type":15,"tag":23,"props":4966,"children":4967},{},[4968,4970,4975,4977,4982,4984,4990,4992,4997,4999,5004,5006,5011],{"type":21,"value":4969},"Wait? Didn't we already define those compiler options? ...Well yes, but the reason we are doing this is that you cant import from ",{"type":15,"tag":81,"props":4971,"children":4973},{"className":4972},[],[4974],{"type":21,"value":735},{"type":21,"value":4976}," to ",{"type":15,"tag":81,"props":4978,"children":4980},{"className":4979},[],[4981],{"type":21,"value":3274},{"type":21,"value":4983},".\nYou might then be asking yourself, why not just move ",{"type":15,"tag":81,"props":4985,"children":4987},{"className":4986},[],[4988],{"type":21,"value":4989},"DebugArguments",{"type":21,"value":4991}," into ",{"type":15,"tag":81,"props":4993,"children":4995},{"className":4994},[],[4996],{"type":21,"value":3274},{"type":21,"value":4998},"? Well, we totally could! And you can do that if you want! Why aren't I? Well, ",{"type":15,"tag":81,"props":5000,"children":5002},{"className":5001},[],[5003],{"type":21,"value":4989},{"type":21,"value":5005}," has CLI stuff in it, and personally, I want to keep that stuff in ",{"type":15,"tag":81,"props":5007,"children":5009},{"className":5008},[],[5010],{"type":21,"value":735},{"type":21,"value":432},{"type":15,"tag":23,"props":5013,"children":5014},{},[5015,5017],{"type":21,"value":5016},"We will then construct these Compiler options and pass them to ",{"type":15,"tag":81,"props":5018,"children":5020},{"className":5019},[],[5021],{"type":21,"value":5022},"build",{"type":15,"tag":95,"props":5024,"children":5026},{"code":5025,"language":772,"meta":8,"className":773,"style":8},"// main.rs\nuse anyhow::Context;\nuse viv_script::{build, CompilerOptions};\n\n// ...\n\nfn main() -> anyhow::Result\u003C()> {\n    let arguments = CompilerCli::parse();\n    let compiler_options = CompilerOptions {\n        dont_optimize: arguments.debug.dont_optimize,\n        output_tokens: arguments.debug.output_tokens,\n        output_ast: arguments.debug.output_ast,\n        output_ir: arguments.debug.output_ir,\n        output_llvm: arguments.debug.output_llvm,\n    };\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            build(input_file, compiler_options).context(\"Compiling input file\")?;\n        }\n    }\n\n    Ok(())\n}\n",[5027],{"type":15,"tag":81,"props":5028,"children":5029},{"__ignoreMap":8},[5030,5038,5061,5091,5098,5106,5113,5148,5179,5203,5237,5270,5303,5336,5369,5377,5384,5403,5430,5473,5480,5487,5494,5505],{"type":15,"tag":252,"props":5031,"children":5032},{"class":254,"line":255},[5033],{"type":15,"tag":252,"props":5034,"children":5035},{"style":3287},[5036],{"type":21,"value":5037},"// main.rs\n",{"type":15,"tag":252,"props":5039,"children":5040},{"class":254,"line":334},[5041,5045,5049,5053,5057],{"type":15,"tag":252,"props":5042,"children":5043},{"style":601},[5044],{"type":21,"value":2008},{"type":15,"tag":252,"props":5046,"children":5047},{"style":259},[5048],{"type":21,"value":3952},{"type":15,"tag":252,"props":5050,"children":5051},{"style":601},[5052],{"type":21,"value":804},{"type":15,"tag":252,"props":5054,"children":5055},{"style":259},[5056],{"type":21,"value":2034},{"type":15,"tag":252,"props":5058,"children":5059},{"style":447},[5060],{"type":21,"value":3325},{"type":15,"tag":252,"props":5062,"children":5063},{"class":254,"line":390},[5064,5068,5073,5077,5082,5087],{"type":15,"tag":252,"props":5065,"children":5066},{"style":601},[5067],{"type":21,"value":2008},{"type":15,"tag":252,"props":5069,"children":5070},{"style":259},[5071],{"type":21,"value":5072}," viv_script",{"type":15,"tag":252,"props":5074,"children":5075},{"style":601},[5076],{"type":21,"value":804},{"type":15,"tag":252,"props":5078,"children":5079},{"style":447},[5080],{"type":21,"value":5081},"{build, ",{"type":15,"tag":252,"props":5083,"children":5084},{"style":259},[5085],{"type":21,"value":5086},"CompilerOptions",{"type":15,"tag":252,"props":5088,"children":5089},{"style":447},[5090],{"type":21,"value":2047},{"type":15,"tag":252,"props":5092,"children":5093},{"class":254,"line":2077},[5094],{"type":15,"tag":252,"props":5095,"children":5096},{"emptyLinePlaceholder":2053},[5097],{"type":21,"value":2056},{"type":15,"tag":252,"props":5099,"children":5100},{"class":254,"line":2110},[5101],{"type":15,"tag":252,"props":5102,"children":5103},{"style":3287},[5104],{"type":21,"value":5105},"// ...\n",{"type":15,"tag":252,"props":5107,"children":5108},{"class":254,"line":2150},[5109],{"type":15,"tag":252,"props":5110,"children":5111},{"emptyLinePlaceholder":2053},[5112],{"type":21,"value":2056},{"type":15,"tag":252,"props":5114,"children":5115},{"class":254,"line":2182},[5116,5120,5124,5128,5132,5136,5140,5144],{"type":15,"tag":252,"props":5117,"children":5118},{"style":601},[5119],{"type":21,"value":2064},{"type":15,"tag":252,"props":5121,"children":5122},{"style":259},[5123],{"type":21,"value":2069},{"type":15,"tag":252,"props":5125,"children":5126},{"style":447},[5127],{"type":21,"value":3942},{"type":15,"tag":252,"props":5129,"children":5130},{"style":601},[5131],{"type":21,"value":3947},{"type":15,"tag":252,"props":5133,"children":5134},{"style":259},[5135],{"type":21,"value":3952},{"type":15,"tag":252,"props":5137,"children":5138},{"style":601},[5139],{"type":21,"value":804},{"type":15,"tag":252,"props":5141,"children":5142},{"style":259},[5143],{"type":21,"value":3961},{"type":15,"tag":252,"props":5145,"children":5146},{"style":447},[5147],{"type":21,"value":3966},{"type":15,"tag":252,"props":5149,"children":5150},{"class":254,"line":2190},[5151,5155,5159,5163,5167,5171,5175],{"type":15,"tag":252,"props":5152,"children":5153},{"style":601},[5154],{"type":21,"value":2083},{"type":15,"tag":252,"props":5156,"children":5157},{"style":447},[5158],{"type":21,"value":3978},{"type":15,"tag":252,"props":5160,"children":5161},{"style":601},[5162],{"type":21,"value":614},{"type":15,"tag":252,"props":5164,"children":5165},{"style":259},[5166],{"type":21,"value":4605},{"type":15,"tag":252,"props":5168,"children":5169},{"style":601},[5170],{"type":21,"value":804},{"type":15,"tag":252,"props":5172,"children":5173},{"style":259},[5174],{"type":21,"value":3995},{"type":15,"tag":252,"props":5176,"children":5177},{"style":447},[5178],{"type":21,"value":814},{"type":15,"tag":252,"props":5180,"children":5181},{"class":254,"line":2222},[5182,5186,5191,5195,5199],{"type":15,"tag":252,"props":5183,"children":5184},{"style":601},[5185],{"type":21,"value":2083},{"type":15,"tag":252,"props":5187,"children":5188},{"style":447},[5189],{"type":21,"value":5190}," compiler_options ",{"type":15,"tag":252,"props":5192,"children":5193},{"style":601},[5194],{"type":21,"value":614},{"type":15,"tag":252,"props":5196,"children":5197},{"style":259},[5198],{"type":21,"value":4750},{"type":15,"tag":252,"props":5200,"children":5201},{"style":447},[5202],{"type":21,"value":3769},{"type":15,"tag":252,"props":5204,"children":5205},{"class":254,"line":2270},[5206,5211,5215,5219,5223,5228,5232],{"type":15,"tag":252,"props":5207,"children":5208},{"style":447},[5209],{"type":21,"value":5210},"        dont_optimize",{"type":15,"tag":252,"props":5212,"children":5213},{"style":601},[5214],{"type":21,"value":3374},{"type":15,"tag":252,"props":5216,"children":5217},{"style":447},[5218],{"type":21,"value":4019},{"type":15,"tag":252,"props":5220,"children":5221},{"style":601},[5222],{"type":21,"value":432},{"type":15,"tag":252,"props":5224,"children":5225},{"style":447},[5226],{"type":21,"value":5227},"debug",{"type":15,"tag":252,"props":5229,"children":5230},{"style":601},[5231],{"type":21,"value":432},{"type":15,"tag":252,"props":5233,"children":5234},{"style":447},[5235],{"type":21,"value":5236},"dont_optimize,\n",{"type":15,"tag":252,"props":5238,"children":5239},{"class":254,"line":2302},[5240,5245,5249,5253,5257,5261,5265],{"type":15,"tag":252,"props":5241,"children":5242},{"style":447},[5243],{"type":21,"value":5244},"        output_tokens",{"type":15,"tag":252,"props":5246,"children":5247},{"style":601},[5248],{"type":21,"value":3374},{"type":15,"tag":252,"props":5250,"children":5251},{"style":447},[5252],{"type":21,"value":4019},{"type":15,"tag":252,"props":5254,"children":5255},{"style":601},[5256],{"type":21,"value":432},{"type":15,"tag":252,"props":5258,"children":5259},{"style":447},[5260],{"type":21,"value":5227},{"type":15,"tag":252,"props":5262,"children":5263},{"style":601},[5264],{"type":21,"value":432},{"type":15,"tag":252,"props":5266,"children":5267},{"style":447},[5268],{"type":21,"value":5269},"output_tokens,\n",{"type":15,"tag":252,"props":5271,"children":5272},{"class":254,"line":2310},[5273,5278,5282,5286,5290,5294,5298],{"type":15,"tag":252,"props":5274,"children":5275},{"style":447},[5276],{"type":21,"value":5277},"        output_ast",{"type":15,"tag":252,"props":5279,"children":5280},{"style":601},[5281],{"type":21,"value":3374},{"type":15,"tag":252,"props":5283,"children":5284},{"style":447},[5285],{"type":21,"value":4019},{"type":15,"tag":252,"props":5287,"children":5288},{"style":601},[5289],{"type":21,"value":432},{"type":15,"tag":252,"props":5291,"children":5292},{"style":447},[5293],{"type":21,"value":5227},{"type":15,"tag":252,"props":5295,"children":5296},{"style":601},[5297],{"type":21,"value":432},{"type":15,"tag":252,"props":5299,"children":5300},{"style":447},[5301],{"type":21,"value":5302},"output_ast,\n",{"type":15,"tag":252,"props":5304,"children":5305},{"class":254,"line":2370},[5306,5311,5315,5319,5323,5327,5331],{"type":15,"tag":252,"props":5307,"children":5308},{"style":447},[5309],{"type":21,"value":5310},"        output_ir",{"type":15,"tag":252,"props":5312,"children":5313},{"style":601},[5314],{"type":21,"value":3374},{"type":15,"tag":252,"props":5316,"children":5317},{"style":447},[5318],{"type":21,"value":4019},{"type":15,"tag":252,"props":5320,"children":5321},{"style":601},[5322],{"type":21,"value":432},{"type":15,"tag":252,"props":5324,"children":5325},{"style":447},[5326],{"type":21,"value":5227},{"type":15,"tag":252,"props":5328,"children":5329},{"style":601},[5330],{"type":21,"value":432},{"type":15,"tag":252,"props":5332,"children":5333},{"style":447},[5334],{"type":21,"value":5335},"output_ir,\n",{"type":15,"tag":252,"props":5337,"children":5338},{"class":254,"line":2418},[5339,5344,5348,5352,5356,5360,5364],{"type":15,"tag":252,"props":5340,"children":5341},{"style":447},[5342],{"type":21,"value":5343},"        output_llvm",{"type":15,"tag":252,"props":5345,"children":5346},{"style":601},[5347],{"type":21,"value":3374},{"type":15,"tag":252,"props":5349,"children":5350},{"style":447},[5351],{"type":21,"value":4019},{"type":15,"tag":252,"props":5353,"children":5354},{"style":601},[5355],{"type":21,"value":432},{"type":15,"tag":252,"props":5357,"children":5358},{"style":447},[5359],{"type":21,"value":5227},{"type":15,"tag":252,"props":5361,"children":5362},{"style":601},[5363],{"type":21,"value":432},{"type":15,"tag":252,"props":5365,"children":5366},{"style":447},[5367],{"type":21,"value":5368},"output_llvm,\n",{"type":15,"tag":252,"props":5370,"children":5371},{"class":254,"line":2426},[5372],{"type":15,"tag":252,"props":5373,"children":5374},{"style":447},[5375],{"type":21,"value":5376},"    };\n",{"type":15,"tag":252,"props":5378,"children":5379},{"class":254,"line":2474},[5380],{"type":15,"tag":252,"props":5381,"children":5382},{"emptyLinePlaceholder":2053},[5383],{"type":21,"value":2056},{"type":15,"tag":252,"props":5385,"children":5386},{"class":254,"line":2522},[5387,5391,5395,5399],{"type":15,"tag":252,"props":5388,"children":5389},{"style":601},[5390],{"type":21,"value":4014},{"type":15,"tag":252,"props":5392,"children":5393},{"style":447},[5394],{"type":21,"value":4019},{"type":15,"tag":252,"props":5396,"children":5397},{"style":601},[5398],{"type":21,"value":432},{"type":15,"tag":252,"props":5400,"children":5401},{"style":447},[5402],{"type":21,"value":4028},{"type":15,"tag":252,"props":5404,"children":5405},{"class":254,"line":2530},[5406,5410,5414,5418,5422,5426],{"type":15,"tag":252,"props":5407,"children":5408},{"style":259},[5409],{"type":21,"value":4036},{"type":15,"tag":252,"props":5411,"children":5412},{"style":601},[5413],{"type":21,"value":804},{"type":15,"tag":252,"props":5415,"children":5416},{"style":259},[5417],{"type":21,"value":3576},{"type":15,"tag":252,"props":5419,"children":5420},{"style":447},[5421],{"type":21,"value":4049},{"type":15,"tag":252,"props":5423,"children":5424},{"style":601},[5425],{"type":21,"value":4054},{"type":15,"tag":252,"props":5427,"children":5428},{"style":447},[5429],{"type":21,"value":3769},{"type":15,"tag":252,"props":5431,"children":5432},{"class":254,"line":2570},[5433,5438,5443,5447,5451,5455,5460,5464,5469],{"type":15,"tag":252,"props":5434,"children":5435},{"style":259},[5436],{"type":21,"value":5437},"            build",{"type":15,"tag":252,"props":5439,"children":5440},{"style":447},[5441],{"type":21,"value":5442},"(input_file, compiler_options)",{"type":15,"tag":252,"props":5444,"children":5445},{"style":601},[5446],{"type":21,"value":432},{"type":15,"tag":252,"props":5448,"children":5449},{"style":259},[5450],{"type":21,"value":908},{"type":15,"tag":252,"props":5452,"children":5453},{"style":447},[5454],{"type":21,"value":849},{"type":15,"tag":252,"props":5456,"children":5457},{"style":265},[5458],{"type":21,"value":5459},"\"Compiling input file\"",{"type":15,"tag":252,"props":5461,"children":5462},{"style":447},[5463],{"type":21,"value":1975},{"type":15,"tag":252,"props":5465,"children":5466},{"style":601},[5467],{"type":21,"value":5468},"?",{"type":15,"tag":252,"props":5470,"children":5471},{"style":447},[5472],{"type":21,"value":3325},{"type":15,"tag":252,"props":5474,"children":5475},{"class":254,"line":2591},[5476],{"type":15,"tag":252,"props":5477,"children":5478},{"style":447},[5479],{"type":21,"value":4087},{"type":15,"tag":252,"props":5481,"children":5482},{"class":254,"line":2599},[5483],{"type":15,"tag":252,"props":5484,"children":5485},{"style":447},[5486],{"type":21,"value":4095},{"type":15,"tag":252,"props":5488,"children":5489},{"class":254,"line":2647},[5490],{"type":15,"tag":252,"props":5491,"children":5492},{"emptyLinePlaceholder":2053},[5493],{"type":21,"value":2056},{"type":15,"tag":252,"props":5495,"children":5496},{"class":254,"line":2679},[5497,5501],{"type":15,"tag":252,"props":5498,"children":5499},{"style":259},[5500],{"type":21,"value":4110},{"type":15,"tag":252,"props":5502,"children":5503},{"style":447},[5504],{"type":21,"value":4115},{"type":15,"tag":252,"props":5506,"children":5507},{"class":254,"line":2727},[5508],{"type":15,"tag":252,"props":5509,"children":5510},{"style":447},[5511],{"type":21,"value":2854},{"type":15,"tag":210,"props":5513,"children":5514},{},[5515],{"type":15,"tag":23,"props":5516,"children":5517},{},[5518,5520,5526,5528,5534],{"type":21,"value":5519},"Do note that ",{"type":15,"tag":81,"props":5521,"children":5523},{"className":5522},[],[5524],{"type":21,"value":5525},"viv_script",{"type":21,"value":5527}," should be replaced with your project name, in the other files we will be using ",{"type":15,"tag":81,"props":5529,"children":5531},{"className":5530},[],[5532],{"type":21,"value":5533},"crate",{"type":21,"value":5535}," meaning the name doesnt matter.",{"type":15,"tag":192,"props":5537,"children":5539},{"id":5538},"parsing",[5540],{"type":21,"value":5541},"Parsing",{"type":15,"tag":23,"props":5543,"children":5544},{},[5545],{"type":21,"value":5546},"Now that we got the CLI out of the way let's start doing some parsing!",{"type":15,"tag":23,"props":5548,"children":5549},{},[5550],{"type":21,"value":5551},"Parsing is the work of taking text and turning it into a structure that makes sense and is easy to work with!\nWe are gonna do this in two steps, first, we tokenize the text, then we parse it.\nTokenizing basically takes the text and groups it into chunks that are easier to work with.",{"type":15,"tag":23,"props":5553,"children":5554},{},[5555,5557,5562],{"type":21,"value":5556},"Let's create a ",{"type":15,"tag":81,"props":5558,"children":5560},{"className":5559},[],[5561],{"type":21,"value":5538},{"type":21,"value":1220},{"type":15,"tag":95,"props":5564,"children":5566},{"code":5565},"src/\n  parsing/\n    mod.rs  \u003C-- Create this file!\n  lib.rs\n  main.rs\n",[5567],{"type":15,"tag":81,"props":5568,"children":5569},{"__ignoreMap":8},[5570],{"type":21,"value":5565},{"type":15,"tag":23,"props":5572,"children":5573},{},[5574,5576,5581],{"type":21,"value":5575},"And ofc we need to add it to ",{"type":15,"tag":81,"props":5577,"children":5579},{"className":5578},[],[5580],{"type":21,"value":3274},{"type":21,"value":5582}," (in the future I will just assume you do this when we create a new file)",{"type":15,"tag":95,"props":5584,"children":5586},{"code":5585,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\n\nmod parsing;\n",[5587],{"type":15,"tag":81,"props":5588,"children":5589},{"__ignoreMap":8},[5590,5597,5604],{"type":15,"tag":252,"props":5591,"children":5592},{"class":254,"line":255},[5593],{"type":15,"tag":252,"props":5594,"children":5595},{"style":3287},[5596],{"type":21,"value":3290},{"type":15,"tag":252,"props":5598,"children":5599},{"class":254,"line":334},[5600],{"type":15,"tag":252,"props":5601,"children":5602},{"emptyLinePlaceholder":2053},[5603],{"type":21,"value":2056},{"type":15,"tag":252,"props":5605,"children":5606},{"class":254,"line":390},[5607,5612,5617],{"type":15,"tag":252,"props":5608,"children":5609},{"style":601},[5610],{"type":21,"value":5611},"mod",{"type":15,"tag":252,"props":5613,"children":5614},{"style":259},[5615],{"type":21,"value":5616}," parsing",{"type":15,"tag":252,"props":5618,"children":5619},{"style":447},[5620],{"type":21,"value":3325},{"type":15,"tag":59,"props":5622,"children":5624},{"id":5623},"ast",[5625],{"type":21,"value":5626},"Ast",{"type":15,"tag":23,"props":5628,"children":5629},{},[5630,5632,5638],{"type":21,"value":5631},"Now let's design our AST first, we will create an ",{"type":15,"tag":81,"props":5633,"children":5635},{"className":5634},[],[5636],{"type":21,"value":5637},"ast.rs",{"type":21,"value":5639}," module (in `parsing/), and we will also make the module public.",{"type":15,"tag":95,"props":5641,"children":5643},{"code":5642,"language":772,"meta":8,"className":773,"style":8},"// parsing/mod.rs\n\npub mod ast;\n",[5644],{"type":15,"tag":81,"props":5645,"children":5646},{"__ignoreMap":8},[5647,5655,5662],{"type":15,"tag":252,"props":5648,"children":5649},{"class":254,"line":255},[5650],{"type":15,"tag":252,"props":5651,"children":5652},{"style":3287},[5653],{"type":21,"value":5654},"// parsing/mod.rs\n",{"type":15,"tag":252,"props":5656,"children":5657},{"class":254,"line":334},[5658],{"type":15,"tag":252,"props":5659,"children":5660},{"emptyLinePlaceholder":2053},[5661],{"type":21,"value":2056},{"type":15,"tag":252,"props":5663,"children":5664},{"class":254,"line":390},[5665,5669,5674,5679],{"type":15,"tag":252,"props":5666,"children":5667},{"style":601},[5668],{"type":21,"value":4740},{"type":15,"tag":252,"props":5670,"children":5671},{"style":601},[5672],{"type":21,"value":5673}," mod",{"type":15,"tag":252,"props":5675,"children":5676},{"style":259},[5677],{"type":21,"value":5678}," ast",{"type":15,"tag":252,"props":5680,"children":5681},{"style":447},[5682],{"type":21,"value":3325},{"type":15,"tag":23,"props":5684,"children":5685},{},[5686,5688,5694,5696,5702,5704,5710,5711,5717,5719,5725],{"type":21,"value":5687},"So for our AST, we could have a ",{"type":15,"tag":81,"props":5689,"children":5691},{"className":5690},[],[5692],{"type":21,"value":5693},"Print",{"type":21,"value":5695}," struct and a ",{"type":15,"tag":81,"props":5697,"children":5699},{"className":5698},[],[5700],{"type":21,"value":5701},"Number",{"type":21,"value":5703}," struct, BUT we need to think about the future, so instead we will have ",{"type":15,"tag":81,"props":5705,"children":5707},{"className":5706},[],[5708],{"type":21,"value":5709},"Statement",{"type":21,"value":1076},{"type":15,"tag":81,"props":5712,"children":5714},{"className":5713},[],[5715],{"type":21,"value":5716},"Expression",{"type":21,"value":5718},", and ",{"type":15,"tag":81,"props":5720,"children":5722},{"className":5721},[],[5723],{"type":21,"value":5724},"Literal",{"type":21,"value":5726},"!",{"type":15,"tag":95,"props":5728,"children":5730},{"code":5729,"language":772,"meta":8,"className":773,"style":8},"/// parsing/ast.rs\n\nuse crate::IntType;\n\n#[derive(Debug)]\npub struct Module(pub Vec\u003CStatement>);\n\n#[derive(Debug)]\npub enum Statement {\n    Print(Expression),\n}\n\n#[derive(Debug)]\npub enum Expression {\n    Literal(Literal),\n}\n\n#[derive(Debug)]\npub enum Literal {\n    Integer(IntType),\n}\n",[5731],{"type":15,"tag":81,"props":5732,"children":5733},{"__ignoreMap":8},[5734,5742,5749,5770,5777,5793,5836,5843,5858,5879,5900,5907,5914,5929,5949,5969,5976,5983,5998,6018,6038],{"type":15,"tag":252,"props":5735,"children":5736},{"class":254,"line":255},[5737],{"type":15,"tag":252,"props":5738,"children":5739},{"style":3287},[5740],{"type":21,"value":5741},"/// parsing/ast.rs\n",{"type":15,"tag":252,"props":5743,"children":5744},{"class":254,"line":334},[5745],{"type":15,"tag":252,"props":5746,"children":5747},{"emptyLinePlaceholder":2053},[5748],{"type":21,"value":2056},{"type":15,"tag":252,"props":5750,"children":5751},{"class":254,"line":390},[5752,5756,5761,5766],{"type":15,"tag":252,"props":5753,"children":5754},{"style":601},[5755],{"type":21,"value":2008},{"type":15,"tag":252,"props":5757,"children":5758},{"style":601},[5759],{"type":21,"value":5760}," crate::",{"type":15,"tag":252,"props":5762,"children":5763},{"style":259},[5764],{"type":21,"value":5765},"IntType",{"type":15,"tag":252,"props":5767,"children":5768},{"style":447},[5769],{"type":21,"value":3325},{"type":15,"tag":252,"props":5771,"children":5772},{"class":254,"line":2077},[5773],{"type":15,"tag":252,"props":5774,"children":5775},{"emptyLinePlaceholder":2053},[5776],{"type":21,"value":2056},{"type":15,"tag":252,"props":5778,"children":5779},{"class":254,"line":2110},[5780,5784,5789],{"type":15,"tag":252,"props":5781,"children":5782},{"style":447},[5783],{"type":21,"value":3742},{"type":15,"tag":252,"props":5785,"children":5786},{"style":259},[5787],{"type":21,"value":5788},"Debug",{"type":15,"tag":252,"props":5790,"children":5791},{"style":447},[5792],{"type":21,"value":3751},{"type":15,"tag":252,"props":5794,"children":5795},{"class":254,"line":2150},[5796,5800,5804,5809,5813,5817,5822,5827,5831],{"type":15,"tag":252,"props":5797,"children":5798},{"style":601},[5799],{"type":21,"value":4740},{"type":15,"tag":252,"props":5801,"children":5802},{"style":601},[5803],{"type":21,"value":4745},{"type":15,"tag":252,"props":5805,"children":5806},{"style":259},[5807],{"type":21,"value":5808}," Module",{"type":15,"tag":252,"props":5810,"children":5811},{"style":447},[5812],{"type":21,"value":849},{"type":15,"tag":252,"props":5814,"children":5815},{"style":601},[5816],{"type":21,"value":4740},{"type":15,"tag":252,"props":5818,"children":5819},{"style":259},[5820],{"type":21,"value":5821}," Vec",{"type":15,"tag":252,"props":5823,"children":5824},{"style":447},[5825],{"type":21,"value":5826},"\u003C",{"type":15,"tag":252,"props":5828,"children":5829},{"style":259},[5830],{"type":21,"value":5709},{"type":15,"tag":252,"props":5832,"children":5833},{"style":447},[5834],{"type":21,"value":5835},">);\n",{"type":15,"tag":252,"props":5837,"children":5838},{"class":254,"line":2182},[5839],{"type":15,"tag":252,"props":5840,"children":5841},{"emptyLinePlaceholder":2053},[5842],{"type":21,"value":2056},{"type":15,"tag":252,"props":5844,"children":5845},{"class":254,"line":2190},[5846,5850,5854],{"type":15,"tag":252,"props":5847,"children":5848},{"style":447},[5849],{"type":21,"value":3742},{"type":15,"tag":252,"props":5851,"children":5852},{"style":259},[5853],{"type":21,"value":5788},{"type":15,"tag":252,"props":5855,"children":5856},{"style":447},[5857],{"type":21,"value":3751},{"type":15,"tag":252,"props":5859,"children":5860},{"class":254,"line":2222},[5861,5865,5870,5875],{"type":15,"tag":252,"props":5862,"children":5863},{"style":601},[5864],{"type":21,"value":4740},{"type":15,"tag":252,"props":5866,"children":5867},{"style":601},[5868],{"type":21,"value":5869}," enum",{"type":15,"tag":252,"props":5871,"children":5872},{"style":259},[5873],{"type":21,"value":5874}," Statement",{"type":15,"tag":252,"props":5876,"children":5877},{"style":447},[5878],{"type":21,"value":3769},{"type":15,"tag":252,"props":5880,"children":5881},{"class":254,"line":2270},[5882,5887,5891,5895],{"type":15,"tag":252,"props":5883,"children":5884},{"style":259},[5885],{"type":21,"value":5886},"    Print",{"type":15,"tag":252,"props":5888,"children":5889},{"style":447},[5890],{"type":21,"value":849},{"type":15,"tag":252,"props":5892,"children":5893},{"style":259},[5894],{"type":21,"value":5716},{"type":15,"tag":252,"props":5896,"children":5897},{"style":447},[5898],{"type":21,"value":5899},"),\n",{"type":15,"tag":252,"props":5901,"children":5902},{"class":254,"line":2302},[5903],{"type":15,"tag":252,"props":5904,"children":5905},{"style":447},[5906],{"type":21,"value":2854},{"type":15,"tag":252,"props":5908,"children":5909},{"class":254,"line":2310},[5910],{"type":15,"tag":252,"props":5911,"children":5912},{"emptyLinePlaceholder":2053},[5913],{"type":21,"value":2056},{"type":15,"tag":252,"props":5915,"children":5916},{"class":254,"line":2370},[5917,5921,5925],{"type":15,"tag":252,"props":5918,"children":5919},{"style":447},[5920],{"type":21,"value":3742},{"type":15,"tag":252,"props":5922,"children":5923},{"style":259},[5924],{"type":21,"value":5788},{"type":15,"tag":252,"props":5926,"children":5927},{"style":447},[5928],{"type":21,"value":3751},{"type":15,"tag":252,"props":5930,"children":5931},{"class":254,"line":2418},[5932,5936,5940,5945],{"type":15,"tag":252,"props":5933,"children":5934},{"style":601},[5935],{"type":21,"value":4740},{"type":15,"tag":252,"props":5937,"children":5938},{"style":601},[5939],{"type":21,"value":5869},{"type":15,"tag":252,"props":5941,"children":5942},{"style":259},[5943],{"type":21,"value":5944}," Expression",{"type":15,"tag":252,"props":5946,"children":5947},{"style":447},[5948],{"type":21,"value":3769},{"type":15,"tag":252,"props":5950,"children":5951},{"class":254,"line":2426},[5952,5957,5961,5965],{"type":15,"tag":252,"props":5953,"children":5954},{"style":259},[5955],{"type":21,"value":5956},"    Literal",{"type":15,"tag":252,"props":5958,"children":5959},{"style":447},[5960],{"type":21,"value":849},{"type":15,"tag":252,"props":5962,"children":5963},{"style":259},[5964],{"type":21,"value":5724},{"type":15,"tag":252,"props":5966,"children":5967},{"style":447},[5968],{"type":21,"value":5899},{"type":15,"tag":252,"props":5970,"children":5971},{"class":254,"line":2474},[5972],{"type":15,"tag":252,"props":5973,"children":5974},{"style":447},[5975],{"type":21,"value":2854},{"type":15,"tag":252,"props":5977,"children":5978},{"class":254,"line":2522},[5979],{"type":15,"tag":252,"props":5980,"children":5981},{"emptyLinePlaceholder":2053},[5982],{"type":21,"value":2056},{"type":15,"tag":252,"props":5984,"children":5985},{"class":254,"line":2530},[5986,5990,5994],{"type":15,"tag":252,"props":5987,"children":5988},{"style":447},[5989],{"type":21,"value":3742},{"type":15,"tag":252,"props":5991,"children":5992},{"style":259},[5993],{"type":21,"value":5788},{"type":15,"tag":252,"props":5995,"children":5996},{"style":447},[5997],{"type":21,"value":3751},{"type":15,"tag":252,"props":5999,"children":6000},{"class":254,"line":2570},[6001,6005,6009,6014],{"type":15,"tag":252,"props":6002,"children":6003},{"style":601},[6004],{"type":21,"value":4740},{"type":15,"tag":252,"props":6006,"children":6007},{"style":601},[6008],{"type":21,"value":5869},{"type":15,"tag":252,"props":6010,"children":6011},{"style":259},[6012],{"type":21,"value":6013}," Literal",{"type":15,"tag":252,"props":6015,"children":6016},{"style":447},[6017],{"type":21,"value":3769},{"type":15,"tag":252,"props":6019,"children":6020},{"class":254,"line":2591},[6021,6026,6030,6034],{"type":15,"tag":252,"props":6022,"children":6023},{"style":259},[6024],{"type":21,"value":6025},"    Integer",{"type":15,"tag":252,"props":6027,"children":6028},{"style":447},[6029],{"type":21,"value":849},{"type":15,"tag":252,"props":6031,"children":6032},{"style":259},[6033],{"type":21,"value":5765},{"type":15,"tag":252,"props":6035,"children":6036},{"style":447},[6037],{"type":21,"value":5899},{"type":15,"tag":252,"props":6039,"children":6040},{"class":254,"line":2599},[6041],{"type":15,"tag":252,"props":6042,"children":6043},{"style":447},[6044],{"type":21,"value":2854},{"type":15,"tag":23,"props":6046,"children":6047},{},[6048,6050,6056,6058,6063],{"type":21,"value":6049},"So a ",{"type":15,"tag":81,"props":6051,"children":6053},{"className":6052},[],[6054],{"type":21,"value":6055},"Module",{"type":21,"value":6057}," is a list of Statements, and here we use the type alias we set up at the start, so if you decide that you want bigger or smaller ints you can do that easily in ",{"type":15,"tag":81,"props":6059,"children":6061},{"className":6060},[],[6062],{"type":21,"value":3274},{"type":21,"value":5726},{"type":15,"tag":95,"props":6065,"children":6067},{"code":6066},"print 1;\nprint 2;\n",[6068],{"type":15,"tag":81,"props":6069,"children":6070},{"__ignoreMap":8},[6071],{"type":21,"value":6066},{"type":15,"tag":23,"props":6073,"children":6074},{},[6075],{"type":21,"value":6076},"Would be parsed into",{"type":15,"tag":95,"props":6078,"children":6080},{"code":6079,"language":772,"meta":8,"className":773,"style":8},"Module(vec![\n  Statement::Print(Expression::Literal(Literal::Integer(1))),\n  Statement::Print(Expression::Literal(Literal::Integer(2)))\n])\n",[6081],{"type":15,"tag":81,"props":6082,"children":6083},{"__ignoreMap":8},[6084,6105,6168,6229],{"type":15,"tag":252,"props":6085,"children":6086},{"class":254,"line":255},[6087,6091,6095,6100],{"type":15,"tag":252,"props":6088,"children":6089},{"style":259},[6090],{"type":21,"value":6055},{"type":15,"tag":252,"props":6092,"children":6093},{"style":447},[6094],{"type":21,"value":849},{"type":15,"tag":252,"props":6096,"children":6097},{"style":259},[6098],{"type":21,"value":6099},"vec!",{"type":15,"tag":252,"props":6101,"children":6102},{"style":447},[6103],{"type":21,"value":6104},"[\n",{"type":15,"tag":252,"props":6106,"children":6107},{"class":254,"line":334},[6108,6113,6117,6121,6125,6129,6133,6137,6141,6145,6149,6154,6158,6163],{"type":15,"tag":252,"props":6109,"children":6110},{"style":259},[6111],{"type":21,"value":6112},"  Statement",{"type":15,"tag":252,"props":6114,"children":6115},{"style":601},[6116],{"type":21,"value":804},{"type":15,"tag":252,"props":6118,"children":6119},{"style":259},[6120],{"type":21,"value":5693},{"type":15,"tag":252,"props":6122,"children":6123},{"style":447},[6124],{"type":21,"value":849},{"type":15,"tag":252,"props":6126,"children":6127},{"style":259},[6128],{"type":21,"value":5716},{"type":15,"tag":252,"props":6130,"children":6131},{"style":601},[6132],{"type":21,"value":804},{"type":15,"tag":252,"props":6134,"children":6135},{"style":259},[6136],{"type":21,"value":5724},{"type":15,"tag":252,"props":6138,"children":6139},{"style":447},[6140],{"type":21,"value":849},{"type":15,"tag":252,"props":6142,"children":6143},{"style":259},[6144],{"type":21,"value":5724},{"type":15,"tag":252,"props":6146,"children":6147},{"style":601},[6148],{"type":21,"value":804},{"type":15,"tag":252,"props":6150,"children":6151},{"style":259},[6152],{"type":21,"value":6153},"Integer",{"type":15,"tag":252,"props":6155,"children":6156},{"style":447},[6157],{"type":21,"value":849},{"type":15,"tag":252,"props":6159,"children":6160},{"style":276},[6161],{"type":21,"value":6162},"1",{"type":15,"tag":252,"props":6164,"children":6165},{"style":447},[6166],{"type":21,"value":6167},"))),\n",{"type":15,"tag":252,"props":6169,"children":6170},{"class":254,"line":390},[6171,6175,6179,6183,6187,6191,6195,6199,6203,6207,6211,6215,6219,6224],{"type":15,"tag":252,"props":6172,"children":6173},{"style":259},[6174],{"type":21,"value":6112},{"type":15,"tag":252,"props":6176,"children":6177},{"style":601},[6178],{"type":21,"value":804},{"type":15,"tag":252,"props":6180,"children":6181},{"style":259},[6182],{"type":21,"value":5693},{"type":15,"tag":252,"props":6184,"children":6185},{"style":447},[6186],{"type":21,"value":849},{"type":15,"tag":252,"props":6188,"children":6189},{"style":259},[6190],{"type":21,"value":5716},{"type":15,"tag":252,"props":6192,"children":6193},{"style":601},[6194],{"type":21,"value":804},{"type":15,"tag":252,"props":6196,"children":6197},{"style":259},[6198],{"type":21,"value":5724},{"type":15,"tag":252,"props":6200,"children":6201},{"style":447},[6202],{"type":21,"value":849},{"type":15,"tag":252,"props":6204,"children":6205},{"style":259},[6206],{"type":21,"value":5724},{"type":15,"tag":252,"props":6208,"children":6209},{"style":601},[6210],{"type":21,"value":804},{"type":15,"tag":252,"props":6212,"children":6213},{"style":259},[6214],{"type":21,"value":6153},{"type":15,"tag":252,"props":6216,"children":6217},{"style":447},[6218],{"type":21,"value":849},{"type":15,"tag":252,"props":6220,"children":6221},{"style":276},[6222],{"type":21,"value":6223},"2",{"type":15,"tag":252,"props":6225,"children":6226},{"style":447},[6227],{"type":21,"value":6228},")))\n",{"type":15,"tag":252,"props":6230,"children":6231},{"class":254,"line":2077},[6232],{"type":15,"tag":252,"props":6233,"children":6234},{"style":447},[6235],{"type":21,"value":6236},"])\n",{"type":15,"tag":59,"props":6238,"children":6240},{"id":6239},"tokens",[6241],{"type":21,"value":6242},"Tokens",{"type":15,"tag":23,"props":6244,"children":6245},{},[6246],{"type":21,"value":6247},"Okay let's leave the Ast for and focus on tokens, these should be really small groups of meaningful data.\nConsider the following code:",{"type":15,"tag":95,"props":6249,"children":6251},{"code":6250},"print 1 + 3;\n",[6252],{"type":15,"tag":81,"props":6253,"children":6254},{"__ignoreMap":8},[6255],{"type":21,"value":6250},{"type":15,"tag":23,"props":6257,"children":6258},{},[6259],{"type":21,"value":6260},"This might be tokenized into:",{"type":15,"tag":95,"props":6262,"children":6264},{"code":6263,"language":772,"meta":8,"className":773,"style":8},"PRINT, NUMBER(1), PLUS, NUMBER(3), SEMICOLON, EOF\n",[6265],{"type":15,"tag":81,"props":6266,"children":6267},{"__ignoreMap":8},[6268],{"type":15,"tag":252,"props":6269,"children":6270},{"class":254,"line":255},[6271,6276,6280,6285,6289,6293,6298,6303,6307,6311,6315,6320,6324,6329,6333],{"type":15,"tag":252,"props":6272,"children":6273},{"style":276},[6274],{"type":21,"value":6275},"PRINT",{"type":15,"tag":252,"props":6277,"children":6278},{"style":447},[6279],{"type":21,"value":1076},{"type":15,"tag":252,"props":6281,"children":6282},{"style":276},[6283],{"type":21,"value":6284},"NUMBER",{"type":15,"tag":252,"props":6286,"children":6287},{"style":447},[6288],{"type":21,"value":849},{"type":15,"tag":252,"props":6290,"children":6291},{"style":276},[6292],{"type":21,"value":6162},{"type":15,"tag":252,"props":6294,"children":6295},{"style":447},[6296],{"type":21,"value":6297},"), ",{"type":15,"tag":252,"props":6299,"children":6300},{"style":276},[6301],{"type":21,"value":6302},"PLUS",{"type":15,"tag":252,"props":6304,"children":6305},{"style":447},[6306],{"type":21,"value":1076},{"type":15,"tag":252,"props":6308,"children":6309},{"style":276},[6310],{"type":21,"value":6284},{"type":15,"tag":252,"props":6312,"children":6313},{"style":447},[6314],{"type":21,"value":849},{"type":15,"tag":252,"props":6316,"children":6317},{"style":276},[6318],{"type":21,"value":6319},"3",{"type":15,"tag":252,"props":6321,"children":6322},{"style":447},[6323],{"type":21,"value":6297},{"type":15,"tag":252,"props":6325,"children":6326},{"style":276},[6327],{"type":21,"value":6328},"SEMICOLON",{"type":15,"tag":252,"props":6330,"children":6331},{"style":447},[6332],{"type":21,"value":1076},{"type":15,"tag":252,"props":6334,"children":6335},{"style":276},[6336],{"type":21,"value":6337},"EOF\n",{"type":15,"tag":23,"props":6339,"children":6340},{},[6341],{"type":21,"value":6342},"the tokens are basically how you would read out the code if you were telling somebody how to write it!",{"type":15,"tag":59,"props":6344,"children":6346},{"id":6345},"tokenizer",[6347],{"type":21,"value":6348},"Tokenizer",{"type":15,"tag":23,"props":6350,"children":6351},{},[6352,6354,6360,6362,6368,6370,6375],{"type":21,"value":6353},"Let's make a ",{"type":15,"tag":81,"props":6355,"children":6357},{"className":6356},[],[6358],{"type":21,"value":6359},"parsing/tokens.rs",{"type":21,"value":6361}," file, (this one doesn't need to be public from ",{"type":15,"tag":81,"props":6363,"children":6365},{"className":6364},[],[6366],{"type":21,"value":6367},"parsing/mod.rs",{"type":21,"value":6369},").\nWe will declare the tokens and tokenizer in the same file as they aren't that complex, while the Ast and Parser we split up because of their complexities (and also the parser doesn't need to be known outside ",{"type":15,"tag":81,"props":6371,"children":6373},{"className":6372},[],[6374],{"type":21,"value":5538},{"type":21,"value":6376}," while the Ast does)",{"type":15,"tag":23,"props":6378,"children":6379},{},[6380],{"type":21,"value":6381},"We will declare the tokens we need so far!",{"type":15,"tag":95,"props":6383,"children":6385},{"code":6384,"language":772,"meta":8,"className":773,"style":8},"use crate::IntType;\n\n#[derive(Debug, PartialEq, Eq)]\npub enum TokenType {\n    Integer(IntType),\n    Identifier(String),\n    Print,\n    SemiColon,\n    Eof,\n}\n\npub struct Token {\n    pub _type: TokenType,\n    pub line: usize,\n    pub char: usize,\n}\n",[6386],{"type":15,"tag":81,"props":6387,"children":6388},{"__ignoreMap":8},[6389,6408,6415,6448,6468,6487,6508,6519,6531,6543,6550,6557,6577,6601,6625,6649],{"type":15,"tag":252,"props":6390,"children":6391},{"class":254,"line":255},[6392,6396,6400,6404],{"type":15,"tag":252,"props":6393,"children":6394},{"style":601},[6395],{"type":21,"value":2008},{"type":15,"tag":252,"props":6397,"children":6398},{"style":601},[6399],{"type":21,"value":5760},{"type":15,"tag":252,"props":6401,"children":6402},{"style":259},[6403],{"type":21,"value":5765},{"type":15,"tag":252,"props":6405,"children":6406},{"style":447},[6407],{"type":21,"value":3325},{"type":15,"tag":252,"props":6409,"children":6410},{"class":254,"line":334},[6411],{"type":15,"tag":252,"props":6412,"children":6413},{"emptyLinePlaceholder":2053},[6414],{"type":21,"value":2056},{"type":15,"tag":252,"props":6416,"children":6417},{"class":254,"line":390},[6418,6422,6426,6430,6435,6439,6444],{"type":15,"tag":252,"props":6419,"children":6420},{"style":447},[6421],{"type":21,"value":3742},{"type":15,"tag":252,"props":6423,"children":6424},{"style":259},[6425],{"type":21,"value":5788},{"type":15,"tag":252,"props":6427,"children":6428},{"style":447},[6429],{"type":21,"value":1076},{"type":15,"tag":252,"props":6431,"children":6432},{"style":259},[6433],{"type":21,"value":6434},"PartialEq",{"type":15,"tag":252,"props":6436,"children":6437},{"style":447},[6438],{"type":21,"value":1076},{"type":15,"tag":252,"props":6440,"children":6441},{"style":259},[6442],{"type":21,"value":6443},"Eq",{"type":15,"tag":252,"props":6445,"children":6446},{"style":447},[6447],{"type":21,"value":3751},{"type":15,"tag":252,"props":6449,"children":6450},{"class":254,"line":2077},[6451,6455,6459,6464],{"type":15,"tag":252,"props":6452,"children":6453},{"style":601},[6454],{"type":21,"value":4740},{"type":15,"tag":252,"props":6456,"children":6457},{"style":601},[6458],{"type":21,"value":5869},{"type":15,"tag":252,"props":6460,"children":6461},{"style":259},[6462],{"type":21,"value":6463}," TokenType",{"type":15,"tag":252,"props":6465,"children":6466},{"style":447},[6467],{"type":21,"value":3769},{"type":15,"tag":252,"props":6469,"children":6470},{"class":254,"line":2110},[6471,6475,6479,6483],{"type":15,"tag":252,"props":6472,"children":6473},{"style":259},[6474],{"type":21,"value":6025},{"type":15,"tag":252,"props":6476,"children":6477},{"style":447},[6478],{"type":21,"value":849},{"type":15,"tag":252,"props":6480,"children":6481},{"style":259},[6482],{"type":21,"value":5765},{"type":15,"tag":252,"props":6484,"children":6485},{"style":447},[6486],{"type":21,"value":5899},{"type":15,"tag":252,"props":6488,"children":6489},{"class":254,"line":2150},[6490,6495,6499,6504],{"type":15,"tag":252,"props":6491,"children":6492},{"style":259},[6493],{"type":21,"value":6494},"    Identifier",{"type":15,"tag":252,"props":6496,"children":6497},{"style":447},[6498],{"type":21,"value":849},{"type":15,"tag":252,"props":6500,"children":6501},{"style":259},[6502],{"type":21,"value":6503},"String",{"type":15,"tag":252,"props":6505,"children":6506},{"style":447},[6507],{"type":21,"value":5899},{"type":15,"tag":252,"props":6509,"children":6510},{"class":254,"line":2182},[6511,6515],{"type":15,"tag":252,"props":6512,"children":6513},{"style":259},[6514],{"type":21,"value":5886},{"type":15,"tag":252,"props":6516,"children":6517},{"style":447},[6518],{"type":21,"value":3879},{"type":15,"tag":252,"props":6520,"children":6521},{"class":254,"line":2190},[6522,6527],{"type":15,"tag":252,"props":6523,"children":6524},{"style":259},[6525],{"type":21,"value":6526},"    SemiColon",{"type":15,"tag":252,"props":6528,"children":6529},{"style":447},[6530],{"type":21,"value":3879},{"type":15,"tag":252,"props":6532,"children":6533},{"class":254,"line":2222},[6534,6539],{"type":15,"tag":252,"props":6535,"children":6536},{"style":259},[6537],{"type":21,"value":6538},"    Eof",{"type":15,"tag":252,"props":6540,"children":6541},{"style":447},[6542],{"type":21,"value":3879},{"type":15,"tag":252,"props":6544,"children":6545},{"class":254,"line":2270},[6546],{"type":15,"tag":252,"props":6547,"children":6548},{"style":447},[6549],{"type":21,"value":2854},{"type":15,"tag":252,"props":6551,"children":6552},{"class":254,"line":2302},[6553],{"type":15,"tag":252,"props":6554,"children":6555},{"emptyLinePlaceholder":2053},[6556],{"type":21,"value":2056},{"type":15,"tag":252,"props":6558,"children":6559},{"class":254,"line":2310},[6560,6564,6568,6573],{"type":15,"tag":252,"props":6561,"children":6562},{"style":601},[6563],{"type":21,"value":4740},{"type":15,"tag":252,"props":6565,"children":6566},{"style":601},[6567],{"type":21,"value":4745},{"type":15,"tag":252,"props":6569,"children":6570},{"style":259},[6571],{"type":21,"value":6572}," Token",{"type":15,"tag":252,"props":6574,"children":6575},{"style":447},[6576],{"type":21,"value":3769},{"type":15,"tag":252,"props":6578,"children":6579},{"class":254,"line":2370},[6580,6584,6589,6593,6597],{"type":15,"tag":252,"props":6581,"children":6582},{"style":601},[6583],{"type":21,"value":4762},{"type":15,"tag":252,"props":6585,"children":6586},{"style":447},[6587],{"type":21,"value":6588}," _type",{"type":15,"tag":252,"props":6590,"children":6591},{"style":601},[6592],{"type":21,"value":3374},{"type":15,"tag":252,"props":6594,"children":6595},{"style":259},[6596],{"type":21,"value":6463},{"type":15,"tag":252,"props":6598,"children":6599},{"style":447},[6600],{"type":21,"value":3879},{"type":15,"tag":252,"props":6602,"children":6603},{"class":254,"line":2418},[6604,6608,6613,6617,6621],{"type":15,"tag":252,"props":6605,"children":6606},{"style":601},[6607],{"type":21,"value":4762},{"type":15,"tag":252,"props":6609,"children":6610},{"style":447},[6611],{"type":21,"value":6612}," line",{"type":15,"tag":252,"props":6614,"children":6615},{"style":601},[6616],{"type":21,"value":3374},{"type":15,"tag":252,"props":6618,"children":6619},{"style":259},[6620],{"type":21,"value":3379},{"type":15,"tag":252,"props":6622,"children":6623},{"style":447},[6624],{"type":21,"value":3879},{"type":15,"tag":252,"props":6626,"children":6627},{"class":254,"line":2426},[6628,6632,6637,6641,6645],{"type":15,"tag":252,"props":6629,"children":6630},{"style":601},[6631],{"type":21,"value":4762},{"type":15,"tag":252,"props":6633,"children":6634},{"style":259},[6635],{"type":21,"value":6636}," char",{"type":15,"tag":252,"props":6638,"children":6639},{"style":601},[6640],{"type":21,"value":3374},{"type":15,"tag":252,"props":6642,"children":6643},{"style":259},[6644],{"type":21,"value":3379},{"type":15,"tag":252,"props":6646,"children":6647},{"style":447},[6648],{"type":21,"value":3879},{"type":15,"tag":252,"props":6650,"children":6651},{"class":254,"line":2474},[6652],{"type":15,"tag":252,"props":6653,"children":6654},{"style":447},[6655],{"type":21,"value":2854},{"type":15,"tag":23,"props":6657,"children":6658},{},[6659,6661,6667],{"type":21,"value":6660},"You may be asking, what is this ",{"type":15,"tag":81,"props":6662,"children":6664},{"className":6663},[],[6665],{"type":21,"value":6666},"Identifier",{"type":21,"value":6668}," about? Well, we aren't going to use it (yet!), but it makes the tokenizing logic easier to have it now, in the future this will be used for variables!",{"type":15,"tag":23,"props":6670,"children":6671},{},[6672],{"type":21,"value":6673},"We will also declare an error for the tokenizer so that we can get error messages for unknown chars!",{"type":15,"tag":95,"props":6675,"children":6677},{"code":6676,"language":772,"meta":8,"className":773,"style":8},"use thiserror::Error;\n\n#[derive(Error, Debug)]\n#[error(\"Tokenizer error on line {line}, char {char}: {message}\")]\npub struct TokenizerError {\n    pub line: usize,\n    pub char: usize,\n    pub message: String,\n}\n",[6678],{"type":15,"tag":81,"props":6679,"children":6680},{"__ignoreMap":8},[6681,6706,6713,6736,6753,6773,6796,6819,6843],{"type":15,"tag":252,"props":6682,"children":6683},{"class":254,"line":255},[6684,6688,6693,6697,6702],{"type":15,"tag":252,"props":6685,"children":6686},{"style":601},[6687],{"type":21,"value":2008},{"type":15,"tag":252,"props":6689,"children":6690},{"style":259},[6691],{"type":21,"value":6692}," thiserror",{"type":15,"tag":252,"props":6694,"children":6695},{"style":601},[6696],{"type":21,"value":804},{"type":15,"tag":252,"props":6698,"children":6699},{"style":259},[6700],{"type":21,"value":6701},"Error",{"type":15,"tag":252,"props":6703,"children":6704},{"style":447},[6705],{"type":21,"value":3325},{"type":15,"tag":252,"props":6707,"children":6708},{"class":254,"line":334},[6709],{"type":15,"tag":252,"props":6710,"children":6711},{"emptyLinePlaceholder":2053},[6712],{"type":21,"value":2056},{"type":15,"tag":252,"props":6714,"children":6715},{"class":254,"line":390},[6716,6720,6724,6728,6732],{"type":15,"tag":252,"props":6717,"children":6718},{"style":447},[6719],{"type":21,"value":3742},{"type":15,"tag":252,"props":6721,"children":6722},{"style":259},[6723],{"type":21,"value":6701},{"type":15,"tag":252,"props":6725,"children":6726},{"style":447},[6727],{"type":21,"value":1076},{"type":15,"tag":252,"props":6729,"children":6730},{"style":259},[6731],{"type":21,"value":5788},{"type":15,"tag":252,"props":6733,"children":6734},{"style":447},[6735],{"type":21,"value":3751},{"type":15,"tag":252,"props":6737,"children":6738},{"class":254,"line":2077},[6739,6744,6749],{"type":15,"tag":252,"props":6740,"children":6741},{"style":447},[6742],{"type":21,"value":6743},"#[error(",{"type":15,"tag":252,"props":6745,"children":6746},{"style":265},[6747],{"type":21,"value":6748},"\"Tokenizer error on line {line}, char {char}: {message}\"",{"type":15,"tag":252,"props":6750,"children":6751},{"style":447},[6752],{"type":21,"value":3751},{"type":15,"tag":252,"props":6754,"children":6755},{"class":254,"line":2110},[6756,6760,6764,6769],{"type":15,"tag":252,"props":6757,"children":6758},{"style":601},[6759],{"type":21,"value":4740},{"type":15,"tag":252,"props":6761,"children":6762},{"style":601},[6763],{"type":21,"value":4745},{"type":15,"tag":252,"props":6765,"children":6766},{"style":259},[6767],{"type":21,"value":6768}," TokenizerError",{"type":15,"tag":252,"props":6770,"children":6771},{"style":447},[6772],{"type":21,"value":3769},{"type":15,"tag":252,"props":6774,"children":6775},{"class":254,"line":2150},[6776,6780,6784,6788,6792],{"type":15,"tag":252,"props":6777,"children":6778},{"style":601},[6779],{"type":21,"value":4762},{"type":15,"tag":252,"props":6781,"children":6782},{"style":447},[6783],{"type":21,"value":6612},{"type":15,"tag":252,"props":6785,"children":6786},{"style":601},[6787],{"type":21,"value":3374},{"type":15,"tag":252,"props":6789,"children":6790},{"style":259},[6791],{"type":21,"value":3379},{"type":15,"tag":252,"props":6793,"children":6794},{"style":447},[6795],{"type":21,"value":3879},{"type":15,"tag":252,"props":6797,"children":6798},{"class":254,"line":2182},[6799,6803,6807,6811,6815],{"type":15,"tag":252,"props":6800,"children":6801},{"style":601},[6802],{"type":21,"value":4762},{"type":15,"tag":252,"props":6804,"children":6805},{"style":259},[6806],{"type":21,"value":6636},{"type":15,"tag":252,"props":6808,"children":6809},{"style":601},[6810],{"type":21,"value":3374},{"type":15,"tag":252,"props":6812,"children":6813},{"style":259},[6814],{"type":21,"value":3379},{"type":15,"tag":252,"props":6816,"children":6817},{"style":447},[6818],{"type":21,"value":3879},{"type":15,"tag":252,"props":6820,"children":6821},{"class":254,"line":2190},[6822,6826,6831,6835,6839],{"type":15,"tag":252,"props":6823,"children":6824},{"style":601},[6825],{"type":21,"value":4762},{"type":15,"tag":252,"props":6827,"children":6828},{"style":447},[6829],{"type":21,"value":6830}," message",{"type":15,"tag":252,"props":6832,"children":6833},{"style":601},[6834],{"type":21,"value":3374},{"type":15,"tag":252,"props":6836,"children":6837},{"style":259},[6838],{"type":21,"value":3799},{"type":15,"tag":252,"props":6840,"children":6841},{"style":447},[6842],{"type":21,"value":3879},{"type":15,"tag":252,"props":6844,"children":6845},{"class":254,"line":2222},[6846],{"type":15,"tag":252,"props":6847,"children":6848},{"style":447},[6849],{"type":21,"value":2854},{"type":15,"tag":23,"props":6851,"children":6852},{},[6853,6855,6860],{"type":21,"value":6854},"Now we need to write the tokenizer, but first! I actually want to write a generic class in ",{"type":15,"tag":81,"props":6856,"children":6858},{"className":6857},[],[6859],{"type":21,"value":6367},{"type":21,"value":6861}," as both the tokenizer and Parser are gonna use the same pattern!",{"type":15,"tag":95,"props":6863,"children":6865},{"code":6864,"language":772,"meta":8,"className":773,"style":8},"// parsing/mod.rs\n\nuse std::collections::VecDeque;\nuse thiserror::Error;\n\npub mod ast;\nmod tokens;\n\n#[derive(Error, Debug)]\n#[error(\"Stream ran out of elements\")]\nstruct StreamerError;\n\nstruct StreamConsumer\u003CT>(VecDeque\u003CT>);\n\nimpl\u003CT> StreamConsumer\u003CT> {\n    fn new(stream: VecDeque\u003CT>) -> Self {\n        Self(stream)\n    }\n\n    fn advance(&mut self) -> Result\u003CT, StreamerError> {\n        self.0.pop_front().ok_or(StreamerError)\n    }\n\n    fn void(&mut self) {\n        self.0.pop_front();\n    }\n\n    fn peek(&self) -> Result\u003C&T, StreamerError> {\n        self.0.front().ok_or(StreamerError)\n    }\n}\n",[6866],{"type":15,"tag":81,"props":6867,"children":6868},{"__ignoreMap":8},[6869,6876,6883,6917,6940,6947,6966,6982,6989,7012,7028,7044,7051,7093,7100,7139,7192,7205,7212,7219,7279,7328,7335,7342,7371,7394,7401,7408,7469,7513,7520],{"type":15,"tag":252,"props":6870,"children":6871},{"class":254,"line":255},[6872],{"type":15,"tag":252,"props":6873,"children":6874},{"style":3287},[6875],{"type":21,"value":5654},{"type":15,"tag":252,"props":6877,"children":6878},{"class":254,"line":334},[6879],{"type":15,"tag":252,"props":6880,"children":6881},{"emptyLinePlaceholder":2053},[6882],{"type":21,"value":2056},{"type":15,"tag":252,"props":6884,"children":6885},{"class":254,"line":390},[6886,6890,6895,6899,6904,6908,6913],{"type":15,"tag":252,"props":6887,"children":6888},{"style":601},[6889],{"type":21,"value":2008},{"type":15,"tag":252,"props":6891,"children":6892},{"style":259},[6893],{"type":21,"value":6894}," std",{"type":15,"tag":252,"props":6896,"children":6897},{"style":601},[6898],{"type":21,"value":804},{"type":15,"tag":252,"props":6900,"children":6901},{"style":259},[6902],{"type":21,"value":6903},"collections",{"type":15,"tag":252,"props":6905,"children":6906},{"style":601},[6907],{"type":21,"value":804},{"type":15,"tag":252,"props":6909,"children":6910},{"style":259},[6911],{"type":21,"value":6912},"VecDeque",{"type":15,"tag":252,"props":6914,"children":6915},{"style":447},[6916],{"type":21,"value":3325},{"type":15,"tag":252,"props":6918,"children":6919},{"class":254,"line":2077},[6920,6924,6928,6932,6936],{"type":15,"tag":252,"props":6921,"children":6922},{"style":601},[6923],{"type":21,"value":2008},{"type":15,"tag":252,"props":6925,"children":6926},{"style":259},[6927],{"type":21,"value":6692},{"type":15,"tag":252,"props":6929,"children":6930},{"style":601},[6931],{"type":21,"value":804},{"type":15,"tag":252,"props":6933,"children":6934},{"style":259},[6935],{"type":21,"value":6701},{"type":15,"tag":252,"props":6937,"children":6938},{"style":447},[6939],{"type":21,"value":3325},{"type":15,"tag":252,"props":6941,"children":6942},{"class":254,"line":2110},[6943],{"type":15,"tag":252,"props":6944,"children":6945},{"emptyLinePlaceholder":2053},[6946],{"type":21,"value":2056},{"type":15,"tag":252,"props":6948,"children":6949},{"class":254,"line":2150},[6950,6954,6958,6962],{"type":15,"tag":252,"props":6951,"children":6952},{"style":601},[6953],{"type":21,"value":4740},{"type":15,"tag":252,"props":6955,"children":6956},{"style":601},[6957],{"type":21,"value":5673},{"type":15,"tag":252,"props":6959,"children":6960},{"style":259},[6961],{"type":21,"value":5678},{"type":15,"tag":252,"props":6963,"children":6964},{"style":447},[6965],{"type":21,"value":3325},{"type":15,"tag":252,"props":6967,"children":6968},{"class":254,"line":2182},[6969,6973,6978],{"type":15,"tag":252,"props":6970,"children":6971},{"style":601},[6972],{"type":21,"value":5611},{"type":15,"tag":252,"props":6974,"children":6975},{"style":259},[6976],{"type":21,"value":6977}," tokens",{"type":15,"tag":252,"props":6979,"children":6980},{"style":447},[6981],{"type":21,"value":3325},{"type":15,"tag":252,"props":6983,"children":6984},{"class":254,"line":2190},[6985],{"type":15,"tag":252,"props":6986,"children":6987},{"emptyLinePlaceholder":2053},[6988],{"type":21,"value":2056},{"type":15,"tag":252,"props":6990,"children":6991},{"class":254,"line":2222},[6992,6996,7000,7004,7008],{"type":15,"tag":252,"props":6993,"children":6994},{"style":447},[6995],{"type":21,"value":3742},{"type":15,"tag":252,"props":6997,"children":6998},{"style":259},[6999],{"type":21,"value":6701},{"type":15,"tag":252,"props":7001,"children":7002},{"style":447},[7003],{"type":21,"value":1076},{"type":15,"tag":252,"props":7005,"children":7006},{"style":259},[7007],{"type":21,"value":5788},{"type":15,"tag":252,"props":7009,"children":7010},{"style":447},[7011],{"type":21,"value":3751},{"type":15,"tag":252,"props":7013,"children":7014},{"class":254,"line":2270},[7015,7019,7024],{"type":15,"tag":252,"props":7016,"children":7017},{"style":447},[7018],{"type":21,"value":6743},{"type":15,"tag":252,"props":7020,"children":7021},{"style":265},[7022],{"type":21,"value":7023},"\"Stream ran out of elements\"",{"type":15,"tag":252,"props":7025,"children":7026},{"style":447},[7027],{"type":21,"value":3751},{"type":15,"tag":252,"props":7029,"children":7030},{"class":254,"line":2302},[7031,7035,7040],{"type":15,"tag":252,"props":7032,"children":7033},{"style":601},[7034],{"type":21,"value":3841},{"type":15,"tag":252,"props":7036,"children":7037},{"style":259},[7038],{"type":21,"value":7039}," StreamerError",{"type":15,"tag":252,"props":7041,"children":7042},{"style":447},[7043],{"type":21,"value":3325},{"type":15,"tag":252,"props":7045,"children":7046},{"class":254,"line":2310},[7047],{"type":15,"tag":252,"props":7048,"children":7049},{"emptyLinePlaceholder":2053},[7050],{"type":21,"value":2056},{"type":15,"tag":252,"props":7052,"children":7053},{"class":254,"line":2370},[7054,7058,7063,7067,7072,7077,7081,7085,7089],{"type":15,"tag":252,"props":7055,"children":7056},{"style":601},[7057],{"type":21,"value":3841},{"type":15,"tag":252,"props":7059,"children":7060},{"style":259},[7061],{"type":21,"value":7062}," StreamConsumer",{"type":15,"tag":252,"props":7064,"children":7065},{"style":447},[7066],{"type":21,"value":5826},{"type":15,"tag":252,"props":7068,"children":7069},{"style":259},[7070],{"type":21,"value":7071},"T",{"type":15,"tag":252,"props":7073,"children":7074},{"style":447},[7075],{"type":21,"value":7076},">(",{"type":15,"tag":252,"props":7078,"children":7079},{"style":259},[7080],{"type":21,"value":6912},{"type":15,"tag":252,"props":7082,"children":7083},{"style":447},[7084],{"type":21,"value":5826},{"type":15,"tag":252,"props":7086,"children":7087},{"style":259},[7088],{"type":21,"value":7071},{"type":15,"tag":252,"props":7090,"children":7091},{"style":447},[7092],{"type":21,"value":5835},{"type":15,"tag":252,"props":7094,"children":7095},{"class":254,"line":2418},[7096],{"type":15,"tag":252,"props":7097,"children":7098},{"emptyLinePlaceholder":2053},[7099],{"type":21,"value":2056},{"type":15,"tag":252,"props":7101,"children":7102},{"class":254,"line":2426},[7103,7108,7112,7116,7121,7126,7130,7134],{"type":15,"tag":252,"props":7104,"children":7105},{"style":601},[7106],{"type":21,"value":7107},"impl",{"type":15,"tag":252,"props":7109,"children":7110},{"style":447},[7111],{"type":21,"value":5826},{"type":15,"tag":252,"props":7113,"children":7114},{"style":259},[7115],{"type":21,"value":7071},{"type":15,"tag":252,"props":7117,"children":7118},{"style":447},[7119],{"type":21,"value":7120},"> ",{"type":15,"tag":252,"props":7122,"children":7123},{"style":259},[7124],{"type":21,"value":7125},"StreamConsumer",{"type":15,"tag":252,"props":7127,"children":7128},{"style":447},[7129],{"type":21,"value":5826},{"type":15,"tag":252,"props":7131,"children":7132},{"style":259},[7133],{"type":21,"value":7071},{"type":15,"tag":252,"props":7135,"children":7136},{"style":447},[7137],{"type":21,"value":7138},"> {\n",{"type":15,"tag":252,"props":7140,"children":7141},{"class":254,"line":2474},[7142,7147,7152,7157,7161,7166,7170,7174,7179,7183,7188],{"type":15,"tag":252,"props":7143,"children":7144},{"style":601},[7145],{"type":21,"value":7146},"    fn",{"type":15,"tag":252,"props":7148,"children":7149},{"style":259},[7150],{"type":21,"value":7151}," new",{"type":15,"tag":252,"props":7153,"children":7154},{"style":447},[7155],{"type":21,"value":7156},"(stream",{"type":15,"tag":252,"props":7158,"children":7159},{"style":601},[7160],{"type":21,"value":3374},{"type":15,"tag":252,"props":7162,"children":7163},{"style":259},[7164],{"type":21,"value":7165}," VecDeque",{"type":15,"tag":252,"props":7167,"children":7168},{"style":447},[7169],{"type":21,"value":5826},{"type":15,"tag":252,"props":7171,"children":7172},{"style":259},[7173],{"type":21,"value":7071},{"type":15,"tag":252,"props":7175,"children":7176},{"style":447},[7177],{"type":21,"value":7178},">) ",{"type":15,"tag":252,"props":7180,"children":7181},{"style":601},[7182],{"type":21,"value":3947},{"type":15,"tag":252,"props":7184,"children":7185},{"style":276},[7186],{"type":21,"value":7187}," Self",{"type":15,"tag":252,"props":7189,"children":7190},{"style":447},[7191],{"type":21,"value":3769},{"type":15,"tag":252,"props":7193,"children":7194},{"class":254,"line":2522},[7195,7200],{"type":15,"tag":252,"props":7196,"children":7197},{"style":276},[7198],{"type":21,"value":7199},"        Self",{"type":15,"tag":252,"props":7201,"children":7202},{"style":447},[7203],{"type":21,"value":7204},"(stream)\n",{"type":15,"tag":252,"props":7206,"children":7207},{"class":254,"line":2530},[7208],{"type":15,"tag":252,"props":7209,"children":7210},{"style":447},[7211],{"type":21,"value":4095},{"type":15,"tag":252,"props":7213,"children":7214},{"class":254,"line":2570},[7215],{"type":15,"tag":252,"props":7216,"children":7217},{"emptyLinePlaceholder":2053},[7218],{"type":21,"value":2056},{"type":15,"tag":252,"props":7220,"children":7221},{"class":254,"line":2591},[7222,7226,7231,7235,7240,7245,7249,7253,7258,7262,7266,7270,7275],{"type":15,"tag":252,"props":7223,"children":7224},{"style":601},[7225],{"type":21,"value":7146},{"type":15,"tag":252,"props":7227,"children":7228},{"style":259},[7229],{"type":21,"value":7230}," advance",{"type":15,"tag":252,"props":7232,"children":7233},{"style":447},[7234],{"type":21,"value":849},{"type":15,"tag":252,"props":7236,"children":7237},{"style":601},[7238],{"type":21,"value":7239},"&mut",{"type":15,"tag":252,"props":7241,"children":7242},{"style":276},[7243],{"type":21,"value":7244}," self",{"type":15,"tag":252,"props":7246,"children":7247},{"style":447},[7248],{"type":21,"value":4943},{"type":15,"tag":252,"props":7250,"children":7251},{"style":601},[7252],{"type":21,"value":3947},{"type":15,"tag":252,"props":7254,"children":7255},{"style":259},[7256],{"type":21,"value":7257}," Result",{"type":15,"tag":252,"props":7259,"children":7260},{"style":447},[7261],{"type":21,"value":5826},{"type":15,"tag":252,"props":7263,"children":7264},{"style":259},[7265],{"type":21,"value":7071},{"type":15,"tag":252,"props":7267,"children":7268},{"style":447},[7269],{"type":21,"value":1076},{"type":15,"tag":252,"props":7271,"children":7272},{"style":259},[7273],{"type":21,"value":7274},"StreamerError",{"type":15,"tag":252,"props":7276,"children":7277},{"style":447},[7278],{"type":21,"value":7138},{"type":15,"tag":252,"props":7280,"children":7281},{"class":254,"line":2599},[7282,7287,7291,7296,7301,7306,7310,7315,7319,7323],{"type":15,"tag":252,"props":7283,"children":7284},{"style":276},[7285],{"type":21,"value":7286},"        self",{"type":15,"tag":252,"props":7288,"children":7289},{"style":601},[7290],{"type":21,"value":432},{"type":15,"tag":252,"props":7292,"children":7293},{"style":276},[7294],{"type":21,"value":7295},"0.",{"type":15,"tag":252,"props":7297,"children":7298},{"style":259},[7299],{"type":21,"value":7300},"pop_front",{"type":15,"tag":252,"props":7302,"children":7303},{"style":447},[7304],{"type":21,"value":7305},"()",{"type":15,"tag":252,"props":7307,"children":7308},{"style":601},[7309],{"type":21,"value":432},{"type":15,"tag":252,"props":7311,"children":7312},{"style":259},[7313],{"type":21,"value":7314},"ok_or",{"type":15,"tag":252,"props":7316,"children":7317},{"style":447},[7318],{"type":21,"value":849},{"type":15,"tag":252,"props":7320,"children":7321},{"style":259},[7322],{"type":21,"value":7274},{"type":15,"tag":252,"props":7324,"children":7325},{"style":447},[7326],{"type":21,"value":7327},")\n",{"type":15,"tag":252,"props":7329,"children":7330},{"class":254,"line":2647},[7331],{"type":15,"tag":252,"props":7332,"children":7333},{"style":447},[7334],{"type":21,"value":4095},{"type":15,"tag":252,"props":7336,"children":7337},{"class":254,"line":2679},[7338],{"type":15,"tag":252,"props":7339,"children":7340},{"emptyLinePlaceholder":2053},[7341],{"type":21,"value":2056},{"type":15,"tag":252,"props":7343,"children":7344},{"class":254,"line":2727},[7345,7349,7354,7358,7362,7366],{"type":15,"tag":252,"props":7346,"children":7347},{"style":601},[7348],{"type":21,"value":7146},{"type":15,"tag":252,"props":7350,"children":7351},{"style":259},[7352],{"type":21,"value":7353}," void",{"type":15,"tag":252,"props":7355,"children":7356},{"style":447},[7357],{"type":21,"value":849},{"type":15,"tag":252,"props":7359,"children":7360},{"style":601},[7361],{"type":21,"value":7239},{"type":15,"tag":252,"props":7363,"children":7364},{"style":276},[7365],{"type":21,"value":7244},{"type":15,"tag":252,"props":7367,"children":7368},{"style":447},[7369],{"type":21,"value":7370},") {\n",{"type":15,"tag":252,"props":7372,"children":7373},{"class":254,"line":2735},[7374,7378,7382,7386,7390],{"type":15,"tag":252,"props":7375,"children":7376},{"style":276},[7377],{"type":21,"value":7286},{"type":15,"tag":252,"props":7379,"children":7380},{"style":601},[7381],{"type":21,"value":432},{"type":15,"tag":252,"props":7383,"children":7384},{"style":276},[7385],{"type":21,"value":7295},{"type":15,"tag":252,"props":7387,"children":7388},{"style":259},[7389],{"type":21,"value":7300},{"type":15,"tag":252,"props":7391,"children":7392},{"style":447},[7393],{"type":21,"value":814},{"type":15,"tag":252,"props":7395,"children":7396},{"class":254,"line":2799},[7397],{"type":15,"tag":252,"props":7398,"children":7399},{"style":447},[7400],{"type":21,"value":4095},{"type":15,"tag":252,"props":7402,"children":7403},{"class":254,"line":2807},[7404],{"type":15,"tag":252,"props":7405,"children":7406},{"emptyLinePlaceholder":2053},[7407],{"type":21,"value":2056},{"type":15,"tag":252,"props":7409,"children":7410},{"class":254,"line":2848},[7411,7415,7420,7424,7428,7433,7437,7441,7445,7449,7453,7457,7461,7465],{"type":15,"tag":252,"props":7412,"children":7413},{"style":601},[7414],{"type":21,"value":7146},{"type":15,"tag":252,"props":7416,"children":7417},{"style":259},[7418],{"type":21,"value":7419}," peek",{"type":15,"tag":252,"props":7421,"children":7422},{"style":447},[7423],{"type":21,"value":849},{"type":15,"tag":252,"props":7425,"children":7426},{"style":601},[7427],{"type":21,"value":1171},{"type":15,"tag":252,"props":7429,"children":7430},{"style":276},[7431],{"type":21,"value":7432},"self",{"type":15,"tag":252,"props":7434,"children":7435},{"style":447},[7436],{"type":21,"value":4943},{"type":15,"tag":252,"props":7438,"children":7439},{"style":601},[7440],{"type":21,"value":3947},{"type":15,"tag":252,"props":7442,"children":7443},{"style":259},[7444],{"type":21,"value":7257},{"type":15,"tag":252,"props":7446,"children":7447},{"style":447},[7448],{"type":21,"value":5826},{"type":15,"tag":252,"props":7450,"children":7451},{"style":601},[7452],{"type":21,"value":1171},{"type":15,"tag":252,"props":7454,"children":7455},{"style":259},[7456],{"type":21,"value":7071},{"type":15,"tag":252,"props":7458,"children":7459},{"style":447},[7460],{"type":21,"value":1076},{"type":15,"tag":252,"props":7462,"children":7463},{"style":259},[7464],{"type":21,"value":7274},{"type":15,"tag":252,"props":7466,"children":7467},{"style":447},[7468],{"type":21,"value":7138},{"type":15,"tag":252,"props":7470,"children":7471},{"class":254,"line":4645},[7472,7476,7480,7484,7489,7493,7497,7501,7505,7509],{"type":15,"tag":252,"props":7473,"children":7474},{"style":276},[7475],{"type":21,"value":7286},{"type":15,"tag":252,"props":7477,"children":7478},{"style":601},[7479],{"type":21,"value":432},{"type":15,"tag":252,"props":7481,"children":7482},{"style":276},[7483],{"type":21,"value":7295},{"type":15,"tag":252,"props":7485,"children":7486},{"style":259},[7487],{"type":21,"value":7488},"front",{"type":15,"tag":252,"props":7490,"children":7491},{"style":447},[7492],{"type":21,"value":7305},{"type":15,"tag":252,"props":7494,"children":7495},{"style":601},[7496],{"type":21,"value":432},{"type":15,"tag":252,"props":7498,"children":7499},{"style":259},[7500],{"type":21,"value":7314},{"type":15,"tag":252,"props":7502,"children":7503},{"style":447},[7504],{"type":21,"value":849},{"type":15,"tag":252,"props":7506,"children":7507},{"style":259},[7508],{"type":21,"value":7274},{"type":15,"tag":252,"props":7510,"children":7511},{"style":447},[7512],{"type":21,"value":7327},{"type":15,"tag":252,"props":7514,"children":7515},{"class":254,"line":4654},[7516],{"type":15,"tag":252,"props":7517,"children":7518},{"style":447},[7519],{"type":21,"value":4095},{"type":15,"tag":252,"props":7521,"children":7522},{"class":254,"line":4675},[7523],{"type":15,"tag":252,"props":7524,"children":7525},{"style":447},[7526],{"type":21,"value":2854},{"type":15,"tag":23,"props":7528,"children":7529},{},[7530],{"type":21,"value":7531},"So this class will be used by the tokenizer to consume chars, and by the parser to consume tokens. it lets us consume elements, look at what the next element is, and also ignore a value (useful after a peek). We also provide a general stream error!",{"type":15,"tag":23,"props":7533,"children":7534},{},[7535],{"type":21,"value":7536},"Now that we got that implemented, let's create the tokenizer!",{"type":15,"tag":95,"props":7538,"children":7540},{"code":7539,"language":772,"meta":8,"className":773,"style":8},"// parsing/tokens.rs\n\npub struct Tokenizer {\n    code: StreamConsumer\u003Cchar>,\n    line: usize,\n    char: usize,\n}\n\nimpl Tokenizer {\n    pub fn new(code: &str) -> Self {\n        Self {\n            code: StreamConsumer::new(code.chars().collect()),\n            line: 1,\n            char: 1,\n        }\n    }\n\n    fn error(&self, msg: String) -> Result\u003C(), TokenizerError> {\n        Err(TokenizerError {\n            line: self.line,\n            char: self.char,\n            message: msg,\n        })\n    }\n\n    fn token(&self, _type: TokenType) -> Token {\n        Token {\n            _type,\n            line: self.line,\n            char: self.char,\n        }\n    }\n\n    fn advance(&mut self) -> Option\u003Cchar> {\n        let c = self.code.advance().ok()?;\n        if c == '\\n' {\n            self.line += 1;\n            self.char = 1;\n        } else {\n            self.char += 1;\n        }\n        Some(c)\n    }\n\n    fn void(&mut self) {\n        self.advance();\n    }\n}\n",[7541],{"type":15,"tag":81,"props":7542,"children":7543},{"__ignoreMap":8},[7544,7552,7559,7579,7609,7629,7649,7656,7663,7678,7726,7737,7793,7814,7834,7841,7848,7855,7918,7938,7962,7989,8006,8014,8021,8028,8081,8093,8101,8124,8151,8158,8166,8174,8223,8287,8324,8355,8383,8401,8430,8438,8452,8460,8468,8496,8516,8524],{"type":15,"tag":252,"props":7545,"children":7546},{"class":254,"line":255},[7547],{"type":15,"tag":252,"props":7548,"children":7549},{"style":3287},[7550],{"type":21,"value":7551},"// parsing/tokens.rs\n",{"type":15,"tag":252,"props":7553,"children":7554},{"class":254,"line":334},[7555],{"type":15,"tag":252,"props":7556,"children":7557},{"emptyLinePlaceholder":2053},[7558],{"type":21,"value":2056},{"type":15,"tag":252,"props":7560,"children":7561},{"class":254,"line":390},[7562,7566,7570,7575],{"type":15,"tag":252,"props":7563,"children":7564},{"style":601},[7565],{"type":21,"value":4740},{"type":15,"tag":252,"props":7567,"children":7568},{"style":601},[7569],{"type":21,"value":4745},{"type":15,"tag":252,"props":7571,"children":7572},{"style":259},[7573],{"type":21,"value":7574}," Tokenizer",{"type":15,"tag":252,"props":7576,"children":7577},{"style":447},[7578],{"type":21,"value":3769},{"type":15,"tag":252,"props":7580,"children":7581},{"class":254,"line":2077},[7582,7587,7591,7595,7599,7604],{"type":15,"tag":252,"props":7583,"children":7584},{"style":447},[7585],{"type":21,"value":7586},"    code",{"type":15,"tag":252,"props":7588,"children":7589},{"style":601},[7590],{"type":21,"value":3374},{"type":15,"tag":252,"props":7592,"children":7593},{"style":259},[7594],{"type":21,"value":7062},{"type":15,"tag":252,"props":7596,"children":7597},{"style":447},[7598],{"type":21,"value":5826},{"type":15,"tag":252,"props":7600,"children":7601},{"style":259},[7602],{"type":21,"value":7603},"char",{"type":15,"tag":252,"props":7605,"children":7606},{"style":447},[7607],{"type":21,"value":7608},">,\n",{"type":15,"tag":252,"props":7610,"children":7611},{"class":254,"line":2110},[7612,7617,7621,7625],{"type":15,"tag":252,"props":7613,"children":7614},{"style":447},[7615],{"type":21,"value":7616},"    line",{"type":15,"tag":252,"props":7618,"children":7619},{"style":601},[7620],{"type":21,"value":3374},{"type":15,"tag":252,"props":7622,"children":7623},{"style":259},[7624],{"type":21,"value":3379},{"type":15,"tag":252,"props":7626,"children":7627},{"style":447},[7628],{"type":21,"value":3879},{"type":15,"tag":252,"props":7630,"children":7631},{"class":254,"line":2150},[7632,7637,7641,7645],{"type":15,"tag":252,"props":7633,"children":7634},{"style":259},[7635],{"type":21,"value":7636},"    char",{"type":15,"tag":252,"props":7638,"children":7639},{"style":601},[7640],{"type":21,"value":3374},{"type":15,"tag":252,"props":7642,"children":7643},{"style":259},[7644],{"type":21,"value":3379},{"type":15,"tag":252,"props":7646,"children":7647},{"style":447},[7648],{"type":21,"value":3879},{"type":15,"tag":252,"props":7650,"children":7651},{"class":254,"line":2182},[7652],{"type":15,"tag":252,"props":7653,"children":7654},{"style":447},[7655],{"type":21,"value":2854},{"type":15,"tag":252,"props":7657,"children":7658},{"class":254,"line":2190},[7659],{"type":15,"tag":252,"props":7660,"children":7661},{"emptyLinePlaceholder":2053},[7662],{"type":21,"value":2056},{"type":15,"tag":252,"props":7664,"children":7665},{"class":254,"line":2222},[7666,7670,7674],{"type":15,"tag":252,"props":7667,"children":7668},{"style":601},[7669],{"type":21,"value":7107},{"type":15,"tag":252,"props":7671,"children":7672},{"style":259},[7673],{"type":21,"value":7574},{"type":15,"tag":252,"props":7675,"children":7676},{"style":447},[7677],{"type":21,"value":3769},{"type":15,"tag":252,"props":7679,"children":7680},{"class":254,"line":2270},[7681,7685,7689,7693,7698,7702,7706,7710,7714,7718,7722],{"type":15,"tag":252,"props":7682,"children":7683},{"style":601},[7684],{"type":21,"value":4762},{"type":15,"tag":252,"props":7686,"children":7687},{"style":601},[7688],{"type":21,"value":4901},{"type":15,"tag":252,"props":7690,"children":7691},{"style":259},[7692],{"type":21,"value":7151},{"type":15,"tag":252,"props":7694,"children":7695},{"style":447},[7696],{"type":21,"value":7697},"(code",{"type":15,"tag":252,"props":7699,"children":7700},{"style":601},[7701],{"type":21,"value":3374},{"type":15,"tag":252,"props":7703,"children":7704},{"style":601},[7705],{"type":21,"value":4920},{"type":15,"tag":252,"props":7707,"children":7708},{"style":259},[7709],{"type":21,"value":4925},{"type":15,"tag":252,"props":7711,"children":7712},{"style":447},[7713],{"type":21,"value":4943},{"type":15,"tag":252,"props":7715,"children":7716},{"style":601},[7717],{"type":21,"value":3947},{"type":15,"tag":252,"props":7719,"children":7720},{"style":276},[7721],{"type":21,"value":7187},{"type":15,"tag":252,"props":7723,"children":7724},{"style":447},[7725],{"type":21,"value":3769},{"type":15,"tag":252,"props":7727,"children":7728},{"class":254,"line":2302},[7729,7733],{"type":15,"tag":252,"props":7730,"children":7731},{"style":276},[7732],{"type":21,"value":7199},{"type":15,"tag":252,"props":7734,"children":7735},{"style":447},[7736],{"type":21,"value":3769},{"type":15,"tag":252,"props":7738,"children":7739},{"class":254,"line":2310},[7740,7745,7749,7753,7757,7762,7766,7770,7775,7779,7783,7788],{"type":15,"tag":252,"props":7741,"children":7742},{"style":447},[7743],{"type":21,"value":7744},"            code",{"type":15,"tag":252,"props":7746,"children":7747},{"style":601},[7748],{"type":21,"value":3374},{"type":15,"tag":252,"props":7750,"children":7751},{"style":259},[7752],{"type":21,"value":7062},{"type":15,"tag":252,"props":7754,"children":7755},{"style":601},[7756],{"type":21,"value":804},{"type":15,"tag":252,"props":7758,"children":7759},{"style":259},[7760],{"type":21,"value":7761},"new",{"type":15,"tag":252,"props":7763,"children":7764},{"style":447},[7765],{"type":21,"value":7697},{"type":15,"tag":252,"props":7767,"children":7768},{"style":601},[7769],{"type":21,"value":432},{"type":15,"tag":252,"props":7771,"children":7772},{"style":259},[7773],{"type":21,"value":7774},"chars",{"type":15,"tag":252,"props":7776,"children":7777},{"style":447},[7778],{"type":21,"value":7305},{"type":15,"tag":252,"props":7780,"children":7781},{"style":601},[7782],{"type":21,"value":432},{"type":15,"tag":252,"props":7784,"children":7785},{"style":259},[7786],{"type":21,"value":7787},"collect",{"type":15,"tag":252,"props":7789,"children":7790},{"style":447},[7791],{"type":21,"value":7792},"()),\n",{"type":15,"tag":252,"props":7794,"children":7795},{"class":254,"line":2370},[7796,7801,7805,7810],{"type":15,"tag":252,"props":7797,"children":7798},{"style":447},[7799],{"type":21,"value":7800},"            line",{"type":15,"tag":252,"props":7802,"children":7803},{"style":601},[7804],{"type":21,"value":3374},{"type":15,"tag":252,"props":7806,"children":7807},{"style":276},[7808],{"type":21,"value":7809}," 1",{"type":15,"tag":252,"props":7811,"children":7812},{"style":447},[7813],{"type":21,"value":3879},{"type":15,"tag":252,"props":7815,"children":7816},{"class":254,"line":2418},[7817,7822,7826,7830],{"type":15,"tag":252,"props":7818,"children":7819},{"style":259},[7820],{"type":21,"value":7821},"            char",{"type":15,"tag":252,"props":7823,"children":7824},{"style":601},[7825],{"type":21,"value":3374},{"type":15,"tag":252,"props":7827,"children":7828},{"style":276},[7829],{"type":21,"value":7809},{"type":15,"tag":252,"props":7831,"children":7832},{"style":447},[7833],{"type":21,"value":3879},{"type":15,"tag":252,"props":7835,"children":7836},{"class":254,"line":2426},[7837],{"type":15,"tag":252,"props":7838,"children":7839},{"style":447},[7840],{"type":21,"value":4087},{"type":15,"tag":252,"props":7842,"children":7843},{"class":254,"line":2474},[7844],{"type":15,"tag":252,"props":7845,"children":7846},{"style":447},[7847],{"type":21,"value":4095},{"type":15,"tag":252,"props":7849,"children":7850},{"class":254,"line":2522},[7851],{"type":15,"tag":252,"props":7852,"children":7853},{"emptyLinePlaceholder":2053},[7854],{"type":21,"value":2056},{"type":15,"tag":252,"props":7856,"children":7857},{"class":254,"line":2530},[7858,7862,7867,7871,7875,7879,7884,7888,7892,7896,7900,7904,7909,7914],{"type":15,"tag":252,"props":7859,"children":7860},{"style":601},[7861],{"type":21,"value":7146},{"type":15,"tag":252,"props":7863,"children":7864},{"style":259},[7865],{"type":21,"value":7866}," error",{"type":15,"tag":252,"props":7868,"children":7869},{"style":447},[7870],{"type":21,"value":849},{"type":15,"tag":252,"props":7872,"children":7873},{"style":601},[7874],{"type":21,"value":1171},{"type":15,"tag":252,"props":7876,"children":7877},{"style":276},[7878],{"type":21,"value":7432},{"type":15,"tag":252,"props":7880,"children":7881},{"style":447},[7882],{"type":21,"value":7883},", msg",{"type":15,"tag":252,"props":7885,"children":7886},{"style":601},[7887],{"type":21,"value":3374},{"type":15,"tag":252,"props":7889,"children":7890},{"style":259},[7891],{"type":21,"value":3799},{"type":15,"tag":252,"props":7893,"children":7894},{"style":447},[7895],{"type":21,"value":4943},{"type":15,"tag":252,"props":7897,"children":7898},{"style":601},[7899],{"type":21,"value":3947},{"type":15,"tag":252,"props":7901,"children":7902},{"style":259},[7903],{"type":21,"value":7257},{"type":15,"tag":252,"props":7905,"children":7906},{"style":447},[7907],{"type":21,"value":7908},"\u003C(), ",{"type":15,"tag":252,"props":7910,"children":7911},{"style":259},[7912],{"type":21,"value":7913},"TokenizerError",{"type":15,"tag":252,"props":7915,"children":7916},{"style":447},[7917],{"type":21,"value":7138},{"type":15,"tag":252,"props":7919,"children":7920},{"class":254,"line":2570},[7921,7926,7930,7934],{"type":15,"tag":252,"props":7922,"children":7923},{"style":259},[7924],{"type":21,"value":7925},"        Err",{"type":15,"tag":252,"props":7927,"children":7928},{"style":447},[7929],{"type":21,"value":849},{"type":15,"tag":252,"props":7931,"children":7932},{"style":259},[7933],{"type":21,"value":7913},{"type":15,"tag":252,"props":7935,"children":7936},{"style":447},[7937],{"type":21,"value":3769},{"type":15,"tag":252,"props":7939,"children":7940},{"class":254,"line":2591},[7941,7945,7949,7953,7957],{"type":15,"tag":252,"props":7942,"children":7943},{"style":447},[7944],{"type":21,"value":7800},{"type":15,"tag":252,"props":7946,"children":7947},{"style":601},[7948],{"type":21,"value":3374},{"type":15,"tag":252,"props":7950,"children":7951},{"style":276},[7952],{"type":21,"value":7244},{"type":15,"tag":252,"props":7954,"children":7955},{"style":601},[7956],{"type":21,"value":432},{"type":15,"tag":252,"props":7958,"children":7959},{"style":447},[7960],{"type":21,"value":7961},"line,\n",{"type":15,"tag":252,"props":7963,"children":7964},{"class":254,"line":2599},[7965,7969,7973,7977,7981,7985],{"type":15,"tag":252,"props":7966,"children":7967},{"style":259},[7968],{"type":21,"value":7821},{"type":15,"tag":252,"props":7970,"children":7971},{"style":601},[7972],{"type":21,"value":3374},{"type":15,"tag":252,"props":7974,"children":7975},{"style":276},[7976],{"type":21,"value":7244},{"type":15,"tag":252,"props":7978,"children":7979},{"style":601},[7980],{"type":21,"value":432},{"type":15,"tag":252,"props":7982,"children":7983},{"style":259},[7984],{"type":21,"value":7603},{"type":15,"tag":252,"props":7986,"children":7987},{"style":447},[7988],{"type":21,"value":3879},{"type":15,"tag":252,"props":7990,"children":7991},{"class":254,"line":2647},[7992,7997,8001],{"type":15,"tag":252,"props":7993,"children":7994},{"style":447},[7995],{"type":21,"value":7996},"            message",{"type":15,"tag":252,"props":7998,"children":7999},{"style":601},[8000],{"type":21,"value":3374},{"type":15,"tag":252,"props":8002,"children":8003},{"style":447},[8004],{"type":21,"value":8005}," msg,\n",{"type":15,"tag":252,"props":8007,"children":8008},{"class":254,"line":2679},[8009],{"type":15,"tag":252,"props":8010,"children":8011},{"style":447},[8012],{"type":21,"value":8013},"        })\n",{"type":15,"tag":252,"props":8015,"children":8016},{"class":254,"line":2727},[8017],{"type":15,"tag":252,"props":8018,"children":8019},{"style":447},[8020],{"type":21,"value":4095},{"type":15,"tag":252,"props":8022,"children":8023},{"class":254,"line":2735},[8024],{"type":15,"tag":252,"props":8025,"children":8026},{"emptyLinePlaceholder":2053},[8027],{"type":21,"value":2056},{"type":15,"tag":252,"props":8029,"children":8030},{"class":254,"line":2799},[8031,8035,8040,8044,8048,8052,8057,8061,8065,8069,8073,8077],{"type":15,"tag":252,"props":8032,"children":8033},{"style":601},[8034],{"type":21,"value":7146},{"type":15,"tag":252,"props":8036,"children":8037},{"style":259},[8038],{"type":21,"value":8039}," token",{"type":15,"tag":252,"props":8041,"children":8042},{"style":447},[8043],{"type":21,"value":849},{"type":15,"tag":252,"props":8045,"children":8046},{"style":601},[8047],{"type":21,"value":1171},{"type":15,"tag":252,"props":8049,"children":8050},{"style":276},[8051],{"type":21,"value":7432},{"type":15,"tag":252,"props":8053,"children":8054},{"style":447},[8055],{"type":21,"value":8056},", _type",{"type":15,"tag":252,"props":8058,"children":8059},{"style":601},[8060],{"type":21,"value":3374},{"type":15,"tag":252,"props":8062,"children":8063},{"style":259},[8064],{"type":21,"value":6463},{"type":15,"tag":252,"props":8066,"children":8067},{"style":447},[8068],{"type":21,"value":4943},{"type":15,"tag":252,"props":8070,"children":8071},{"style":601},[8072],{"type":21,"value":3947},{"type":15,"tag":252,"props":8074,"children":8075},{"style":259},[8076],{"type":21,"value":6572},{"type":15,"tag":252,"props":8078,"children":8079},{"style":447},[8080],{"type":21,"value":3769},{"type":15,"tag":252,"props":8082,"children":8083},{"class":254,"line":2807},[8084,8089],{"type":15,"tag":252,"props":8085,"children":8086},{"style":259},[8087],{"type":21,"value":8088},"        Token",{"type":15,"tag":252,"props":8090,"children":8091},{"style":447},[8092],{"type":21,"value":3769},{"type":15,"tag":252,"props":8094,"children":8095},{"class":254,"line":2848},[8096],{"type":15,"tag":252,"props":8097,"children":8098},{"style":447},[8099],{"type":21,"value":8100},"            _type,\n",{"type":15,"tag":252,"props":8102,"children":8103},{"class":254,"line":4645},[8104,8108,8112,8116,8120],{"type":15,"tag":252,"props":8105,"children":8106},{"style":447},[8107],{"type":21,"value":7800},{"type":15,"tag":252,"props":8109,"children":8110},{"style":601},[8111],{"type":21,"value":3374},{"type":15,"tag":252,"props":8113,"children":8114},{"style":276},[8115],{"type":21,"value":7244},{"type":15,"tag":252,"props":8117,"children":8118},{"style":601},[8119],{"type":21,"value":432},{"type":15,"tag":252,"props":8121,"children":8122},{"style":447},[8123],{"type":21,"value":7961},{"type":15,"tag":252,"props":8125,"children":8126},{"class":254,"line":4654},[8127,8131,8135,8139,8143,8147],{"type":15,"tag":252,"props":8128,"children":8129},{"style":259},[8130],{"type":21,"value":7821},{"type":15,"tag":252,"props":8132,"children":8133},{"style":601},[8134],{"type":21,"value":3374},{"type":15,"tag":252,"props":8136,"children":8137},{"style":276},[8138],{"type":21,"value":7244},{"type":15,"tag":252,"props":8140,"children":8141},{"style":601},[8142],{"type":21,"value":432},{"type":15,"tag":252,"props":8144,"children":8145},{"style":259},[8146],{"type":21,"value":7603},{"type":15,"tag":252,"props":8148,"children":8149},{"style":447},[8150],{"type":21,"value":3879},{"type":15,"tag":252,"props":8152,"children":8153},{"class":254,"line":4675},[8154],{"type":15,"tag":252,"props":8155,"children":8156},{"style":447},[8157],{"type":21,"value":4087},{"type":15,"tag":252,"props":8159,"children":8161},{"class":254,"line":8160},32,[8162],{"type":15,"tag":252,"props":8163,"children":8164},{"style":447},[8165],{"type":21,"value":4095},{"type":15,"tag":252,"props":8167,"children":8169},{"class":254,"line":8168},33,[8170],{"type":15,"tag":252,"props":8171,"children":8172},{"emptyLinePlaceholder":2053},[8173],{"type":21,"value":2056},{"type":15,"tag":252,"props":8175,"children":8177},{"class":254,"line":8176},34,[8178,8182,8186,8190,8194,8198,8202,8206,8211,8215,8219],{"type":15,"tag":252,"props":8179,"children":8180},{"style":601},[8181],{"type":21,"value":7146},{"type":15,"tag":252,"props":8183,"children":8184},{"style":259},[8185],{"type":21,"value":7230},{"type":15,"tag":252,"props":8187,"children":8188},{"style":447},[8189],{"type":21,"value":849},{"type":15,"tag":252,"props":8191,"children":8192},{"style":601},[8193],{"type":21,"value":7239},{"type":15,"tag":252,"props":8195,"children":8196},{"style":276},[8197],{"type":21,"value":7244},{"type":15,"tag":252,"props":8199,"children":8200},{"style":447},[8201],{"type":21,"value":4943},{"type":15,"tag":252,"props":8203,"children":8204},{"style":601},[8205],{"type":21,"value":3947},{"type":15,"tag":252,"props":8207,"children":8208},{"style":259},[8209],{"type":21,"value":8210}," Option",{"type":15,"tag":252,"props":8212,"children":8213},{"style":447},[8214],{"type":21,"value":5826},{"type":15,"tag":252,"props":8216,"children":8217},{"style":259},[8218],{"type":21,"value":7603},{"type":15,"tag":252,"props":8220,"children":8221},{"style":447},[8222],{"type":21,"value":7138},{"type":15,"tag":252,"props":8224,"children":8226},{"class":254,"line":8225},35,[8227,8232,8237,8241,8245,8249,8253,8257,8262,8266,8270,8275,8279,8283],{"type":15,"tag":252,"props":8228,"children":8229},{"style":601},[8230],{"type":21,"value":8231},"        let",{"type":15,"tag":252,"props":8233,"children":8234},{"style":447},[8235],{"type":21,"value":8236}," c ",{"type":15,"tag":252,"props":8238,"children":8239},{"style":601},[8240],{"type":21,"value":614},{"type":15,"tag":252,"props":8242,"children":8243},{"style":276},[8244],{"type":21,"value":7244},{"type":15,"tag":252,"props":8246,"children":8247},{"style":601},[8248],{"type":21,"value":432},{"type":15,"tag":252,"props":8250,"children":8251},{"style":447},[8252],{"type":21,"value":81},{"type":15,"tag":252,"props":8254,"children":8255},{"style":601},[8256],{"type":21,"value":432},{"type":15,"tag":252,"props":8258,"children":8259},{"style":259},[8260],{"type":21,"value":8261},"advance",{"type":15,"tag":252,"props":8263,"children":8264},{"style":447},[8265],{"type":21,"value":7305},{"type":15,"tag":252,"props":8267,"children":8268},{"style":601},[8269],{"type":21,"value":432},{"type":15,"tag":252,"props":8271,"children":8272},{"style":259},[8273],{"type":21,"value":8274},"ok",{"type":15,"tag":252,"props":8276,"children":8277},{"style":447},[8278],{"type":21,"value":7305},{"type":15,"tag":252,"props":8280,"children":8281},{"style":601},[8282],{"type":21,"value":5468},{"type":15,"tag":252,"props":8284,"children":8285},{"style":447},[8286],{"type":21,"value":3325},{"type":15,"tag":252,"props":8288,"children":8290},{"class":254,"line":8289},36,[8291,8296,8300,8305,8310,8315,8320],{"type":15,"tag":252,"props":8292,"children":8293},{"style":601},[8294],{"type":21,"value":8295},"        if",{"type":15,"tag":252,"props":8297,"children":8298},{"style":447},[8299],{"type":21,"value":8236},{"type":15,"tag":252,"props":8301,"children":8302},{"style":601},[8303],{"type":21,"value":8304},"==",{"type":15,"tag":252,"props":8306,"children":8307},{"style":265},[8308],{"type":21,"value":8309}," '",{"type":15,"tag":252,"props":8311,"children":8312},{"style":276},[8313],{"type":21,"value":8314},"\\n",{"type":15,"tag":252,"props":8316,"children":8317},{"style":265},[8318],{"type":21,"value":8319},"'",{"type":15,"tag":252,"props":8321,"children":8322},{"style":447},[8323],{"type":21,"value":3769},{"type":15,"tag":252,"props":8325,"children":8327},{"class":254,"line":8326},37,[8328,8333,8337,8342,8347,8351],{"type":15,"tag":252,"props":8329,"children":8330},{"style":276},[8331],{"type":21,"value":8332},"            self",{"type":15,"tag":252,"props":8334,"children":8335},{"style":601},[8336],{"type":21,"value":432},{"type":15,"tag":252,"props":8338,"children":8339},{"style":447},[8340],{"type":21,"value":8341},"line ",{"type":15,"tag":252,"props":8343,"children":8344},{"style":601},[8345],{"type":21,"value":8346},"+=",{"type":15,"tag":252,"props":8348,"children":8349},{"style":276},[8350],{"type":21,"value":7809},{"type":15,"tag":252,"props":8352,"children":8353},{"style":447},[8354],{"type":21,"value":3325},{"type":15,"tag":252,"props":8356,"children":8358},{"class":254,"line":8357},38,[8359,8363,8367,8371,8375,8379],{"type":15,"tag":252,"props":8360,"children":8361},{"style":276},[8362],{"type":21,"value":8332},{"type":15,"tag":252,"props":8364,"children":8365},{"style":601},[8366],{"type":21,"value":432},{"type":15,"tag":252,"props":8368,"children":8369},{"style":259},[8370],{"type":21,"value":7603},{"type":15,"tag":252,"props":8372,"children":8373},{"style":601},[8374],{"type":21,"value":3315},{"type":15,"tag":252,"props":8376,"children":8377},{"style":276},[8378],{"type":21,"value":7809},{"type":15,"tag":252,"props":8380,"children":8381},{"style":447},[8382],{"type":21,"value":3325},{"type":15,"tag":252,"props":8384,"children":8386},{"class":254,"line":8385},39,[8387,8392,8397],{"type":15,"tag":252,"props":8388,"children":8389},{"style":447},[8390],{"type":21,"value":8391},"        } ",{"type":15,"tag":252,"props":8393,"children":8394},{"style":601},[8395],{"type":21,"value":8396},"else",{"type":15,"tag":252,"props":8398,"children":8399},{"style":447},[8400],{"type":21,"value":3769},{"type":15,"tag":252,"props":8402,"children":8404},{"class":254,"line":8403},40,[8405,8409,8413,8417,8422,8426],{"type":15,"tag":252,"props":8406,"children":8407},{"style":276},[8408],{"type":21,"value":8332},{"type":15,"tag":252,"props":8410,"children":8411},{"style":601},[8412],{"type":21,"value":432},{"type":15,"tag":252,"props":8414,"children":8415},{"style":259},[8416],{"type":21,"value":7603},{"type":15,"tag":252,"props":8418,"children":8419},{"style":601},[8420],{"type":21,"value":8421}," +=",{"type":15,"tag":252,"props":8423,"children":8424},{"style":276},[8425],{"type":21,"value":7809},{"type":15,"tag":252,"props":8427,"children":8428},{"style":447},[8429],{"type":21,"value":3325},{"type":15,"tag":252,"props":8431,"children":8433},{"class":254,"line":8432},41,[8434],{"type":15,"tag":252,"props":8435,"children":8436},{"style":447},[8437],{"type":21,"value":4087},{"type":15,"tag":252,"props":8439,"children":8441},{"class":254,"line":8440},42,[8442,8447],{"type":15,"tag":252,"props":8443,"children":8444},{"style":259},[8445],{"type":21,"value":8446},"        Some",{"type":15,"tag":252,"props":8448,"children":8449},{"style":447},[8450],{"type":21,"value":8451},"(c)\n",{"type":15,"tag":252,"props":8453,"children":8455},{"class":254,"line":8454},43,[8456],{"type":15,"tag":252,"props":8457,"children":8458},{"style":447},[8459],{"type":21,"value":4095},{"type":15,"tag":252,"props":8461,"children":8463},{"class":254,"line":8462},44,[8464],{"type":15,"tag":252,"props":8465,"children":8466},{"emptyLinePlaceholder":2053},[8467],{"type":21,"value":2056},{"type":15,"tag":252,"props":8469,"children":8471},{"class":254,"line":8470},45,[8472,8476,8480,8484,8488,8492],{"type":15,"tag":252,"props":8473,"children":8474},{"style":601},[8475],{"type":21,"value":7146},{"type":15,"tag":252,"props":8477,"children":8478},{"style":259},[8479],{"type":21,"value":7353},{"type":15,"tag":252,"props":8481,"children":8482},{"style":447},[8483],{"type":21,"value":849},{"type":15,"tag":252,"props":8485,"children":8486},{"style":601},[8487],{"type":21,"value":7239},{"type":15,"tag":252,"props":8489,"children":8490},{"style":276},[8491],{"type":21,"value":7244},{"type":15,"tag":252,"props":8493,"children":8494},{"style":447},[8495],{"type":21,"value":7370},{"type":15,"tag":252,"props":8497,"children":8499},{"class":254,"line":8498},46,[8500,8504,8508,8512],{"type":15,"tag":252,"props":8501,"children":8502},{"style":276},[8503],{"type":21,"value":7286},{"type":15,"tag":252,"props":8505,"children":8506},{"style":601},[8507],{"type":21,"value":432},{"type":15,"tag":252,"props":8509,"children":8510},{"style":259},[8511],{"type":21,"value":8261},{"type":15,"tag":252,"props":8513,"children":8514},{"style":447},[8515],{"type":21,"value":814},{"type":15,"tag":252,"props":8517,"children":8519},{"class":254,"line":8518},47,[8520],{"type":15,"tag":252,"props":8521,"children":8522},{"style":447},[8523],{"type":21,"value":4095},{"type":15,"tag":252,"props":8525,"children":8527},{"class":254,"line":8526},48,[8528],{"type":15,"tag":252,"props":8529,"children":8530},{"style":447},[8531],{"type":21,"value":2854},{"type":15,"tag":23,"props":8533,"children":8534},{},[8535],{"type":21,"value":8536},"It is a good amount of code, and that isn't all of it, this is just the utility functions we will be using! They should all be pretty self-explanatory.",{"type":15,"tag":23,"props":8538,"children":8539},{},[8540,8542,8548,8550,8556,8558,8563],{"type":21,"value":8541},"Also, you may ask, why are we using ",{"type":15,"tag":81,"props":8543,"children":8545},{"className":8544},[],[8546],{"type":21,"value":8547},"self.advance",{"type":21,"value":8549}," instead of ",{"type":15,"tag":81,"props":8551,"children":8553},{"className":8552},[],[8554],{"type":21,"value":8555},"self.code.void",{"type":21,"value":8557},"? Simple! ",{"type":15,"tag":81,"props":8559,"children":8561},{"className":8560},[],[8562],{"type":21,"value":8261},{"type":21,"value":8564}," keeps track of our location ;)",{"type":15,"tag":95,"props":8566,"children":8568},{"code":8567,"language":772,"meta":8,"className":773,"style":8},"    fn consume_number(&mut self) -> Token {\n        let mut number = String::new();\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_digit() {\n                number.push(*c);\n                self.void();\n            } else {\n                break;\n            }\n        }\n        self.token(TokenType::Integer(number.parse().unwrap()))\n    }\n",[8569],{"type":15,"tag":81,"props":8570,"children":8571},{"__ignoreMap":8},[8572,8612,8649,8701,8727,8758,8779,8795,8807,8815,8822,8885],{"type":15,"tag":252,"props":8573,"children":8574},{"class":254,"line":255},[8575,8579,8584,8588,8592,8596,8600,8604,8608],{"type":15,"tag":252,"props":8576,"children":8577},{"style":601},[8578],{"type":21,"value":7146},{"type":15,"tag":252,"props":8580,"children":8581},{"style":259},[8582],{"type":21,"value":8583}," consume_number",{"type":15,"tag":252,"props":8585,"children":8586},{"style":447},[8587],{"type":21,"value":849},{"type":15,"tag":252,"props":8589,"children":8590},{"style":601},[8591],{"type":21,"value":7239},{"type":15,"tag":252,"props":8593,"children":8594},{"style":276},[8595],{"type":21,"value":7244},{"type":15,"tag":252,"props":8597,"children":8598},{"style":447},[8599],{"type":21,"value":4943},{"type":15,"tag":252,"props":8601,"children":8602},{"style":601},[8603],{"type":21,"value":3947},{"type":15,"tag":252,"props":8605,"children":8606},{"style":259},[8607],{"type":21,"value":6572},{"type":15,"tag":252,"props":8609,"children":8610},{"style":447},[8611],{"type":21,"value":3769},{"type":15,"tag":252,"props":8613,"children":8614},{"class":254,"line":334},[8615,8619,8624,8629,8633,8637,8641,8645],{"type":15,"tag":252,"props":8616,"children":8617},{"style":601},[8618],{"type":21,"value":8231},{"type":15,"tag":252,"props":8620,"children":8621},{"style":601},[8622],{"type":21,"value":8623}," mut",{"type":15,"tag":252,"props":8625,"children":8626},{"style":447},[8627],{"type":21,"value":8628}," number ",{"type":15,"tag":252,"props":8630,"children":8631},{"style":601},[8632],{"type":21,"value":614},{"type":15,"tag":252,"props":8634,"children":8635},{"style":259},[8636],{"type":21,"value":3799},{"type":15,"tag":252,"props":8638,"children":8639},{"style":601},[8640],{"type":21,"value":804},{"type":15,"tag":252,"props":8642,"children":8643},{"style":259},[8644],{"type":21,"value":7761},{"type":15,"tag":252,"props":8646,"children":8647},{"style":447},[8648],{"type":21,"value":814},{"type":15,"tag":252,"props":8650,"children":8651},{"class":254,"line":390},[8652,8657,8662,8667,8672,8676,8680,8684,8688,8692,8697],{"type":15,"tag":252,"props":8653,"children":8654},{"style":601},[8655],{"type":21,"value":8656},"        while",{"type":15,"tag":252,"props":8658,"children":8659},{"style":601},[8660],{"type":21,"value":8661}," let",{"type":15,"tag":252,"props":8663,"children":8664},{"style":259},[8665],{"type":21,"value":8666}," Ok",{"type":15,"tag":252,"props":8668,"children":8669},{"style":447},[8670],{"type":21,"value":8671},"(c) ",{"type":15,"tag":252,"props":8673,"children":8674},{"style":601},[8675],{"type":21,"value":614},{"type":15,"tag":252,"props":8677,"children":8678},{"style":276},[8679],{"type":21,"value":7244},{"type":15,"tag":252,"props":8681,"children":8682},{"style":601},[8683],{"type":21,"value":432},{"type":15,"tag":252,"props":8685,"children":8686},{"style":447},[8687],{"type":21,"value":81},{"type":15,"tag":252,"props":8689,"children":8690},{"style":601},[8691],{"type":21,"value":432},{"type":15,"tag":252,"props":8693,"children":8694},{"style":259},[8695],{"type":21,"value":8696},"peek",{"type":15,"tag":252,"props":8698,"children":8699},{"style":447},[8700],{"type":21,"value":2074},{"type":15,"tag":252,"props":8702,"children":8703},{"class":254,"line":2077},[8704,8709,8714,8718,8723],{"type":15,"tag":252,"props":8705,"children":8706},{"style":601},[8707],{"type":21,"value":8708},"            if",{"type":15,"tag":252,"props":8710,"children":8711},{"style":447},[8712],{"type":21,"value":8713}," c",{"type":15,"tag":252,"props":8715,"children":8716},{"style":601},[8717],{"type":21,"value":432},{"type":15,"tag":252,"props":8719,"children":8720},{"style":259},[8721],{"type":21,"value":8722},"is_ascii_digit",{"type":15,"tag":252,"props":8724,"children":8725},{"style":447},[8726],{"type":21,"value":2074},{"type":15,"tag":252,"props":8728,"children":8729},{"class":254,"line":2110},[8730,8735,8739,8744,8748,8753],{"type":15,"tag":252,"props":8731,"children":8732},{"style":447},[8733],{"type":21,"value":8734},"                number",{"type":15,"tag":252,"props":8736,"children":8737},{"style":601},[8738],{"type":21,"value":432},{"type":15,"tag":252,"props":8740,"children":8741},{"style":259},[8742],{"type":21,"value":8743},"push",{"type":15,"tag":252,"props":8745,"children":8746},{"style":447},[8747],{"type":21,"value":849},{"type":15,"tag":252,"props":8749,"children":8750},{"style":601},[8751],{"type":21,"value":8752},"*",{"type":15,"tag":252,"props":8754,"children":8755},{"style":447},[8756],{"type":21,"value":8757},"c);\n",{"type":15,"tag":252,"props":8759,"children":8760},{"class":254,"line":2150},[8761,8766,8770,8775],{"type":15,"tag":252,"props":8762,"children":8763},{"style":276},[8764],{"type":21,"value":8765},"                self",{"type":15,"tag":252,"props":8767,"children":8768},{"style":601},[8769],{"type":21,"value":432},{"type":15,"tag":252,"props":8771,"children":8772},{"style":259},[8773],{"type":21,"value":8774},"void",{"type":15,"tag":252,"props":8776,"children":8777},{"style":447},[8778],{"type":21,"value":814},{"type":15,"tag":252,"props":8780,"children":8781},{"class":254,"line":2182},[8782,8787,8791],{"type":15,"tag":252,"props":8783,"children":8784},{"style":447},[8785],{"type":21,"value":8786},"            } ",{"type":15,"tag":252,"props":8788,"children":8789},{"style":601},[8790],{"type":21,"value":8396},{"type":15,"tag":252,"props":8792,"children":8793},{"style":447},[8794],{"type":21,"value":3769},{"type":15,"tag":252,"props":8796,"children":8797},{"class":254,"line":2190},[8798,8803],{"type":15,"tag":252,"props":8799,"children":8800},{"style":601},[8801],{"type":21,"value":8802},"                break",{"type":15,"tag":252,"props":8804,"children":8805},{"style":447},[8806],{"type":21,"value":3325},{"type":15,"tag":252,"props":8808,"children":8809},{"class":254,"line":2222},[8810],{"type":15,"tag":252,"props":8811,"children":8812},{"style":447},[8813],{"type":21,"value":8814},"            }\n",{"type":15,"tag":252,"props":8816,"children":8817},{"class":254,"line":2270},[8818],{"type":15,"tag":252,"props":8819,"children":8820},{"style":447},[8821],{"type":21,"value":4087},{"type":15,"tag":252,"props":8823,"children":8824},{"class":254,"line":2302},[8825,8829,8833,8838,8842,8847,8851,8855,8860,8864,8868,8872,8876,8880],{"type":15,"tag":252,"props":8826,"children":8827},{"style":276},[8828],{"type":21,"value":7286},{"type":15,"tag":252,"props":8830,"children":8831},{"style":601},[8832],{"type":21,"value":432},{"type":15,"tag":252,"props":8834,"children":8835},{"style":259},[8836],{"type":21,"value":8837},"token",{"type":15,"tag":252,"props":8839,"children":8840},{"style":447},[8841],{"type":21,"value":849},{"type":15,"tag":252,"props":8843,"children":8844},{"style":259},[8845],{"type":21,"value":8846},"TokenType",{"type":15,"tag":252,"props":8848,"children":8849},{"style":601},[8850],{"type":21,"value":804},{"type":15,"tag":252,"props":8852,"children":8853},{"style":259},[8854],{"type":21,"value":6153},{"type":15,"tag":252,"props":8856,"children":8857},{"style":447},[8858],{"type":21,"value":8859},"(number",{"type":15,"tag":252,"props":8861,"children":8862},{"style":601},[8863],{"type":21,"value":432},{"type":15,"tag":252,"props":8865,"children":8866},{"style":259},[8867],{"type":21,"value":3995},{"type":15,"tag":252,"props":8869,"children":8870},{"style":447},[8871],{"type":21,"value":7305},{"type":15,"tag":252,"props":8873,"children":8874},{"style":601},[8875],{"type":21,"value":432},{"type":15,"tag":252,"props":8877,"children":8878},{"style":259},[8879],{"type":21,"value":1984},{"type":15,"tag":252,"props":8881,"children":8882},{"style":447},[8883],{"type":21,"value":8884},"()))\n",{"type":15,"tag":252,"props":8886,"children":8887},{"class":254,"line":2310},[8888],{"type":15,"tag":252,"props":8889,"children":8890},{"style":447},[8891],{"type":21,"value":4095},{"type":15,"tag":23,"props":8893,"children":8894},{},[8895,8897,8903,8905,8911,8913,8919,8921],{"type":21,"value":8896},"We will call this when we hit a number, it will keep eating characters until it hits the end or a non-number char.\nBut wait, is that ",{"type":15,"tag":81,"props":8898,"children":8900},{"className":8899},[],[8901],{"type":21,"value":8902},".unwrap()",{"type":21,"value":8904}," I spot?! I thought you said we were gonna have good error handling!\nBut we are! In this case, since every char was checked with ",{"type":15,"tag":81,"props":8906,"children":8908},{"className":8907},[],[8909],{"type":21,"value":8910},".is_ascii_digit",{"type":21,"value":8912}," we know that ",{"type":15,"tag":81,"props":8914,"children":8916},{"className":8915},[],[8917],{"type":21,"value":8918},"number",{"type":21,"value":8920}," must be valid ",{"type":15,"tag":234,"props":8922,"children":8923},{},[],{"type":15,"tag":95,"props":8925,"children":8927},{"code":8926,"language":772,"meta":8,"className":773,"style":8},"    fn consume_identifier(&mut self) -> Token {\n        let mut identifier = String::new();\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_alphanumeric() {\n                identifier.push(*c);\n                self.void();\n            } else {\n                break;\n            }\n        }\n\n        self.token(match identifier.as_str() {\n            \"print\" => TokenType::Print,\n            _ => TokenType::Identifier(identifier),\n        })\n    }\n",[8928],{"type":15,"tag":81,"props":8929,"children":8930},{"__ignoreMap":8},[8931,8971,9007,9054,9078,9106,9125,9140,9151,9158,9165,9172,9214,9243,9272,9279],{"type":15,"tag":252,"props":8932,"children":8933},{"class":254,"line":255},[8934,8938,8943,8947,8951,8955,8959,8963,8967],{"type":15,"tag":252,"props":8935,"children":8936},{"style":601},[8937],{"type":21,"value":7146},{"type":15,"tag":252,"props":8939,"children":8940},{"style":259},[8941],{"type":21,"value":8942}," consume_identifier",{"type":15,"tag":252,"props":8944,"children":8945},{"style":447},[8946],{"type":21,"value":849},{"type":15,"tag":252,"props":8948,"children":8949},{"style":601},[8950],{"type":21,"value":7239},{"type":15,"tag":252,"props":8952,"children":8953},{"style":276},[8954],{"type":21,"value":7244},{"type":15,"tag":252,"props":8956,"children":8957},{"style":447},[8958],{"type":21,"value":4943},{"type":15,"tag":252,"props":8960,"children":8961},{"style":601},[8962],{"type":21,"value":3947},{"type":15,"tag":252,"props":8964,"children":8965},{"style":259},[8966],{"type":21,"value":6572},{"type":15,"tag":252,"props":8968,"children":8969},{"style":447},[8970],{"type":21,"value":3769},{"type":15,"tag":252,"props":8972,"children":8973},{"class":254,"line":334},[8974,8978,8982,8987,8991,8995,8999,9003],{"type":15,"tag":252,"props":8975,"children":8976},{"style":601},[8977],{"type":21,"value":8231},{"type":15,"tag":252,"props":8979,"children":8980},{"style":601},[8981],{"type":21,"value":8623},{"type":15,"tag":252,"props":8983,"children":8984},{"style":447},[8985],{"type":21,"value":8986}," identifier ",{"type":15,"tag":252,"props":8988,"children":8989},{"style":601},[8990],{"type":21,"value":614},{"type":15,"tag":252,"props":8992,"children":8993},{"style":259},[8994],{"type":21,"value":3799},{"type":15,"tag":252,"props":8996,"children":8997},{"style":601},[8998],{"type":21,"value":804},{"type":15,"tag":252,"props":9000,"children":9001},{"style":259},[9002],{"type":21,"value":7761},{"type":15,"tag":252,"props":9004,"children":9005},{"style":447},[9006],{"type":21,"value":814},{"type":15,"tag":252,"props":9008,"children":9009},{"class":254,"line":390},[9010,9014,9018,9022,9026,9030,9034,9038,9042,9046,9050],{"type":15,"tag":252,"props":9011,"children":9012},{"style":601},[9013],{"type":21,"value":8656},{"type":15,"tag":252,"props":9015,"children":9016},{"style":601},[9017],{"type":21,"value":8661},{"type":15,"tag":252,"props":9019,"children":9020},{"style":259},[9021],{"type":21,"value":8666},{"type":15,"tag":252,"props":9023,"children":9024},{"style":447},[9025],{"type":21,"value":8671},{"type":15,"tag":252,"props":9027,"children":9028},{"style":601},[9029],{"type":21,"value":614},{"type":15,"tag":252,"props":9031,"children":9032},{"style":276},[9033],{"type":21,"value":7244},{"type":15,"tag":252,"props":9035,"children":9036},{"style":601},[9037],{"type":21,"value":432},{"type":15,"tag":252,"props":9039,"children":9040},{"style":447},[9041],{"type":21,"value":81},{"type":15,"tag":252,"props":9043,"children":9044},{"style":601},[9045],{"type":21,"value":432},{"type":15,"tag":252,"props":9047,"children":9048},{"style":259},[9049],{"type":21,"value":8696},{"type":15,"tag":252,"props":9051,"children":9052},{"style":447},[9053],{"type":21,"value":2074},{"type":15,"tag":252,"props":9055,"children":9056},{"class":254,"line":2077},[9057,9061,9065,9069,9074],{"type":15,"tag":252,"props":9058,"children":9059},{"style":601},[9060],{"type":21,"value":8708},{"type":15,"tag":252,"props":9062,"children":9063},{"style":447},[9064],{"type":21,"value":8713},{"type":15,"tag":252,"props":9066,"children":9067},{"style":601},[9068],{"type":21,"value":432},{"type":15,"tag":252,"props":9070,"children":9071},{"style":259},[9072],{"type":21,"value":9073},"is_ascii_alphanumeric",{"type":15,"tag":252,"props":9075,"children":9076},{"style":447},[9077],{"type":21,"value":2074},{"type":15,"tag":252,"props":9079,"children":9080},{"class":254,"line":2110},[9081,9086,9090,9094,9098,9102],{"type":15,"tag":252,"props":9082,"children":9083},{"style":447},[9084],{"type":21,"value":9085},"                identifier",{"type":15,"tag":252,"props":9087,"children":9088},{"style":601},[9089],{"type":21,"value":432},{"type":15,"tag":252,"props":9091,"children":9092},{"style":259},[9093],{"type":21,"value":8743},{"type":15,"tag":252,"props":9095,"children":9096},{"style":447},[9097],{"type":21,"value":849},{"type":15,"tag":252,"props":9099,"children":9100},{"style":601},[9101],{"type":21,"value":8752},{"type":15,"tag":252,"props":9103,"children":9104},{"style":447},[9105],{"type":21,"value":8757},{"type":15,"tag":252,"props":9107,"children":9108},{"class":254,"line":2150},[9109,9113,9117,9121],{"type":15,"tag":252,"props":9110,"children":9111},{"style":276},[9112],{"type":21,"value":8765},{"type":15,"tag":252,"props":9114,"children":9115},{"style":601},[9116],{"type":21,"value":432},{"type":15,"tag":252,"props":9118,"children":9119},{"style":259},[9120],{"type":21,"value":8774},{"type":15,"tag":252,"props":9122,"children":9123},{"style":447},[9124],{"type":21,"value":814},{"type":15,"tag":252,"props":9126,"children":9127},{"class":254,"line":2182},[9128,9132,9136],{"type":15,"tag":252,"props":9129,"children":9130},{"style":447},[9131],{"type":21,"value":8786},{"type":15,"tag":252,"props":9133,"children":9134},{"style":601},[9135],{"type":21,"value":8396},{"type":15,"tag":252,"props":9137,"children":9138},{"style":447},[9139],{"type":21,"value":3769},{"type":15,"tag":252,"props":9141,"children":9142},{"class":254,"line":2190},[9143,9147],{"type":15,"tag":252,"props":9144,"children":9145},{"style":601},[9146],{"type":21,"value":8802},{"type":15,"tag":252,"props":9148,"children":9149},{"style":447},[9150],{"type":21,"value":3325},{"type":15,"tag":252,"props":9152,"children":9153},{"class":254,"line":2222},[9154],{"type":15,"tag":252,"props":9155,"children":9156},{"style":447},[9157],{"type":21,"value":8814},{"type":15,"tag":252,"props":9159,"children":9160},{"class":254,"line":2270},[9161],{"type":15,"tag":252,"props":9162,"children":9163},{"style":447},[9164],{"type":21,"value":4087},{"type":15,"tag":252,"props":9166,"children":9167},{"class":254,"line":2302},[9168],{"type":15,"tag":252,"props":9169,"children":9170},{"emptyLinePlaceholder":2053},[9171],{"type":21,"value":2056},{"type":15,"tag":252,"props":9173,"children":9174},{"class":254,"line":2310},[9175,9179,9183,9187,9191,9196,9201,9205,9210],{"type":15,"tag":252,"props":9176,"children":9177},{"style":276},[9178],{"type":21,"value":7286},{"type":15,"tag":252,"props":9180,"children":9181},{"style":601},[9182],{"type":21,"value":432},{"type":15,"tag":252,"props":9184,"children":9185},{"style":259},[9186],{"type":21,"value":8837},{"type":15,"tag":252,"props":9188,"children":9189},{"style":447},[9190],{"type":21,"value":849},{"type":15,"tag":252,"props":9192,"children":9193},{"style":601},[9194],{"type":21,"value":9195},"match",{"type":15,"tag":252,"props":9197,"children":9198},{"style":447},[9199],{"type":21,"value":9200}," identifier",{"type":15,"tag":252,"props":9202,"children":9203},{"style":601},[9204],{"type":21,"value":432},{"type":15,"tag":252,"props":9206,"children":9207},{"style":259},[9208],{"type":21,"value":9209},"as_str",{"type":15,"tag":252,"props":9211,"children":9212},{"style":447},[9213],{"type":21,"value":2074},{"type":15,"tag":252,"props":9215,"children":9216},{"class":254,"line":2370},[9217,9222,9227,9231,9235,9239],{"type":15,"tag":252,"props":9218,"children":9219},{"style":265},[9220],{"type":21,"value":9221},"            \"print\"",{"type":15,"tag":252,"props":9223,"children":9224},{"style":601},[9225],{"type":21,"value":9226}," =>",{"type":15,"tag":252,"props":9228,"children":9229},{"style":259},[9230],{"type":21,"value":6463},{"type":15,"tag":252,"props":9232,"children":9233},{"style":601},[9234],{"type":21,"value":804},{"type":15,"tag":252,"props":9236,"children":9237},{"style":259},[9238],{"type":21,"value":5693},{"type":15,"tag":252,"props":9240,"children":9241},{"style":447},[9242],{"type":21,"value":3879},{"type":15,"tag":252,"props":9244,"children":9245},{"class":254,"line":2418},[9246,9251,9255,9259,9263,9267],{"type":15,"tag":252,"props":9247,"children":9248},{"style":447},[9249],{"type":21,"value":9250},"            _ ",{"type":15,"tag":252,"props":9252,"children":9253},{"style":601},[9254],{"type":21,"value":4054},{"type":15,"tag":252,"props":9256,"children":9257},{"style":259},[9258],{"type":21,"value":6463},{"type":15,"tag":252,"props":9260,"children":9261},{"style":601},[9262],{"type":21,"value":804},{"type":15,"tag":252,"props":9264,"children":9265},{"style":259},[9266],{"type":21,"value":6666},{"type":15,"tag":252,"props":9268,"children":9269},{"style":447},[9270],{"type":21,"value":9271},"(identifier),\n",{"type":15,"tag":252,"props":9273,"children":9274},{"class":254,"line":2426},[9275],{"type":15,"tag":252,"props":9276,"children":9277},{"style":447},[9278],{"type":21,"value":8013},{"type":15,"tag":252,"props":9280,"children":9281},{"class":254,"line":2474},[9282],{"type":15,"tag":252,"props":9283,"children":9284},{"style":447},[9285],{"type":21,"value":4095},{"type":15,"tag":23,"props":9287,"children":9288},{},[9289],{"type":21,"value":9290},"This code is similar, we will call this on any alphabetic character, and identifiers can contain numbers in them.\nAfter we read the identifier we check if it is a keyword (in this case we only got \"print\"), if not we create an Identifier.",{"type":15,"tag":95,"props":9292,"children":9294},{"code":9293,"language":772,"meta":8,"className":773,"style":8},"    fn consume_whitespace(&mut self) {\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_whitespace() {\n                self.void();\n            } else {\n                break;\n            }\n        }\n    }\n",[9295],{"type":15,"tag":81,"props":9296,"children":9297},{"__ignoreMap":8},[9298,9326,9373,9397,9416,9431,9442,9449,9456],{"type":15,"tag":252,"props":9299,"children":9300},{"class":254,"line":255},[9301,9305,9310,9314,9318,9322],{"type":15,"tag":252,"props":9302,"children":9303},{"style":601},[9304],{"type":21,"value":7146},{"type":15,"tag":252,"props":9306,"children":9307},{"style":259},[9308],{"type":21,"value":9309}," consume_whitespace",{"type":15,"tag":252,"props":9311,"children":9312},{"style":447},[9313],{"type":21,"value":849},{"type":15,"tag":252,"props":9315,"children":9316},{"style":601},[9317],{"type":21,"value":7239},{"type":15,"tag":252,"props":9319,"children":9320},{"style":276},[9321],{"type":21,"value":7244},{"type":15,"tag":252,"props":9323,"children":9324},{"style":447},[9325],{"type":21,"value":7370},{"type":15,"tag":252,"props":9327,"children":9328},{"class":254,"line":334},[9329,9333,9337,9341,9345,9349,9353,9357,9361,9365,9369],{"type":15,"tag":252,"props":9330,"children":9331},{"style":601},[9332],{"type":21,"value":8656},{"type":15,"tag":252,"props":9334,"children":9335},{"style":601},[9336],{"type":21,"value":8661},{"type":15,"tag":252,"props":9338,"children":9339},{"style":259},[9340],{"type":21,"value":8666},{"type":15,"tag":252,"props":9342,"children":9343},{"style":447},[9344],{"type":21,"value":8671},{"type":15,"tag":252,"props":9346,"children":9347},{"style":601},[9348],{"type":21,"value":614},{"type":15,"tag":252,"props":9350,"children":9351},{"style":276},[9352],{"type":21,"value":7244},{"type":15,"tag":252,"props":9354,"children":9355},{"style":601},[9356],{"type":21,"value":432},{"type":15,"tag":252,"props":9358,"children":9359},{"style":447},[9360],{"type":21,"value":81},{"type":15,"tag":252,"props":9362,"children":9363},{"style":601},[9364],{"type":21,"value":432},{"type":15,"tag":252,"props":9366,"children":9367},{"style":259},[9368],{"type":21,"value":8696},{"type":15,"tag":252,"props":9370,"children":9371},{"style":447},[9372],{"type":21,"value":2074},{"type":15,"tag":252,"props":9374,"children":9375},{"class":254,"line":390},[9376,9380,9384,9388,9393],{"type":15,"tag":252,"props":9377,"children":9378},{"style":601},[9379],{"type":21,"value":8708},{"type":15,"tag":252,"props":9381,"children":9382},{"style":447},[9383],{"type":21,"value":8713},{"type":15,"tag":252,"props":9385,"children":9386},{"style":601},[9387],{"type":21,"value":432},{"type":15,"tag":252,"props":9389,"children":9390},{"style":259},[9391],{"type":21,"value":9392},"is_ascii_whitespace",{"type":15,"tag":252,"props":9394,"children":9395},{"style":447},[9396],{"type":21,"value":2074},{"type":15,"tag":252,"props":9398,"children":9399},{"class":254,"line":2077},[9400,9404,9408,9412],{"type":15,"tag":252,"props":9401,"children":9402},{"style":276},[9403],{"type":21,"value":8765},{"type":15,"tag":252,"props":9405,"children":9406},{"style":601},[9407],{"type":21,"value":432},{"type":15,"tag":252,"props":9409,"children":9410},{"style":259},[9411],{"type":21,"value":8774},{"type":15,"tag":252,"props":9413,"children":9414},{"style":447},[9415],{"type":21,"value":814},{"type":15,"tag":252,"props":9417,"children":9418},{"class":254,"line":2110},[9419,9423,9427],{"type":15,"tag":252,"props":9420,"children":9421},{"style":447},[9422],{"type":21,"value":8786},{"type":15,"tag":252,"props":9424,"children":9425},{"style":601},[9426],{"type":21,"value":8396},{"type":15,"tag":252,"props":9428,"children":9429},{"style":447},[9430],{"type":21,"value":3769},{"type":15,"tag":252,"props":9432,"children":9433},{"class":254,"line":2150},[9434,9438],{"type":15,"tag":252,"props":9435,"children":9436},{"style":601},[9437],{"type":21,"value":8802},{"type":15,"tag":252,"props":9439,"children":9440},{"style":447},[9441],{"type":21,"value":3325},{"type":15,"tag":252,"props":9443,"children":9444},{"class":254,"line":2182},[9445],{"type":15,"tag":252,"props":9446,"children":9447},{"style":447},[9448],{"type":21,"value":8814},{"type":15,"tag":252,"props":9450,"children":9451},{"class":254,"line":2190},[9452],{"type":15,"tag":252,"props":9453,"children":9454},{"style":447},[9455],{"type":21,"value":4087},{"type":15,"tag":252,"props":9457,"children":9458},{"class":254,"line":2222},[9459],{"type":15,"tag":252,"props":9460,"children":9461},{"style":447},[9462],{"type":21,"value":4095},{"type":15,"tag":23,"props":9464,"children":9465},{},[9466],{"type":21,"value":9467},"This will let us remove whitespace easily, and this is why tokenizing is so useful, not only do we get identifiers and numbers grouped up when parsing, but we also don't have to deal with whitespace!",{"type":15,"tag":95,"props":9469,"children":9471},{"code":9470,"language":772,"meta":8,"className":773,"style":8},"    fn consume_comment(&mut self) {\n        while let Ok(c) = self.code.peek() {\n            if c == &'\\n' {\n                self.void();\n                break;\n            } else {\n                self.void();\n            }\n        }\n    }\n",[9472],{"type":15,"tag":81,"props":9473,"children":9474},{"__ignoreMap":8},[9475,9503,9550,9585,9604,9615,9630,9649,9656,9663],{"type":15,"tag":252,"props":9476,"children":9477},{"class":254,"line":255},[9478,9482,9487,9491,9495,9499],{"type":15,"tag":252,"props":9479,"children":9480},{"style":601},[9481],{"type":21,"value":7146},{"type":15,"tag":252,"props":9483,"children":9484},{"style":259},[9485],{"type":21,"value":9486}," consume_comment",{"type":15,"tag":252,"props":9488,"children":9489},{"style":447},[9490],{"type":21,"value":849},{"type":15,"tag":252,"props":9492,"children":9493},{"style":601},[9494],{"type":21,"value":7239},{"type":15,"tag":252,"props":9496,"children":9497},{"style":276},[9498],{"type":21,"value":7244},{"type":15,"tag":252,"props":9500,"children":9501},{"style":447},[9502],{"type":21,"value":7370},{"type":15,"tag":252,"props":9504,"children":9505},{"class":254,"line":334},[9506,9510,9514,9518,9522,9526,9530,9534,9538,9542,9546],{"type":15,"tag":252,"props":9507,"children":9508},{"style":601},[9509],{"type":21,"value":8656},{"type":15,"tag":252,"props":9511,"children":9512},{"style":601},[9513],{"type":21,"value":8661},{"type":15,"tag":252,"props":9515,"children":9516},{"style":259},[9517],{"type":21,"value":8666},{"type":15,"tag":252,"props":9519,"children":9520},{"style":447},[9521],{"type":21,"value":8671},{"type":15,"tag":252,"props":9523,"children":9524},{"style":601},[9525],{"type":21,"value":614},{"type":15,"tag":252,"props":9527,"children":9528},{"style":276},[9529],{"type":21,"value":7244},{"type":15,"tag":252,"props":9531,"children":9532},{"style":601},[9533],{"type":21,"value":432},{"type":15,"tag":252,"props":9535,"children":9536},{"style":447},[9537],{"type":21,"value":81},{"type":15,"tag":252,"props":9539,"children":9540},{"style":601},[9541],{"type":21,"value":432},{"type":15,"tag":252,"props":9543,"children":9544},{"style":259},[9545],{"type":21,"value":8696},{"type":15,"tag":252,"props":9547,"children":9548},{"style":447},[9549],{"type":21,"value":2074},{"type":15,"tag":252,"props":9551,"children":9552},{"class":254,"line":390},[9553,9557,9561,9565,9569,9573,9577,9581],{"type":15,"tag":252,"props":9554,"children":9555},{"style":601},[9556],{"type":21,"value":8708},{"type":15,"tag":252,"props":9558,"children":9559},{"style":447},[9560],{"type":21,"value":8236},{"type":15,"tag":252,"props":9562,"children":9563},{"style":601},[9564],{"type":21,"value":8304},{"type":15,"tag":252,"props":9566,"children":9567},{"style":601},[9568],{"type":21,"value":4920},{"type":15,"tag":252,"props":9570,"children":9571},{"style":265},[9572],{"type":21,"value":8319},{"type":15,"tag":252,"props":9574,"children":9575},{"style":276},[9576],{"type":21,"value":8314},{"type":15,"tag":252,"props":9578,"children":9579},{"style":265},[9580],{"type":21,"value":8319},{"type":15,"tag":252,"props":9582,"children":9583},{"style":447},[9584],{"type":21,"value":3769},{"type":15,"tag":252,"props":9586,"children":9587},{"class":254,"line":2077},[9588,9592,9596,9600],{"type":15,"tag":252,"props":9589,"children":9590},{"style":276},[9591],{"type":21,"value":8765},{"type":15,"tag":252,"props":9593,"children":9594},{"style":601},[9595],{"type":21,"value":432},{"type":15,"tag":252,"props":9597,"children":9598},{"style":259},[9599],{"type":21,"value":8774},{"type":15,"tag":252,"props":9601,"children":9602},{"style":447},[9603],{"type":21,"value":814},{"type":15,"tag":252,"props":9605,"children":9606},{"class":254,"line":2110},[9607,9611],{"type":15,"tag":252,"props":9608,"children":9609},{"style":601},[9610],{"type":21,"value":8802},{"type":15,"tag":252,"props":9612,"children":9613},{"style":447},[9614],{"type":21,"value":3325},{"type":15,"tag":252,"props":9616,"children":9617},{"class":254,"line":2150},[9618,9622,9626],{"type":15,"tag":252,"props":9619,"children":9620},{"style":447},[9621],{"type":21,"value":8786},{"type":15,"tag":252,"props":9623,"children":9624},{"style":601},[9625],{"type":21,"value":8396},{"type":15,"tag":252,"props":9627,"children":9628},{"style":447},[9629],{"type":21,"value":3769},{"type":15,"tag":252,"props":9631,"children":9632},{"class":254,"line":2182},[9633,9637,9641,9645],{"type":15,"tag":252,"props":9634,"children":9635},{"style":276},[9636],{"type":21,"value":8765},{"type":15,"tag":252,"props":9638,"children":9639},{"style":601},[9640],{"type":21,"value":432},{"type":15,"tag":252,"props":9642,"children":9643},{"style":259},[9644],{"type":21,"value":8774},{"type":15,"tag":252,"props":9646,"children":9647},{"style":447},[9648],{"type":21,"value":814},{"type":15,"tag":252,"props":9650,"children":9651},{"class":254,"line":2190},[9652],{"type":15,"tag":252,"props":9653,"children":9654},{"style":447},[9655],{"type":21,"value":8814},{"type":15,"tag":252,"props":9657,"children":9658},{"class":254,"line":2222},[9659],{"type":15,"tag":252,"props":9660,"children":9661},{"style":447},[9662],{"type":21,"value":4087},{"type":15,"tag":252,"props":9664,"children":9665},{"class":254,"line":2270},[9666],{"type":15,"tag":252,"props":9667,"children":9668},{"style":447},[9669],{"type":21,"value":4095},{"type":15,"tag":23,"props":9671,"children":9672},{},[9673,9674,9680],{"type":21,"value":294},{"type":15,"tag":81,"props":9675,"children":9677},{"className":9676},[],[9678],{"type":21,"value":9679},"#",{"type":21,"value":9681}," for comments, and ofc we just ignore it, another reason tokenizing is useful, the parser doesn't have to care about comments!",{"type":15,"tag":95,"props":9683,"children":9685},{"code":9684,"language":772,"meta":8,"className":773,"style":8},"    pub fn tokenize(mut self) -> Result\u003CVec\u003CToken>, TokenizerError> {\n        let mut tokens = Vec::new();\n        while let Ok(&c) = self.code.peek() {\n            match c {\n                c if c.is_ascii_digit() => tokens.push(self.consume_number()),\n                c if c.is_ascii_alphabetic() => tokens.push(self.consume_identifier()),\n                ';' => {\n                    tokens.push(self.token(TokenType::SemiColon));\n                    self.void();\n                }\n                c if c.is_ascii_whitespace() => self.consume_whitespace(),\n                '#' => self.consume_comment(),\n                _ => {\n                    self.error(format!(\"Unexpected character: {}\", c))?;\n                }\n            }\n        }\n        tokens.push(self.token(TokenType::Eof));\n        Ok(tokens)\n    }\n",[9686],{"type":15,"tag":81,"props":9687,"children":9688},{"__ignoreMap":8},[9689,9761,9797,9853,9866,9931,9996,10012,10066,10086,10094,10143,10172,10188,10235,10242,10249,10256,10309,10322],{"type":15,"tag":252,"props":9690,"children":9691},{"class":254,"line":255},[9692,9696,9700,9705,9709,9714,9718,9722,9726,9730,9734,9739,9743,9748,9753,9757],{"type":15,"tag":252,"props":9693,"children":9694},{"style":601},[9695],{"type":21,"value":4762},{"type":15,"tag":252,"props":9697,"children":9698},{"style":601},[9699],{"type":21,"value":4901},{"type":15,"tag":252,"props":9701,"children":9702},{"style":259},[9703],{"type":21,"value":9704}," tokenize",{"type":15,"tag":252,"props":9706,"children":9707},{"style":447},[9708],{"type":21,"value":849},{"type":15,"tag":252,"props":9710,"children":9711},{"style":601},[9712],{"type":21,"value":9713},"mut",{"type":15,"tag":252,"props":9715,"children":9716},{"style":276},[9717],{"type":21,"value":7244},{"type":15,"tag":252,"props":9719,"children":9720},{"style":447},[9721],{"type":21,"value":4943},{"type":15,"tag":252,"props":9723,"children":9724},{"style":601},[9725],{"type":21,"value":3947},{"type":15,"tag":252,"props":9727,"children":9728},{"style":259},[9729],{"type":21,"value":7257},{"type":15,"tag":252,"props":9731,"children":9732},{"style":447},[9733],{"type":21,"value":5826},{"type":15,"tag":252,"props":9735,"children":9736},{"style":259},[9737],{"type":21,"value":9738},"Vec",{"type":15,"tag":252,"props":9740,"children":9741},{"style":447},[9742],{"type":21,"value":5826},{"type":15,"tag":252,"props":9744,"children":9745},{"style":259},[9746],{"type":21,"value":9747},"Token",{"type":15,"tag":252,"props":9749,"children":9750},{"style":447},[9751],{"type":21,"value":9752},">, ",{"type":15,"tag":252,"props":9754,"children":9755},{"style":259},[9756],{"type":21,"value":7913},{"type":15,"tag":252,"props":9758,"children":9759},{"style":447},[9760],{"type":21,"value":7138},{"type":15,"tag":252,"props":9762,"children":9763},{"class":254,"line":334},[9764,9768,9772,9777,9781,9785,9789,9793],{"type":15,"tag":252,"props":9765,"children":9766},{"style":601},[9767],{"type":21,"value":8231},{"type":15,"tag":252,"props":9769,"children":9770},{"style":601},[9771],{"type":21,"value":8623},{"type":15,"tag":252,"props":9773,"children":9774},{"style":447},[9775],{"type":21,"value":9776}," tokens ",{"type":15,"tag":252,"props":9778,"children":9779},{"style":601},[9780],{"type":21,"value":614},{"type":15,"tag":252,"props":9782,"children":9783},{"style":259},[9784],{"type":21,"value":5821},{"type":15,"tag":252,"props":9786,"children":9787},{"style":601},[9788],{"type":21,"value":804},{"type":15,"tag":252,"props":9790,"children":9791},{"style":259},[9792],{"type":21,"value":7761},{"type":15,"tag":252,"props":9794,"children":9795},{"style":447},[9796],{"type":21,"value":814},{"type":15,"tag":252,"props":9798,"children":9799},{"class":254,"line":390},[9800,9804,9808,9812,9816,9820,9825,9829,9833,9837,9841,9845,9849],{"type":15,"tag":252,"props":9801,"children":9802},{"style":601},[9803],{"type":21,"value":8656},{"type":15,"tag":252,"props":9805,"children":9806},{"style":601},[9807],{"type":21,"value":8661},{"type":15,"tag":252,"props":9809,"children":9810},{"style":259},[9811],{"type":21,"value":8666},{"type":15,"tag":252,"props":9813,"children":9814},{"style":447},[9815],{"type":21,"value":849},{"type":15,"tag":252,"props":9817,"children":9818},{"style":601},[9819],{"type":21,"value":1171},{"type":15,"tag":252,"props":9821,"children":9822},{"style":447},[9823],{"type":21,"value":9824},"c) ",{"type":15,"tag":252,"props":9826,"children":9827},{"style":601},[9828],{"type":21,"value":614},{"type":15,"tag":252,"props":9830,"children":9831},{"style":276},[9832],{"type":21,"value":7244},{"type":15,"tag":252,"props":9834,"children":9835},{"style":601},[9836],{"type":21,"value":432},{"type":15,"tag":252,"props":9838,"children":9839},{"style":447},[9840],{"type":21,"value":81},{"type":15,"tag":252,"props":9842,"children":9843},{"style":601},[9844],{"type":21,"value":432},{"type":15,"tag":252,"props":9846,"children":9847},{"style":259},[9848],{"type":21,"value":8696},{"type":15,"tag":252,"props":9850,"children":9851},{"style":447},[9852],{"type":21,"value":2074},{"type":15,"tag":252,"props":9854,"children":9855},{"class":254,"line":2077},[9856,9861],{"type":15,"tag":252,"props":9857,"children":9858},{"style":601},[9859],{"type":21,"value":9860},"            match",{"type":15,"tag":252,"props":9862,"children":9863},{"style":447},[9864],{"type":21,"value":9865}," c {\n",{"type":15,"tag":252,"props":9867,"children":9868},{"class":254,"line":2110},[9869,9874,9878,9882,9886,9890,9894,9898,9902,9906,9910,9914,9918,9922,9927],{"type":15,"tag":252,"props":9870,"children":9871},{"style":447},[9872],{"type":21,"value":9873},"                c ",{"type":15,"tag":252,"props":9875,"children":9876},{"style":601},[9877],{"type":21,"value":1627},{"type":15,"tag":252,"props":9879,"children":9880},{"style":447},[9881],{"type":21,"value":8713},{"type":15,"tag":252,"props":9883,"children":9884},{"style":601},[9885],{"type":21,"value":432},{"type":15,"tag":252,"props":9887,"children":9888},{"style":259},[9889],{"type":21,"value":8722},{"type":15,"tag":252,"props":9891,"children":9892},{"style":447},[9893],{"type":21,"value":3942},{"type":15,"tag":252,"props":9895,"children":9896},{"style":601},[9897],{"type":21,"value":4054},{"type":15,"tag":252,"props":9899,"children":9900},{"style":447},[9901],{"type":21,"value":6977},{"type":15,"tag":252,"props":9903,"children":9904},{"style":601},[9905],{"type":21,"value":432},{"type":15,"tag":252,"props":9907,"children":9908},{"style":259},[9909],{"type":21,"value":8743},{"type":15,"tag":252,"props":9911,"children":9912},{"style":447},[9913],{"type":21,"value":849},{"type":15,"tag":252,"props":9915,"children":9916},{"style":276},[9917],{"type":21,"value":7432},{"type":15,"tag":252,"props":9919,"children":9920},{"style":601},[9921],{"type":21,"value":432},{"type":15,"tag":252,"props":9923,"children":9924},{"style":259},[9925],{"type":21,"value":9926},"consume_number",{"type":15,"tag":252,"props":9928,"children":9929},{"style":447},[9930],{"type":21,"value":7792},{"type":15,"tag":252,"props":9932,"children":9933},{"class":254,"line":2150},[9934,9938,9942,9946,9950,9955,9959,9963,9967,9971,9975,9979,9983,9987,9992],{"type":15,"tag":252,"props":9935,"children":9936},{"style":447},[9937],{"type":21,"value":9873},{"type":15,"tag":252,"props":9939,"children":9940},{"style":601},[9941],{"type":21,"value":1627},{"type":15,"tag":252,"props":9943,"children":9944},{"style":447},[9945],{"type":21,"value":8713},{"type":15,"tag":252,"props":9947,"children":9948},{"style":601},[9949],{"type":21,"value":432},{"type":15,"tag":252,"props":9951,"children":9952},{"style":259},[9953],{"type":21,"value":9954},"is_ascii_alphabetic",{"type":15,"tag":252,"props":9956,"children":9957},{"style":447},[9958],{"type":21,"value":3942},{"type":15,"tag":252,"props":9960,"children":9961},{"style":601},[9962],{"type":21,"value":4054},{"type":15,"tag":252,"props":9964,"children":9965},{"style":447},[9966],{"type":21,"value":6977},{"type":15,"tag":252,"props":9968,"children":9969},{"style":601},[9970],{"type":21,"value":432},{"type":15,"tag":252,"props":9972,"children":9973},{"style":259},[9974],{"type":21,"value":8743},{"type":15,"tag":252,"props":9976,"children":9977},{"style":447},[9978],{"type":21,"value":849},{"type":15,"tag":252,"props":9980,"children":9981},{"style":276},[9982],{"type":21,"value":7432},{"type":15,"tag":252,"props":9984,"children":9985},{"style":601},[9986],{"type":21,"value":432},{"type":15,"tag":252,"props":9988,"children":9989},{"style":259},[9990],{"type":21,"value":9991},"consume_identifier",{"type":15,"tag":252,"props":9993,"children":9994},{"style":447},[9995],{"type":21,"value":7792},{"type":15,"tag":252,"props":9997,"children":9998},{"class":254,"line":2182},[9999,10004,10008],{"type":15,"tag":252,"props":10000,"children":10001},{"style":265},[10002],{"type":21,"value":10003},"                ';'",{"type":15,"tag":252,"props":10005,"children":10006},{"style":601},[10007],{"type":21,"value":9226},{"type":15,"tag":252,"props":10009,"children":10010},{"style":447},[10011],{"type":21,"value":3769},{"type":15,"tag":252,"props":10013,"children":10014},{"class":254,"line":2190},[10015,10020,10024,10028,10032,10036,10040,10044,10048,10052,10056,10061],{"type":15,"tag":252,"props":10016,"children":10017},{"style":447},[10018],{"type":21,"value":10019},"                    tokens",{"type":15,"tag":252,"props":10021,"children":10022},{"style":601},[10023],{"type":21,"value":432},{"type":15,"tag":252,"props":10025,"children":10026},{"style":259},[10027],{"type":21,"value":8743},{"type":15,"tag":252,"props":10029,"children":10030},{"style":447},[10031],{"type":21,"value":849},{"type":15,"tag":252,"props":10033,"children":10034},{"style":276},[10035],{"type":21,"value":7432},{"type":15,"tag":252,"props":10037,"children":10038},{"style":601},[10039],{"type":21,"value":432},{"type":15,"tag":252,"props":10041,"children":10042},{"style":259},[10043],{"type":21,"value":8837},{"type":15,"tag":252,"props":10045,"children":10046},{"style":447},[10047],{"type":21,"value":849},{"type":15,"tag":252,"props":10049,"children":10050},{"style":259},[10051],{"type":21,"value":8846},{"type":15,"tag":252,"props":10053,"children":10054},{"style":601},[10055],{"type":21,"value":804},{"type":15,"tag":252,"props":10057,"children":10058},{"style":259},[10059],{"type":21,"value":10060},"SemiColon",{"type":15,"tag":252,"props":10062,"children":10063},{"style":447},[10064],{"type":21,"value":10065},"));\n",{"type":15,"tag":252,"props":10067,"children":10068},{"class":254,"line":2222},[10069,10074,10078,10082],{"type":15,"tag":252,"props":10070,"children":10071},{"style":276},[10072],{"type":21,"value":10073},"                    self",{"type":15,"tag":252,"props":10075,"children":10076},{"style":601},[10077],{"type":21,"value":432},{"type":15,"tag":252,"props":10079,"children":10080},{"style":259},[10081],{"type":21,"value":8774},{"type":15,"tag":252,"props":10083,"children":10084},{"style":447},[10085],{"type":21,"value":814},{"type":15,"tag":252,"props":10087,"children":10088},{"class":254,"line":2270},[10089],{"type":15,"tag":252,"props":10090,"children":10091},{"style":447},[10092],{"type":21,"value":10093},"                }\n",{"type":15,"tag":252,"props":10095,"children":10096},{"class":254,"line":2302},[10097,10101,10105,10109,10113,10117,10121,10125,10129,10133,10138],{"type":15,"tag":252,"props":10098,"children":10099},{"style":447},[10100],{"type":21,"value":9873},{"type":15,"tag":252,"props":10102,"children":10103},{"style":601},[10104],{"type":21,"value":1627},{"type":15,"tag":252,"props":10106,"children":10107},{"style":447},[10108],{"type":21,"value":8713},{"type":15,"tag":252,"props":10110,"children":10111},{"style":601},[10112],{"type":21,"value":432},{"type":15,"tag":252,"props":10114,"children":10115},{"style":259},[10116],{"type":21,"value":9392},{"type":15,"tag":252,"props":10118,"children":10119},{"style":447},[10120],{"type":21,"value":3942},{"type":15,"tag":252,"props":10122,"children":10123},{"style":601},[10124],{"type":21,"value":4054},{"type":15,"tag":252,"props":10126,"children":10127},{"style":276},[10128],{"type":21,"value":7244},{"type":15,"tag":252,"props":10130,"children":10131},{"style":601},[10132],{"type":21,"value":432},{"type":15,"tag":252,"props":10134,"children":10135},{"style":259},[10136],{"type":21,"value":10137},"consume_whitespace",{"type":15,"tag":252,"props":10139,"children":10140},{"style":447},[10141],{"type":21,"value":10142},"(),\n",{"type":15,"tag":252,"props":10144,"children":10145},{"class":254,"line":2310},[10146,10151,10155,10159,10163,10168],{"type":15,"tag":252,"props":10147,"children":10148},{"style":265},[10149],{"type":21,"value":10150},"                '#'",{"type":15,"tag":252,"props":10152,"children":10153},{"style":601},[10154],{"type":21,"value":9226},{"type":15,"tag":252,"props":10156,"children":10157},{"style":276},[10158],{"type":21,"value":7244},{"type":15,"tag":252,"props":10160,"children":10161},{"style":601},[10162],{"type":21,"value":432},{"type":15,"tag":252,"props":10164,"children":10165},{"style":259},[10166],{"type":21,"value":10167},"consume_comment",{"type":15,"tag":252,"props":10169,"children":10170},{"style":447},[10171],{"type":21,"value":10142},{"type":15,"tag":252,"props":10173,"children":10174},{"class":254,"line":2370},[10175,10180,10184],{"type":15,"tag":252,"props":10176,"children":10177},{"style":447},[10178],{"type":21,"value":10179},"                _ ",{"type":15,"tag":252,"props":10181,"children":10182},{"style":601},[10183],{"type":21,"value":4054},{"type":15,"tag":252,"props":10185,"children":10186},{"style":447},[10187],{"type":21,"value":3769},{"type":15,"tag":252,"props":10189,"children":10190},{"class":254,"line":2418},[10191,10195,10199,10204,10208,10213,10217,10222,10227,10231],{"type":15,"tag":252,"props":10192,"children":10193},{"style":276},[10194],{"type":21,"value":10073},{"type":15,"tag":252,"props":10196,"children":10197},{"style":601},[10198],{"type":21,"value":432},{"type":15,"tag":252,"props":10200,"children":10201},{"style":259},[10202],{"type":21,"value":10203},"error",{"type":15,"tag":252,"props":10205,"children":10206},{"style":447},[10207],{"type":21,"value":849},{"type":15,"tag":252,"props":10209,"children":10210},{"style":259},[10211],{"type":21,"value":10212},"format!",{"type":15,"tag":252,"props":10214,"children":10215},{"style":447},[10216],{"type":21,"value":849},{"type":15,"tag":252,"props":10218,"children":10219},{"style":265},[10220],{"type":21,"value":10221},"\"Unexpected character: {}\"",{"type":15,"tag":252,"props":10223,"children":10224},{"style":447},[10225],{"type":21,"value":10226},", c))",{"type":15,"tag":252,"props":10228,"children":10229},{"style":601},[10230],{"type":21,"value":5468},{"type":15,"tag":252,"props":10232,"children":10233},{"style":447},[10234],{"type":21,"value":3325},{"type":15,"tag":252,"props":10236,"children":10237},{"class":254,"line":2426},[10238],{"type":15,"tag":252,"props":10239,"children":10240},{"style":447},[10241],{"type":21,"value":10093},{"type":15,"tag":252,"props":10243,"children":10244},{"class":254,"line":2474},[10245],{"type":15,"tag":252,"props":10246,"children":10247},{"style":447},[10248],{"type":21,"value":8814},{"type":15,"tag":252,"props":10250,"children":10251},{"class":254,"line":2522},[10252],{"type":15,"tag":252,"props":10253,"children":10254},{"style":447},[10255],{"type":21,"value":4087},{"type":15,"tag":252,"props":10257,"children":10258},{"class":254,"line":2530},[10259,10264,10268,10272,10276,10280,10284,10288,10292,10296,10300,10305],{"type":15,"tag":252,"props":10260,"children":10261},{"style":447},[10262],{"type":21,"value":10263},"        tokens",{"type":15,"tag":252,"props":10265,"children":10266},{"style":601},[10267],{"type":21,"value":432},{"type":15,"tag":252,"props":10269,"children":10270},{"style":259},[10271],{"type":21,"value":8743},{"type":15,"tag":252,"props":10273,"children":10274},{"style":447},[10275],{"type":21,"value":849},{"type":15,"tag":252,"props":10277,"children":10278},{"style":276},[10279],{"type":21,"value":7432},{"type":15,"tag":252,"props":10281,"children":10282},{"style":601},[10283],{"type":21,"value":432},{"type":15,"tag":252,"props":10285,"children":10286},{"style":259},[10287],{"type":21,"value":8837},{"type":15,"tag":252,"props":10289,"children":10290},{"style":447},[10291],{"type":21,"value":849},{"type":15,"tag":252,"props":10293,"children":10294},{"style":259},[10295],{"type":21,"value":8846},{"type":15,"tag":252,"props":10297,"children":10298},{"style":601},[10299],{"type":21,"value":804},{"type":15,"tag":252,"props":10301,"children":10302},{"style":259},[10303],{"type":21,"value":10304},"Eof",{"type":15,"tag":252,"props":10306,"children":10307},{"style":447},[10308],{"type":21,"value":10065},{"type":15,"tag":252,"props":10310,"children":10311},{"class":254,"line":2570},[10312,10317],{"type":15,"tag":252,"props":10313,"children":10314},{"style":259},[10315],{"type":21,"value":10316},"        Ok",{"type":15,"tag":252,"props":10318,"children":10319},{"style":447},[10320],{"type":21,"value":10321},"(tokens)\n",{"type":15,"tag":252,"props":10323,"children":10324},{"class":254,"line":2591},[10325],{"type":15,"tag":252,"props":10326,"children":10327},{"style":447},[10328],{"type":21,"value":4095},{"type":15,"tag":23,"props":10330,"children":10331},{},[10332],{"type":21,"value":10333},"And here is our main function, it is rather straightforward when we got those other functions to do the hard work.",{"type":15,"tag":894,"props":10335,"children":10336},{},[10337,10342,10347,10352,10357,10362],{"type":15,"tag":898,"props":10338,"children":10339},{},[10340],{"type":21,"value":10341},"is it a digit? consume a number",{"type":15,"tag":898,"props":10343,"children":10344},{},[10345],{"type":21,"value":10346},"is it a letter? consume an identifier",{"type":15,"tag":898,"props":10348,"children":10349},{},[10350],{"type":21,"value":10351},"is it a semicolon? create a semicolon",{"type":15,"tag":898,"props":10353,"children":10354},{},[10355],{"type":21,"value":10356},"is it whitespace? Consume and ignore",{"type":15,"tag":898,"props":10358,"children":10359},{},[10360],{"type":21,"value":10361},"Anything else? ERROR",{"type":15,"tag":898,"props":10363,"children":10364},{},[10365,10367,10372],{"type":21,"value":10366},"And ofc an ",{"type":15,"tag":81,"props":10368,"children":10370},{"className":10369},[],[10371],{"type":21,"value":10304},{"type":21,"value":10373}," at the end!",{"type":15,"tag":210,"props":10375,"children":10376},{},[10377],{"type":15,"tag":23,"props":10378,"children":10379},{},[10380,10382,10387],{"type":21,"value":10381},"Also you might wonder, why are we taking ownership of ",{"type":15,"tag":81,"props":10383,"children":10385},{"className":10384},[],[10386],{"type":21,"value":7432},{"type":21,"value":10388},"? simple, this struct wont be useful anymore once the stream is consumed, so to prevent errors we take ownership!",{"type":15,"tag":23,"props":10390,"children":10391},{},[10392,10394,10399,10401,10406],{"type":21,"value":10393},"Now we can start writing the ",{"type":15,"tag":81,"props":10395,"children":10397},{"className":10396},[],[10398],{"type":21,"value":3995},{"type":21,"value":10400}," function in ",{"type":15,"tag":81,"props":10402,"children":10404},{"className":10403},[],[10405],{"type":21,"value":6367},{"type":21,"value":10407},", soon we will also add the parsing step to this",{"type":15,"tag":95,"props":10409,"children":10411},{"code":10410,"language":772,"meta":8,"className":773,"style":8},"// parsing/mod.rs\n\npub fn parse(code: &str, compiler_options: &CompilerOptions) -> anyhow::Result\u003Cast::Module> {\n    let tokenizer = tokens::Tokenizer::new(code);\n    let tokens = tokenizer.tokenize()?;\n\n    if compiler_options.output_tokens {\n        // we dont care about position info in this output\n        let token_types = tokens\n            .iter()\n            .map(|t| format!(\"{:?}\", t._type))\n            // This is inefficient! itertools has a more efficient join method, but I dont want to add a dependency just for that\n            // You however can :D\n            .collect::\u003CVec\u003CString>>()\n            .join(\", \");\n\n        println!(\"TOKENS: {token_types}\");\n    }\n\n    todo!();\n}\n",[10412],{"type":15,"tag":81,"props":10413,"children":10414},{"__ignoreMap":8},[10415,10422,10429,10515,10556,10597,10604,10626,10634,10655,10673,10731,10739,10747,10783,10808,10815,10836,10843,10850,10862],{"type":15,"tag":252,"props":10416,"children":10417},{"class":254,"line":255},[10418],{"type":15,"tag":252,"props":10419,"children":10420},{"style":3287},[10421],{"type":21,"value":5654},{"type":15,"tag":252,"props":10423,"children":10424},{"class":254,"line":334},[10425],{"type":15,"tag":252,"props":10426,"children":10427},{"emptyLinePlaceholder":2053},[10428],{"type":21,"value":2056},{"type":15,"tag":252,"props":10430,"children":10431},{"class":254,"line":390},[10432,10436,10440,10445,10449,10453,10457,10461,10466,10470,10474,10478,10482,10486,10490,10494,10498,10503,10507,10511],{"type":15,"tag":252,"props":10433,"children":10434},{"style":601},[10435],{"type":21,"value":4740},{"type":15,"tag":252,"props":10437,"children":10438},{"style":601},[10439],{"type":21,"value":4901},{"type":15,"tag":252,"props":10441,"children":10442},{"style":259},[10443],{"type":21,"value":10444}," parse",{"type":15,"tag":252,"props":10446,"children":10447},{"style":447},[10448],{"type":21,"value":7697},{"type":15,"tag":252,"props":10450,"children":10451},{"style":601},[10452],{"type":21,"value":3374},{"type":15,"tag":252,"props":10454,"children":10455},{"style":601},[10456],{"type":21,"value":4920},{"type":15,"tag":252,"props":10458,"children":10459},{"style":259},[10460],{"type":21,"value":4925},{"type":15,"tag":252,"props":10462,"children":10463},{"style":447},[10464],{"type":21,"value":10465},", compiler_options",{"type":15,"tag":252,"props":10467,"children":10468},{"style":601},[10469],{"type":21,"value":3374},{"type":15,"tag":252,"props":10471,"children":10472},{"style":601},[10473],{"type":21,"value":4920},{"type":15,"tag":252,"props":10475,"children":10476},{"style":259},[10477],{"type":21,"value":5086},{"type":15,"tag":252,"props":10479,"children":10480},{"style":447},[10481],{"type":21,"value":4943},{"type":15,"tag":252,"props":10483,"children":10484},{"style":601},[10485],{"type":21,"value":3947},{"type":15,"tag":252,"props":10487,"children":10488},{"style":259},[10489],{"type":21,"value":3952},{"type":15,"tag":252,"props":10491,"children":10492},{"style":601},[10493],{"type":21,"value":804},{"type":15,"tag":252,"props":10495,"children":10496},{"style":259},[10497],{"type":21,"value":3961},{"type":15,"tag":252,"props":10499,"children":10500},{"style":447},[10501],{"type":21,"value":10502},"\u003Cast",{"type":15,"tag":252,"props":10504,"children":10505},{"style":601},[10506],{"type":21,"value":804},{"type":15,"tag":252,"props":10508,"children":10509},{"style":259},[10510],{"type":21,"value":6055},{"type":15,"tag":252,"props":10512,"children":10513},{"style":447},[10514],{"type":21,"value":7138},{"type":15,"tag":252,"props":10516,"children":10517},{"class":254,"line":2077},[10518,10522,10527,10531,10535,10539,10543,10547,10551],{"type":15,"tag":252,"props":10519,"children":10520},{"style":601},[10521],{"type":21,"value":2083},{"type":15,"tag":252,"props":10523,"children":10524},{"style":447},[10525],{"type":21,"value":10526}," tokenizer ",{"type":15,"tag":252,"props":10528,"children":10529},{"style":601},[10530],{"type":21,"value":614},{"type":15,"tag":252,"props":10532,"children":10533},{"style":259},[10534],{"type":21,"value":6977},{"type":15,"tag":252,"props":10536,"children":10537},{"style":601},[10538],{"type":21,"value":804},{"type":15,"tag":252,"props":10540,"children":10541},{"style":259},[10542],{"type":21,"value":6348},{"type":15,"tag":252,"props":10544,"children":10545},{"style":601},[10546],{"type":21,"value":804},{"type":15,"tag":252,"props":10548,"children":10549},{"style":259},[10550],{"type":21,"value":7761},{"type":15,"tag":252,"props":10552,"children":10553},{"style":447},[10554],{"type":21,"value":10555},"(code);\n",{"type":15,"tag":252,"props":10557,"children":10558},{"class":254,"line":2110},[10559,10563,10567,10571,10576,10580,10585,10589,10593],{"type":15,"tag":252,"props":10560,"children":10561},{"style":601},[10562],{"type":21,"value":2083},{"type":15,"tag":252,"props":10564,"children":10565},{"style":447},[10566],{"type":21,"value":9776},{"type":15,"tag":252,"props":10568,"children":10569},{"style":601},[10570],{"type":21,"value":614},{"type":15,"tag":252,"props":10572,"children":10573},{"style":447},[10574],{"type":21,"value":10575}," tokenizer",{"type":15,"tag":252,"props":10577,"children":10578},{"style":601},[10579],{"type":21,"value":432},{"type":15,"tag":252,"props":10581,"children":10582},{"style":259},[10583],{"type":21,"value":10584},"tokenize",{"type":15,"tag":252,"props":10586,"children":10587},{"style":447},[10588],{"type":21,"value":7305},{"type":15,"tag":252,"props":10590,"children":10591},{"style":601},[10592],{"type":21,"value":5468},{"type":15,"tag":252,"props":10594,"children":10595},{"style":447},[10596],{"type":21,"value":3325},{"type":15,"tag":252,"props":10598,"children":10599},{"class":254,"line":2150},[10600],{"type":15,"tag":252,"props":10601,"children":10602},{"emptyLinePlaceholder":2053},[10603],{"type":21,"value":2056},{"type":15,"tag":252,"props":10605,"children":10606},{"class":254,"line":2182},[10607,10612,10617,10621],{"type":15,"tag":252,"props":10608,"children":10609},{"style":601},[10610],{"type":21,"value":10611},"    if",{"type":15,"tag":252,"props":10613,"children":10614},{"style":447},[10615],{"type":21,"value":10616}," compiler_options",{"type":15,"tag":252,"props":10618,"children":10619},{"style":601},[10620],{"type":21,"value":432},{"type":15,"tag":252,"props":10622,"children":10623},{"style":447},[10624],{"type":21,"value":10625},"output_tokens {\n",{"type":15,"tag":252,"props":10627,"children":10628},{"class":254,"line":2190},[10629],{"type":15,"tag":252,"props":10630,"children":10631},{"style":3287},[10632],{"type":21,"value":10633},"        // we dont care about position info in this output\n",{"type":15,"tag":252,"props":10635,"children":10636},{"class":254,"line":2222},[10637,10641,10646,10650],{"type":15,"tag":252,"props":10638,"children":10639},{"style":601},[10640],{"type":21,"value":8231},{"type":15,"tag":252,"props":10642,"children":10643},{"style":447},[10644],{"type":21,"value":10645}," token_types ",{"type":15,"tag":252,"props":10647,"children":10648},{"style":601},[10649],{"type":21,"value":614},{"type":15,"tag":252,"props":10651,"children":10652},{"style":447},[10653],{"type":21,"value":10654}," tokens\n",{"type":15,"tag":252,"props":10656,"children":10657},{"class":254,"line":2270},[10658,10663,10668],{"type":15,"tag":252,"props":10659,"children":10660},{"style":601},[10661],{"type":21,"value":10662},"            .",{"type":15,"tag":252,"props":10664,"children":10665},{"style":259},[10666],{"type":21,"value":10667},"iter",{"type":15,"tag":252,"props":10669,"children":10670},{"style":447},[10671],{"type":21,"value":10672},"()\n",{"type":15,"tag":252,"props":10674,"children":10675},{"class":254,"line":2302},[10676,10680,10685,10689,10694,10699,10703,10708,10712,10717,10722,10726],{"type":15,"tag":252,"props":10677,"children":10678},{"style":601},[10679],{"type":21,"value":10662},{"type":15,"tag":252,"props":10681,"children":10682},{"style":259},[10683],{"type":21,"value":10684},"map",{"type":15,"tag":252,"props":10686,"children":10687},{"style":447},[10688],{"type":21,"value":849},{"type":15,"tag":252,"props":10690,"children":10691},{"style":601},[10692],{"type":21,"value":10693},"|",{"type":15,"tag":252,"props":10695,"children":10696},{"style":447},[10697],{"type":21,"value":10698},"t",{"type":15,"tag":252,"props":10700,"children":10701},{"style":601},[10702],{"type":21,"value":10693},{"type":15,"tag":252,"props":10704,"children":10705},{"style":259},[10706],{"type":21,"value":10707}," format!",{"type":15,"tag":252,"props":10709,"children":10710},{"style":447},[10711],{"type":21,"value":849},{"type":15,"tag":252,"props":10713,"children":10714},{"style":265},[10715],{"type":21,"value":10716},"\"{:?}\"",{"type":15,"tag":252,"props":10718,"children":10719},{"style":447},[10720],{"type":21,"value":10721},", t",{"type":15,"tag":252,"props":10723,"children":10724},{"style":601},[10725],{"type":21,"value":432},{"type":15,"tag":252,"props":10727,"children":10728},{"style":447},[10729],{"type":21,"value":10730},"_type))\n",{"type":15,"tag":252,"props":10732,"children":10733},{"class":254,"line":2310},[10734],{"type":15,"tag":252,"props":10735,"children":10736},{"style":3287},[10737],{"type":21,"value":10738},"            // This is inefficient! itertools has a more efficient join method, but I dont want to add a dependency just for that\n",{"type":15,"tag":252,"props":10740,"children":10741},{"class":254,"line":2370},[10742],{"type":15,"tag":252,"props":10743,"children":10744},{"style":3287},[10745],{"type":21,"value":10746},"            // You however can :D\n",{"type":15,"tag":252,"props":10748,"children":10749},{"class":254,"line":2418},[10750,10754,10758,10762,10766,10770,10774,10778],{"type":15,"tag":252,"props":10751,"children":10752},{"style":601},[10753],{"type":21,"value":10662},{"type":15,"tag":252,"props":10755,"children":10756},{"style":259},[10757],{"type":21,"value":7787},{"type":15,"tag":252,"props":10759,"children":10760},{"style":601},[10761],{"type":21,"value":804},{"type":15,"tag":252,"props":10763,"children":10764},{"style":447},[10765],{"type":21,"value":5826},{"type":15,"tag":252,"props":10767,"children":10768},{"style":259},[10769],{"type":21,"value":9738},{"type":15,"tag":252,"props":10771,"children":10772},{"style":447},[10773],{"type":21,"value":5826},{"type":15,"tag":252,"props":10775,"children":10776},{"style":259},[10777],{"type":21,"value":6503},{"type":15,"tag":252,"props":10779,"children":10780},{"style":447},[10781],{"type":21,"value":10782},">>()\n",{"type":15,"tag":252,"props":10784,"children":10785},{"class":254,"line":2426},[10786,10790,10795,10799,10804],{"type":15,"tag":252,"props":10787,"children":10788},{"style":601},[10789],{"type":21,"value":10662},{"type":15,"tag":252,"props":10791,"children":10792},{"style":259},[10793],{"type":21,"value":10794},"join",{"type":15,"tag":252,"props":10796,"children":10797},{"style":447},[10798],{"type":21,"value":849},{"type":15,"tag":252,"props":10800,"children":10801},{"style":265},[10802],{"type":21,"value":10803},"\", \"",{"type":15,"tag":252,"props":10805,"children":10806},{"style":447},[10807],{"type":21,"value":859},{"type":15,"tag":252,"props":10809,"children":10810},{"class":254,"line":2474},[10811],{"type":15,"tag":252,"props":10812,"children":10813},{"emptyLinePlaceholder":2053},[10814],{"type":21,"value":2056},{"type":15,"tag":252,"props":10816,"children":10817},{"class":254,"line":2522},[10818,10823,10827,10832],{"type":15,"tag":252,"props":10819,"children":10820},{"style":259},[10821],{"type":21,"value":10822},"        println!",{"type":15,"tag":252,"props":10824,"children":10825},{"style":447},[10826],{"type":21,"value":849},{"type":15,"tag":252,"props":10828,"children":10829},{"style":265},[10830],{"type":21,"value":10831},"\"TOKENS: {token_types}\"",{"type":15,"tag":252,"props":10833,"children":10834},{"style":447},[10835],{"type":21,"value":859},{"type":15,"tag":252,"props":10837,"children":10838},{"class":254,"line":2530},[10839],{"type":15,"tag":252,"props":10840,"children":10841},{"style":447},[10842],{"type":21,"value":4095},{"type":15,"tag":252,"props":10844,"children":10845},{"class":254,"line":2570},[10846],{"type":15,"tag":252,"props":10847,"children":10848},{"emptyLinePlaceholder":2053},[10849],{"type":21,"value":2056},{"type":15,"tag":252,"props":10851,"children":10852},{"class":254,"line":2591},[10853,10858],{"type":15,"tag":252,"props":10854,"children":10855},{"style":259},[10856],{"type":21,"value":10857},"    todo!",{"type":15,"tag":252,"props":10859,"children":10860},{"style":447},[10861],{"type":21,"value":814},{"type":15,"tag":252,"props":10863,"children":10864},{"class":254,"line":2599},[10865],{"type":15,"tag":252,"props":10866,"children":10867},{"style":447},[10868],{"type":21,"value":2854},{"type":15,"tag":23,"props":10870,"children":10871},{},[10872,10874,10880,10882],{"type":21,"value":10873},"Here we also use the compiler flags to maybe print out the tokens!\nWe also have a ",{"type":15,"tag":81,"props":10875,"children":10877},{"className":10876},[],[10878],{"type":21,"value":10879},"todo!()",{"type":21,"value":10881}," at the end so Rust won't complain about our return type ",{"type":15,"tag":234,"props":10883,"children":10884},{},[],{"type":15,"tag":23,"props":10886,"children":10887},{},[10888,10890,10895,10897,10902],{"type":21,"value":10889},"Now we can add the ",{"type":15,"tag":81,"props":10891,"children":10893},{"className":10892},[],[10894],{"type":21,"value":3995},{"type":21,"value":10896}," call to our ",{"type":15,"tag":81,"props":10898,"children":10900},{"className":10899},[],[10901],{"type":21,"value":5022},{"type":21,"value":10903}," function,",{"type":15,"tag":95,"props":10905,"children":10907},{"code":10906,"language":772,"meta":8,"className":773,"style":8},"use anyhow::Context;\n\n// ...\n\npub fn build(file: &str, options: CompilerOptions) -> anyhow::Result\u003C()> {\n    let ast = parsing::parse(&file, &options).context(\"Parsing input file\")?;\n\n    Ok(())\n}\n",[10908],{"type":15,"tag":81,"props":10909,"children":10910},{"__ignoreMap":8},[10911,10934,10941,10948,10955,11022,11101,11108,11119],{"type":15,"tag":252,"props":10912,"children":10913},{"class":254,"line":255},[10914,10918,10922,10926,10930],{"type":15,"tag":252,"props":10915,"children":10916},{"style":601},[10917],{"type":21,"value":2008},{"type":15,"tag":252,"props":10919,"children":10920},{"style":259},[10921],{"type":21,"value":3952},{"type":15,"tag":252,"props":10923,"children":10924},{"style":601},[10925],{"type":21,"value":804},{"type":15,"tag":252,"props":10927,"children":10928},{"style":259},[10929],{"type":21,"value":2034},{"type":15,"tag":252,"props":10931,"children":10932},{"style":447},[10933],{"type":21,"value":3325},{"type":15,"tag":252,"props":10935,"children":10936},{"class":254,"line":334},[10937],{"type":15,"tag":252,"props":10938,"children":10939},{"emptyLinePlaceholder":2053},[10940],{"type":21,"value":2056},{"type":15,"tag":252,"props":10942,"children":10943},{"class":254,"line":390},[10944],{"type":15,"tag":252,"props":10945,"children":10946},{"style":3287},[10947],{"type":21,"value":5105},{"type":15,"tag":252,"props":10949,"children":10950},{"class":254,"line":2077},[10951],{"type":15,"tag":252,"props":10952,"children":10953},{"emptyLinePlaceholder":2053},[10954],{"type":21,"value":2056},{"type":15,"tag":252,"props":10956,"children":10957},{"class":254,"line":2110},[10958,10962,10966,10970,10974,10978,10982,10986,10990,10994,10998,11002,11006,11010,11014,11018],{"type":15,"tag":252,"props":10959,"children":10960},{"style":601},[10961],{"type":21,"value":4740},{"type":15,"tag":252,"props":10963,"children":10964},{"style":601},[10965],{"type":21,"value":4901},{"type":15,"tag":252,"props":10967,"children":10968},{"style":259},[10969],{"type":21,"value":4906},{"type":15,"tag":252,"props":10971,"children":10972},{"style":447},[10973],{"type":21,"value":4911},{"type":15,"tag":252,"props":10975,"children":10976},{"style":601},[10977],{"type":21,"value":3374},{"type":15,"tag":252,"props":10979,"children":10980},{"style":601},[10981],{"type":21,"value":4920},{"type":15,"tag":252,"props":10983,"children":10984},{"style":259},[10985],{"type":21,"value":4925},{"type":15,"tag":252,"props":10987,"children":10988},{"style":447},[10989],{"type":21,"value":4930},{"type":15,"tag":252,"props":10991,"children":10992},{"style":601},[10993],{"type":21,"value":3374},{"type":15,"tag":252,"props":10995,"children":10996},{"style":259},[10997],{"type":21,"value":4750},{"type":15,"tag":252,"props":10999,"children":11000},{"style":447},[11001],{"type":21,"value":4943},{"type":15,"tag":252,"props":11003,"children":11004},{"style":601},[11005],{"type":21,"value":3947},{"type":15,"tag":252,"props":11007,"children":11008},{"style":259},[11009],{"type":21,"value":3952},{"type":15,"tag":252,"props":11011,"children":11012},{"style":601},[11013],{"type":21,"value":804},{"type":15,"tag":252,"props":11015,"children":11016},{"style":259},[11017],{"type":21,"value":3961},{"type":15,"tag":252,"props":11019,"children":11020},{"style":447},[11021],{"type":21,"value":3966},{"type":15,"tag":252,"props":11023,"children":11024},{"class":254,"line":2150},[11025,11029,11034,11038,11042,11046,11050,11054,11058,11063,11067,11072,11076,11080,11084,11089,11093,11097],{"type":15,"tag":252,"props":11026,"children":11027},{"style":601},[11028],{"type":21,"value":2083},{"type":15,"tag":252,"props":11030,"children":11031},{"style":447},[11032],{"type":21,"value":11033}," ast ",{"type":15,"tag":252,"props":11035,"children":11036},{"style":601},[11037],{"type":21,"value":614},{"type":15,"tag":252,"props":11039,"children":11040},{"style":259},[11041],{"type":21,"value":5616},{"type":15,"tag":252,"props":11043,"children":11044},{"style":601},[11045],{"type":21,"value":804},{"type":15,"tag":252,"props":11047,"children":11048},{"style":259},[11049],{"type":21,"value":3995},{"type":15,"tag":252,"props":11051,"children":11052},{"style":447},[11053],{"type":21,"value":849},{"type":15,"tag":252,"props":11055,"children":11056},{"style":601},[11057],{"type":21,"value":1171},{"type":15,"tag":252,"props":11059,"children":11060},{"style":447},[11061],{"type":21,"value":11062},"file, ",{"type":15,"tag":252,"props":11064,"children":11065},{"style":601},[11066],{"type":21,"value":1171},{"type":15,"tag":252,"props":11068,"children":11069},{"style":447},[11070],{"type":21,"value":11071},"options)",{"type":15,"tag":252,"props":11073,"children":11074},{"style":601},[11075],{"type":21,"value":432},{"type":15,"tag":252,"props":11077,"children":11078},{"style":259},[11079],{"type":21,"value":908},{"type":15,"tag":252,"props":11081,"children":11082},{"style":447},[11083],{"type":21,"value":849},{"type":15,"tag":252,"props":11085,"children":11086},{"style":265},[11087],{"type":21,"value":11088},"\"Parsing input file\"",{"type":15,"tag":252,"props":11090,"children":11091},{"style":447},[11092],{"type":21,"value":1975},{"type":15,"tag":252,"props":11094,"children":11095},{"style":601},[11096],{"type":21,"value":5468},{"type":15,"tag":252,"props":11098,"children":11099},{"style":447},[11100],{"type":21,"value":3325},{"type":15,"tag":252,"props":11102,"children":11103},{"class":254,"line":2182},[11104],{"type":15,"tag":252,"props":11105,"children":11106},{"emptyLinePlaceholder":2053},[11107],{"type":21,"value":2056},{"type":15,"tag":252,"props":11109,"children":11110},{"class":254,"line":2190},[11111,11115],{"type":15,"tag":252,"props":11112,"children":11113},{"style":259},[11114],{"type":21,"value":4110},{"type":15,"tag":252,"props":11116,"children":11117},{"style":447},[11118],{"type":21,"value":4115},{"type":15,"tag":252,"props":11120,"children":11121},{"class":254,"line":2222},[11122],{"type":15,"tag":252,"props":11123,"children":11124},{"style":447},[11125],{"type":21,"value":2854},{"type":15,"tag":23,"props":11127,"children":11128},{},[11129],{"type":21,"value":11130},"And now we can actually test our code so far, let's write a test script",{"type":15,"tag":95,"props":11132,"children":11134},{"code":11133},"# test.viv\nprint 1;\nprint 2;\n",[11135],{"type":15,"tag":81,"props":11136,"children":11137},{"__ignoreMap":8},[11138],{"type":21,"value":11133},{"type":15,"tag":23,"props":11140,"children":11141},{},[11142],{"type":21,"value":11143},"Now we can check what tokens we get!",{"type":15,"tag":95,"props":11145,"children":11147},{"code":11146,"language":245,"meta":8,"className":246,"style":8},"cargo run -- run test.viv --output-tokens \n",[11148],{"type":15,"tag":81,"props":11149,"children":11150},{"__ignoreMap":8},[11151],{"type":15,"tag":252,"props":11152,"children":11153},{"class":254,"line":255},[11154,11158,11162,11166,11170,11175],{"type":15,"tag":252,"props":11155,"children":11156},{"style":259},[11157],{"type":21,"value":262},{"type":15,"tag":252,"props":11159,"children":11160},{"style":265},[11161],{"type":21,"value":3621},{"type":15,"tag":252,"props":11163,"children":11164},{"style":276},[11165],{"type":21,"value":3670},{"type":15,"tag":252,"props":11167,"children":11168},{"style":265},[11169],{"type":21,"value":3621},{"type":15,"tag":252,"props":11171,"children":11172},{"style":265},[11173],{"type":21,"value":11174}," test.viv",{"type":15,"tag":252,"props":11176,"children":11177},{"style":276},[11178],{"type":21,"value":11179}," --output-tokens\n",{"type":15,"tag":23,"props":11181,"children":11182},{},[11183],{"type":21,"value":11184},"You should get an output like",{"type":15,"tag":95,"props":11186,"children":11188},{"code":11187,"language":772,"meta":8,"className":773,"style":8},"Print, Integer(1), SemiColon, Print, Integer(2), SemiColon, Eof\n",[11189],{"type":15,"tag":81,"props":11190,"children":11191},{"__ignoreMap":8},[11192],{"type":15,"tag":252,"props":11193,"children":11194},{"class":254,"line":255},[11195,11199,11203,11207,11211,11215,11219,11223,11227,11231,11235,11239,11243,11247,11251,11255,11259],{"type":15,"tag":252,"props":11196,"children":11197},{"style":259},[11198],{"type":21,"value":5693},{"type":15,"tag":252,"props":11200,"children":11201},{"style":447},[11202],{"type":21,"value":1076},{"type":15,"tag":252,"props":11204,"children":11205},{"style":259},[11206],{"type":21,"value":6153},{"type":15,"tag":252,"props":11208,"children":11209},{"style":447},[11210],{"type":21,"value":849},{"type":15,"tag":252,"props":11212,"children":11213},{"style":276},[11214],{"type":21,"value":6162},{"type":15,"tag":252,"props":11216,"children":11217},{"style":447},[11218],{"type":21,"value":6297},{"type":15,"tag":252,"props":11220,"children":11221},{"style":259},[11222],{"type":21,"value":10060},{"type":15,"tag":252,"props":11224,"children":11225},{"style":447},[11226],{"type":21,"value":1076},{"type":15,"tag":252,"props":11228,"children":11229},{"style":259},[11230],{"type":21,"value":5693},{"type":15,"tag":252,"props":11232,"children":11233},{"style":447},[11234],{"type":21,"value":1076},{"type":15,"tag":252,"props":11236,"children":11237},{"style":259},[11238],{"type":21,"value":6153},{"type":15,"tag":252,"props":11240,"children":11241},{"style":447},[11242],{"type":21,"value":849},{"type":15,"tag":252,"props":11244,"children":11245},{"style":276},[11246],{"type":21,"value":6223},{"type":15,"tag":252,"props":11248,"children":11249},{"style":447},[11250],{"type":21,"value":6297},{"type":15,"tag":252,"props":11252,"children":11253},{"style":259},[11254],{"type":21,"value":10060},{"type":15,"tag":252,"props":11256,"children":11257},{"style":447},[11258],{"type":21,"value":1076},{"type":15,"tag":252,"props":11260,"children":11261},{"style":259},[11262],{"type":21,"value":11263},"Eof\n",{"type":15,"tag":23,"props":11265,"children":11266},{},[11267,11269,11274],{"type":21,"value":11268},"(You can ignore the panic, that is from the ",{"type":15,"tag":81,"props":11270,"children":11272},{"className":11271},[],[11273],{"type":21,"value":10879},{"type":21,"value":1975},{"type":15,"tag":23,"props":11276,"children":11277},{},[11278,11280,11283],{"type":21,"value":11279},"We can also test some error handling now!\nTry specifying a wrong file name, you should get a helpful error ",{"type":15,"tag":234,"props":11281,"children":11282},{},[],{"type":21,"value":11284},"\nOr add a symbol we haven't supported yet to the file!",{"type":15,"tag":23,"props":11286,"children":11287},{},[11288],{"type":21,"value":11289},"Arent those errors just amazing? Always remember to test your error handling!",{"type":15,"tag":59,"props":11291,"children":11293},{"id":11292},"parser",[11294],{"type":21,"value":3714},{"type":15,"tag":23,"props":11296,"children":11297},{},[11298],{"type":21,"value":11299},"Now the more fun part starts! Writing a parser, we can do a very simple parsing because of how we will design the language, basically, we can always know what we are about to parse by looking at the current token.",{"type":15,"tag":23,"props":11301,"children":11302},{},[11303,11305,11310,11312,11317],{"type":21,"value":11304},"Is it a ",{"type":15,"tag":81,"props":11306,"children":11308},{"className":11307},[],[11309],{"type":21,"value":113},{"type":21,"value":11311},", great we are about to parse a print statement, is it a ",{"type":15,"tag":81,"props":11313,"children":11315},{"className":11314},[],[11316],{"type":21,"value":1627},{"type":21,"value":11318}," ... well you get the point!\nAnd no not all langs are like this,  consider Pythons list comps!",{"type":15,"tag":23,"props":11320,"children":11321},{},[11322,11328,11330,11336,11338,11344,11346,11352],{"type":15,"tag":81,"props":11323,"children":11325},{"className":11324},[],[11326],{"type":21,"value":11327},"[x + 1]",{"type":21,"value":11329}," vs ",{"type":15,"tag":81,"props":11331,"children":11333},{"className":11332},[],[11334],{"type":21,"value":11335},"[x + 1 for x in range(10)]",{"type":21,"value":11337},", when parsing the ",{"type":15,"tag":81,"props":11339,"children":11341},{"className":11340},[],[11342],{"type":21,"value":11343},"X",{"type":21,"value":11345}," token you dont know if it is a list comp or a normal list you are parsing, you don't know that until you hit the ",{"type":15,"tag":81,"props":11347,"children":11349},{"className":11348},[],[11350],{"type":21,"value":11351},"FOR",{"type":21,"value":11353}," token. but we will be careful and avoid issues like this.",{"type":15,"tag":23,"props":11355,"children":11356},{},[11357,11359,11365],{"type":21,"value":11358},"So, let's create our ",{"type":15,"tag":81,"props":11360,"children":11362},{"className":11361},[],[11363],{"type":21,"value":11364},"parser.rs",{"type":21,"value":5726},{"type":15,"tag":95,"props":11367,"children":11369},{"code":11368,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\nuse anyhow::Context;\nuse thiserror::Error;\n\nuse crate::parsing::{\n    ast,\n    tokens::{Token, TokenType},\n    StreamConsumer,\n};\n\n#[derive(Error, Debug)]\n#[error(\"Parser error on line {line}, char {char}: expected one of {expected}, got {got:?}\")]\npub struct ParsingError {\n    pub line: usize,\n    pub char: usize,\n    pub got: TokenType,\n    pub expected: String,\n}\n",[11370],{"type":15,"tag":81,"props":11371,"children":11372},{"__ignoreMap":8},[11373,11381,11404,11427,11434,11458,11466,11499,11511,11518,11525,11548,11564,11584,11607,11630,11654,11678],{"type":15,"tag":252,"props":11374,"children":11375},{"class":254,"line":255},[11376],{"type":15,"tag":252,"props":11377,"children":11378},{"style":3287},[11379],{"type":21,"value":11380},"// parsing/parser.rs\n",{"type":15,"tag":252,"props":11382,"children":11383},{"class":254,"line":334},[11384,11388,11392,11396,11400],{"type":15,"tag":252,"props":11385,"children":11386},{"style":601},[11387],{"type":21,"value":2008},{"type":15,"tag":252,"props":11389,"children":11390},{"style":259},[11391],{"type":21,"value":3952},{"type":15,"tag":252,"props":11393,"children":11394},{"style":601},[11395],{"type":21,"value":804},{"type":15,"tag":252,"props":11397,"children":11398},{"style":259},[11399],{"type":21,"value":2034},{"type":15,"tag":252,"props":11401,"children":11402},{"style":447},[11403],{"type":21,"value":3325},{"type":15,"tag":252,"props":11405,"children":11406},{"class":254,"line":390},[11407,11411,11415,11419,11423],{"type":15,"tag":252,"props":11408,"children":11409},{"style":601},[11410],{"type":21,"value":2008},{"type":15,"tag":252,"props":11412,"children":11413},{"style":259},[11414],{"type":21,"value":6692},{"type":15,"tag":252,"props":11416,"children":11417},{"style":601},[11418],{"type":21,"value":804},{"type":15,"tag":252,"props":11420,"children":11421},{"style":259},[11422],{"type":21,"value":6701},{"type":15,"tag":252,"props":11424,"children":11425},{"style":447},[11426],{"type":21,"value":3325},{"type":15,"tag":252,"props":11428,"children":11429},{"class":254,"line":2077},[11430],{"type":15,"tag":252,"props":11431,"children":11432},{"emptyLinePlaceholder":2053},[11433],{"type":21,"value":2056},{"type":15,"tag":252,"props":11435,"children":11436},{"class":254,"line":2110},[11437,11441,11445,11449,11453],{"type":15,"tag":252,"props":11438,"children":11439},{"style":601},[11440],{"type":21,"value":2008},{"type":15,"tag":252,"props":11442,"children":11443},{"style":601},[11444],{"type":21,"value":5760},{"type":15,"tag":252,"props":11446,"children":11447},{"style":259},[11448],{"type":21,"value":5538},{"type":15,"tag":252,"props":11450,"children":11451},{"style":601},[11452],{"type":21,"value":804},{"type":15,"tag":252,"props":11454,"children":11455},{"style":447},[11456],{"type":21,"value":11457},"{\n",{"type":15,"tag":252,"props":11459,"children":11460},{"class":254,"line":2150},[11461],{"type":15,"tag":252,"props":11462,"children":11463},{"style":447},[11464],{"type":21,"value":11465},"    ast,\n",{"type":15,"tag":252,"props":11467,"children":11468},{"class":254,"line":2182},[11469,11474,11478,11482,11486,11490,11494],{"type":15,"tag":252,"props":11470,"children":11471},{"style":259},[11472],{"type":21,"value":11473},"    tokens",{"type":15,"tag":252,"props":11475,"children":11476},{"style":601},[11477],{"type":21,"value":804},{"type":15,"tag":252,"props":11479,"children":11480},{"style":447},[11481],{"type":21,"value":2021},{"type":15,"tag":252,"props":11483,"children":11484},{"style":259},[11485],{"type":21,"value":9747},{"type":15,"tag":252,"props":11487,"children":11488},{"style":447},[11489],{"type":21,"value":1076},{"type":15,"tag":252,"props":11491,"children":11492},{"style":259},[11493],{"type":21,"value":8846},{"type":15,"tag":252,"props":11495,"children":11496},{"style":447},[11497],{"type":21,"value":11498},"},\n",{"type":15,"tag":252,"props":11500,"children":11501},{"class":254,"line":2190},[11502,11507],{"type":15,"tag":252,"props":11503,"children":11504},{"style":259},[11505],{"type":21,"value":11506},"    StreamConsumer",{"type":15,"tag":252,"props":11508,"children":11509},{"style":447},[11510],{"type":21,"value":3879},{"type":15,"tag":252,"props":11512,"children":11513},{"class":254,"line":2222},[11514],{"type":15,"tag":252,"props":11515,"children":11516},{"style":447},[11517],{"type":21,"value":2047},{"type":15,"tag":252,"props":11519,"children":11520},{"class":254,"line":2270},[11521],{"type":15,"tag":252,"props":11522,"children":11523},{"emptyLinePlaceholder":2053},[11524],{"type":21,"value":2056},{"type":15,"tag":252,"props":11526,"children":11527},{"class":254,"line":2302},[11528,11532,11536,11540,11544],{"type":15,"tag":252,"props":11529,"children":11530},{"style":447},[11531],{"type":21,"value":3742},{"type":15,"tag":252,"props":11533,"children":11534},{"style":259},[11535],{"type":21,"value":6701},{"type":15,"tag":252,"props":11537,"children":11538},{"style":447},[11539],{"type":21,"value":1076},{"type":15,"tag":252,"props":11541,"children":11542},{"style":259},[11543],{"type":21,"value":5788},{"type":15,"tag":252,"props":11545,"children":11546},{"style":447},[11547],{"type":21,"value":3751},{"type":15,"tag":252,"props":11549,"children":11550},{"class":254,"line":2310},[11551,11555,11560],{"type":15,"tag":252,"props":11552,"children":11553},{"style":447},[11554],{"type":21,"value":6743},{"type":15,"tag":252,"props":11556,"children":11557},{"style":265},[11558],{"type":21,"value":11559},"\"Parser error on line {line}, char {char}: expected one of {expected}, got {got:?}\"",{"type":15,"tag":252,"props":11561,"children":11562},{"style":447},[11563],{"type":21,"value":3751},{"type":15,"tag":252,"props":11565,"children":11566},{"class":254,"line":2370},[11567,11571,11575,11580],{"type":15,"tag":252,"props":11568,"children":11569},{"style":601},[11570],{"type":21,"value":4740},{"type":15,"tag":252,"props":11572,"children":11573},{"style":601},[11574],{"type":21,"value":4745},{"type":15,"tag":252,"props":11576,"children":11577},{"style":259},[11578],{"type":21,"value":11579}," ParsingError",{"type":15,"tag":252,"props":11581,"children":11582},{"style":447},[11583],{"type":21,"value":3769},{"type":15,"tag":252,"props":11585,"children":11586},{"class":254,"line":2418},[11587,11591,11595,11599,11603],{"type":15,"tag":252,"props":11588,"children":11589},{"style":601},[11590],{"type":21,"value":4762},{"type":15,"tag":252,"props":11592,"children":11593},{"style":447},[11594],{"type":21,"value":6612},{"type":15,"tag":252,"props":11596,"children":11597},{"style":601},[11598],{"type":21,"value":3374},{"type":15,"tag":252,"props":11600,"children":11601},{"style":259},[11602],{"type":21,"value":3379},{"type":15,"tag":252,"props":11604,"children":11605},{"style":447},[11606],{"type":21,"value":3879},{"type":15,"tag":252,"props":11608,"children":11609},{"class":254,"line":2426},[11610,11614,11618,11622,11626],{"type":15,"tag":252,"props":11611,"children":11612},{"style":601},[11613],{"type":21,"value":4762},{"type":15,"tag":252,"props":11615,"children":11616},{"style":259},[11617],{"type":21,"value":6636},{"type":15,"tag":252,"props":11619,"children":11620},{"style":601},[11621],{"type":21,"value":3374},{"type":15,"tag":252,"props":11623,"children":11624},{"style":259},[11625],{"type":21,"value":3379},{"type":15,"tag":252,"props":11627,"children":11628},{"style":447},[11629],{"type":21,"value":3879},{"type":15,"tag":252,"props":11631,"children":11632},{"class":254,"line":2474},[11633,11637,11642,11646,11650],{"type":15,"tag":252,"props":11634,"children":11635},{"style":601},[11636],{"type":21,"value":4762},{"type":15,"tag":252,"props":11638,"children":11639},{"style":447},[11640],{"type":21,"value":11641}," got",{"type":15,"tag":252,"props":11643,"children":11644},{"style":601},[11645],{"type":21,"value":3374},{"type":15,"tag":252,"props":11647,"children":11648},{"style":259},[11649],{"type":21,"value":6463},{"type":15,"tag":252,"props":11651,"children":11652},{"style":447},[11653],{"type":21,"value":3879},{"type":15,"tag":252,"props":11655,"children":11656},{"class":254,"line":2522},[11657,11661,11666,11670,11674],{"type":15,"tag":252,"props":11658,"children":11659},{"style":601},[11660],{"type":21,"value":4762},{"type":15,"tag":252,"props":11662,"children":11663},{"style":447},[11664],{"type":21,"value":11665}," expected",{"type":15,"tag":252,"props":11667,"children":11668},{"style":601},[11669],{"type":21,"value":3374},{"type":15,"tag":252,"props":11671,"children":11672},{"style":259},[11673],{"type":21,"value":3799},{"type":15,"tag":252,"props":11675,"children":11676},{"style":447},[11677],{"type":21,"value":3879},{"type":15,"tag":252,"props":11679,"children":11680},{"class":254,"line":2530},[11681],{"type":15,"tag":252,"props":11682,"children":11683},{"style":447},[11684],{"type":21,"value":2854},{"type":15,"tag":23,"props":11686,"children":11687},{},[11688,11690,11695],{"type":21,"value":11689},"Our parsing errors are generally just going to be along the lines of \"expected RIGHT_PAREN got PLUS\" and stuff like that.\nOr like \"expected one of ",{"type":15,"tag":252,"props":11691,"children":11692},{},[11693],{"type":21,"value":11694},"SEMICOLON, PLUS",{"type":21,"value":11696}," got EOF\".",{"type":15,"tag":95,"props":11698,"children":11700},{"code":11699,"language":772,"meta":8,"className":773,"style":8},"fn error(got: Token, expected: String) -> ParsingError {\n    ParsingError {\n        line: got.line,\n        char: got.char,\n        got: got._type,\n        expected,\n    }\n}\n",[11701],{"type":15,"tag":81,"props":11702,"children":11703},{"__ignoreMap":8},[11704,11757,11769,11793,11821,11846,11854,11861],{"type":15,"tag":252,"props":11705,"children":11706},{"class":254,"line":255},[11707,11711,11715,11720,11724,11728,11733,11737,11741,11745,11749,11753],{"type":15,"tag":252,"props":11708,"children":11709},{"style":601},[11710],{"type":21,"value":2064},{"type":15,"tag":252,"props":11712,"children":11713},{"style":259},[11714],{"type":21,"value":7866},{"type":15,"tag":252,"props":11716,"children":11717},{"style":447},[11718],{"type":21,"value":11719},"(got",{"type":15,"tag":252,"props":11721,"children":11722},{"style":601},[11723],{"type":21,"value":3374},{"type":15,"tag":252,"props":11725,"children":11726},{"style":259},[11727],{"type":21,"value":6572},{"type":15,"tag":252,"props":11729,"children":11730},{"style":447},[11731],{"type":21,"value":11732},", expected",{"type":15,"tag":252,"props":11734,"children":11735},{"style":601},[11736],{"type":21,"value":3374},{"type":15,"tag":252,"props":11738,"children":11739},{"style":259},[11740],{"type":21,"value":3799},{"type":15,"tag":252,"props":11742,"children":11743},{"style":447},[11744],{"type":21,"value":4943},{"type":15,"tag":252,"props":11746,"children":11747},{"style":601},[11748],{"type":21,"value":3947},{"type":15,"tag":252,"props":11750,"children":11751},{"style":259},[11752],{"type":21,"value":11579},{"type":15,"tag":252,"props":11754,"children":11755},{"style":447},[11756],{"type":21,"value":3769},{"type":15,"tag":252,"props":11758,"children":11759},{"class":254,"line":334},[11760,11765],{"type":15,"tag":252,"props":11761,"children":11762},{"style":259},[11763],{"type":21,"value":11764},"    ParsingError",{"type":15,"tag":252,"props":11766,"children":11767},{"style":447},[11768],{"type":21,"value":3769},{"type":15,"tag":252,"props":11770,"children":11771},{"class":254,"line":390},[11772,11777,11781,11785,11789],{"type":15,"tag":252,"props":11773,"children":11774},{"style":447},[11775],{"type":21,"value":11776},"        line",{"type":15,"tag":252,"props":11778,"children":11779},{"style":601},[11780],{"type":21,"value":3374},{"type":15,"tag":252,"props":11782,"children":11783},{"style":447},[11784],{"type":21,"value":11641},{"type":15,"tag":252,"props":11786,"children":11787},{"style":601},[11788],{"type":21,"value":432},{"type":15,"tag":252,"props":11790,"children":11791},{"style":447},[11792],{"type":21,"value":7961},{"type":15,"tag":252,"props":11794,"children":11795},{"class":254,"line":2077},[11796,11801,11805,11809,11813,11817],{"type":15,"tag":252,"props":11797,"children":11798},{"style":259},[11799],{"type":21,"value":11800},"        char",{"type":15,"tag":252,"props":11802,"children":11803},{"style":601},[11804],{"type":21,"value":3374},{"type":15,"tag":252,"props":11806,"children":11807},{"style":447},[11808],{"type":21,"value":11641},{"type":15,"tag":252,"props":11810,"children":11811},{"style":601},[11812],{"type":21,"value":432},{"type":15,"tag":252,"props":11814,"children":11815},{"style":259},[11816],{"type":21,"value":7603},{"type":15,"tag":252,"props":11818,"children":11819},{"style":447},[11820],{"type":21,"value":3879},{"type":15,"tag":252,"props":11822,"children":11823},{"class":254,"line":2110},[11824,11829,11833,11837,11841],{"type":15,"tag":252,"props":11825,"children":11826},{"style":447},[11827],{"type":21,"value":11828},"        got",{"type":15,"tag":252,"props":11830,"children":11831},{"style":601},[11832],{"type":21,"value":3374},{"type":15,"tag":252,"props":11834,"children":11835},{"style":447},[11836],{"type":21,"value":11641},{"type":15,"tag":252,"props":11838,"children":11839},{"style":601},[11840],{"type":21,"value":432},{"type":15,"tag":252,"props":11842,"children":11843},{"style":447},[11844],{"type":21,"value":11845},"_type,\n",{"type":15,"tag":252,"props":11847,"children":11848},{"class":254,"line":2150},[11849],{"type":15,"tag":252,"props":11850,"children":11851},{"style":447},[11852],{"type":21,"value":11853},"        expected,\n",{"type":15,"tag":252,"props":11855,"children":11856},{"class":254,"line":2182},[11857],{"type":15,"tag":252,"props":11858,"children":11859},{"style":447},[11860],{"type":21,"value":4095},{"type":15,"tag":252,"props":11862,"children":11863},{"class":254,"line":2190},[11864],{"type":15,"tag":252,"props":11865,"children":11866},{"style":447},[11867],{"type":21,"value":2854},{"type":15,"tag":23,"props":11869,"children":11870},{},[11871],{"type":21,"value":11872},"Here we generate the error from the got token and the expected ones.",{"type":15,"tag":95,"props":11874,"children":11876},{"code":11875,"language":772,"meta":8,"className":773,"style":8},"pub struct Parser(StreamConsumer\u003CToken>);\n\nimpl Parser {\n    pub fn new(tokens: Vec\u003CToken>) -> Self {\n        Self(StreamConsumer::new(tokens.into_iter().collect()))\n    }\n\n    fn peek(&self) -> anyhow::Result\u003C&TokenType> {\n        self.0\n            .peek()\n            .context(\"Unexpected End of Tokens\")\n            .map(|t| &t._type)\n    }\n\n    fn advance(&mut self) -> anyhow::Result\u003CToken> {\n        self.0.advance().context(\"Unexpected End of Tokens\")\n    }\n\n    fn expect(&mut self, expected_token: TokenType) -> anyhow::Result\u003CTokenType> {\n        let token = self.advance()?;\n\n        if token._type == expected_token {\n            Ok(token._type)\n        } else {\n            Err(error(token, format!(\"{expected_token:?}\")))?\n        }\n    }\n}\n",[11877],{"type":15,"tag":81,"props":11878,"children":11879},{"__ignoreMap":8},[11880,11916,11923,11938,11990,12042,12049,12056,12115,12131,12146,12170,12214,12221,12228,12283,12326,12333,12340,12409,12449,12456,12485,12506,12521,12565,12572,12579],{"type":15,"tag":252,"props":11881,"children":11882},{"class":254,"line":255},[11883,11887,11891,11896,11900,11904,11908,11912],{"type":15,"tag":252,"props":11884,"children":11885},{"style":601},[11886],{"type":21,"value":4740},{"type":15,"tag":252,"props":11888,"children":11889},{"style":601},[11890],{"type":21,"value":4745},{"type":15,"tag":252,"props":11892,"children":11893},{"style":259},[11894],{"type":21,"value":11895}," Parser",{"type":15,"tag":252,"props":11897,"children":11898},{"style":447},[11899],{"type":21,"value":849},{"type":15,"tag":252,"props":11901,"children":11902},{"style":259},[11903],{"type":21,"value":7125},{"type":15,"tag":252,"props":11905,"children":11906},{"style":447},[11907],{"type":21,"value":5826},{"type":15,"tag":252,"props":11909,"children":11910},{"style":259},[11911],{"type":21,"value":9747},{"type":15,"tag":252,"props":11913,"children":11914},{"style":447},[11915],{"type":21,"value":5835},{"type":15,"tag":252,"props":11917,"children":11918},{"class":254,"line":334},[11919],{"type":15,"tag":252,"props":11920,"children":11921},{"emptyLinePlaceholder":2053},[11922],{"type":21,"value":2056},{"type":15,"tag":252,"props":11924,"children":11925},{"class":254,"line":390},[11926,11930,11934],{"type":15,"tag":252,"props":11927,"children":11928},{"style":601},[11929],{"type":21,"value":7107},{"type":15,"tag":252,"props":11931,"children":11932},{"style":259},[11933],{"type":21,"value":11895},{"type":15,"tag":252,"props":11935,"children":11936},{"style":447},[11937],{"type":21,"value":3769},{"type":15,"tag":252,"props":11939,"children":11940},{"class":254,"line":2077},[11941,11945,11949,11953,11958,11962,11966,11970,11974,11978,11982,11986],{"type":15,"tag":252,"props":11942,"children":11943},{"style":601},[11944],{"type":21,"value":4762},{"type":15,"tag":252,"props":11946,"children":11947},{"style":601},[11948],{"type":21,"value":4901},{"type":15,"tag":252,"props":11950,"children":11951},{"style":259},[11952],{"type":21,"value":7151},{"type":15,"tag":252,"props":11954,"children":11955},{"style":447},[11956],{"type":21,"value":11957},"(tokens",{"type":15,"tag":252,"props":11959,"children":11960},{"style":601},[11961],{"type":21,"value":3374},{"type":15,"tag":252,"props":11963,"children":11964},{"style":259},[11965],{"type":21,"value":5821},{"type":15,"tag":252,"props":11967,"children":11968},{"style":447},[11969],{"type":21,"value":5826},{"type":15,"tag":252,"props":11971,"children":11972},{"style":259},[11973],{"type":21,"value":9747},{"type":15,"tag":252,"props":11975,"children":11976},{"style":447},[11977],{"type":21,"value":7178},{"type":15,"tag":252,"props":11979,"children":11980},{"style":601},[11981],{"type":21,"value":3947},{"type":15,"tag":252,"props":11983,"children":11984},{"style":276},[11985],{"type":21,"value":7187},{"type":15,"tag":252,"props":11987,"children":11988},{"style":447},[11989],{"type":21,"value":3769},{"type":15,"tag":252,"props":11991,"children":11992},{"class":254,"line":2110},[11993,11997,12001,12005,12009,12013,12017,12021,12026,12030,12034,12038],{"type":15,"tag":252,"props":11994,"children":11995},{"style":276},[11996],{"type":21,"value":7199},{"type":15,"tag":252,"props":11998,"children":11999},{"style":447},[12000],{"type":21,"value":849},{"type":15,"tag":252,"props":12002,"children":12003},{"style":259},[12004],{"type":21,"value":7125},{"type":15,"tag":252,"props":12006,"children":12007},{"style":601},[12008],{"type":21,"value":804},{"type":15,"tag":252,"props":12010,"children":12011},{"style":259},[12012],{"type":21,"value":7761},{"type":15,"tag":252,"props":12014,"children":12015},{"style":447},[12016],{"type":21,"value":11957},{"type":15,"tag":252,"props":12018,"children":12019},{"style":601},[12020],{"type":21,"value":432},{"type":15,"tag":252,"props":12022,"children":12023},{"style":259},[12024],{"type":21,"value":12025},"into_iter",{"type":15,"tag":252,"props":12027,"children":12028},{"style":447},[12029],{"type":21,"value":7305},{"type":15,"tag":252,"props":12031,"children":12032},{"style":601},[12033],{"type":21,"value":432},{"type":15,"tag":252,"props":12035,"children":12036},{"style":259},[12037],{"type":21,"value":7787},{"type":15,"tag":252,"props":12039,"children":12040},{"style":447},[12041],{"type":21,"value":8884},{"type":15,"tag":252,"props":12043,"children":12044},{"class":254,"line":2150},[12045],{"type":15,"tag":252,"props":12046,"children":12047},{"style":447},[12048],{"type":21,"value":4095},{"type":15,"tag":252,"props":12050,"children":12051},{"class":254,"line":2182},[12052],{"type":15,"tag":252,"props":12053,"children":12054},{"emptyLinePlaceholder":2053},[12055],{"type":21,"value":2056},{"type":15,"tag":252,"props":12057,"children":12058},{"class":254,"line":2190},[12059,12063,12067,12071,12075,12079,12083,12087,12091,12095,12099,12103,12107,12111],{"type":15,"tag":252,"props":12060,"children":12061},{"style":601},[12062],{"type":21,"value":7146},{"type":15,"tag":252,"props":12064,"children":12065},{"style":259},[12066],{"type":21,"value":7419},{"type":15,"tag":252,"props":12068,"children":12069},{"style":447},[12070],{"type":21,"value":849},{"type":15,"tag":252,"props":12072,"children":12073},{"style":601},[12074],{"type":21,"value":1171},{"type":15,"tag":252,"props":12076,"children":12077},{"style":276},[12078],{"type":21,"value":7432},{"type":15,"tag":252,"props":12080,"children":12081},{"style":447},[12082],{"type":21,"value":4943},{"type":15,"tag":252,"props":12084,"children":12085},{"style":601},[12086],{"type":21,"value":3947},{"type":15,"tag":252,"props":12088,"children":12089},{"style":259},[12090],{"type":21,"value":3952},{"type":15,"tag":252,"props":12092,"children":12093},{"style":601},[12094],{"type":21,"value":804},{"type":15,"tag":252,"props":12096,"children":12097},{"style":259},[12098],{"type":21,"value":3961},{"type":15,"tag":252,"props":12100,"children":12101},{"style":447},[12102],{"type":21,"value":5826},{"type":15,"tag":252,"props":12104,"children":12105},{"style":601},[12106],{"type":21,"value":1171},{"type":15,"tag":252,"props":12108,"children":12109},{"style":259},[12110],{"type":21,"value":8846},{"type":15,"tag":252,"props":12112,"children":12113},{"style":447},[12114],{"type":21,"value":7138},{"type":15,"tag":252,"props":12116,"children":12117},{"class":254,"line":2222},[12118,12122,12126],{"type":15,"tag":252,"props":12119,"children":12120},{"style":276},[12121],{"type":21,"value":7286},{"type":15,"tag":252,"props":12123,"children":12124},{"style":601},[12125],{"type":21,"value":432},{"type":15,"tag":252,"props":12127,"children":12128},{"style":276},[12129],{"type":21,"value":12130},"0\n",{"type":15,"tag":252,"props":12132,"children":12133},{"class":254,"line":2270},[12134,12138,12142],{"type":15,"tag":252,"props":12135,"children":12136},{"style":601},[12137],{"type":21,"value":10662},{"type":15,"tag":252,"props":12139,"children":12140},{"style":259},[12141],{"type":21,"value":8696},{"type":15,"tag":252,"props":12143,"children":12144},{"style":447},[12145],{"type":21,"value":10672},{"type":15,"tag":252,"props":12147,"children":12148},{"class":254,"line":2302},[12149,12153,12157,12161,12166],{"type":15,"tag":252,"props":12150,"children":12151},{"style":601},[12152],{"type":21,"value":10662},{"type":15,"tag":252,"props":12154,"children":12155},{"style":259},[12156],{"type":21,"value":908},{"type":15,"tag":252,"props":12158,"children":12159},{"style":447},[12160],{"type":21,"value":849},{"type":15,"tag":252,"props":12162,"children":12163},{"style":265},[12164],{"type":21,"value":12165},"\"Unexpected End of Tokens\"",{"type":15,"tag":252,"props":12167,"children":12168},{"style":447},[12169],{"type":21,"value":7327},{"type":15,"tag":252,"props":12171,"children":12172},{"class":254,"line":2310},[12173,12177,12181,12185,12189,12193,12197,12201,12205,12209],{"type":15,"tag":252,"props":12174,"children":12175},{"style":601},[12176],{"type":21,"value":10662},{"type":15,"tag":252,"props":12178,"children":12179},{"style":259},[12180],{"type":21,"value":10684},{"type":15,"tag":252,"props":12182,"children":12183},{"style":447},[12184],{"type":21,"value":849},{"type":15,"tag":252,"props":12186,"children":12187},{"style":601},[12188],{"type":21,"value":10693},{"type":15,"tag":252,"props":12190,"children":12191},{"style":447},[12192],{"type":21,"value":10698},{"type":15,"tag":252,"props":12194,"children":12195},{"style":601},[12196],{"type":21,"value":10693},{"type":15,"tag":252,"props":12198,"children":12199},{"style":601},[12200],{"type":21,"value":4920},{"type":15,"tag":252,"props":12202,"children":12203},{"style":447},[12204],{"type":21,"value":10698},{"type":15,"tag":252,"props":12206,"children":12207},{"style":601},[12208],{"type":21,"value":432},{"type":15,"tag":252,"props":12210,"children":12211},{"style":447},[12212],{"type":21,"value":12213},"_type)\n",{"type":15,"tag":252,"props":12215,"children":12216},{"class":254,"line":2370},[12217],{"type":15,"tag":252,"props":12218,"children":12219},{"style":447},[12220],{"type":21,"value":4095},{"type":15,"tag":252,"props":12222,"children":12223},{"class":254,"line":2418},[12224],{"type":15,"tag":252,"props":12225,"children":12226},{"emptyLinePlaceholder":2053},[12227],{"type":21,"value":2056},{"type":15,"tag":252,"props":12229,"children":12230},{"class":254,"line":2426},[12231,12235,12239,12243,12247,12251,12255,12259,12263,12267,12271,12275,12279],{"type":15,"tag":252,"props":12232,"children":12233},{"style":601},[12234],{"type":21,"value":7146},{"type":15,"tag":252,"props":12236,"children":12237},{"style":259},[12238],{"type":21,"value":7230},{"type":15,"tag":252,"props":12240,"children":12241},{"style":447},[12242],{"type":21,"value":849},{"type":15,"tag":252,"props":12244,"children":12245},{"style":601},[12246],{"type":21,"value":7239},{"type":15,"tag":252,"props":12248,"children":12249},{"style":276},[12250],{"type":21,"value":7244},{"type":15,"tag":252,"props":12252,"children":12253},{"style":447},[12254],{"type":21,"value":4943},{"type":15,"tag":252,"props":12256,"children":12257},{"style":601},[12258],{"type":21,"value":3947},{"type":15,"tag":252,"props":12260,"children":12261},{"style":259},[12262],{"type":21,"value":3952},{"type":15,"tag":252,"props":12264,"children":12265},{"style":601},[12266],{"type":21,"value":804},{"type":15,"tag":252,"props":12268,"children":12269},{"style":259},[12270],{"type":21,"value":3961},{"type":15,"tag":252,"props":12272,"children":12273},{"style":447},[12274],{"type":21,"value":5826},{"type":15,"tag":252,"props":12276,"children":12277},{"style":259},[12278],{"type":21,"value":9747},{"type":15,"tag":252,"props":12280,"children":12281},{"style":447},[12282],{"type":21,"value":7138},{"type":15,"tag":252,"props":12284,"children":12285},{"class":254,"line":2474},[12286,12290,12294,12298,12302,12306,12310,12314,12318,12322],{"type":15,"tag":252,"props":12287,"children":12288},{"style":276},[12289],{"type":21,"value":7286},{"type":15,"tag":252,"props":12291,"children":12292},{"style":601},[12293],{"type":21,"value":432},{"type":15,"tag":252,"props":12295,"children":12296},{"style":276},[12297],{"type":21,"value":7295},{"type":15,"tag":252,"props":12299,"children":12300},{"style":259},[12301],{"type":21,"value":8261},{"type":15,"tag":252,"props":12303,"children":12304},{"style":447},[12305],{"type":21,"value":7305},{"type":15,"tag":252,"props":12307,"children":12308},{"style":601},[12309],{"type":21,"value":432},{"type":15,"tag":252,"props":12311,"children":12312},{"style":259},[12313],{"type":21,"value":908},{"type":15,"tag":252,"props":12315,"children":12316},{"style":447},[12317],{"type":21,"value":849},{"type":15,"tag":252,"props":12319,"children":12320},{"style":265},[12321],{"type":21,"value":12165},{"type":15,"tag":252,"props":12323,"children":12324},{"style":447},[12325],{"type":21,"value":7327},{"type":15,"tag":252,"props":12327,"children":12328},{"class":254,"line":2522},[12329],{"type":15,"tag":252,"props":12330,"children":12331},{"style":447},[12332],{"type":21,"value":4095},{"type":15,"tag":252,"props":12334,"children":12335},{"class":254,"line":2530},[12336],{"type":15,"tag":252,"props":12337,"children":12338},{"emptyLinePlaceholder":2053},[12339],{"type":21,"value":2056},{"type":15,"tag":252,"props":12341,"children":12342},{"class":254,"line":2570},[12343,12347,12352,12356,12360,12364,12369,12373,12377,12381,12385,12389,12393,12397,12401,12405],{"type":15,"tag":252,"props":12344,"children":12345},{"style":601},[12346],{"type":21,"value":7146},{"type":15,"tag":252,"props":12348,"children":12349},{"style":259},[12350],{"type":21,"value":12351}," expect",{"type":15,"tag":252,"props":12353,"children":12354},{"style":447},[12355],{"type":21,"value":849},{"type":15,"tag":252,"props":12357,"children":12358},{"style":601},[12359],{"type":21,"value":7239},{"type":15,"tag":252,"props":12361,"children":12362},{"style":276},[12363],{"type":21,"value":7244},{"type":15,"tag":252,"props":12365,"children":12366},{"style":447},[12367],{"type":21,"value":12368},", expected_token",{"type":15,"tag":252,"props":12370,"children":12371},{"style":601},[12372],{"type":21,"value":3374},{"type":15,"tag":252,"props":12374,"children":12375},{"style":259},[12376],{"type":21,"value":6463},{"type":15,"tag":252,"props":12378,"children":12379},{"style":447},[12380],{"type":21,"value":4943},{"type":15,"tag":252,"props":12382,"children":12383},{"style":601},[12384],{"type":21,"value":3947},{"type":15,"tag":252,"props":12386,"children":12387},{"style":259},[12388],{"type":21,"value":3952},{"type":15,"tag":252,"props":12390,"children":12391},{"style":601},[12392],{"type":21,"value":804},{"type":15,"tag":252,"props":12394,"children":12395},{"style":259},[12396],{"type":21,"value":3961},{"type":15,"tag":252,"props":12398,"children":12399},{"style":447},[12400],{"type":21,"value":5826},{"type":15,"tag":252,"props":12402,"children":12403},{"style":259},[12404],{"type":21,"value":8846},{"type":15,"tag":252,"props":12406,"children":12407},{"style":447},[12408],{"type":21,"value":7138},{"type":15,"tag":252,"props":12410,"children":12411},{"class":254,"line":2591},[12412,12416,12421,12425,12429,12433,12437,12441,12445],{"type":15,"tag":252,"props":12413,"children":12414},{"style":601},[12415],{"type":21,"value":8231},{"type":15,"tag":252,"props":12417,"children":12418},{"style":447},[12419],{"type":21,"value":12420}," token ",{"type":15,"tag":252,"props":12422,"children":12423},{"style":601},[12424],{"type":21,"value":614},{"type":15,"tag":252,"props":12426,"children":12427},{"style":276},[12428],{"type":21,"value":7244},{"type":15,"tag":252,"props":12430,"children":12431},{"style":601},[12432],{"type":21,"value":432},{"type":15,"tag":252,"props":12434,"children":12435},{"style":259},[12436],{"type":21,"value":8261},{"type":15,"tag":252,"props":12438,"children":12439},{"style":447},[12440],{"type":21,"value":7305},{"type":15,"tag":252,"props":12442,"children":12443},{"style":601},[12444],{"type":21,"value":5468},{"type":15,"tag":252,"props":12446,"children":12447},{"style":447},[12448],{"type":21,"value":3325},{"type":15,"tag":252,"props":12450,"children":12451},{"class":254,"line":2599},[12452],{"type":15,"tag":252,"props":12453,"children":12454},{"emptyLinePlaceholder":2053},[12455],{"type":21,"value":2056},{"type":15,"tag":252,"props":12457,"children":12458},{"class":254,"line":2647},[12459,12463,12467,12471,12476,12480],{"type":15,"tag":252,"props":12460,"children":12461},{"style":601},[12462],{"type":21,"value":8295},{"type":15,"tag":252,"props":12464,"children":12465},{"style":447},[12466],{"type":21,"value":8039},{"type":15,"tag":252,"props":12468,"children":12469},{"style":601},[12470],{"type":21,"value":432},{"type":15,"tag":252,"props":12472,"children":12473},{"style":447},[12474],{"type":21,"value":12475},"_type ",{"type":15,"tag":252,"props":12477,"children":12478},{"style":601},[12479],{"type":21,"value":8304},{"type":15,"tag":252,"props":12481,"children":12482},{"style":447},[12483],{"type":21,"value":12484}," expected_token {\n",{"type":15,"tag":252,"props":12486,"children":12487},{"class":254,"line":2679},[12488,12493,12498,12502],{"type":15,"tag":252,"props":12489,"children":12490},{"style":259},[12491],{"type":21,"value":12492},"            Ok",{"type":15,"tag":252,"props":12494,"children":12495},{"style":447},[12496],{"type":21,"value":12497},"(token",{"type":15,"tag":252,"props":12499,"children":12500},{"style":601},[12501],{"type":21,"value":432},{"type":15,"tag":252,"props":12503,"children":12504},{"style":447},[12505],{"type":21,"value":12213},{"type":15,"tag":252,"props":12507,"children":12508},{"class":254,"line":2727},[12509,12513,12517],{"type":15,"tag":252,"props":12510,"children":12511},{"style":447},[12512],{"type":21,"value":8391},{"type":15,"tag":252,"props":12514,"children":12515},{"style":601},[12516],{"type":21,"value":8396},{"type":15,"tag":252,"props":12518,"children":12519},{"style":447},[12520],{"type":21,"value":3769},{"type":15,"tag":252,"props":12522,"children":12523},{"class":254,"line":2735},[12524,12529,12533,12537,12542,12546,12550,12555,12560],{"type":15,"tag":252,"props":12525,"children":12526},{"style":259},[12527],{"type":21,"value":12528},"            Err",{"type":15,"tag":252,"props":12530,"children":12531},{"style":447},[12532],{"type":21,"value":849},{"type":15,"tag":252,"props":12534,"children":12535},{"style":259},[12536],{"type":21,"value":10203},{"type":15,"tag":252,"props":12538,"children":12539},{"style":447},[12540],{"type":21,"value":12541},"(token, ",{"type":15,"tag":252,"props":12543,"children":12544},{"style":259},[12545],{"type":21,"value":10212},{"type":15,"tag":252,"props":12547,"children":12548},{"style":447},[12549],{"type":21,"value":849},{"type":15,"tag":252,"props":12551,"children":12552},{"style":265},[12553],{"type":21,"value":12554},"\"{expected_token:?}\"",{"type":15,"tag":252,"props":12556,"children":12557},{"style":447},[12558],{"type":21,"value":12559},")))",{"type":15,"tag":252,"props":12561,"children":12562},{"style":601},[12563],{"type":21,"value":12564},"?\n",{"type":15,"tag":252,"props":12566,"children":12567},{"class":254,"line":2799},[12568],{"type":15,"tag":252,"props":12569,"children":12570},{"style":447},[12571],{"type":21,"value":4087},{"type":15,"tag":252,"props":12573,"children":12574},{"class":254,"line":2807},[12575],{"type":15,"tag":252,"props":12576,"children":12577},{"style":447},[12578],{"type":21,"value":4095},{"type":15,"tag":252,"props":12580,"children":12581},{"class":254,"line":2848},[12582],{"type":15,"tag":252,"props":12583,"children":12584},{"style":447},[12585],{"type":21,"value":2854},{"type":15,"tag":23,"props":12587,"children":12588},{},[12589,12591,12597],{"type":21,"value":12590},"This is the general structure of the parser, we are mainly going to be using ",{"type":15,"tag":81,"props":12592,"children":12594},{"className":12593},[],[12595],{"type":21,"value":12596},"expect",{"type":21,"value":12598}," to parse the different things that could show up!",{"type":15,"tag":23,"props":12600,"children":12601},{},[12602],{"type":21,"value":12603},"let's start from the bottom and work up:",{"type":15,"tag":95,"props":12605,"children":12607},{"code":12606,"language":772,"meta":8,"className":773,"style":8},"    fn literal(&mut self) -> anyhow::Result\u003Cast::Literal> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Integer(i) => Ok(ast::Literal::Integer(i)),\n            _ => Err(error(token, \"Literal\".to_string()))?,\n        }\n    }\n\n    fn expression(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        match self.peek()? {\n            TokenType::Integer(_) => Ok(ast::Expression::Literal(self.literal()?)),\n            _ => Err(error(self.advance()?, \"Expression\".to_string()))?,\n        }\n    }\n\n    fn statement(&mut self) -> anyhow::Result\u003Cast::Statement> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Print => {\n                let result = ast::Statement::Print(self.expression()?);\n                self.expect(TokenType::SemiColon)?;\n                Ok(result)\n            }\n            _ => Err(error(token, \"Statement\".to_string()))?,\n        }\n    }\n\n    pub fn module(mut self) -> anyhow::Result\u003Cast::Module> {\n        let mut statements = Vec::new();\n\n        while self.peek()? != &TokenType::Eof {\n            statements.push(self.statement()?);\n        }\n\n        Ok(ast::Module(statements))\n    }\n",[12608],{"type":15,"tag":81,"props":12609,"children":12610},{"__ignoreMap":8},[12611,12671,12710,12731,12789,12844,12851,12858,12865,12925,12956,13038,13114,13121,13128,13135,13195,13234,13253,13276,13342,13385,13398,13405,13457,13464,13471,13478,13541,13577,13584,13636,13681,13688,13695,13723],{"type":15,"tag":252,"props":12612,"children":12613},{"class":254,"line":255},[12614,12618,12623,12627,12631,12635,12639,12643,12647,12651,12655,12659,12663,12667],{"type":15,"tag":252,"props":12615,"children":12616},{"style":601},[12617],{"type":21,"value":7146},{"type":15,"tag":252,"props":12619,"children":12620},{"style":259},[12621],{"type":21,"value":12622}," literal",{"type":15,"tag":252,"props":12624,"children":12625},{"style":447},[12626],{"type":21,"value":849},{"type":15,"tag":252,"props":12628,"children":12629},{"style":601},[12630],{"type":21,"value":7239},{"type":15,"tag":252,"props":12632,"children":12633},{"style":276},[12634],{"type":21,"value":7244},{"type":15,"tag":252,"props":12636,"children":12637},{"style":447},[12638],{"type":21,"value":4943},{"type":15,"tag":252,"props":12640,"children":12641},{"style":601},[12642],{"type":21,"value":3947},{"type":15,"tag":252,"props":12644,"children":12645},{"style":259},[12646],{"type":21,"value":3952},{"type":15,"tag":252,"props":12648,"children":12649},{"style":601},[12650],{"type":21,"value":804},{"type":15,"tag":252,"props":12652,"children":12653},{"style":259},[12654],{"type":21,"value":3961},{"type":15,"tag":252,"props":12656,"children":12657},{"style":447},[12658],{"type":21,"value":10502},{"type":15,"tag":252,"props":12660,"children":12661},{"style":601},[12662],{"type":21,"value":804},{"type":15,"tag":252,"props":12664,"children":12665},{"style":259},[12666],{"type":21,"value":5724},{"type":15,"tag":252,"props":12668,"children":12669},{"style":447},[12670],{"type":21,"value":7138},{"type":15,"tag":252,"props":12672,"children":12673},{"class":254,"line":334},[12674,12678,12682,12686,12690,12694,12698,12702,12706],{"type":15,"tag":252,"props":12675,"children":12676},{"style":601},[12677],{"type":21,"value":8231},{"type":15,"tag":252,"props":12679,"children":12680},{"style":447},[12681],{"type":21,"value":12420},{"type":15,"tag":252,"props":12683,"children":12684},{"style":601},[12685],{"type":21,"value":614},{"type":15,"tag":252,"props":12687,"children":12688},{"style":276},[12689],{"type":21,"value":7244},{"type":15,"tag":252,"props":12691,"children":12692},{"style":601},[12693],{"type":21,"value":432},{"type":15,"tag":252,"props":12695,"children":12696},{"style":259},[12697],{"type":21,"value":8261},{"type":15,"tag":252,"props":12699,"children":12700},{"style":447},[12701],{"type":21,"value":7305},{"type":15,"tag":252,"props":12703,"children":12704},{"style":601},[12705],{"type":21,"value":5468},{"type":15,"tag":252,"props":12707,"children":12708},{"style":447},[12709],{"type":21,"value":3325},{"type":15,"tag":252,"props":12711,"children":12712},{"class":254,"line":390},[12713,12718,12722,12726],{"type":15,"tag":252,"props":12714,"children":12715},{"style":601},[12716],{"type":21,"value":12717},"        match",{"type":15,"tag":252,"props":12719,"children":12720},{"style":447},[12721],{"type":21,"value":8039},{"type":15,"tag":252,"props":12723,"children":12724},{"style":601},[12725],{"type":21,"value":432},{"type":15,"tag":252,"props":12727,"children":12728},{"style":447},[12729],{"type":21,"value":12730},"_type {\n",{"type":15,"tag":252,"props":12732,"children":12733},{"class":254,"line":2077},[12734,12739,12743,12747,12752,12756,12760,12764,12768,12772,12776,12780,12784],{"type":15,"tag":252,"props":12735,"children":12736},{"style":259},[12737],{"type":21,"value":12738},"            TokenType",{"type":15,"tag":252,"props":12740,"children":12741},{"style":601},[12742],{"type":21,"value":804},{"type":15,"tag":252,"props":12744,"children":12745},{"style":259},[12746],{"type":21,"value":6153},{"type":15,"tag":252,"props":12748,"children":12749},{"style":447},[12750],{"type":21,"value":12751},"(i) ",{"type":15,"tag":252,"props":12753,"children":12754},{"style":601},[12755],{"type":21,"value":4054},{"type":15,"tag":252,"props":12757,"children":12758},{"style":259},[12759],{"type":21,"value":8666},{"type":15,"tag":252,"props":12761,"children":12762},{"style":447},[12763],{"type":21,"value":849},{"type":15,"tag":252,"props":12765,"children":12766},{"style":259},[12767],{"type":21,"value":5623},{"type":15,"tag":252,"props":12769,"children":12770},{"style":601},[12771],{"type":21,"value":804},{"type":15,"tag":252,"props":12773,"children":12774},{"style":259},[12775],{"type":21,"value":5724},{"type":15,"tag":252,"props":12777,"children":12778},{"style":601},[12779],{"type":21,"value":804},{"type":15,"tag":252,"props":12781,"children":12782},{"style":259},[12783],{"type":21,"value":6153},{"type":15,"tag":252,"props":12785,"children":12786},{"style":447},[12787],{"type":21,"value":12788},"(i)),\n",{"type":15,"tag":252,"props":12790,"children":12791},{"class":254,"line":2110},[12792,12796,12800,12805,12809,12813,12817,12822,12826,12831,12836,12840],{"type":15,"tag":252,"props":12793,"children":12794},{"style":447},[12795],{"type":21,"value":9250},{"type":15,"tag":252,"props":12797,"children":12798},{"style":601},[12799],{"type":21,"value":4054},{"type":15,"tag":252,"props":12801,"children":12802},{"style":259},[12803],{"type":21,"value":12804}," Err",{"type":15,"tag":252,"props":12806,"children":12807},{"style":447},[12808],{"type":21,"value":849},{"type":15,"tag":252,"props":12810,"children":12811},{"style":259},[12812],{"type":21,"value":10203},{"type":15,"tag":252,"props":12814,"children":12815},{"style":447},[12816],{"type":21,"value":12541},{"type":15,"tag":252,"props":12818,"children":12819},{"style":265},[12820],{"type":21,"value":12821},"\"Literal\"",{"type":15,"tag":252,"props":12823,"children":12824},{"style":601},[12825],{"type":21,"value":432},{"type":15,"tag":252,"props":12827,"children":12828},{"style":259},[12829],{"type":21,"value":12830},"to_string",{"type":15,"tag":252,"props":12832,"children":12833},{"style":447},[12834],{"type":21,"value":12835},"()))",{"type":15,"tag":252,"props":12837,"children":12838},{"style":601},[12839],{"type":21,"value":5468},{"type":15,"tag":252,"props":12841,"children":12842},{"style":447},[12843],{"type":21,"value":3879},{"type":15,"tag":252,"props":12845,"children":12846},{"class":254,"line":2150},[12847],{"type":15,"tag":252,"props":12848,"children":12849},{"style":447},[12850],{"type":21,"value":4087},{"type":15,"tag":252,"props":12852,"children":12853},{"class":254,"line":2182},[12854],{"type":15,"tag":252,"props":12855,"children":12856},{"style":447},[12857],{"type":21,"value":4095},{"type":15,"tag":252,"props":12859,"children":12860},{"class":254,"line":2190},[12861],{"type":15,"tag":252,"props":12862,"children":12863},{"emptyLinePlaceholder":2053},[12864],{"type":21,"value":2056},{"type":15,"tag":252,"props":12866,"children":12867},{"class":254,"line":2222},[12868,12872,12877,12881,12885,12889,12893,12897,12901,12905,12909,12913,12917,12921],{"type":15,"tag":252,"props":12869,"children":12870},{"style":601},[12871],{"type":21,"value":7146},{"type":15,"tag":252,"props":12873,"children":12874},{"style":259},[12875],{"type":21,"value":12876}," expression",{"type":15,"tag":252,"props":12878,"children":12879},{"style":447},[12880],{"type":21,"value":849},{"type":15,"tag":252,"props":12882,"children":12883},{"style":601},[12884],{"type":21,"value":7239},{"type":15,"tag":252,"props":12886,"children":12887},{"style":276},[12888],{"type":21,"value":7244},{"type":15,"tag":252,"props":12890,"children":12891},{"style":447},[12892],{"type":21,"value":4943},{"type":15,"tag":252,"props":12894,"children":12895},{"style":601},[12896],{"type":21,"value":3947},{"type":15,"tag":252,"props":12898,"children":12899},{"style":259},[12900],{"type":21,"value":3952},{"type":15,"tag":252,"props":12902,"children":12903},{"style":601},[12904],{"type":21,"value":804},{"type":15,"tag":252,"props":12906,"children":12907},{"style":259},[12908],{"type":21,"value":3961},{"type":15,"tag":252,"props":12910,"children":12911},{"style":447},[12912],{"type":21,"value":10502},{"type":15,"tag":252,"props":12914,"children":12915},{"style":601},[12916],{"type":21,"value":804},{"type":15,"tag":252,"props":12918,"children":12919},{"style":259},[12920],{"type":21,"value":5716},{"type":15,"tag":252,"props":12922,"children":12923},{"style":447},[12924],{"type":21,"value":7138},{"type":15,"tag":252,"props":12926,"children":12927},{"class":254,"line":2270},[12928,12932,12936,12940,12944,12948,12952],{"type":15,"tag":252,"props":12929,"children":12930},{"style":601},[12931],{"type":21,"value":12717},{"type":15,"tag":252,"props":12933,"children":12934},{"style":276},[12935],{"type":21,"value":7244},{"type":15,"tag":252,"props":12937,"children":12938},{"style":601},[12939],{"type":21,"value":432},{"type":15,"tag":252,"props":12941,"children":12942},{"style":259},[12943],{"type":21,"value":8696},{"type":15,"tag":252,"props":12945,"children":12946},{"style":447},[12947],{"type":21,"value":7305},{"type":15,"tag":252,"props":12949,"children":12950},{"style":601},[12951],{"type":21,"value":5468},{"type":15,"tag":252,"props":12953,"children":12954},{"style":447},[12955],{"type":21,"value":3769},{"type":15,"tag":252,"props":12957,"children":12958},{"class":254,"line":2302},[12959,12963,12967,12971,12976,12980,12984,12988,12992,12996,13000,13004,13008,13012,13016,13020,13025,13029,13033],{"type":15,"tag":252,"props":12960,"children":12961},{"style":259},[12962],{"type":21,"value":12738},{"type":15,"tag":252,"props":12964,"children":12965},{"style":601},[12966],{"type":21,"value":804},{"type":15,"tag":252,"props":12968,"children":12969},{"style":259},[12970],{"type":21,"value":6153},{"type":15,"tag":252,"props":12972,"children":12973},{"style":447},[12974],{"type":21,"value":12975},"(_) ",{"type":15,"tag":252,"props":12977,"children":12978},{"style":601},[12979],{"type":21,"value":4054},{"type":15,"tag":252,"props":12981,"children":12982},{"style":259},[12983],{"type":21,"value":8666},{"type":15,"tag":252,"props":12985,"children":12986},{"style":447},[12987],{"type":21,"value":849},{"type":15,"tag":252,"props":12989,"children":12990},{"style":259},[12991],{"type":21,"value":5623},{"type":15,"tag":252,"props":12993,"children":12994},{"style":601},[12995],{"type":21,"value":804},{"type":15,"tag":252,"props":12997,"children":12998},{"style":259},[12999],{"type":21,"value":5716},{"type":15,"tag":252,"props":13001,"children":13002},{"style":601},[13003],{"type":21,"value":804},{"type":15,"tag":252,"props":13005,"children":13006},{"style":259},[13007],{"type":21,"value":5724},{"type":15,"tag":252,"props":13009,"children":13010},{"style":447},[13011],{"type":21,"value":849},{"type":15,"tag":252,"props":13013,"children":13014},{"style":276},[13015],{"type":21,"value":7432},{"type":15,"tag":252,"props":13017,"children":13018},{"style":601},[13019],{"type":21,"value":432},{"type":15,"tag":252,"props":13021,"children":13022},{"style":259},[13023],{"type":21,"value":13024},"literal",{"type":15,"tag":252,"props":13026,"children":13027},{"style":447},[13028],{"type":21,"value":7305},{"type":15,"tag":252,"props":13030,"children":13031},{"style":601},[13032],{"type":21,"value":5468},{"type":15,"tag":252,"props":13034,"children":13035},{"style":447},[13036],{"type":21,"value":13037},")),\n",{"type":15,"tag":252,"props":13039,"children":13040},{"class":254,"line":2310},[13041,13045,13049,13053,13057,13061,13065,13069,13073,13077,13081,13085,13089,13094,13098,13102,13106,13110],{"type":15,"tag":252,"props":13042,"children":13043},{"style":447},[13044],{"type":21,"value":9250},{"type":15,"tag":252,"props":13046,"children":13047},{"style":601},[13048],{"type":21,"value":4054},{"type":15,"tag":252,"props":13050,"children":13051},{"style":259},[13052],{"type":21,"value":12804},{"type":15,"tag":252,"props":13054,"children":13055},{"style":447},[13056],{"type":21,"value":849},{"type":15,"tag":252,"props":13058,"children":13059},{"style":259},[13060],{"type":21,"value":10203},{"type":15,"tag":252,"props":13062,"children":13063},{"style":447},[13064],{"type":21,"value":849},{"type":15,"tag":252,"props":13066,"children":13067},{"style":276},[13068],{"type":21,"value":7432},{"type":15,"tag":252,"props":13070,"children":13071},{"style":601},[13072],{"type":21,"value":432},{"type":15,"tag":252,"props":13074,"children":13075},{"style":259},[13076],{"type":21,"value":8261},{"type":15,"tag":252,"props":13078,"children":13079},{"style":447},[13080],{"type":21,"value":7305},{"type":15,"tag":252,"props":13082,"children":13083},{"style":601},[13084],{"type":21,"value":5468},{"type":15,"tag":252,"props":13086,"children":13087},{"style":447},[13088],{"type":21,"value":1076},{"type":15,"tag":252,"props":13090,"children":13091},{"style":265},[13092],{"type":21,"value":13093},"\"Expression\"",{"type":15,"tag":252,"props":13095,"children":13096},{"style":601},[13097],{"type":21,"value":432},{"type":15,"tag":252,"props":13099,"children":13100},{"style":259},[13101],{"type":21,"value":12830},{"type":15,"tag":252,"props":13103,"children":13104},{"style":447},[13105],{"type":21,"value":12835},{"type":15,"tag":252,"props":13107,"children":13108},{"style":601},[13109],{"type":21,"value":5468},{"type":15,"tag":252,"props":13111,"children":13112},{"style":447},[13113],{"type":21,"value":3879},{"type":15,"tag":252,"props":13115,"children":13116},{"class":254,"line":2370},[13117],{"type":15,"tag":252,"props":13118,"children":13119},{"style":447},[13120],{"type":21,"value":4087},{"type":15,"tag":252,"props":13122,"children":13123},{"class":254,"line":2418},[13124],{"type":15,"tag":252,"props":13125,"children":13126},{"style":447},[13127],{"type":21,"value":4095},{"type":15,"tag":252,"props":13129,"children":13130},{"class":254,"line":2426},[13131],{"type":15,"tag":252,"props":13132,"children":13133},{"emptyLinePlaceholder":2053},[13134],{"type":21,"value":2056},{"type":15,"tag":252,"props":13136,"children":13137},{"class":254,"line":2474},[13138,13142,13147,13151,13155,13159,13163,13167,13171,13175,13179,13183,13187,13191],{"type":15,"tag":252,"props":13139,"children":13140},{"style":601},[13141],{"type":21,"value":7146},{"type":15,"tag":252,"props":13143,"children":13144},{"style":259},[13145],{"type":21,"value":13146}," statement",{"type":15,"tag":252,"props":13148,"children":13149},{"style":447},[13150],{"type":21,"value":849},{"type":15,"tag":252,"props":13152,"children":13153},{"style":601},[13154],{"type":21,"value":7239},{"type":15,"tag":252,"props":13156,"children":13157},{"style":276},[13158],{"type":21,"value":7244},{"type":15,"tag":252,"props":13160,"children":13161},{"style":447},[13162],{"type":21,"value":4943},{"type":15,"tag":252,"props":13164,"children":13165},{"style":601},[13166],{"type":21,"value":3947},{"type":15,"tag":252,"props":13168,"children":13169},{"style":259},[13170],{"type":21,"value":3952},{"type":15,"tag":252,"props":13172,"children":13173},{"style":601},[13174],{"type":21,"value":804},{"type":15,"tag":252,"props":13176,"children":13177},{"style":259},[13178],{"type":21,"value":3961},{"type":15,"tag":252,"props":13180,"children":13181},{"style":447},[13182],{"type":21,"value":10502},{"type":15,"tag":252,"props":13184,"children":13185},{"style":601},[13186],{"type":21,"value":804},{"type":15,"tag":252,"props":13188,"children":13189},{"style":259},[13190],{"type":21,"value":5709},{"type":15,"tag":252,"props":13192,"children":13193},{"style":447},[13194],{"type":21,"value":7138},{"type":15,"tag":252,"props":13196,"children":13197},{"class":254,"line":2522},[13198,13202,13206,13210,13214,13218,13222,13226,13230],{"type":15,"tag":252,"props":13199,"children":13200},{"style":601},[13201],{"type":21,"value":8231},{"type":15,"tag":252,"props":13203,"children":13204},{"style":447},[13205],{"type":21,"value":12420},{"type":15,"tag":252,"props":13207,"children":13208},{"style":601},[13209],{"type":21,"value":614},{"type":15,"tag":252,"props":13211,"children":13212},{"style":276},[13213],{"type":21,"value":7244},{"type":15,"tag":252,"props":13215,"children":13216},{"style":601},[13217],{"type":21,"value":432},{"type":15,"tag":252,"props":13219,"children":13220},{"style":259},[13221],{"type":21,"value":8261},{"type":15,"tag":252,"props":13223,"children":13224},{"style":447},[13225],{"type":21,"value":7305},{"type":15,"tag":252,"props":13227,"children":13228},{"style":601},[13229],{"type":21,"value":5468},{"type":15,"tag":252,"props":13231,"children":13232},{"style":447},[13233],{"type":21,"value":3325},{"type":15,"tag":252,"props":13235,"children":13236},{"class":254,"line":2530},[13237,13241,13245,13249],{"type":15,"tag":252,"props":13238,"children":13239},{"style":601},[13240],{"type":21,"value":12717},{"type":15,"tag":252,"props":13242,"children":13243},{"style":447},[13244],{"type":21,"value":8039},{"type":15,"tag":252,"props":13246,"children":13247},{"style":601},[13248],{"type":21,"value":432},{"type":15,"tag":252,"props":13250,"children":13251},{"style":447},[13252],{"type":21,"value":12730},{"type":15,"tag":252,"props":13254,"children":13255},{"class":254,"line":2570},[13256,13260,13264,13268,13272],{"type":15,"tag":252,"props":13257,"children":13258},{"style":259},[13259],{"type":21,"value":12738},{"type":15,"tag":252,"props":13261,"children":13262},{"style":601},[13263],{"type":21,"value":804},{"type":15,"tag":252,"props":13265,"children":13266},{"style":259},[13267],{"type":21,"value":5693},{"type":15,"tag":252,"props":13269,"children":13270},{"style":601},[13271],{"type":21,"value":9226},{"type":15,"tag":252,"props":13273,"children":13274},{"style":447},[13275],{"type":21,"value":3769},{"type":15,"tag":252,"props":13277,"children":13278},{"class":254,"line":2591},[13279,13284,13289,13293,13297,13301,13305,13309,13313,13317,13321,13325,13330,13334,13338],{"type":15,"tag":252,"props":13280,"children":13281},{"style":601},[13282],{"type":21,"value":13283},"                let",{"type":15,"tag":252,"props":13285,"children":13286},{"style":447},[13287],{"type":21,"value":13288}," result ",{"type":15,"tag":252,"props":13290,"children":13291},{"style":601},[13292],{"type":21,"value":614},{"type":15,"tag":252,"props":13294,"children":13295},{"style":259},[13296],{"type":21,"value":5678},{"type":15,"tag":252,"props":13298,"children":13299},{"style":601},[13300],{"type":21,"value":804},{"type":15,"tag":252,"props":13302,"children":13303},{"style":259},[13304],{"type":21,"value":5709},{"type":15,"tag":252,"props":13306,"children":13307},{"style":601},[13308],{"type":21,"value":804},{"type":15,"tag":252,"props":13310,"children":13311},{"style":259},[13312],{"type":21,"value":5693},{"type":15,"tag":252,"props":13314,"children":13315},{"style":447},[13316],{"type":21,"value":849},{"type":15,"tag":252,"props":13318,"children":13319},{"style":276},[13320],{"type":21,"value":7432},{"type":15,"tag":252,"props":13322,"children":13323},{"style":601},[13324],{"type":21,"value":432},{"type":15,"tag":252,"props":13326,"children":13327},{"style":259},[13328],{"type":21,"value":13329},"expression",{"type":15,"tag":252,"props":13331,"children":13332},{"style":447},[13333],{"type":21,"value":7305},{"type":15,"tag":252,"props":13335,"children":13336},{"style":601},[13337],{"type":21,"value":5468},{"type":15,"tag":252,"props":13339,"children":13340},{"style":447},[13341],{"type":21,"value":859},{"type":15,"tag":252,"props":13343,"children":13344},{"class":254,"line":2599},[13345,13349,13353,13357,13361,13365,13369,13373,13377,13381],{"type":15,"tag":252,"props":13346,"children":13347},{"style":276},[13348],{"type":21,"value":8765},{"type":15,"tag":252,"props":13350,"children":13351},{"style":601},[13352],{"type":21,"value":432},{"type":15,"tag":252,"props":13354,"children":13355},{"style":259},[13356],{"type":21,"value":12596},{"type":15,"tag":252,"props":13358,"children":13359},{"style":447},[13360],{"type":21,"value":849},{"type":15,"tag":252,"props":13362,"children":13363},{"style":259},[13364],{"type":21,"value":8846},{"type":15,"tag":252,"props":13366,"children":13367},{"style":601},[13368],{"type":21,"value":804},{"type":15,"tag":252,"props":13370,"children":13371},{"style":259},[13372],{"type":21,"value":10060},{"type":15,"tag":252,"props":13374,"children":13375},{"style":447},[13376],{"type":21,"value":1975},{"type":15,"tag":252,"props":13378,"children":13379},{"style":601},[13380],{"type":21,"value":5468},{"type":15,"tag":252,"props":13382,"children":13383},{"style":447},[13384],{"type":21,"value":3325},{"type":15,"tag":252,"props":13386,"children":13387},{"class":254,"line":2647},[13388,13393],{"type":15,"tag":252,"props":13389,"children":13390},{"style":259},[13391],{"type":21,"value":13392},"                Ok",{"type":15,"tag":252,"props":13394,"children":13395},{"style":447},[13396],{"type":21,"value":13397},"(result)\n",{"type":15,"tag":252,"props":13399,"children":13400},{"class":254,"line":2679},[13401],{"type":15,"tag":252,"props":13402,"children":13403},{"style":447},[13404],{"type":21,"value":8814},{"type":15,"tag":252,"props":13406,"children":13407},{"class":254,"line":2727},[13408,13412,13416,13420,13424,13428,13432,13437,13441,13445,13449,13453],{"type":15,"tag":252,"props":13409,"children":13410},{"style":447},[13411],{"type":21,"value":9250},{"type":15,"tag":252,"props":13413,"children":13414},{"style":601},[13415],{"type":21,"value":4054},{"type":15,"tag":252,"props":13417,"children":13418},{"style":259},[13419],{"type":21,"value":12804},{"type":15,"tag":252,"props":13421,"children":13422},{"style":447},[13423],{"type":21,"value":849},{"type":15,"tag":252,"props":13425,"children":13426},{"style":259},[13427],{"type":21,"value":10203},{"type":15,"tag":252,"props":13429,"children":13430},{"style":447},[13431],{"type":21,"value":12541},{"type":15,"tag":252,"props":13433,"children":13434},{"style":265},[13435],{"type":21,"value":13436},"\"Statement\"",{"type":15,"tag":252,"props":13438,"children":13439},{"style":601},[13440],{"type":21,"value":432},{"type":15,"tag":252,"props":13442,"children":13443},{"style":259},[13444],{"type":21,"value":12830},{"type":15,"tag":252,"props":13446,"children":13447},{"style":447},[13448],{"type":21,"value":12835},{"type":15,"tag":252,"props":13450,"children":13451},{"style":601},[13452],{"type":21,"value":5468},{"type":15,"tag":252,"props":13454,"children":13455},{"style":447},[13456],{"type":21,"value":3879},{"type":15,"tag":252,"props":13458,"children":13459},{"class":254,"line":2735},[13460],{"type":15,"tag":252,"props":13461,"children":13462},{"style":447},[13463],{"type":21,"value":4087},{"type":15,"tag":252,"props":13465,"children":13466},{"class":254,"line":2799},[13467],{"type":15,"tag":252,"props":13468,"children":13469},{"style":447},[13470],{"type":21,"value":4095},{"type":15,"tag":252,"props":13472,"children":13473},{"class":254,"line":2807},[13474],{"type":15,"tag":252,"props":13475,"children":13476},{"emptyLinePlaceholder":2053},[13477],{"type":21,"value":2056},{"type":15,"tag":252,"props":13479,"children":13480},{"class":254,"line":2848},[13481,13485,13489,13493,13497,13501,13505,13509,13513,13517,13521,13525,13529,13533,13537],{"type":15,"tag":252,"props":13482,"children":13483},{"style":601},[13484],{"type":21,"value":4762},{"type":15,"tag":252,"props":13486,"children":13487},{"style":601},[13488],{"type":21,"value":4901},{"type":15,"tag":252,"props":13490,"children":13491},{"style":259},[13492],{"type":21,"value":1220},{"type":15,"tag":252,"props":13494,"children":13495},{"style":447},[13496],{"type":21,"value":849},{"type":15,"tag":252,"props":13498,"children":13499},{"style":601},[13500],{"type":21,"value":9713},{"type":15,"tag":252,"props":13502,"children":13503},{"style":276},[13504],{"type":21,"value":7244},{"type":15,"tag":252,"props":13506,"children":13507},{"style":447},[13508],{"type":21,"value":4943},{"type":15,"tag":252,"props":13510,"children":13511},{"style":601},[13512],{"type":21,"value":3947},{"type":15,"tag":252,"props":13514,"children":13515},{"style":259},[13516],{"type":21,"value":3952},{"type":15,"tag":252,"props":13518,"children":13519},{"style":601},[13520],{"type":21,"value":804},{"type":15,"tag":252,"props":13522,"children":13523},{"style":259},[13524],{"type":21,"value":3961},{"type":15,"tag":252,"props":13526,"children":13527},{"style":447},[13528],{"type":21,"value":10502},{"type":15,"tag":252,"props":13530,"children":13531},{"style":601},[13532],{"type":21,"value":804},{"type":15,"tag":252,"props":13534,"children":13535},{"style":259},[13536],{"type":21,"value":6055},{"type":15,"tag":252,"props":13538,"children":13539},{"style":447},[13540],{"type":21,"value":7138},{"type":15,"tag":252,"props":13542,"children":13543},{"class":254,"line":4645},[13544,13548,13552,13557,13561,13565,13569,13573],{"type":15,"tag":252,"props":13545,"children":13546},{"style":601},[13547],{"type":21,"value":8231},{"type":15,"tag":252,"props":13549,"children":13550},{"style":601},[13551],{"type":21,"value":8623},{"type":15,"tag":252,"props":13553,"children":13554},{"style":447},[13555],{"type":21,"value":13556}," statements ",{"type":15,"tag":252,"props":13558,"children":13559},{"style":601},[13560],{"type":21,"value":614},{"type":15,"tag":252,"props":13562,"children":13563},{"style":259},[13564],{"type":21,"value":5821},{"type":15,"tag":252,"props":13566,"children":13567},{"style":601},[13568],{"type":21,"value":804},{"type":15,"tag":252,"props":13570,"children":13571},{"style":259},[13572],{"type":21,"value":7761},{"type":15,"tag":252,"props":13574,"children":13575},{"style":447},[13576],{"type":21,"value":814},{"type":15,"tag":252,"props":13578,"children":13579},{"class":254,"line":4654},[13580],{"type":15,"tag":252,"props":13581,"children":13582},{"emptyLinePlaceholder":2053},[13583],{"type":21,"value":2056},{"type":15,"tag":252,"props":13585,"children":13586},{"class":254,"line":4675},[13587,13591,13595,13599,13603,13607,13611,13616,13620,13624,13628,13632],{"type":15,"tag":252,"props":13588,"children":13589},{"style":601},[13590],{"type":21,"value":8656},{"type":15,"tag":252,"props":13592,"children":13593},{"style":276},[13594],{"type":21,"value":7244},{"type":15,"tag":252,"props":13596,"children":13597},{"style":601},[13598],{"type":21,"value":432},{"type":15,"tag":252,"props":13600,"children":13601},{"style":259},[13602],{"type":21,"value":8696},{"type":15,"tag":252,"props":13604,"children":13605},{"style":447},[13606],{"type":21,"value":7305},{"type":15,"tag":252,"props":13608,"children":13609},{"style":601},[13610],{"type":21,"value":5468},{"type":15,"tag":252,"props":13612,"children":13613},{"style":601},[13614],{"type":21,"value":13615}," !=",{"type":15,"tag":252,"props":13617,"children":13618},{"style":601},[13619],{"type":21,"value":4920},{"type":15,"tag":252,"props":13621,"children":13622},{"style":259},[13623],{"type":21,"value":8846},{"type":15,"tag":252,"props":13625,"children":13626},{"style":601},[13627],{"type":21,"value":804},{"type":15,"tag":252,"props":13629,"children":13630},{"style":259},[13631],{"type":21,"value":10304},{"type":15,"tag":252,"props":13633,"children":13634},{"style":447},[13635],{"type":21,"value":3769},{"type":15,"tag":252,"props":13637,"children":13638},{"class":254,"line":8160},[13639,13644,13648,13652,13656,13660,13664,13669,13673,13677],{"type":15,"tag":252,"props":13640,"children":13641},{"style":447},[13642],{"type":21,"value":13643},"            statements",{"type":15,"tag":252,"props":13645,"children":13646},{"style":601},[13647],{"type":21,"value":432},{"type":15,"tag":252,"props":13649,"children":13650},{"style":259},[13651],{"type":21,"value":8743},{"type":15,"tag":252,"props":13653,"children":13654},{"style":447},[13655],{"type":21,"value":849},{"type":15,"tag":252,"props":13657,"children":13658},{"style":276},[13659],{"type":21,"value":7432},{"type":15,"tag":252,"props":13661,"children":13662},{"style":601},[13663],{"type":21,"value":432},{"type":15,"tag":252,"props":13665,"children":13666},{"style":259},[13667],{"type":21,"value":13668},"statement",{"type":15,"tag":252,"props":13670,"children":13671},{"style":447},[13672],{"type":21,"value":7305},{"type":15,"tag":252,"props":13674,"children":13675},{"style":601},[13676],{"type":21,"value":5468},{"type":15,"tag":252,"props":13678,"children":13679},{"style":447},[13680],{"type":21,"value":859},{"type":15,"tag":252,"props":13682,"children":13683},{"class":254,"line":8168},[13684],{"type":15,"tag":252,"props":13685,"children":13686},{"style":447},[13687],{"type":21,"value":4087},{"type":15,"tag":252,"props":13689,"children":13690},{"class":254,"line":8176},[13691],{"type":15,"tag":252,"props":13692,"children":13693},{"emptyLinePlaceholder":2053},[13694],{"type":21,"value":2056},{"type":15,"tag":252,"props":13696,"children":13697},{"class":254,"line":8225},[13698,13702,13706,13710,13714,13718],{"type":15,"tag":252,"props":13699,"children":13700},{"style":259},[13701],{"type":21,"value":10316},{"type":15,"tag":252,"props":13703,"children":13704},{"style":447},[13705],{"type":21,"value":849},{"type":15,"tag":252,"props":13707,"children":13708},{"style":259},[13709],{"type":21,"value":5623},{"type":15,"tag":252,"props":13711,"children":13712},{"style":601},[13713],{"type":21,"value":804},{"type":15,"tag":252,"props":13715,"children":13716},{"style":259},[13717],{"type":21,"value":6055},{"type":15,"tag":252,"props":13719,"children":13720},{"style":447},[13721],{"type":21,"value":13722},"(statements))\n",{"type":15,"tag":252,"props":13724,"children":13725},{"class":254,"line":8289},[13726],{"type":15,"tag":252,"props":13727,"children":13728},{"style":447},[13729],{"type":21,"value":4095},{"type":15,"tag":23,"props":13731,"children":13732},{},[13733,13735,13740],{"type":21,"value":13734},"It is really straightforward really, we check what we are currently at then call the needed function.\nLet's add this to our ",{"type":15,"tag":81,"props":13736,"children":13738},{"className":13737},[],[13739],{"type":21,"value":3995},{"type":21,"value":13741}," function!",{"type":15,"tag":95,"props":13743,"children":13745},{"code":13744,"language":772,"meta":8,"className":773,"style":8},"// parsing/mod.rs\n\npub fn parse(code: &str, compiler_options: &CompilerOptions) -> anyhow::Result\u003Cast::Module> {\n    let tokenizer = tokens::Tokenizer::new(code);\n    let tokens = tokenizer.tokenize()?;\n\n    if compiler_options.output_tokens {\n      // ..\n    }\n\n    let parser = parser::Parser::new(tokens);\n    let ast = parser.module()?;\n\n    if compiler_options.output_ast {\n        println!(\"AST: {ast:#?}\");\n    }\n\n    Ok(ast)\n}\n",[13746],{"type":15,"tag":81,"props":13747,"children":13748},{"__ignoreMap":8},[13749,13756,13763,13846,13885,13924,13931,13950,13958,13965,13972,14014,14053,14060,14080,14100,14107,14114,14126],{"type":15,"tag":252,"props":13750,"children":13751},{"class":254,"line":255},[13752],{"type":15,"tag":252,"props":13753,"children":13754},{"style":3287},[13755],{"type":21,"value":5654},{"type":15,"tag":252,"props":13757,"children":13758},{"class":254,"line":334},[13759],{"type":15,"tag":252,"props":13760,"children":13761},{"emptyLinePlaceholder":2053},[13762],{"type":21,"value":2056},{"type":15,"tag":252,"props":13764,"children":13765},{"class":254,"line":390},[13766,13770,13774,13778,13782,13786,13790,13794,13798,13802,13806,13810,13814,13818,13822,13826,13830,13834,13838,13842],{"type":15,"tag":252,"props":13767,"children":13768},{"style":601},[13769],{"type":21,"value":4740},{"type":15,"tag":252,"props":13771,"children":13772},{"style":601},[13773],{"type":21,"value":4901},{"type":15,"tag":252,"props":13775,"children":13776},{"style":259},[13777],{"type":21,"value":10444},{"type":15,"tag":252,"props":13779,"children":13780},{"style":447},[13781],{"type":21,"value":7697},{"type":15,"tag":252,"props":13783,"children":13784},{"style":601},[13785],{"type":21,"value":3374},{"type":15,"tag":252,"props":13787,"children":13788},{"style":601},[13789],{"type":21,"value":4920},{"type":15,"tag":252,"props":13791,"children":13792},{"style":259},[13793],{"type":21,"value":4925},{"type":15,"tag":252,"props":13795,"children":13796},{"style":447},[13797],{"type":21,"value":10465},{"type":15,"tag":252,"props":13799,"children":13800},{"style":601},[13801],{"type":21,"value":3374},{"type":15,"tag":252,"props":13803,"children":13804},{"style":601},[13805],{"type":21,"value":4920},{"type":15,"tag":252,"props":13807,"children":13808},{"style":259},[13809],{"type":21,"value":5086},{"type":15,"tag":252,"props":13811,"children":13812},{"style":447},[13813],{"type":21,"value":4943},{"type":15,"tag":252,"props":13815,"children":13816},{"style":601},[13817],{"type":21,"value":3947},{"type":15,"tag":252,"props":13819,"children":13820},{"style":259},[13821],{"type":21,"value":3952},{"type":15,"tag":252,"props":13823,"children":13824},{"style":601},[13825],{"type":21,"value":804},{"type":15,"tag":252,"props":13827,"children":13828},{"style":259},[13829],{"type":21,"value":3961},{"type":15,"tag":252,"props":13831,"children":13832},{"style":447},[13833],{"type":21,"value":10502},{"type":15,"tag":252,"props":13835,"children":13836},{"style":601},[13837],{"type":21,"value":804},{"type":15,"tag":252,"props":13839,"children":13840},{"style":259},[13841],{"type":21,"value":6055},{"type":15,"tag":252,"props":13843,"children":13844},{"style":447},[13845],{"type":21,"value":7138},{"type":15,"tag":252,"props":13847,"children":13848},{"class":254,"line":2077},[13849,13853,13857,13861,13865,13869,13873,13877,13881],{"type":15,"tag":252,"props":13850,"children":13851},{"style":601},[13852],{"type":21,"value":2083},{"type":15,"tag":252,"props":13854,"children":13855},{"style":447},[13856],{"type":21,"value":10526},{"type":15,"tag":252,"props":13858,"children":13859},{"style":601},[13860],{"type":21,"value":614},{"type":15,"tag":252,"props":13862,"children":13863},{"style":259},[13864],{"type":21,"value":6977},{"type":15,"tag":252,"props":13866,"children":13867},{"style":601},[13868],{"type":21,"value":804},{"type":15,"tag":252,"props":13870,"children":13871},{"style":259},[13872],{"type":21,"value":6348},{"type":15,"tag":252,"props":13874,"children":13875},{"style":601},[13876],{"type":21,"value":804},{"type":15,"tag":252,"props":13878,"children":13879},{"style":259},[13880],{"type":21,"value":7761},{"type":15,"tag":252,"props":13882,"children":13883},{"style":447},[13884],{"type":21,"value":10555},{"type":15,"tag":252,"props":13886,"children":13887},{"class":254,"line":2110},[13888,13892,13896,13900,13904,13908,13912,13916,13920],{"type":15,"tag":252,"props":13889,"children":13890},{"style":601},[13891],{"type":21,"value":2083},{"type":15,"tag":252,"props":13893,"children":13894},{"style":447},[13895],{"type":21,"value":9776},{"type":15,"tag":252,"props":13897,"children":13898},{"style":601},[13899],{"type":21,"value":614},{"type":15,"tag":252,"props":13901,"children":13902},{"style":447},[13903],{"type":21,"value":10575},{"type":15,"tag":252,"props":13905,"children":13906},{"style":601},[13907],{"type":21,"value":432},{"type":15,"tag":252,"props":13909,"children":13910},{"style":259},[13911],{"type":21,"value":10584},{"type":15,"tag":252,"props":13913,"children":13914},{"style":447},[13915],{"type":21,"value":7305},{"type":15,"tag":252,"props":13917,"children":13918},{"style":601},[13919],{"type":21,"value":5468},{"type":15,"tag":252,"props":13921,"children":13922},{"style":447},[13923],{"type":21,"value":3325},{"type":15,"tag":252,"props":13925,"children":13926},{"class":254,"line":2150},[13927],{"type":15,"tag":252,"props":13928,"children":13929},{"emptyLinePlaceholder":2053},[13930],{"type":21,"value":2056},{"type":15,"tag":252,"props":13932,"children":13933},{"class":254,"line":2182},[13934,13938,13942,13946],{"type":15,"tag":252,"props":13935,"children":13936},{"style":601},[13937],{"type":21,"value":10611},{"type":15,"tag":252,"props":13939,"children":13940},{"style":447},[13941],{"type":21,"value":10616},{"type":15,"tag":252,"props":13943,"children":13944},{"style":601},[13945],{"type":21,"value":432},{"type":15,"tag":252,"props":13947,"children":13948},{"style":447},[13949],{"type":21,"value":10625},{"type":15,"tag":252,"props":13951,"children":13952},{"class":254,"line":2190},[13953],{"type":15,"tag":252,"props":13954,"children":13955},{"style":3287},[13956],{"type":21,"value":13957},"      // ..\n",{"type":15,"tag":252,"props":13959,"children":13960},{"class":254,"line":2222},[13961],{"type":15,"tag":252,"props":13962,"children":13963},{"style":447},[13964],{"type":21,"value":4095},{"type":15,"tag":252,"props":13966,"children":13967},{"class":254,"line":2270},[13968],{"type":15,"tag":252,"props":13969,"children":13970},{"emptyLinePlaceholder":2053},[13971],{"type":21,"value":2056},{"type":15,"tag":252,"props":13973,"children":13974},{"class":254,"line":2302},[13975,13979,13984,13988,13993,13997,14001,14005,14009],{"type":15,"tag":252,"props":13976,"children":13977},{"style":601},[13978],{"type":21,"value":2083},{"type":15,"tag":252,"props":13980,"children":13981},{"style":447},[13982],{"type":21,"value":13983}," parser ",{"type":15,"tag":252,"props":13985,"children":13986},{"style":601},[13987],{"type":21,"value":614},{"type":15,"tag":252,"props":13989,"children":13990},{"style":259},[13991],{"type":21,"value":13992}," parser",{"type":15,"tag":252,"props":13994,"children":13995},{"style":601},[13996],{"type":21,"value":804},{"type":15,"tag":252,"props":13998,"children":13999},{"style":259},[14000],{"type":21,"value":3714},{"type":15,"tag":252,"props":14002,"children":14003},{"style":601},[14004],{"type":21,"value":804},{"type":15,"tag":252,"props":14006,"children":14007},{"style":259},[14008],{"type":21,"value":7761},{"type":15,"tag":252,"props":14010,"children":14011},{"style":447},[14012],{"type":21,"value":14013},"(tokens);\n",{"type":15,"tag":252,"props":14015,"children":14016},{"class":254,"line":2310},[14017,14021,14025,14029,14033,14037,14041,14045,14049],{"type":15,"tag":252,"props":14018,"children":14019},{"style":601},[14020],{"type":21,"value":2083},{"type":15,"tag":252,"props":14022,"children":14023},{"style":447},[14024],{"type":21,"value":11033},{"type":15,"tag":252,"props":14026,"children":14027},{"style":601},[14028],{"type":21,"value":614},{"type":15,"tag":252,"props":14030,"children":14031},{"style":447},[14032],{"type":21,"value":13992},{"type":15,"tag":252,"props":14034,"children":14035},{"style":601},[14036],{"type":21,"value":432},{"type":15,"tag":252,"props":14038,"children":14039},{"style":259},[14040],{"type":21,"value":919},{"type":15,"tag":252,"props":14042,"children":14043},{"style":447},[14044],{"type":21,"value":7305},{"type":15,"tag":252,"props":14046,"children":14047},{"style":601},[14048],{"type":21,"value":5468},{"type":15,"tag":252,"props":14050,"children":14051},{"style":447},[14052],{"type":21,"value":3325},{"type":15,"tag":252,"props":14054,"children":14055},{"class":254,"line":2370},[14056],{"type":15,"tag":252,"props":14057,"children":14058},{"emptyLinePlaceholder":2053},[14059],{"type":21,"value":2056},{"type":15,"tag":252,"props":14061,"children":14062},{"class":254,"line":2418},[14063,14067,14071,14075],{"type":15,"tag":252,"props":14064,"children":14065},{"style":601},[14066],{"type":21,"value":10611},{"type":15,"tag":252,"props":14068,"children":14069},{"style":447},[14070],{"type":21,"value":10616},{"type":15,"tag":252,"props":14072,"children":14073},{"style":601},[14074],{"type":21,"value":432},{"type":15,"tag":252,"props":14076,"children":14077},{"style":447},[14078],{"type":21,"value":14079},"output_ast {\n",{"type":15,"tag":252,"props":14081,"children":14082},{"class":254,"line":2426},[14083,14087,14091,14096],{"type":15,"tag":252,"props":14084,"children":14085},{"style":259},[14086],{"type":21,"value":10822},{"type":15,"tag":252,"props":14088,"children":14089},{"style":447},[14090],{"type":21,"value":849},{"type":15,"tag":252,"props":14092,"children":14093},{"style":265},[14094],{"type":21,"value":14095},"\"AST: {ast:#?}\"",{"type":15,"tag":252,"props":14097,"children":14098},{"style":447},[14099],{"type":21,"value":859},{"type":15,"tag":252,"props":14101,"children":14102},{"class":254,"line":2474},[14103],{"type":15,"tag":252,"props":14104,"children":14105},{"style":447},[14106],{"type":21,"value":4095},{"type":15,"tag":252,"props":14108,"children":14109},{"class":254,"line":2522},[14110],{"type":15,"tag":252,"props":14111,"children":14112},{"emptyLinePlaceholder":2053},[14113],{"type":21,"value":2056},{"type":15,"tag":252,"props":14115,"children":14116},{"class":254,"line":2530},[14117,14121],{"type":15,"tag":252,"props":14118,"children":14119},{"style":259},[14120],{"type":21,"value":4110},{"type":15,"tag":252,"props":14122,"children":14123},{"style":447},[14124],{"type":21,"value":14125},"(ast)\n",{"type":15,"tag":252,"props":14127,"children":14128},{"class":254,"line":2570},[14129],{"type":15,"tag":252,"props":14130,"children":14131},{"style":447},[14132],{"type":21,"value":2854},{"type":15,"tag":23,"props":14134,"children":14135},{},[14136],{"type":21,"value":14137},"We can now run our code on the same file",{"type":15,"tag":95,"props":14139,"children":14141},{"code":14140,"language":245,"meta":8,"className":246,"style":8},"cargo run -- run test.viv --output-ast\n",[14142],{"type":15,"tag":81,"props":14143,"children":14144},{"__ignoreMap":8},[14145],{"type":15,"tag":252,"props":14146,"children":14147},{"class":254,"line":255},[14148,14152,14156,14160,14164,14168],{"type":15,"tag":252,"props":14149,"children":14150},{"style":259},[14151],{"type":21,"value":262},{"type":15,"tag":252,"props":14153,"children":14154},{"style":265},[14155],{"type":21,"value":3621},{"type":15,"tag":252,"props":14157,"children":14158},{"style":276},[14159],{"type":21,"value":3670},{"type":15,"tag":252,"props":14161,"children":14162},{"style":265},[14163],{"type":21,"value":3621},{"type":15,"tag":252,"props":14165,"children":14166},{"style":265},[14167],{"type":21,"value":11174},{"type":15,"tag":252,"props":14169,"children":14170},{"style":276},[14171],{"type":21,"value":14172}," --output-ast\n",{"type":15,"tag":23,"props":14174,"children":14175},{},[14176],{"type":21,"value":14177},"And you should get something like:",{"type":15,"tag":95,"props":14179,"children":14181},{"code":14180,"language":772,"meta":8,"className":773,"style":8},"Module(\n    [\n        Print(\n            Literal(\n                Integer(\n                    1,\n                ),\n            ),\n        ),\n        Print(\n            Literal(\n                Integer(\n                    2,\n                ),\n            ),\n        ),\n    ],\n)\n",[14182],{"type":15,"tag":81,"props":14183,"children":14184},{"__ignoreMap":8},[14185,14197,14205,14217,14229,14241,14253,14261,14269,14277,14288,14299,14310,14322,14329,14336,14343,14351],{"type":15,"tag":252,"props":14186,"children":14187},{"class":254,"line":255},[14188,14192],{"type":15,"tag":252,"props":14189,"children":14190},{"style":259},[14191],{"type":21,"value":6055},{"type":15,"tag":252,"props":14193,"children":14194},{"style":447},[14195],{"type":21,"value":14196},"(\n",{"type":15,"tag":252,"props":14198,"children":14199},{"class":254,"line":334},[14200],{"type":15,"tag":252,"props":14201,"children":14202},{"style":447},[14203],{"type":21,"value":14204},"    [\n",{"type":15,"tag":252,"props":14206,"children":14207},{"class":254,"line":390},[14208,14213],{"type":15,"tag":252,"props":14209,"children":14210},{"style":259},[14211],{"type":21,"value":14212},"        Print",{"type":15,"tag":252,"props":14214,"children":14215},{"style":447},[14216],{"type":21,"value":14196},{"type":15,"tag":252,"props":14218,"children":14219},{"class":254,"line":2077},[14220,14225],{"type":15,"tag":252,"props":14221,"children":14222},{"style":259},[14223],{"type":21,"value":14224},"            Literal",{"type":15,"tag":252,"props":14226,"children":14227},{"style":447},[14228],{"type":21,"value":14196},{"type":15,"tag":252,"props":14230,"children":14231},{"class":254,"line":2110},[14232,14237],{"type":15,"tag":252,"props":14233,"children":14234},{"style":259},[14235],{"type":21,"value":14236},"                Integer",{"type":15,"tag":252,"props":14238,"children":14239},{"style":447},[14240],{"type":21,"value":14196},{"type":15,"tag":252,"props":14242,"children":14243},{"class":254,"line":2150},[14244,14249],{"type":15,"tag":252,"props":14245,"children":14246},{"style":276},[14247],{"type":21,"value":14248},"                    1",{"type":15,"tag":252,"props":14250,"children":14251},{"style":447},[14252],{"type":21,"value":3879},{"type":15,"tag":252,"props":14254,"children":14255},{"class":254,"line":2182},[14256],{"type":15,"tag":252,"props":14257,"children":14258},{"style":447},[14259],{"type":21,"value":14260},"                ),\n",{"type":15,"tag":252,"props":14262,"children":14263},{"class":254,"line":2190},[14264],{"type":15,"tag":252,"props":14265,"children":14266},{"style":447},[14267],{"type":21,"value":14268},"            ),\n",{"type":15,"tag":252,"props":14270,"children":14271},{"class":254,"line":2222},[14272],{"type":15,"tag":252,"props":14273,"children":14274},{"style":447},[14275],{"type":21,"value":14276},"        ),\n",{"type":15,"tag":252,"props":14278,"children":14279},{"class":254,"line":2270},[14280,14284],{"type":15,"tag":252,"props":14281,"children":14282},{"style":259},[14283],{"type":21,"value":14212},{"type":15,"tag":252,"props":14285,"children":14286},{"style":447},[14287],{"type":21,"value":14196},{"type":15,"tag":252,"props":14289,"children":14290},{"class":254,"line":2302},[14291,14295],{"type":15,"tag":252,"props":14292,"children":14293},{"style":259},[14294],{"type":21,"value":14224},{"type":15,"tag":252,"props":14296,"children":14297},{"style":447},[14298],{"type":21,"value":14196},{"type":15,"tag":252,"props":14300,"children":14301},{"class":254,"line":2310},[14302,14306],{"type":15,"tag":252,"props":14303,"children":14304},{"style":259},[14305],{"type":21,"value":14236},{"type":15,"tag":252,"props":14307,"children":14308},{"style":447},[14309],{"type":21,"value":14196},{"type":15,"tag":252,"props":14311,"children":14312},{"class":254,"line":2370},[14313,14318],{"type":15,"tag":252,"props":14314,"children":14315},{"style":276},[14316],{"type":21,"value":14317},"                    2",{"type":15,"tag":252,"props":14319,"children":14320},{"style":447},[14321],{"type":21,"value":3879},{"type":15,"tag":252,"props":14323,"children":14324},{"class":254,"line":2418},[14325],{"type":15,"tag":252,"props":14326,"children":14327},{"style":447},[14328],{"type":21,"value":14260},{"type":15,"tag":252,"props":14330,"children":14331},{"class":254,"line":2426},[14332],{"type":15,"tag":252,"props":14333,"children":14334},{"style":447},[14335],{"type":21,"value":14268},{"type":15,"tag":252,"props":14337,"children":14338},{"class":254,"line":2474},[14339],{"type":15,"tag":252,"props":14340,"children":14341},{"style":447},[14342],{"type":21,"value":14276},{"type":15,"tag":252,"props":14344,"children":14345},{"class":254,"line":2522},[14346],{"type":15,"tag":252,"props":14347,"children":14348},{"style":447},[14349],{"type":21,"value":14350},"    ],\n",{"type":15,"tag":252,"props":14352,"children":14353},{"class":254,"line":2530},[14354],{"type":15,"tag":252,"props":14355,"children":14356},{"style":447},[14357],{"type":21,"value":7327},{"type":15,"tag":192,"props":14359,"children":14360},{"id":3113},[14361],{"type":21,"value":3116},{"type":15,"tag":23,"props":14363,"children":14364},{},[14365],{"type":21,"value":14366},"Oh boy this got long, but now we should have a fully working parser generating our ast, In the next blog we will create the internal IR and type analyzer, they should be much simpler than this, so we might fit in the code generation as well! So stay tuned",{"type":15,"tag":3134,"props":14368,"children":14369},{},[14370],{"type":21,"value":3138},{"title":8,"searchDepth":334,"depth":334,"links":14372},[14373,14374,14378,14384],{"id":3168,"depth":334,"text":3171},{"id":3440,"depth":334,"text":3443,"children":14375},[14376,14377],{"id":3573,"depth":390,"text":3576},{"id":4205,"depth":390,"text":4208},{"id":5538,"depth":334,"text":5541,"children":14379},[14380,14381,14382,14383],{"id":5623,"depth":390,"text":5626},{"id":6239,"depth":390,"text":6242},{"id":6345,"depth":390,"text":6348},{"id":11292,"depth":390,"text":3714},{"id":3113,"depth":334,"text":3116},"content:blog:2.compiler_2.md","blog/2.compiler_2.md",{"_path":14388,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":14389,"description":14390,"body":14391,"_type":3151,"_id":23087,"_source":3153,"_file":23088,"_extension":3155},"/blog/compiler_3","Compiler part 2.2 - Type analysis and Code geneation!","So in the last blog post, we created the parsing module that generated our AST! Today we will be generating the internal IR, code generation (what we did in part 1, but now based on our IR!), and then also adding those shell commands we used afterward to the compiler itself.",{"type":12,"children":14392,"toc":23074},[14393,14398,14410,14424,14430,14438,14443,14555,14561,14596,14878,14891,14897,14902,15191,15204,15209,15545,15553,16257,16262,16658,16671,16842,16848,16860,16866,17833,17838,18171,18183,19781,19786,19798,19803,20078,20083,20108,20131,20136,20367,20380,20388,20394,20417,20422,20923,20936,20941,21699,21711,22156,22161,22565,22594,22600,22612,22972,22977,23025,23031,23036,23042,23047,23065,23070],{"type":15,"tag":16,"props":14394,"children":14396},{"id":14395},"compiler-part-22-type-analysis-and-code-geneation",[14397],{"type":21,"value":14389},{"type":15,"tag":23,"props":14399,"children":14400},{},[14401,14403,14408],{"type":21,"value":14402},"So in the last blog post, we created the ",{"type":15,"tag":81,"props":14404,"children":14406},{"className":14405},[],[14407],{"type":21,"value":5538},{"type":21,"value":14409}," module that generated our AST! Today we will be generating the internal IR, code generation (what we did in part 1, but now based on our IR!), and then also adding those shell commands we used afterward to the compiler itself.",{"type":15,"tag":210,"props":14411,"children":14412},{},[14413],{"type":15,"tag":23,"props":14414,"children":14415},{},[14416,14418],{"type":21,"value":14417},"The full code for this post can be found at ",{"type":15,"tag":43,"props":14419,"children":14422},{"href":14420,"rel":14421},"https://github.com/vivax3794/viv_script_blog/tree/0a4be49ac325d2275b3352b36f94f91bbb2030f6",[47],[14423],{"type":21,"value":14420},{"type":15,"tag":192,"props":14425,"children":14427},{"id":14426},"type-analysis",[14428],{"type":21,"value":14429},"Type analysis",{"type":15,"tag":23,"props":14431,"children":14432},{},[14433,14435],{"type":21,"value":14434},"This step is basically \"figure out what everything is!\", we basically apply a bunch of rules to give every part of our compiler a type ",{"type":15,"tag":234,"props":14436,"children":14437},{},[],{"type":15,"tag":23,"props":14439,"children":14440},{},[14441],{"type":21,"value":14442},"This might sound hard, but it is rather simple, code might be something along the lines of",{"type":15,"tag":95,"props":14444,"children":14446},{"code":14445,"language":772,"meta":8,"className":773,"style":8},"if plus.left == int a&& plus.right == int {plus.result = int}\nelse {error(...)}\n",[14447],{"type":15,"tag":81,"props":14448,"children":14449},{"__ignoreMap":8},[14450,14525],{"type":15,"tag":252,"props":14451,"children":14452},{"class":254,"line":255},[14453,14457,14462,14466,14471,14475,14480,14485,14489,14493,14498,14502,14507,14511,14516,14520],{"type":15,"tag":252,"props":14454,"children":14455},{"style":601},[14456],{"type":21,"value":1627},{"type":15,"tag":252,"props":14458,"children":14459},{"style":447},[14460],{"type":21,"value":14461}," plus",{"type":15,"tag":252,"props":14463,"children":14464},{"style":601},[14465],{"type":21,"value":432},{"type":15,"tag":252,"props":14467,"children":14468},{"style":447},[14469],{"type":21,"value":14470},"left ",{"type":15,"tag":252,"props":14472,"children":14473},{"style":601},[14474],{"type":21,"value":8304},{"type":15,"tag":252,"props":14476,"children":14477},{"style":447},[14478],{"type":21,"value":14479}," int a",{"type":15,"tag":252,"props":14481,"children":14482},{"style":601},[14483],{"type":21,"value":14484},"&&",{"type":15,"tag":252,"props":14486,"children":14487},{"style":447},[14488],{"type":21,"value":14461},{"type":15,"tag":252,"props":14490,"children":14491},{"style":601},[14492],{"type":21,"value":432},{"type":15,"tag":252,"props":14494,"children":14495},{"style":447},[14496],{"type":21,"value":14497},"right ",{"type":15,"tag":252,"props":14499,"children":14500},{"style":601},[14501],{"type":21,"value":8304},{"type":15,"tag":252,"props":14503,"children":14504},{"style":447},[14505],{"type":21,"value":14506}," int {plus",{"type":15,"tag":252,"props":14508,"children":14509},{"style":601},[14510],{"type":21,"value":432},{"type":15,"tag":252,"props":14512,"children":14513},{"style":447},[14514],{"type":21,"value":14515},"result ",{"type":15,"tag":252,"props":14517,"children":14518},{"style":601},[14519],{"type":21,"value":614},{"type":15,"tag":252,"props":14521,"children":14522},{"style":447},[14523],{"type":21,"value":14524}," int}\n",{"type":15,"tag":252,"props":14526,"children":14527},{"class":254,"line":334},[14528,14532,14537,14541,14545,14550],{"type":15,"tag":252,"props":14529,"children":14530},{"style":601},[14531],{"type":21,"value":8396},{"type":15,"tag":252,"props":14533,"children":14534},{"style":447},[14535],{"type":21,"value":14536}," {",{"type":15,"tag":252,"props":14538,"children":14539},{"style":259},[14540],{"type":21,"value":10203},{"type":15,"tag":252,"props":14542,"children":14543},{"style":447},[14544],{"type":21,"value":849},{"type":15,"tag":252,"props":14546,"children":14547},{"style":601},[14548],{"type":21,"value":14549},"...",{"type":15,"tag":252,"props":14551,"children":14552},{"style":447},[14553],{"type":21,"value":14554},")}\n",{"type":15,"tag":59,"props":14556,"children":14558},{"id":14557},"ir",[14559],{"type":21,"value":14560},"Ir",{"type":15,"tag":23,"props":14562,"children":14563},{},[14564,14566,14571,14573,14579,14581,14587,14588,14594],{"type":21,"value":14565},"Our IR will contain type information in contrast to the AST, we could encode this using fields (and we will for dynamic types like structs.). While the AST represents what the code looks like, the IR should represent what the code ",{"type":15,"tag":3181,"props":14567,"children":14568},{},[14569],{"type":21,"value":14570},"does",{"type":21,"value":14572},". so instead of just ",{"type":15,"tag":81,"props":14574,"children":14576},{"className":14575},[],[14577],{"type":21,"value":14578},"add",{"type":21,"value":14580},", we will have ",{"type":15,"tag":81,"props":14582,"children":14584},{"className":14583},[],[14585],{"type":21,"value":14586},"AddInt",{"type":21,"value":1076},{"type":15,"tag":81,"props":14589,"children":14591},{"className":14590},[],[14592],{"type":21,"value":14593},"AddFloat",{"type":21,"value":14595},", etc, etc.",{"type":15,"tag":95,"props":14597,"children":14599},{"code":14598,"language":772,"meta":8,"className":773,"style":8},"/// ir.rs\n\n#[derive(Debug)]\npub struct Module(pub Vec\u003CStatement>);\n\n#[derive(Debug)]\npub enum Statement {\n    Print(PrintStatement),\n}\n\n#[derive(Debug)]\npub enum PrintStatement {\n    Int(IntExpression),\n}\n\n#[derive(Debug)]\npub enum IntExpression {\n    Literal(i32),\n}\n",[14600],{"type":15,"tag":81,"props":14601,"children":14602},{"__ignoreMap":8},[14603,14611,14618,14633,14672,14679,14694,14713,14733,14740,14747,14762,14782,14803,14810,14817,14832,14852,14871],{"type":15,"tag":252,"props":14604,"children":14605},{"class":254,"line":255},[14606],{"type":15,"tag":252,"props":14607,"children":14608},{"style":3287},[14609],{"type":21,"value":14610},"/// ir.rs\n",{"type":15,"tag":252,"props":14612,"children":14613},{"class":254,"line":334},[14614],{"type":15,"tag":252,"props":14615,"children":14616},{"emptyLinePlaceholder":2053},[14617],{"type":21,"value":2056},{"type":15,"tag":252,"props":14619,"children":14620},{"class":254,"line":390},[14621,14625,14629],{"type":15,"tag":252,"props":14622,"children":14623},{"style":447},[14624],{"type":21,"value":3742},{"type":15,"tag":252,"props":14626,"children":14627},{"style":259},[14628],{"type":21,"value":5788},{"type":15,"tag":252,"props":14630,"children":14631},{"style":447},[14632],{"type":21,"value":3751},{"type":15,"tag":252,"props":14634,"children":14635},{"class":254,"line":2077},[14636,14640,14644,14648,14652,14656,14660,14664,14668],{"type":15,"tag":252,"props":14637,"children":14638},{"style":601},[14639],{"type":21,"value":4740},{"type":15,"tag":252,"props":14641,"children":14642},{"style":601},[14643],{"type":21,"value":4745},{"type":15,"tag":252,"props":14645,"children":14646},{"style":259},[14647],{"type":21,"value":5808},{"type":15,"tag":252,"props":14649,"children":14650},{"style":447},[14651],{"type":21,"value":849},{"type":15,"tag":252,"props":14653,"children":14654},{"style":601},[14655],{"type":21,"value":4740},{"type":15,"tag":252,"props":14657,"children":14658},{"style":259},[14659],{"type":21,"value":5821},{"type":15,"tag":252,"props":14661,"children":14662},{"style":447},[14663],{"type":21,"value":5826},{"type":15,"tag":252,"props":14665,"children":14666},{"style":259},[14667],{"type":21,"value":5709},{"type":15,"tag":252,"props":14669,"children":14670},{"style":447},[14671],{"type":21,"value":5835},{"type":15,"tag":252,"props":14673,"children":14674},{"class":254,"line":2110},[14675],{"type":15,"tag":252,"props":14676,"children":14677},{"emptyLinePlaceholder":2053},[14678],{"type":21,"value":2056},{"type":15,"tag":252,"props":14680,"children":14681},{"class":254,"line":2150},[14682,14686,14690],{"type":15,"tag":252,"props":14683,"children":14684},{"style":447},[14685],{"type":21,"value":3742},{"type":15,"tag":252,"props":14687,"children":14688},{"style":259},[14689],{"type":21,"value":5788},{"type":15,"tag":252,"props":14691,"children":14692},{"style":447},[14693],{"type":21,"value":3751},{"type":15,"tag":252,"props":14695,"children":14696},{"class":254,"line":2182},[14697,14701,14705,14709],{"type":15,"tag":252,"props":14698,"children":14699},{"style":601},[14700],{"type":21,"value":4740},{"type":15,"tag":252,"props":14702,"children":14703},{"style":601},[14704],{"type":21,"value":5869},{"type":15,"tag":252,"props":14706,"children":14707},{"style":259},[14708],{"type":21,"value":5874},{"type":15,"tag":252,"props":14710,"children":14711},{"style":447},[14712],{"type":21,"value":3769},{"type":15,"tag":252,"props":14714,"children":14715},{"class":254,"line":2190},[14716,14720,14724,14729],{"type":15,"tag":252,"props":14717,"children":14718},{"style":259},[14719],{"type":21,"value":5886},{"type":15,"tag":252,"props":14721,"children":14722},{"style":447},[14723],{"type":21,"value":849},{"type":15,"tag":252,"props":14725,"children":14726},{"style":259},[14727],{"type":21,"value":14728},"PrintStatement",{"type":15,"tag":252,"props":14730,"children":14731},{"style":447},[14732],{"type":21,"value":5899},{"type":15,"tag":252,"props":14734,"children":14735},{"class":254,"line":2222},[14736],{"type":15,"tag":252,"props":14737,"children":14738},{"style":447},[14739],{"type":21,"value":2854},{"type":15,"tag":252,"props":14741,"children":14742},{"class":254,"line":2270},[14743],{"type":15,"tag":252,"props":14744,"children":14745},{"emptyLinePlaceholder":2053},[14746],{"type":21,"value":2056},{"type":15,"tag":252,"props":14748,"children":14749},{"class":254,"line":2302},[14750,14754,14758],{"type":15,"tag":252,"props":14751,"children":14752},{"style":447},[14753],{"type":21,"value":3742},{"type":15,"tag":252,"props":14755,"children":14756},{"style":259},[14757],{"type":21,"value":5788},{"type":15,"tag":252,"props":14759,"children":14760},{"style":447},[14761],{"type":21,"value":3751},{"type":15,"tag":252,"props":14763,"children":14764},{"class":254,"line":2310},[14765,14769,14773,14778],{"type":15,"tag":252,"props":14766,"children":14767},{"style":601},[14768],{"type":21,"value":4740},{"type":15,"tag":252,"props":14770,"children":14771},{"style":601},[14772],{"type":21,"value":5869},{"type":15,"tag":252,"props":14774,"children":14775},{"style":259},[14776],{"type":21,"value":14777}," PrintStatement",{"type":15,"tag":252,"props":14779,"children":14780},{"style":447},[14781],{"type":21,"value":3769},{"type":15,"tag":252,"props":14783,"children":14784},{"class":254,"line":2370},[14785,14790,14794,14799],{"type":15,"tag":252,"props":14786,"children":14787},{"style":259},[14788],{"type":21,"value":14789},"    Int",{"type":15,"tag":252,"props":14791,"children":14792},{"style":447},[14793],{"type":21,"value":849},{"type":15,"tag":252,"props":14795,"children":14796},{"style":259},[14797],{"type":21,"value":14798},"IntExpression",{"type":15,"tag":252,"props":14800,"children":14801},{"style":447},[14802],{"type":21,"value":5899},{"type":15,"tag":252,"props":14804,"children":14805},{"class":254,"line":2418},[14806],{"type":15,"tag":252,"props":14807,"children":14808},{"style":447},[14809],{"type":21,"value":2854},{"type":15,"tag":252,"props":14811,"children":14812},{"class":254,"line":2426},[14813],{"type":15,"tag":252,"props":14814,"children":14815},{"emptyLinePlaceholder":2053},[14816],{"type":21,"value":2056},{"type":15,"tag":252,"props":14818,"children":14819},{"class":254,"line":2474},[14820,14824,14828],{"type":15,"tag":252,"props":14821,"children":14822},{"style":447},[14823],{"type":21,"value":3742},{"type":15,"tag":252,"props":14825,"children":14826},{"style":259},[14827],{"type":21,"value":5788},{"type":15,"tag":252,"props":14829,"children":14830},{"style":447},[14831],{"type":21,"value":3751},{"type":15,"tag":252,"props":14833,"children":14834},{"class":254,"line":2522},[14835,14839,14843,14848],{"type":15,"tag":252,"props":14836,"children":14837},{"style":601},[14838],{"type":21,"value":4740},{"type":15,"tag":252,"props":14840,"children":14841},{"style":601},[14842],{"type":21,"value":5869},{"type":15,"tag":252,"props":14844,"children":14845},{"style":259},[14846],{"type":21,"value":14847}," IntExpression",{"type":15,"tag":252,"props":14849,"children":14850},{"style":447},[14851],{"type":21,"value":3769},{"type":15,"tag":252,"props":14853,"children":14854},{"class":254,"line":2530},[14855,14859,14863,14867],{"type":15,"tag":252,"props":14856,"children":14857},{"style":259},[14858],{"type":21,"value":5956},{"type":15,"tag":252,"props":14860,"children":14861},{"style":447},[14862],{"type":21,"value":849},{"type":15,"tag":252,"props":14864,"children":14865},{"style":259},[14866],{"type":21,"value":1082},{"type":15,"tag":252,"props":14868,"children":14869},{"style":447},[14870],{"type":21,"value":5899},{"type":15,"tag":252,"props":14872,"children":14873},{"class":254,"line":2570},[14874],{"type":15,"tag":252,"props":14875,"children":14876},{"style":447},[14877],{"type":21,"value":2854},{"type":15,"tag":23,"props":14879,"children":14880},{},[14881,14883,14889],{"type":21,"value":14882},"This also gives us a benefit from the rust compiler, We can't for example construct an ",{"type":15,"tag":81,"props":14884,"children":14886},{"className":14885},[],[14887],{"type":21,"value":14888},"Int",{"type":21,"value":14890}," type print and give it a String by accident!\nThis ensures we do the type analysis correctly.",{"type":15,"tag":59,"props":14892,"children":14894},{"id":14893},"resolving-types",[14895],{"type":21,"value":14896},"Resolving Types",{"type":15,"tag":23,"props":14898,"children":14899},{},[14900],{"type":21,"value":14901},"Now we can do some type analyzing, with so few instructions it is rather simple:",{"type":15,"tag":95,"props":14903,"children":14905},{"code":14904,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nuse crate::ir;\n\nenum TypedExpression {\n    Int(ir::IntExpression),\n}\n\nimpl TypedExpression {\n    fn is_int(&self) -> bool {\n        match self {\n            TypedExpression::Int(_) => true,\n        }\n    }\n}\n\n#[derive(Debug, Error)]\n#[error(\"Type error: {0}\")]\nstruct TypeError(String);\n",[14906],{"type":15,"tag":81,"props":14907,"children":14908},{"__ignoreMap":8},[14909,14917,14933,14940,14956,14983,14990,14997,15012,15052,15067,15100,15107,15114,15121,15128,15151,15167],{"type":15,"tag":252,"props":14910,"children":14911},{"class":254,"line":255},[14912],{"type":15,"tag":252,"props":14913,"children":14914},{"style":3287},[14915],{"type":21,"value":14916},"// type_analyzer.rs\n",{"type":15,"tag":252,"props":14918,"children":14919},{"class":254,"line":334},[14920,14924,14928],{"type":15,"tag":252,"props":14921,"children":14922},{"style":601},[14923],{"type":21,"value":2008},{"type":15,"tag":252,"props":14925,"children":14926},{"style":601},[14927],{"type":21,"value":5760},{"type":15,"tag":252,"props":14929,"children":14930},{"style":447},[14931],{"type":21,"value":14932},"ir;\n",{"type":15,"tag":252,"props":14934,"children":14935},{"class":254,"line":390},[14936],{"type":15,"tag":252,"props":14937,"children":14938},{"emptyLinePlaceholder":2053},[14939],{"type":21,"value":2056},{"type":15,"tag":252,"props":14941,"children":14942},{"class":254,"line":2077},[14943,14947,14952],{"type":15,"tag":252,"props":14944,"children":14945},{"style":601},[14946],{"type":21,"value":3759},{"type":15,"tag":252,"props":14948,"children":14949},{"style":259},[14950],{"type":21,"value":14951}," TypedExpression",{"type":15,"tag":252,"props":14953,"children":14954},{"style":447},[14955],{"type":21,"value":3769},{"type":15,"tag":252,"props":14957,"children":14958},{"class":254,"line":2110},[14959,14963,14967,14971,14975,14979],{"type":15,"tag":252,"props":14960,"children":14961},{"style":259},[14962],{"type":21,"value":14789},{"type":15,"tag":252,"props":14964,"children":14965},{"style":447},[14966],{"type":21,"value":849},{"type":15,"tag":252,"props":14968,"children":14969},{"style":259},[14970],{"type":21,"value":14557},{"type":15,"tag":252,"props":14972,"children":14973},{"style":601},[14974],{"type":21,"value":804},{"type":15,"tag":252,"props":14976,"children":14977},{"style":259},[14978],{"type":21,"value":14798},{"type":15,"tag":252,"props":14980,"children":14981},{"style":447},[14982],{"type":21,"value":5899},{"type":15,"tag":252,"props":14984,"children":14985},{"class":254,"line":2150},[14986],{"type":15,"tag":252,"props":14987,"children":14988},{"style":447},[14989],{"type":21,"value":2854},{"type":15,"tag":252,"props":14991,"children":14992},{"class":254,"line":2182},[14993],{"type":15,"tag":252,"props":14994,"children":14995},{"emptyLinePlaceholder":2053},[14996],{"type":21,"value":2056},{"type":15,"tag":252,"props":14998,"children":14999},{"class":254,"line":2190},[15000,15004,15008],{"type":15,"tag":252,"props":15001,"children":15002},{"style":601},[15003],{"type":21,"value":7107},{"type":15,"tag":252,"props":15005,"children":15006},{"style":259},[15007],{"type":21,"value":14951},{"type":15,"tag":252,"props":15009,"children":15010},{"style":447},[15011],{"type":21,"value":3769},{"type":15,"tag":252,"props":15013,"children":15014},{"class":254,"line":2222},[15015,15019,15024,15028,15032,15036,15040,15044,15048],{"type":15,"tag":252,"props":15016,"children":15017},{"style":601},[15018],{"type":21,"value":7146},{"type":15,"tag":252,"props":15020,"children":15021},{"style":259},[15022],{"type":21,"value":15023}," is_int",{"type":15,"tag":252,"props":15025,"children":15026},{"style":447},[15027],{"type":21,"value":849},{"type":15,"tag":252,"props":15029,"children":15030},{"style":601},[15031],{"type":21,"value":1171},{"type":15,"tag":252,"props":15033,"children":15034},{"style":276},[15035],{"type":21,"value":7432},{"type":15,"tag":252,"props":15037,"children":15038},{"style":447},[15039],{"type":21,"value":4943},{"type":15,"tag":252,"props":15041,"children":15042},{"style":601},[15043],{"type":21,"value":3947},{"type":15,"tag":252,"props":15045,"children":15046},{"style":259},[15047],{"type":21,"value":4308},{"type":15,"tag":252,"props":15049,"children":15050},{"style":447},[15051],{"type":21,"value":3769},{"type":15,"tag":252,"props":15053,"children":15054},{"class":254,"line":2270},[15055,15059,15063],{"type":15,"tag":252,"props":15056,"children":15057},{"style":601},[15058],{"type":21,"value":12717},{"type":15,"tag":252,"props":15060,"children":15061},{"style":276},[15062],{"type":21,"value":7244},{"type":15,"tag":252,"props":15064,"children":15065},{"style":447},[15066],{"type":21,"value":3769},{"type":15,"tag":252,"props":15068,"children":15069},{"class":254,"line":2302},[15070,15075,15079,15083,15087,15091,15096],{"type":15,"tag":252,"props":15071,"children":15072},{"style":259},[15073],{"type":21,"value":15074},"            TypedExpression",{"type":15,"tag":252,"props":15076,"children":15077},{"style":601},[15078],{"type":21,"value":804},{"type":15,"tag":252,"props":15080,"children":15081},{"style":259},[15082],{"type":21,"value":14888},{"type":15,"tag":252,"props":15084,"children":15085},{"style":447},[15086],{"type":21,"value":12975},{"type":15,"tag":252,"props":15088,"children":15089},{"style":601},[15090],{"type":21,"value":4054},{"type":15,"tag":252,"props":15092,"children":15093},{"style":276},[15094],{"type":21,"value":15095}," true",{"type":15,"tag":252,"props":15097,"children":15098},{"style":447},[15099],{"type":21,"value":3879},{"type":15,"tag":252,"props":15101,"children":15102},{"class":254,"line":2310},[15103],{"type":15,"tag":252,"props":15104,"children":15105},{"style":447},[15106],{"type":21,"value":4087},{"type":15,"tag":252,"props":15108,"children":15109},{"class":254,"line":2370},[15110],{"type":15,"tag":252,"props":15111,"children":15112},{"style":447},[15113],{"type":21,"value":4095},{"type":15,"tag":252,"props":15115,"children":15116},{"class":254,"line":2418},[15117],{"type":15,"tag":252,"props":15118,"children":15119},{"style":447},[15120],{"type":21,"value":2854},{"type":15,"tag":252,"props":15122,"children":15123},{"class":254,"line":2426},[15124],{"type":15,"tag":252,"props":15125,"children":15126},{"emptyLinePlaceholder":2053},[15127],{"type":21,"value":2056},{"type":15,"tag":252,"props":15129,"children":15130},{"class":254,"line":2474},[15131,15135,15139,15143,15147],{"type":15,"tag":252,"props":15132,"children":15133},{"style":447},[15134],{"type":21,"value":3742},{"type":15,"tag":252,"props":15136,"children":15137},{"style":259},[15138],{"type":21,"value":5788},{"type":15,"tag":252,"props":15140,"children":15141},{"style":447},[15142],{"type":21,"value":1076},{"type":15,"tag":252,"props":15144,"children":15145},{"style":259},[15146],{"type":21,"value":6701},{"type":15,"tag":252,"props":15148,"children":15149},{"style":447},[15150],{"type":21,"value":3751},{"type":15,"tag":252,"props":15152,"children":15153},{"class":254,"line":2522},[15154,15158,15163],{"type":15,"tag":252,"props":15155,"children":15156},{"style":447},[15157],{"type":21,"value":6743},{"type":15,"tag":252,"props":15159,"children":15160},{"style":265},[15161],{"type":21,"value":15162},"\"Type error: {0}\"",{"type":15,"tag":252,"props":15164,"children":15165},{"style":447},[15166],{"type":21,"value":3751},{"type":15,"tag":252,"props":15168,"children":15169},{"class":254,"line":2530},[15170,15174,15179,15183,15187],{"type":15,"tag":252,"props":15171,"children":15172},{"style":601},[15173],{"type":21,"value":3841},{"type":15,"tag":252,"props":15175,"children":15176},{"style":259},[15177],{"type":21,"value":15178}," TypeError",{"type":15,"tag":252,"props":15180,"children":15181},{"style":447},[15182],{"type":21,"value":849},{"type":15,"tag":252,"props":15184,"children":15185},{"style":259},[15186],{"type":21,"value":6503},{"type":15,"tag":252,"props":15188,"children":15189},{"style":447},[15190],{"type":21,"value":859},{"type":15,"tag":23,"props":15192,"children":15193},{},[15194,15196,15202],{"type":21,"value":15195},"So why this enum? Well consider ",{"type":15,"tag":81,"props":15197,"children":15199},{"className":15198},[],[15200],{"type":21,"value":15201},"resolve_expression",{"type":21,"value":15203},", we don't know what the type should be when we walk an expression, so what is the return type? This is one of those times you would want a union, but in Rust, we shall use more enums!",{"type":15,"tag":23,"props":15205,"children":15206},{},[15207],{"type":21,"value":15208},"Now for the analyzing!",{"type":15,"tag":95,"props":15210,"children":15212},{"code":15211,"language":772,"meta":8,"className":773,"style":8},"fn resolve_literal(literal: &ast::Literal) -> anyhow::Result\u003CTypedExpression> {\n    match literal {\n        ast::Literal::Integer(int) => Ok(TypedExpression::Int(ir::IntExpression::Literal(*int))),\n    }\n}\n\nfn resolve_expression(expression: &ast::Expression) -> anyhow::Result\u003CTypedExpression> {\n    match expression {\n        ast::Expression::Literal(literal) => resolve_literal(literal),\n    }\n}\n",[15213],{"type":15,"tag":81,"props":15214,"children":15215},{"__ignoreMap":8},[15216,15286,15298,15388,15395,15402,15409,15478,15490,15531,15538],{"type":15,"tag":252,"props":15217,"children":15218},{"class":254,"line":255},[15219,15223,15228,15233,15237,15241,15245,15249,15253,15257,15261,15265,15269,15273,15277,15282],{"type":15,"tag":252,"props":15220,"children":15221},{"style":601},[15222],{"type":21,"value":2064},{"type":15,"tag":252,"props":15224,"children":15225},{"style":259},[15226],{"type":21,"value":15227}," resolve_literal",{"type":15,"tag":252,"props":15229,"children":15230},{"style":447},[15231],{"type":21,"value":15232},"(literal",{"type":15,"tag":252,"props":15234,"children":15235},{"style":601},[15236],{"type":21,"value":3374},{"type":15,"tag":252,"props":15238,"children":15239},{"style":601},[15240],{"type":21,"value":4920},{"type":15,"tag":252,"props":15242,"children":15243},{"style":259},[15244],{"type":21,"value":5623},{"type":15,"tag":252,"props":15246,"children":15247},{"style":601},[15248],{"type":21,"value":804},{"type":15,"tag":252,"props":15250,"children":15251},{"style":259},[15252],{"type":21,"value":5724},{"type":15,"tag":252,"props":15254,"children":15255},{"style":447},[15256],{"type":21,"value":4943},{"type":15,"tag":252,"props":15258,"children":15259},{"style":601},[15260],{"type":21,"value":3947},{"type":15,"tag":252,"props":15262,"children":15263},{"style":259},[15264],{"type":21,"value":3952},{"type":15,"tag":252,"props":15266,"children":15267},{"style":601},[15268],{"type":21,"value":804},{"type":15,"tag":252,"props":15270,"children":15271},{"style":259},[15272],{"type":21,"value":3961},{"type":15,"tag":252,"props":15274,"children":15275},{"style":447},[15276],{"type":21,"value":5826},{"type":15,"tag":252,"props":15278,"children":15279},{"style":259},[15280],{"type":21,"value":15281},"TypedExpression",{"type":15,"tag":252,"props":15283,"children":15284},{"style":447},[15285],{"type":21,"value":7138},{"type":15,"tag":252,"props":15287,"children":15288},{"class":254,"line":334},[15289,15293],{"type":15,"tag":252,"props":15290,"children":15291},{"style":601},[15292],{"type":21,"value":4014},{"type":15,"tag":252,"props":15294,"children":15295},{"style":447},[15296],{"type":21,"value":15297}," literal {\n",{"type":15,"tag":252,"props":15299,"children":15300},{"class":254,"line":390},[15301,15306,15310,15314,15318,15322,15327,15331,15335,15339,15343,15347,15351,15355,15359,15363,15367,15371,15375,15379,15383],{"type":15,"tag":252,"props":15302,"children":15303},{"style":259},[15304],{"type":21,"value":15305},"        ast",{"type":15,"tag":252,"props":15307,"children":15308},{"style":601},[15309],{"type":21,"value":804},{"type":15,"tag":252,"props":15311,"children":15312},{"style":259},[15313],{"type":21,"value":5724},{"type":15,"tag":252,"props":15315,"children":15316},{"style":601},[15317],{"type":21,"value":804},{"type":15,"tag":252,"props":15319,"children":15320},{"style":259},[15321],{"type":21,"value":6153},{"type":15,"tag":252,"props":15323,"children":15324},{"style":447},[15325],{"type":21,"value":15326},"(int) ",{"type":15,"tag":252,"props":15328,"children":15329},{"style":601},[15330],{"type":21,"value":4054},{"type":15,"tag":252,"props":15332,"children":15333},{"style":259},[15334],{"type":21,"value":8666},{"type":15,"tag":252,"props":15336,"children":15337},{"style":447},[15338],{"type":21,"value":849},{"type":15,"tag":252,"props":15340,"children":15341},{"style":259},[15342],{"type":21,"value":15281},{"type":15,"tag":252,"props":15344,"children":15345},{"style":601},[15346],{"type":21,"value":804},{"type":15,"tag":252,"props":15348,"children":15349},{"style":259},[15350],{"type":21,"value":14888},{"type":15,"tag":252,"props":15352,"children":15353},{"style":447},[15354],{"type":21,"value":849},{"type":15,"tag":252,"props":15356,"children":15357},{"style":259},[15358],{"type":21,"value":14557},{"type":15,"tag":252,"props":15360,"children":15361},{"style":601},[15362],{"type":21,"value":804},{"type":15,"tag":252,"props":15364,"children":15365},{"style":259},[15366],{"type":21,"value":14798},{"type":15,"tag":252,"props":15368,"children":15369},{"style":601},[15370],{"type":21,"value":804},{"type":15,"tag":252,"props":15372,"children":15373},{"style":259},[15374],{"type":21,"value":5724},{"type":15,"tag":252,"props":15376,"children":15377},{"style":447},[15378],{"type":21,"value":849},{"type":15,"tag":252,"props":15380,"children":15381},{"style":601},[15382],{"type":21,"value":8752},{"type":15,"tag":252,"props":15384,"children":15385},{"style":447},[15386],{"type":21,"value":15387},"int))),\n",{"type":15,"tag":252,"props":15389,"children":15390},{"class":254,"line":2077},[15391],{"type":15,"tag":252,"props":15392,"children":15393},{"style":447},[15394],{"type":21,"value":4095},{"type":15,"tag":252,"props":15396,"children":15397},{"class":254,"line":2110},[15398],{"type":15,"tag":252,"props":15399,"children":15400},{"style":447},[15401],{"type":21,"value":2854},{"type":15,"tag":252,"props":15403,"children":15404},{"class":254,"line":2150},[15405],{"type":15,"tag":252,"props":15406,"children":15407},{"emptyLinePlaceholder":2053},[15408],{"type":21,"value":2056},{"type":15,"tag":252,"props":15410,"children":15411},{"class":254,"line":2182},[15412,15416,15421,15426,15430,15434,15438,15442,15446,15450,15454,15458,15462,15466,15470,15474],{"type":15,"tag":252,"props":15413,"children":15414},{"style":601},[15415],{"type":21,"value":2064},{"type":15,"tag":252,"props":15417,"children":15418},{"style":259},[15419],{"type":21,"value":15420}," resolve_expression",{"type":15,"tag":252,"props":15422,"children":15423},{"style":447},[15424],{"type":21,"value":15425},"(expression",{"type":15,"tag":252,"props":15427,"children":15428},{"style":601},[15429],{"type":21,"value":3374},{"type":15,"tag":252,"props":15431,"children":15432},{"style":601},[15433],{"type":21,"value":4920},{"type":15,"tag":252,"props":15435,"children":15436},{"style":259},[15437],{"type":21,"value":5623},{"type":15,"tag":252,"props":15439,"children":15440},{"style":601},[15441],{"type":21,"value":804},{"type":15,"tag":252,"props":15443,"children":15444},{"style":259},[15445],{"type":21,"value":5716},{"type":15,"tag":252,"props":15447,"children":15448},{"style":447},[15449],{"type":21,"value":4943},{"type":15,"tag":252,"props":15451,"children":15452},{"style":601},[15453],{"type":21,"value":3947},{"type":15,"tag":252,"props":15455,"children":15456},{"style":259},[15457],{"type":21,"value":3952},{"type":15,"tag":252,"props":15459,"children":15460},{"style":601},[15461],{"type":21,"value":804},{"type":15,"tag":252,"props":15463,"children":15464},{"style":259},[15465],{"type":21,"value":3961},{"type":15,"tag":252,"props":15467,"children":15468},{"style":447},[15469],{"type":21,"value":5826},{"type":15,"tag":252,"props":15471,"children":15472},{"style":259},[15473],{"type":21,"value":15281},{"type":15,"tag":252,"props":15475,"children":15476},{"style":447},[15477],{"type":21,"value":7138},{"type":15,"tag":252,"props":15479,"children":15480},{"class":254,"line":2190},[15481,15485],{"type":15,"tag":252,"props":15482,"children":15483},{"style":601},[15484],{"type":21,"value":4014},{"type":15,"tag":252,"props":15486,"children":15487},{"style":447},[15488],{"type":21,"value":15489}," expression {\n",{"type":15,"tag":252,"props":15491,"children":15492},{"class":254,"line":2222},[15493,15497,15501,15505,15509,15513,15518,15522,15526],{"type":15,"tag":252,"props":15494,"children":15495},{"style":259},[15496],{"type":21,"value":15305},{"type":15,"tag":252,"props":15498,"children":15499},{"style":601},[15500],{"type":21,"value":804},{"type":15,"tag":252,"props":15502,"children":15503},{"style":259},[15504],{"type":21,"value":5716},{"type":15,"tag":252,"props":15506,"children":15507},{"style":601},[15508],{"type":21,"value":804},{"type":15,"tag":252,"props":15510,"children":15511},{"style":259},[15512],{"type":21,"value":5724},{"type":15,"tag":252,"props":15514,"children":15515},{"style":447},[15516],{"type":21,"value":15517},"(literal) ",{"type":15,"tag":252,"props":15519,"children":15520},{"style":601},[15521],{"type":21,"value":4054},{"type":15,"tag":252,"props":15523,"children":15524},{"style":259},[15525],{"type":21,"value":15227},{"type":15,"tag":252,"props":15527,"children":15528},{"style":447},[15529],{"type":21,"value":15530},"(literal),\n",{"type":15,"tag":252,"props":15532,"children":15533},{"class":254,"line":2270},[15534],{"type":15,"tag":252,"props":15535,"children":15536},{"style":447},[15537],{"type":21,"value":4095},{"type":15,"tag":252,"props":15539,"children":15540},{"class":254,"line":2302},[15541],{"type":15,"tag":252,"props":15542,"children":15543},{"style":447},[15544],{"type":21,"value":2854},{"type":15,"tag":23,"props":15546,"children":15547},{},[15548,15550],{"type":21,"value":15549},"Again here we use the power of abstraction! Very simple so far, but even with more complex rules this will stay simple ",{"type":15,"tag":234,"props":15551,"children":15552},{},[],{"type":15,"tag":95,"props":15554,"children":15556},{"code":15555,"language":772,"meta":8,"className":773,"style":8},"fn resolve_print_statement(expression: &ast::Expression) -> anyhow::Result\u003Cir::PrintStatement> {\n    let typed_expression = resolve_expression(expression)?;\n\n    match typed_expression {\n        TypedExpression::Int(int_expression) => Ok(ir::PrintStatement::Int(int_expression)),\n    }\n}\n\nfn resolve_statement(statement: &ast::Statement) -> anyhow::Result\u003Cir::Statement> {\n    match statement {\n        ast::Statement::Print(expression) => {\n            let print_statement = resolve_print_statement(expression)?;\n\n            Ok(ir::Statement::Print(print_statement))\n        }\n    }\n}\n\npub fn resolve_module(module: &ast::Module) -> anyhow::Result\u003Cir::Module> {\n    let mut ir_statements = Vec::new();\n\n    for statement in &module.0 {\n        let ir_statement = resolve_statement(statement)?;\n\n        ir_statements.push(ir_statement);\n    }\n\n    Ok(ir::Module(ir_statements))\n}\n",[15557],{"type":15,"tag":81,"props":15558,"children":15559},{"__ignoreMap":8},[15560,15633,15666,15673,15685,15743,15750,15757,15764,15837,15849,15885,15918,15925,15961,15968,15975,15982,15989,16066,16102,16109,16147,16180,16187,16208,16215,16222,16250],{"type":15,"tag":252,"props":15561,"children":15562},{"class":254,"line":255},[15563,15567,15572,15576,15580,15584,15588,15592,15596,15600,15604,15608,15612,15616,15621,15625,15629],{"type":15,"tag":252,"props":15564,"children":15565},{"style":601},[15566],{"type":21,"value":2064},{"type":15,"tag":252,"props":15568,"children":15569},{"style":259},[15570],{"type":21,"value":15571}," resolve_print_statement",{"type":15,"tag":252,"props":15573,"children":15574},{"style":447},[15575],{"type":21,"value":15425},{"type":15,"tag":252,"props":15577,"children":15578},{"style":601},[15579],{"type":21,"value":3374},{"type":15,"tag":252,"props":15581,"children":15582},{"style":601},[15583],{"type":21,"value":4920},{"type":15,"tag":252,"props":15585,"children":15586},{"style":259},[15587],{"type":21,"value":5623},{"type":15,"tag":252,"props":15589,"children":15590},{"style":601},[15591],{"type":21,"value":804},{"type":15,"tag":252,"props":15593,"children":15594},{"style":259},[15595],{"type":21,"value":5716},{"type":15,"tag":252,"props":15597,"children":15598},{"style":447},[15599],{"type":21,"value":4943},{"type":15,"tag":252,"props":15601,"children":15602},{"style":601},[15603],{"type":21,"value":3947},{"type":15,"tag":252,"props":15605,"children":15606},{"style":259},[15607],{"type":21,"value":3952},{"type":15,"tag":252,"props":15609,"children":15610},{"style":601},[15611],{"type":21,"value":804},{"type":15,"tag":252,"props":15613,"children":15614},{"style":259},[15615],{"type":21,"value":3961},{"type":15,"tag":252,"props":15617,"children":15618},{"style":447},[15619],{"type":21,"value":15620},"\u003Cir",{"type":15,"tag":252,"props":15622,"children":15623},{"style":601},[15624],{"type":21,"value":804},{"type":15,"tag":252,"props":15626,"children":15627},{"style":259},[15628],{"type":21,"value":14728},{"type":15,"tag":252,"props":15630,"children":15631},{"style":447},[15632],{"type":21,"value":7138},{"type":15,"tag":252,"props":15634,"children":15635},{"class":254,"line":334},[15636,15640,15645,15649,15653,15658,15662],{"type":15,"tag":252,"props":15637,"children":15638},{"style":601},[15639],{"type":21,"value":2083},{"type":15,"tag":252,"props":15641,"children":15642},{"style":447},[15643],{"type":21,"value":15644}," typed_expression ",{"type":15,"tag":252,"props":15646,"children":15647},{"style":601},[15648],{"type":21,"value":614},{"type":15,"tag":252,"props":15650,"children":15651},{"style":259},[15652],{"type":21,"value":15420},{"type":15,"tag":252,"props":15654,"children":15655},{"style":447},[15656],{"type":21,"value":15657},"(expression)",{"type":15,"tag":252,"props":15659,"children":15660},{"style":601},[15661],{"type":21,"value":5468},{"type":15,"tag":252,"props":15663,"children":15664},{"style":447},[15665],{"type":21,"value":3325},{"type":15,"tag":252,"props":15667,"children":15668},{"class":254,"line":390},[15669],{"type":15,"tag":252,"props":15670,"children":15671},{"emptyLinePlaceholder":2053},[15672],{"type":21,"value":2056},{"type":15,"tag":252,"props":15674,"children":15675},{"class":254,"line":2077},[15676,15680],{"type":15,"tag":252,"props":15677,"children":15678},{"style":601},[15679],{"type":21,"value":4014},{"type":15,"tag":252,"props":15681,"children":15682},{"style":447},[15683],{"type":21,"value":15684}," typed_expression {\n",{"type":15,"tag":252,"props":15686,"children":15687},{"class":254,"line":2110},[15688,15693,15697,15701,15706,15710,15714,15718,15722,15726,15730,15734,15738],{"type":15,"tag":252,"props":15689,"children":15690},{"style":259},[15691],{"type":21,"value":15692},"        TypedExpression",{"type":15,"tag":252,"props":15694,"children":15695},{"style":601},[15696],{"type":21,"value":804},{"type":15,"tag":252,"props":15698,"children":15699},{"style":259},[15700],{"type":21,"value":14888},{"type":15,"tag":252,"props":15702,"children":15703},{"style":447},[15704],{"type":21,"value":15705},"(int_expression) ",{"type":15,"tag":252,"props":15707,"children":15708},{"style":601},[15709],{"type":21,"value":4054},{"type":15,"tag":252,"props":15711,"children":15712},{"style":259},[15713],{"type":21,"value":8666},{"type":15,"tag":252,"props":15715,"children":15716},{"style":447},[15717],{"type":21,"value":849},{"type":15,"tag":252,"props":15719,"children":15720},{"style":259},[15721],{"type":21,"value":14557},{"type":15,"tag":252,"props":15723,"children":15724},{"style":601},[15725],{"type":21,"value":804},{"type":15,"tag":252,"props":15727,"children":15728},{"style":259},[15729],{"type":21,"value":14728},{"type":15,"tag":252,"props":15731,"children":15732},{"style":601},[15733],{"type":21,"value":804},{"type":15,"tag":252,"props":15735,"children":15736},{"style":259},[15737],{"type":21,"value":14888},{"type":15,"tag":252,"props":15739,"children":15740},{"style":447},[15741],{"type":21,"value":15742},"(int_expression)),\n",{"type":15,"tag":252,"props":15744,"children":15745},{"class":254,"line":2150},[15746],{"type":15,"tag":252,"props":15747,"children":15748},{"style":447},[15749],{"type":21,"value":4095},{"type":15,"tag":252,"props":15751,"children":15752},{"class":254,"line":2182},[15753],{"type":15,"tag":252,"props":15754,"children":15755},{"style":447},[15756],{"type":21,"value":2854},{"type":15,"tag":252,"props":15758,"children":15759},{"class":254,"line":2190},[15760],{"type":15,"tag":252,"props":15761,"children":15762},{"emptyLinePlaceholder":2053},[15763],{"type":21,"value":2056},{"type":15,"tag":252,"props":15765,"children":15766},{"class":254,"line":2222},[15767,15771,15776,15781,15785,15789,15793,15797,15801,15805,15809,15813,15817,15821,15825,15829,15833],{"type":15,"tag":252,"props":15768,"children":15769},{"style":601},[15770],{"type":21,"value":2064},{"type":15,"tag":252,"props":15772,"children":15773},{"style":259},[15774],{"type":21,"value":15775}," resolve_statement",{"type":15,"tag":252,"props":15777,"children":15778},{"style":447},[15779],{"type":21,"value":15780},"(statement",{"type":15,"tag":252,"props":15782,"children":15783},{"style":601},[15784],{"type":21,"value":3374},{"type":15,"tag":252,"props":15786,"children":15787},{"style":601},[15788],{"type":21,"value":4920},{"type":15,"tag":252,"props":15790,"children":15791},{"style":259},[15792],{"type":21,"value":5623},{"type":15,"tag":252,"props":15794,"children":15795},{"style":601},[15796],{"type":21,"value":804},{"type":15,"tag":252,"props":15798,"children":15799},{"style":259},[15800],{"type":21,"value":5709},{"type":15,"tag":252,"props":15802,"children":15803},{"style":447},[15804],{"type":21,"value":4943},{"type":15,"tag":252,"props":15806,"children":15807},{"style":601},[15808],{"type":21,"value":3947},{"type":15,"tag":252,"props":15810,"children":15811},{"style":259},[15812],{"type":21,"value":3952},{"type":15,"tag":252,"props":15814,"children":15815},{"style":601},[15816],{"type":21,"value":804},{"type":15,"tag":252,"props":15818,"children":15819},{"style":259},[15820],{"type":21,"value":3961},{"type":15,"tag":252,"props":15822,"children":15823},{"style":447},[15824],{"type":21,"value":15620},{"type":15,"tag":252,"props":15826,"children":15827},{"style":601},[15828],{"type":21,"value":804},{"type":15,"tag":252,"props":15830,"children":15831},{"style":259},[15832],{"type":21,"value":5709},{"type":15,"tag":252,"props":15834,"children":15835},{"style":447},[15836],{"type":21,"value":7138},{"type":15,"tag":252,"props":15838,"children":15839},{"class":254,"line":2270},[15840,15844],{"type":15,"tag":252,"props":15841,"children":15842},{"style":601},[15843],{"type":21,"value":4014},{"type":15,"tag":252,"props":15845,"children":15846},{"style":447},[15847],{"type":21,"value":15848}," statement {\n",{"type":15,"tag":252,"props":15850,"children":15851},{"class":254,"line":2302},[15852,15856,15860,15864,15868,15872,15877,15881],{"type":15,"tag":252,"props":15853,"children":15854},{"style":259},[15855],{"type":21,"value":15305},{"type":15,"tag":252,"props":15857,"children":15858},{"style":601},[15859],{"type":21,"value":804},{"type":15,"tag":252,"props":15861,"children":15862},{"style":259},[15863],{"type":21,"value":5709},{"type":15,"tag":252,"props":15865,"children":15866},{"style":601},[15867],{"type":21,"value":804},{"type":15,"tag":252,"props":15869,"children":15870},{"style":259},[15871],{"type":21,"value":5693},{"type":15,"tag":252,"props":15873,"children":15874},{"style":447},[15875],{"type":21,"value":15876},"(expression) ",{"type":15,"tag":252,"props":15878,"children":15879},{"style":601},[15880],{"type":21,"value":4054},{"type":15,"tag":252,"props":15882,"children":15883},{"style":447},[15884],{"type":21,"value":3769},{"type":15,"tag":252,"props":15886,"children":15887},{"class":254,"line":2310},[15888,15893,15898,15902,15906,15910,15914],{"type":15,"tag":252,"props":15889,"children":15890},{"style":601},[15891],{"type":21,"value":15892},"            let",{"type":15,"tag":252,"props":15894,"children":15895},{"style":447},[15896],{"type":21,"value":15897}," print_statement ",{"type":15,"tag":252,"props":15899,"children":15900},{"style":601},[15901],{"type":21,"value":614},{"type":15,"tag":252,"props":15903,"children":15904},{"style":259},[15905],{"type":21,"value":15571},{"type":15,"tag":252,"props":15907,"children":15908},{"style":447},[15909],{"type":21,"value":15657},{"type":15,"tag":252,"props":15911,"children":15912},{"style":601},[15913],{"type":21,"value":5468},{"type":15,"tag":252,"props":15915,"children":15916},{"style":447},[15917],{"type":21,"value":3325},{"type":15,"tag":252,"props":15919,"children":15920},{"class":254,"line":2370},[15921],{"type":15,"tag":252,"props":15922,"children":15923},{"emptyLinePlaceholder":2053},[15924],{"type":21,"value":2056},{"type":15,"tag":252,"props":15926,"children":15927},{"class":254,"line":2418},[15928,15932,15936,15940,15944,15948,15952,15956],{"type":15,"tag":252,"props":15929,"children":15930},{"style":259},[15931],{"type":21,"value":12492},{"type":15,"tag":252,"props":15933,"children":15934},{"style":447},[15935],{"type":21,"value":849},{"type":15,"tag":252,"props":15937,"children":15938},{"style":259},[15939],{"type":21,"value":14557},{"type":15,"tag":252,"props":15941,"children":15942},{"style":601},[15943],{"type":21,"value":804},{"type":15,"tag":252,"props":15945,"children":15946},{"style":259},[15947],{"type":21,"value":5709},{"type":15,"tag":252,"props":15949,"children":15950},{"style":601},[15951],{"type":21,"value":804},{"type":15,"tag":252,"props":15953,"children":15954},{"style":259},[15955],{"type":21,"value":5693},{"type":15,"tag":252,"props":15957,"children":15958},{"style":447},[15959],{"type":21,"value":15960},"(print_statement))\n",{"type":15,"tag":252,"props":15962,"children":15963},{"class":254,"line":2426},[15964],{"type":15,"tag":252,"props":15965,"children":15966},{"style":447},[15967],{"type":21,"value":4087},{"type":15,"tag":252,"props":15969,"children":15970},{"class":254,"line":2474},[15971],{"type":15,"tag":252,"props":15972,"children":15973},{"style":447},[15974],{"type":21,"value":4095},{"type":15,"tag":252,"props":15976,"children":15977},{"class":254,"line":2522},[15978],{"type":15,"tag":252,"props":15979,"children":15980},{"style":447},[15981],{"type":21,"value":2854},{"type":15,"tag":252,"props":15983,"children":15984},{"class":254,"line":2530},[15985],{"type":15,"tag":252,"props":15986,"children":15987},{"emptyLinePlaceholder":2053},[15988],{"type":21,"value":2056},{"type":15,"tag":252,"props":15990,"children":15991},{"class":254,"line":2570},[15992,15996,16000,16005,16010,16014,16018,16022,16026,16030,16034,16038,16042,16046,16050,16054,16058,16062],{"type":15,"tag":252,"props":15993,"children":15994},{"style":601},[15995],{"type":21,"value":4740},{"type":15,"tag":252,"props":15997,"children":15998},{"style":601},[15999],{"type":21,"value":4901},{"type":15,"tag":252,"props":16001,"children":16002},{"style":259},[16003],{"type":21,"value":16004}," resolve_module",{"type":15,"tag":252,"props":16006,"children":16007},{"style":447},[16008],{"type":21,"value":16009},"(module",{"type":15,"tag":252,"props":16011,"children":16012},{"style":601},[16013],{"type":21,"value":3374},{"type":15,"tag":252,"props":16015,"children":16016},{"style":601},[16017],{"type":21,"value":4920},{"type":15,"tag":252,"props":16019,"children":16020},{"style":259},[16021],{"type":21,"value":5623},{"type":15,"tag":252,"props":16023,"children":16024},{"style":601},[16025],{"type":21,"value":804},{"type":15,"tag":252,"props":16027,"children":16028},{"style":259},[16029],{"type":21,"value":6055},{"type":15,"tag":252,"props":16031,"children":16032},{"style":447},[16033],{"type":21,"value":4943},{"type":15,"tag":252,"props":16035,"children":16036},{"style":601},[16037],{"type":21,"value":3947},{"type":15,"tag":252,"props":16039,"children":16040},{"style":259},[16041],{"type":21,"value":3952},{"type":15,"tag":252,"props":16043,"children":16044},{"style":601},[16045],{"type":21,"value":804},{"type":15,"tag":252,"props":16047,"children":16048},{"style":259},[16049],{"type":21,"value":3961},{"type":15,"tag":252,"props":16051,"children":16052},{"style":447},[16053],{"type":21,"value":15620},{"type":15,"tag":252,"props":16055,"children":16056},{"style":601},[16057],{"type":21,"value":804},{"type":15,"tag":252,"props":16059,"children":16060},{"style":259},[16061],{"type":21,"value":6055},{"type":15,"tag":252,"props":16063,"children":16064},{"style":447},[16065],{"type":21,"value":7138},{"type":15,"tag":252,"props":16067,"children":16068},{"class":254,"line":2591},[16069,16073,16077,16082,16086,16090,16094,16098],{"type":15,"tag":252,"props":16070,"children":16071},{"style":601},[16072],{"type":21,"value":2083},{"type":15,"tag":252,"props":16074,"children":16075},{"style":601},[16076],{"type":21,"value":8623},{"type":15,"tag":252,"props":16078,"children":16079},{"style":447},[16080],{"type":21,"value":16081}," ir_statements ",{"type":15,"tag":252,"props":16083,"children":16084},{"style":601},[16085],{"type":21,"value":614},{"type":15,"tag":252,"props":16087,"children":16088},{"style":259},[16089],{"type":21,"value":5821},{"type":15,"tag":252,"props":16091,"children":16092},{"style":601},[16093],{"type":21,"value":804},{"type":15,"tag":252,"props":16095,"children":16096},{"style":259},[16097],{"type":21,"value":7761},{"type":15,"tag":252,"props":16099,"children":16100},{"style":447},[16101],{"type":21,"value":814},{"type":15,"tag":252,"props":16103,"children":16104},{"class":254,"line":2599},[16105],{"type":15,"tag":252,"props":16106,"children":16107},{"emptyLinePlaceholder":2053},[16108],{"type":21,"value":2056},{"type":15,"tag":252,"props":16110,"children":16111},{"class":254,"line":2647},[16112,16117,16122,16127,16131,16135,16139,16143],{"type":15,"tag":252,"props":16113,"children":16114},{"style":601},[16115],{"type":21,"value":16116},"    for",{"type":15,"tag":252,"props":16118,"children":16119},{"style":447},[16120],{"type":21,"value":16121}," statement ",{"type":15,"tag":252,"props":16123,"children":16124},{"style":601},[16125],{"type":21,"value":16126},"in",{"type":15,"tag":252,"props":16128,"children":16129},{"style":601},[16130],{"type":21,"value":4920},{"type":15,"tag":252,"props":16132,"children":16133},{"style":447},[16134],{"type":21,"value":919},{"type":15,"tag":252,"props":16136,"children":16137},{"style":601},[16138],{"type":21,"value":432},{"type":15,"tag":252,"props":16140,"children":16141},{"style":276},[16142],{"type":21,"value":1901},{"type":15,"tag":252,"props":16144,"children":16145},{"style":447},[16146],{"type":21,"value":3769},{"type":15,"tag":252,"props":16148,"children":16149},{"class":254,"line":2679},[16150,16154,16159,16163,16167,16172,16176],{"type":15,"tag":252,"props":16151,"children":16152},{"style":601},[16153],{"type":21,"value":8231},{"type":15,"tag":252,"props":16155,"children":16156},{"style":447},[16157],{"type":21,"value":16158}," ir_statement ",{"type":15,"tag":252,"props":16160,"children":16161},{"style":601},[16162],{"type":21,"value":614},{"type":15,"tag":252,"props":16164,"children":16165},{"style":259},[16166],{"type":21,"value":15775},{"type":15,"tag":252,"props":16168,"children":16169},{"style":447},[16170],{"type":21,"value":16171},"(statement)",{"type":15,"tag":252,"props":16173,"children":16174},{"style":601},[16175],{"type":21,"value":5468},{"type":15,"tag":252,"props":16177,"children":16178},{"style":447},[16179],{"type":21,"value":3325},{"type":15,"tag":252,"props":16181,"children":16182},{"class":254,"line":2727},[16183],{"type":15,"tag":252,"props":16184,"children":16185},{"emptyLinePlaceholder":2053},[16186],{"type":21,"value":2056},{"type":15,"tag":252,"props":16188,"children":16189},{"class":254,"line":2735},[16190,16195,16199,16203],{"type":15,"tag":252,"props":16191,"children":16192},{"style":447},[16193],{"type":21,"value":16194},"        ir_statements",{"type":15,"tag":252,"props":16196,"children":16197},{"style":601},[16198],{"type":21,"value":432},{"type":15,"tag":252,"props":16200,"children":16201},{"style":259},[16202],{"type":21,"value":8743},{"type":15,"tag":252,"props":16204,"children":16205},{"style":447},[16206],{"type":21,"value":16207},"(ir_statement);\n",{"type":15,"tag":252,"props":16209,"children":16210},{"class":254,"line":2799},[16211],{"type":15,"tag":252,"props":16212,"children":16213},{"style":447},[16214],{"type":21,"value":4095},{"type":15,"tag":252,"props":16216,"children":16217},{"class":254,"line":2807},[16218],{"type":15,"tag":252,"props":16219,"children":16220},{"emptyLinePlaceholder":2053},[16221],{"type":21,"value":2056},{"type":15,"tag":252,"props":16223,"children":16224},{"class":254,"line":2848},[16225,16229,16233,16237,16241,16245],{"type":15,"tag":252,"props":16226,"children":16227},{"style":259},[16228],{"type":21,"value":4110},{"type":15,"tag":252,"props":16230,"children":16231},{"style":447},[16232],{"type":21,"value":849},{"type":15,"tag":252,"props":16234,"children":16235},{"style":259},[16236],{"type":21,"value":14557},{"type":15,"tag":252,"props":16238,"children":16239},{"style":601},[16240],{"type":21,"value":804},{"type":15,"tag":252,"props":16242,"children":16243},{"style":259},[16244],{"type":21,"value":6055},{"type":15,"tag":252,"props":16246,"children":16247},{"style":447},[16248],{"type":21,"value":16249},"(ir_statements))\n",{"type":15,"tag":252,"props":16251,"children":16252},{"class":254,"line":4645},[16253],{"type":15,"tag":252,"props":16254,"children":16255},{"style":447},[16256],{"type":21,"value":2854},{"type":15,"tag":23,"props":16258,"children":16259},{},[16260],{"type":21,"value":16261},"This should also be really clear, and a bit similar to the parsing. And in a way, we are just \"parsing\" the AST into an IR.\nNow that we have this let's try to print it out!",{"type":15,"tag":95,"props":16263,"children":16265},{"code":16264,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\n\npub fn build(file_name: &str, options: CompilerOptions) -> anyhow::Result\u003C()> {\n    let code = std::fs::read_to_string(file_name).context(\"Reading input file\")?;\n\n    let ast = parsing::parse(&code, &options).context(\"Parsing input file\")?;\n    let ir = type_analyzer::resolve_module(&ast).context(\"Resolving types\")?;\n\n    if options.output_ir {\n        println!(\"{ir:#?}\");\n    }\n\n    Ok(())\n}\n",[16266],{"type":15,"tag":81,"props":16267,"children":16268},{"__ignoreMap":8},[16269,16276,16283,16351,16423,16430,16506,16578,16585,16606,16626,16633,16640,16651],{"type":15,"tag":252,"props":16270,"children":16271},{"class":254,"line":255},[16272],{"type":15,"tag":252,"props":16273,"children":16274},{"style":3287},[16275],{"type":21,"value":3290},{"type":15,"tag":252,"props":16277,"children":16278},{"class":254,"line":334},[16279],{"type":15,"tag":252,"props":16280,"children":16281},{"emptyLinePlaceholder":2053},[16282],{"type":21,"value":2056},{"type":15,"tag":252,"props":16284,"children":16285},{"class":254,"line":390},[16286,16290,16294,16298,16303,16307,16311,16315,16319,16323,16327,16331,16335,16339,16343,16347],{"type":15,"tag":252,"props":16287,"children":16288},{"style":601},[16289],{"type":21,"value":4740},{"type":15,"tag":252,"props":16291,"children":16292},{"style":601},[16293],{"type":21,"value":4901},{"type":15,"tag":252,"props":16295,"children":16296},{"style":259},[16297],{"type":21,"value":4906},{"type":15,"tag":252,"props":16299,"children":16300},{"style":447},[16301],{"type":21,"value":16302},"(file_name",{"type":15,"tag":252,"props":16304,"children":16305},{"style":601},[16306],{"type":21,"value":3374},{"type":15,"tag":252,"props":16308,"children":16309},{"style":601},[16310],{"type":21,"value":4920},{"type":15,"tag":252,"props":16312,"children":16313},{"style":259},[16314],{"type":21,"value":4925},{"type":15,"tag":252,"props":16316,"children":16317},{"style":447},[16318],{"type":21,"value":4930},{"type":15,"tag":252,"props":16320,"children":16321},{"style":601},[16322],{"type":21,"value":3374},{"type":15,"tag":252,"props":16324,"children":16325},{"style":259},[16326],{"type":21,"value":4750},{"type":15,"tag":252,"props":16328,"children":16329},{"style":447},[16330],{"type":21,"value":4943},{"type":15,"tag":252,"props":16332,"children":16333},{"style":601},[16334],{"type":21,"value":3947},{"type":15,"tag":252,"props":16336,"children":16337},{"style":259},[16338],{"type":21,"value":3952},{"type":15,"tag":252,"props":16340,"children":16341},{"style":601},[16342],{"type":21,"value":804},{"type":15,"tag":252,"props":16344,"children":16345},{"style":259},[16346],{"type":21,"value":3961},{"type":15,"tag":252,"props":16348,"children":16349},{"style":447},[16350],{"type":21,"value":3966},{"type":15,"tag":252,"props":16352,"children":16353},{"class":254,"line":2077},[16354,16358,16363,16367,16371,16375,16380,16384,16389,16394,16398,16402,16406,16411,16415,16419],{"type":15,"tag":252,"props":16355,"children":16356},{"style":601},[16357],{"type":21,"value":2083},{"type":15,"tag":252,"props":16359,"children":16360},{"style":447},[16361],{"type":21,"value":16362}," code ",{"type":15,"tag":252,"props":16364,"children":16365},{"style":601},[16366],{"type":21,"value":614},{"type":15,"tag":252,"props":16368,"children":16369},{"style":259},[16370],{"type":21,"value":6894},{"type":15,"tag":252,"props":16372,"children":16373},{"style":601},[16374],{"type":21,"value":804},{"type":15,"tag":252,"props":16376,"children":16377},{"style":259},[16378],{"type":21,"value":16379},"fs",{"type":15,"tag":252,"props":16381,"children":16382},{"style":601},[16383],{"type":21,"value":804},{"type":15,"tag":252,"props":16385,"children":16386},{"style":259},[16387],{"type":21,"value":16388},"read_to_string",{"type":15,"tag":252,"props":16390,"children":16391},{"style":447},[16392],{"type":21,"value":16393},"(file_name)",{"type":15,"tag":252,"props":16395,"children":16396},{"style":601},[16397],{"type":21,"value":432},{"type":15,"tag":252,"props":16399,"children":16400},{"style":259},[16401],{"type":21,"value":908},{"type":15,"tag":252,"props":16403,"children":16404},{"style":447},[16405],{"type":21,"value":849},{"type":15,"tag":252,"props":16407,"children":16408},{"style":265},[16409],{"type":21,"value":16410},"\"Reading input file\"",{"type":15,"tag":252,"props":16412,"children":16413},{"style":447},[16414],{"type":21,"value":1975},{"type":15,"tag":252,"props":16416,"children":16417},{"style":601},[16418],{"type":21,"value":5468},{"type":15,"tag":252,"props":16420,"children":16421},{"style":447},[16422],{"type":21,"value":3325},{"type":15,"tag":252,"props":16424,"children":16425},{"class":254,"line":2110},[16426],{"type":15,"tag":252,"props":16427,"children":16428},{"emptyLinePlaceholder":2053},[16429],{"type":21,"value":2056},{"type":15,"tag":252,"props":16431,"children":16432},{"class":254,"line":2150},[16433,16437,16441,16445,16449,16453,16457,16461,16465,16470,16474,16478,16482,16486,16490,16494,16498,16502],{"type":15,"tag":252,"props":16434,"children":16435},{"style":601},[16436],{"type":21,"value":2083},{"type":15,"tag":252,"props":16438,"children":16439},{"style":447},[16440],{"type":21,"value":11033},{"type":15,"tag":252,"props":16442,"children":16443},{"style":601},[16444],{"type":21,"value":614},{"type":15,"tag":252,"props":16446,"children":16447},{"style":259},[16448],{"type":21,"value":5616},{"type":15,"tag":252,"props":16450,"children":16451},{"style":601},[16452],{"type":21,"value":804},{"type":15,"tag":252,"props":16454,"children":16455},{"style":259},[16456],{"type":21,"value":3995},{"type":15,"tag":252,"props":16458,"children":16459},{"style":447},[16460],{"type":21,"value":849},{"type":15,"tag":252,"props":16462,"children":16463},{"style":601},[16464],{"type":21,"value":1171},{"type":15,"tag":252,"props":16466,"children":16467},{"style":447},[16468],{"type":21,"value":16469},"code, ",{"type":15,"tag":252,"props":16471,"children":16472},{"style":601},[16473],{"type":21,"value":1171},{"type":15,"tag":252,"props":16475,"children":16476},{"style":447},[16477],{"type":21,"value":11071},{"type":15,"tag":252,"props":16479,"children":16480},{"style":601},[16481],{"type":21,"value":432},{"type":15,"tag":252,"props":16483,"children":16484},{"style":259},[16485],{"type":21,"value":908},{"type":15,"tag":252,"props":16487,"children":16488},{"style":447},[16489],{"type":21,"value":849},{"type":15,"tag":252,"props":16491,"children":16492},{"style":265},[16493],{"type":21,"value":11088},{"type":15,"tag":252,"props":16495,"children":16496},{"style":447},[16497],{"type":21,"value":1975},{"type":15,"tag":252,"props":16499,"children":16500},{"style":601},[16501],{"type":21,"value":5468},{"type":15,"tag":252,"props":16503,"children":16504},{"style":447},[16505],{"type":21,"value":3325},{"type":15,"tag":252,"props":16507,"children":16508},{"class":254,"line":2182},[16509,16513,16518,16522,16527,16531,16536,16540,16544,16549,16553,16557,16561,16566,16570,16574],{"type":15,"tag":252,"props":16510,"children":16511},{"style":601},[16512],{"type":21,"value":2083},{"type":15,"tag":252,"props":16514,"children":16515},{"style":447},[16516],{"type":21,"value":16517}," ir ",{"type":15,"tag":252,"props":16519,"children":16520},{"style":601},[16521],{"type":21,"value":614},{"type":15,"tag":252,"props":16523,"children":16524},{"style":259},[16525],{"type":21,"value":16526}," type_analyzer",{"type":15,"tag":252,"props":16528,"children":16529},{"style":601},[16530],{"type":21,"value":804},{"type":15,"tag":252,"props":16532,"children":16533},{"style":259},[16534],{"type":21,"value":16535},"resolve_module",{"type":15,"tag":252,"props":16537,"children":16538},{"style":447},[16539],{"type":21,"value":849},{"type":15,"tag":252,"props":16541,"children":16542},{"style":601},[16543],{"type":21,"value":1171},{"type":15,"tag":252,"props":16545,"children":16546},{"style":447},[16547],{"type":21,"value":16548},"ast)",{"type":15,"tag":252,"props":16550,"children":16551},{"style":601},[16552],{"type":21,"value":432},{"type":15,"tag":252,"props":16554,"children":16555},{"style":259},[16556],{"type":21,"value":908},{"type":15,"tag":252,"props":16558,"children":16559},{"style":447},[16560],{"type":21,"value":849},{"type":15,"tag":252,"props":16562,"children":16563},{"style":265},[16564],{"type":21,"value":16565},"\"Resolving types\"",{"type":15,"tag":252,"props":16567,"children":16568},{"style":447},[16569],{"type":21,"value":1975},{"type":15,"tag":252,"props":16571,"children":16572},{"style":601},[16573],{"type":21,"value":5468},{"type":15,"tag":252,"props":16575,"children":16576},{"style":447},[16577],{"type":21,"value":3325},{"type":15,"tag":252,"props":16579,"children":16580},{"class":254,"line":2190},[16581],{"type":15,"tag":252,"props":16582,"children":16583},{"emptyLinePlaceholder":2053},[16584],{"type":21,"value":2056},{"type":15,"tag":252,"props":16586,"children":16587},{"class":254,"line":2222},[16588,16592,16597,16601],{"type":15,"tag":252,"props":16589,"children":16590},{"style":601},[16591],{"type":21,"value":10611},{"type":15,"tag":252,"props":16593,"children":16594},{"style":447},[16595],{"type":21,"value":16596}," options",{"type":15,"tag":252,"props":16598,"children":16599},{"style":601},[16600],{"type":21,"value":432},{"type":15,"tag":252,"props":16602,"children":16603},{"style":447},[16604],{"type":21,"value":16605},"output_ir {\n",{"type":15,"tag":252,"props":16607,"children":16608},{"class":254,"line":2270},[16609,16613,16617,16622],{"type":15,"tag":252,"props":16610,"children":16611},{"style":259},[16612],{"type":21,"value":10822},{"type":15,"tag":252,"props":16614,"children":16615},{"style":447},[16616],{"type":21,"value":849},{"type":15,"tag":252,"props":16618,"children":16619},{"style":265},[16620],{"type":21,"value":16621},"\"{ir:#?}\"",{"type":15,"tag":252,"props":16623,"children":16624},{"style":447},[16625],{"type":21,"value":859},{"type":15,"tag":252,"props":16627,"children":16628},{"class":254,"line":2302},[16629],{"type":15,"tag":252,"props":16630,"children":16631},{"style":447},[16632],{"type":21,"value":4095},{"type":15,"tag":252,"props":16634,"children":16635},{"class":254,"line":2310},[16636],{"type":15,"tag":252,"props":16637,"children":16638},{"emptyLinePlaceholder":2053},[16639],{"type":21,"value":2056},{"type":15,"tag":252,"props":16641,"children":16642},{"class":254,"line":2370},[16643,16647],{"type":15,"tag":252,"props":16644,"children":16645},{"style":259},[16646],{"type":21,"value":4110},{"type":15,"tag":252,"props":16648,"children":16649},{"style":447},[16650],{"type":21,"value":4115},{"type":15,"tag":252,"props":16652,"children":16653},{"class":254,"line":2418},[16654],{"type":15,"tag":252,"props":16655,"children":16656},{"style":447},[16657],{"type":21,"value":2854},{"type":15,"tag":23,"props":16659,"children":16660},{},[16661,16663,16669],{"type":21,"value":16662},"Running our code now, ",{"type":15,"tag":81,"props":16664,"children":16666},{"className":16665},[],[16667],{"type":21,"value":16668},"cargo run -- run test.viv --output-ir",{"type":21,"value":16670}," you should get something like the following:",{"type":15,"tag":95,"props":16672,"children":16674},{"code":16673,"language":772,"meta":8,"className":773,"style":8},"Module(\n    [\n        Print(\n            Int(\n                Literal(\n                    1,\n                ),\n            ),\n        ),\n        Print(\n            Int(\n                Literal(\n                    2,\n                ),\n            ),\n        ),\n    ],\n)\n",[16675],{"type":15,"tag":81,"props":16676,"children":16677},{"__ignoreMap":8},[16678,16689,16696,16707,16719,16731,16742,16749,16756,16763,16774,16785,16796,16807,16814,16821,16828,16835],{"type":15,"tag":252,"props":16679,"children":16680},{"class":254,"line":255},[16681,16685],{"type":15,"tag":252,"props":16682,"children":16683},{"style":259},[16684],{"type":21,"value":6055},{"type":15,"tag":252,"props":16686,"children":16687},{"style":447},[16688],{"type":21,"value":14196},{"type":15,"tag":252,"props":16690,"children":16691},{"class":254,"line":334},[16692],{"type":15,"tag":252,"props":16693,"children":16694},{"style":447},[16695],{"type":21,"value":14204},{"type":15,"tag":252,"props":16697,"children":16698},{"class":254,"line":390},[16699,16703],{"type":15,"tag":252,"props":16700,"children":16701},{"style":259},[16702],{"type":21,"value":14212},{"type":15,"tag":252,"props":16704,"children":16705},{"style":447},[16706],{"type":21,"value":14196},{"type":15,"tag":252,"props":16708,"children":16709},{"class":254,"line":2077},[16710,16715],{"type":15,"tag":252,"props":16711,"children":16712},{"style":259},[16713],{"type":21,"value":16714},"            Int",{"type":15,"tag":252,"props":16716,"children":16717},{"style":447},[16718],{"type":21,"value":14196},{"type":15,"tag":252,"props":16720,"children":16721},{"class":254,"line":2110},[16722,16727],{"type":15,"tag":252,"props":16723,"children":16724},{"style":259},[16725],{"type":21,"value":16726},"                Literal",{"type":15,"tag":252,"props":16728,"children":16729},{"style":447},[16730],{"type":21,"value":14196},{"type":15,"tag":252,"props":16732,"children":16733},{"class":254,"line":2150},[16734,16738],{"type":15,"tag":252,"props":16735,"children":16736},{"style":276},[16737],{"type":21,"value":14248},{"type":15,"tag":252,"props":16739,"children":16740},{"style":447},[16741],{"type":21,"value":3879},{"type":15,"tag":252,"props":16743,"children":16744},{"class":254,"line":2182},[16745],{"type":15,"tag":252,"props":16746,"children":16747},{"style":447},[16748],{"type":21,"value":14260},{"type":15,"tag":252,"props":16750,"children":16751},{"class":254,"line":2190},[16752],{"type":15,"tag":252,"props":16753,"children":16754},{"style":447},[16755],{"type":21,"value":14268},{"type":15,"tag":252,"props":16757,"children":16758},{"class":254,"line":2222},[16759],{"type":15,"tag":252,"props":16760,"children":16761},{"style":447},[16762],{"type":21,"value":14276},{"type":15,"tag":252,"props":16764,"children":16765},{"class":254,"line":2270},[16766,16770],{"type":15,"tag":252,"props":16767,"children":16768},{"style":259},[16769],{"type":21,"value":14212},{"type":15,"tag":252,"props":16771,"children":16772},{"style":447},[16773],{"type":21,"value":14196},{"type":15,"tag":252,"props":16775,"children":16776},{"class":254,"line":2302},[16777,16781],{"type":15,"tag":252,"props":16778,"children":16779},{"style":259},[16780],{"type":21,"value":16714},{"type":15,"tag":252,"props":16782,"children":16783},{"style":447},[16784],{"type":21,"value":14196},{"type":15,"tag":252,"props":16786,"children":16787},{"class":254,"line":2310},[16788,16792],{"type":15,"tag":252,"props":16789,"children":16790},{"style":259},[16791],{"type":21,"value":16726},{"type":15,"tag":252,"props":16793,"children":16794},{"style":447},[16795],{"type":21,"value":14196},{"type":15,"tag":252,"props":16797,"children":16798},{"class":254,"line":2370},[16799,16803],{"type":15,"tag":252,"props":16800,"children":16801},{"style":276},[16802],{"type":21,"value":14317},{"type":15,"tag":252,"props":16804,"children":16805},{"style":447},[16806],{"type":21,"value":3879},{"type":15,"tag":252,"props":16808,"children":16809},{"class":254,"line":2418},[16810],{"type":15,"tag":252,"props":16811,"children":16812},{"style":447},[16813],{"type":21,"value":14260},{"type":15,"tag":252,"props":16815,"children":16816},{"class":254,"line":2426},[16817],{"type":15,"tag":252,"props":16818,"children":16819},{"style":447},[16820],{"type":21,"value":14268},{"type":15,"tag":252,"props":16822,"children":16823},{"class":254,"line":2474},[16824],{"type":15,"tag":252,"props":16825,"children":16826},{"style":447},[16827],{"type":21,"value":14276},{"type":15,"tag":252,"props":16829,"children":16830},{"class":254,"line":2522},[16831],{"type":15,"tag":252,"props":16832,"children":16833},{"style":447},[16834],{"type":21,"value":14350},{"type":15,"tag":252,"props":16836,"children":16837},{"class":254,"line":2530},[16838],{"type":15,"tag":252,"props":16839,"children":16840},{"style":447},[16841],{"type":21,"value":7327},{"type":15,"tag":192,"props":16843,"children":16845},{"id":16844},"code-generation",[16846],{"type":21,"value":16847},"Code generation",{"type":15,"tag":23,"props":16849,"children":16850},{},[16851,16853,16858],{"type":21,"value":16852},"Now we are gonna turn this IR into some actual code! Using ",{"type":15,"tag":81,"props":16854,"children":16856},{"className":16855},[],[16857],{"type":21,"value":164},{"type":21,"value":16859}," the same way we did in Part 1.",{"type":15,"tag":59,"props":16861,"children":16863},{"id":16862},"generating-llvm-ir",[16864],{"type":21,"value":16865},"Generating LLVM IR",{"type":15,"tag":95,"props":16867,"children":16869},{"code":16868,"language":772,"meta":8,"className":773,"style":8},"use inkwell::context::Context;\n\npub struct CodeGen\u003C'ctx> {\n    context: &'ctx Context,\n    module: inkwell::module::Module\u003C'ctx>,\n    builder: inkwell::builder::Builder\u003C'ctx>,\n    fpm: inkwell::passes::PassManager\u003Cinkwell::module::Module\u003C'ctx>>,\n}\n\nimpl\u003C'ctx> CodeGen\u003C'ctx> {\n    pub fn new(context: &'ctx Context) -> Self {\n        let module = context.create_module(\"main\");\n        let builder = context.create_builder();\n        let fpm = inkwell::passes::PassManager::create(());\n\n        fpm.add_ipsccp_pass();\n        fpm.add_new_gvn_pass();\n        fpm.add_ind_var_simplify_pass();\n        fpm.add_instruction_simplify_pass();\n        fpm.add_instruction_combining_pass();\n\n        fpm.add_constant_merge_pass();\n        fpm.add_global_optimizer_pass();\n\n        fpm.add_demote_memory_to_register_pass();\n        fpm.add_merge_functions_pass();\n        fpm.add_dead_arg_elimination_pass();\n        fpm.add_function_attrs_pass();\n        fpm.add_function_inlining_pass();\n        fpm.add_tail_call_elimination_pass();\n\n        fpm.add_licm_pass();\n        fpm.add_cfg_simplification_pass();\n\n        fpm.add_global_dce_pass();\n        fpm.add_aggressive_dce_pass();\n        fpm.add_loop_deletion_pass();\n\n        Self {\n            context: &context,\n            module,\n            builder,\n            fpm,\n        }\n    }\n}\n",[16870],{"type":15,"tag":81,"props":16871,"children":16872},{"__ignoreMap":8},[16873,16904,16911,16941,16973,17016,17060,17128,17135,17142,17178,17234,17273,17304,17353,17360,17381,17401,17421,17441,17461,17468,17488,17508,17515,17535,17555,17575,17595,17615,17635,17642,17662,17682,17689,17709,17729,17749,17756,17767,17788,17796,17804,17812,17819,17826],{"type":15,"tag":252,"props":16874,"children":16875},{"class":254,"line":255},[16876,16880,16884,16888,16892,16896,16900],{"type":15,"tag":252,"props":16877,"children":16878},{"style":601},[16879],{"type":21,"value":2008},{"type":15,"tag":252,"props":16881,"children":16882},{"style":259},[16883],{"type":21,"value":273},{"type":15,"tag":252,"props":16885,"children":16886},{"style":601},[16887],{"type":21,"value":804},{"type":15,"tag":252,"props":16889,"children":16890},{"style":259},[16891],{"type":21,"value":908},{"type":15,"tag":252,"props":16893,"children":16894},{"style":601},[16895],{"type":21,"value":804},{"type":15,"tag":252,"props":16897,"children":16898},{"style":259},[16899],{"type":21,"value":2034},{"type":15,"tag":252,"props":16901,"children":16902},{"style":447},[16903],{"type":21,"value":3325},{"type":15,"tag":252,"props":16905,"children":16906},{"class":254,"line":334},[16907],{"type":15,"tag":252,"props":16908,"children":16909},{"emptyLinePlaceholder":2053},[16910],{"type":21,"value":2056},{"type":15,"tag":252,"props":16912,"children":16913},{"class":254,"line":390},[16914,16918,16922,16927,16932,16937],{"type":15,"tag":252,"props":16915,"children":16916},{"style":601},[16917],{"type":21,"value":4740},{"type":15,"tag":252,"props":16919,"children":16920},{"style":601},[16921],{"type":21,"value":4745},{"type":15,"tag":252,"props":16923,"children":16924},{"style":259},[16925],{"type":21,"value":16926}," CodeGen",{"type":15,"tag":252,"props":16928,"children":16929},{"style":447},[16930],{"type":21,"value":16931},"\u003C'",{"type":15,"tag":252,"props":16933,"children":16934},{"style":259},[16935],{"type":21,"value":16936},"ctx",{"type":15,"tag":252,"props":16938,"children":16939},{"style":447},[16940],{"type":21,"value":7138},{"type":15,"tag":252,"props":16942,"children":16943},{"class":254,"line":2077},[16944,16949,16953,16957,16961,16965,16969],{"type":15,"tag":252,"props":16945,"children":16946},{"style":447},[16947],{"type":21,"value":16948},"    context",{"type":15,"tag":252,"props":16950,"children":16951},{"style":601},[16952],{"type":21,"value":3374},{"type":15,"tag":252,"props":16954,"children":16955},{"style":601},[16956],{"type":21,"value":4920},{"type":15,"tag":252,"props":16958,"children":16959},{"style":447},[16960],{"type":21,"value":8319},{"type":15,"tag":252,"props":16962,"children":16963},{"style":259},[16964],{"type":21,"value":16936},{"type":15,"tag":252,"props":16966,"children":16967},{"style":259},[16968],{"type":21,"value":799},{"type":15,"tag":252,"props":16970,"children":16971},{"style":447},[16972],{"type":21,"value":3879},{"type":15,"tag":252,"props":16974,"children":16975},{"class":254,"line":2110},[16976,16980,16984,16988,16992,16996,17000,17004,17008,17012],{"type":15,"tag":252,"props":16977,"children":16978},{"style":447},[16979],{"type":21,"value":2813},{"type":15,"tag":252,"props":16981,"children":16982},{"style":601},[16983],{"type":21,"value":3374},{"type":15,"tag":252,"props":16985,"children":16986},{"style":259},[16987],{"type":21,"value":273},{"type":15,"tag":252,"props":16989,"children":16990},{"style":601},[16991],{"type":21,"value":804},{"type":15,"tag":252,"props":16993,"children":16994},{"style":259},[16995],{"type":21,"value":919},{"type":15,"tag":252,"props":16997,"children":16998},{"style":601},[16999],{"type":21,"value":804},{"type":15,"tag":252,"props":17001,"children":17002},{"style":259},[17003],{"type":21,"value":6055},{"type":15,"tag":252,"props":17005,"children":17006},{"style":447},[17007],{"type":21,"value":16931},{"type":15,"tag":252,"props":17009,"children":17010},{"style":259},[17011],{"type":21,"value":16936},{"type":15,"tag":252,"props":17013,"children":17014},{"style":447},[17015],{"type":21,"value":7608},{"type":15,"tag":252,"props":17017,"children":17018},{"class":254,"line":2150},[17019,17023,17027,17031,17035,17039,17043,17048,17052,17056],{"type":15,"tag":252,"props":17020,"children":17021},{"style":447},[17022],{"type":21,"value":2576},{"type":15,"tag":252,"props":17024,"children":17025},{"style":601},[17026],{"type":21,"value":3374},{"type":15,"tag":252,"props":17028,"children":17029},{"style":259},[17030],{"type":21,"value":273},{"type":15,"tag":252,"props":17032,"children":17033},{"style":601},[17034],{"type":21,"value":804},{"type":15,"tag":252,"props":17036,"children":17037},{"style":259},[17038],{"type":21,"value":930},{"type":15,"tag":252,"props":17040,"children":17041},{"style":601},[17042],{"type":21,"value":804},{"type":15,"tag":252,"props":17044,"children":17045},{"style":259},[17046],{"type":21,"value":17047},"Builder",{"type":15,"tag":252,"props":17049,"children":17050},{"style":447},[17051],{"type":21,"value":16931},{"type":15,"tag":252,"props":17053,"children":17054},{"style":259},[17055],{"type":21,"value":16936},{"type":15,"tag":252,"props":17057,"children":17058},{"style":447},[17059],{"type":21,"value":7608},{"type":15,"tag":252,"props":17061,"children":17062},{"class":254,"line":2182},[17063,17068,17072,17076,17080,17085,17089,17094,17099,17103,17107,17111,17115,17119,17123],{"type":15,"tag":252,"props":17064,"children":17065},{"style":447},[17066],{"type":21,"value":17067},"    fpm",{"type":15,"tag":252,"props":17069,"children":17070},{"style":601},[17071],{"type":21,"value":3374},{"type":15,"tag":252,"props":17073,"children":17074},{"style":259},[17075],{"type":21,"value":273},{"type":15,"tag":252,"props":17077,"children":17078},{"style":601},[17079],{"type":21,"value":804},{"type":15,"tag":252,"props":17081,"children":17082},{"style":259},[17083],{"type":21,"value":17084},"passes",{"type":15,"tag":252,"props":17086,"children":17087},{"style":601},[17088],{"type":21,"value":804},{"type":15,"tag":252,"props":17090,"children":17091},{"style":259},[17092],{"type":21,"value":17093},"PassManager",{"type":15,"tag":252,"props":17095,"children":17096},{"style":447},[17097],{"type":21,"value":17098},"\u003Cinkwell",{"type":15,"tag":252,"props":17100,"children":17101},{"style":601},[17102],{"type":21,"value":804},{"type":15,"tag":252,"props":17104,"children":17105},{"style":447},[17106],{"type":21,"value":919},{"type":15,"tag":252,"props":17108,"children":17109},{"style":601},[17110],{"type":21,"value":804},{"type":15,"tag":252,"props":17112,"children":17113},{"style":259},[17114],{"type":21,"value":6055},{"type":15,"tag":252,"props":17116,"children":17117},{"style":447},[17118],{"type":21,"value":16931},{"type":15,"tag":252,"props":17120,"children":17121},{"style":259},[17122],{"type":21,"value":16936},{"type":15,"tag":252,"props":17124,"children":17125},{"style":447},[17126],{"type":21,"value":17127},">>,\n",{"type":15,"tag":252,"props":17129,"children":17130},{"class":254,"line":2190},[17131],{"type":15,"tag":252,"props":17132,"children":17133},{"style":447},[17134],{"type":21,"value":2854},{"type":15,"tag":252,"props":17136,"children":17137},{"class":254,"line":2222},[17138],{"type":15,"tag":252,"props":17139,"children":17140},{"emptyLinePlaceholder":2053},[17141],{"type":21,"value":2056},{"type":15,"tag":252,"props":17143,"children":17144},{"class":254,"line":2270},[17145,17149,17153,17157,17161,17166,17170,17174],{"type":15,"tag":252,"props":17146,"children":17147},{"style":601},[17148],{"type":21,"value":7107},{"type":15,"tag":252,"props":17150,"children":17151},{"style":447},[17152],{"type":21,"value":16931},{"type":15,"tag":252,"props":17154,"children":17155},{"style":259},[17156],{"type":21,"value":16936},{"type":15,"tag":252,"props":17158,"children":17159},{"style":447},[17160],{"type":21,"value":7120},{"type":15,"tag":252,"props":17162,"children":17163},{"style":259},[17164],{"type":21,"value":17165},"CodeGen",{"type":15,"tag":252,"props":17167,"children":17168},{"style":447},[17169],{"type":21,"value":16931},{"type":15,"tag":252,"props":17171,"children":17172},{"style":259},[17173],{"type":21,"value":16936},{"type":15,"tag":252,"props":17175,"children":17176},{"style":447},[17177],{"type":21,"value":7138},{"type":15,"tag":252,"props":17179,"children":17180},{"class":254,"line":2302},[17181,17185,17189,17193,17198,17202,17206,17210,17214,17218,17222,17226,17230],{"type":15,"tag":252,"props":17182,"children":17183},{"style":601},[17184],{"type":21,"value":4762},{"type":15,"tag":252,"props":17186,"children":17187},{"style":601},[17188],{"type":21,"value":4901},{"type":15,"tag":252,"props":17190,"children":17191},{"style":259},[17192],{"type":21,"value":7151},{"type":15,"tag":252,"props":17194,"children":17195},{"style":447},[17196],{"type":21,"value":17197},"(context",{"type":15,"tag":252,"props":17199,"children":17200},{"style":601},[17201],{"type":21,"value":3374},{"type":15,"tag":252,"props":17203,"children":17204},{"style":601},[17205],{"type":21,"value":4920},{"type":15,"tag":252,"props":17207,"children":17208},{"style":447},[17209],{"type":21,"value":8319},{"type":15,"tag":252,"props":17211,"children":17212},{"style":259},[17213],{"type":21,"value":16936},{"type":15,"tag":252,"props":17215,"children":17216},{"style":259},[17217],{"type":21,"value":799},{"type":15,"tag":252,"props":17219,"children":17220},{"style":447},[17221],{"type":21,"value":4943},{"type":15,"tag":252,"props":17223,"children":17224},{"style":601},[17225],{"type":21,"value":3947},{"type":15,"tag":252,"props":17227,"children":17228},{"style":276},[17229],{"type":21,"value":7187},{"type":15,"tag":252,"props":17231,"children":17232},{"style":447},[17233],{"type":21,"value":3769},{"type":15,"tag":252,"props":17235,"children":17236},{"class":254,"line":2310},[17237,17241,17245,17249,17253,17257,17261,17265,17269],{"type":15,"tag":252,"props":17238,"children":17239},{"style":601},[17240],{"type":21,"value":8231},{"type":15,"tag":252,"props":17242,"children":17243},{"style":447},[17244],{"type":21,"value":826},{"type":15,"tag":252,"props":17246,"children":17247},{"style":601},[17248],{"type":21,"value":614},{"type":15,"tag":252,"props":17250,"children":17251},{"style":447},[17252],{"type":21,"value":835},{"type":15,"tag":252,"props":17254,"children":17255},{"style":601},[17256],{"type":21,"value":432},{"type":15,"tag":252,"props":17258,"children":17259},{"style":259},[17260],{"type":21,"value":844},{"type":15,"tag":252,"props":17262,"children":17263},{"style":447},[17264],{"type":21,"value":849},{"type":15,"tag":252,"props":17266,"children":17267},{"style":265},[17268],{"type":21,"value":1497},{"type":15,"tag":252,"props":17270,"children":17271},{"style":447},[17272],{"type":21,"value":859},{"type":15,"tag":252,"props":17274,"children":17275},{"class":254,"line":2370},[17276,17280,17284,17288,17292,17296,17300],{"type":15,"tag":252,"props":17277,"children":17278},{"style":601},[17279],{"type":21,"value":8231},{"type":15,"tag":252,"props":17281,"children":17282},{"style":447},[17283],{"type":21,"value":871},{"type":15,"tag":252,"props":17285,"children":17286},{"style":601},[17287],{"type":21,"value":614},{"type":15,"tag":252,"props":17289,"children":17290},{"style":447},[17291],{"type":21,"value":835},{"type":15,"tag":252,"props":17293,"children":17294},{"style":601},[17295],{"type":21,"value":432},{"type":15,"tag":252,"props":17297,"children":17298},{"style":259},[17299],{"type":21,"value":888},{"type":15,"tag":252,"props":17301,"children":17302},{"style":447},[17303],{"type":21,"value":814},{"type":15,"tag":252,"props":17305,"children":17306},{"class":254,"line":2418},[17307,17311,17316,17320,17324,17328,17332,17336,17340,17344,17348],{"type":15,"tag":252,"props":17308,"children":17309},{"style":601},[17310],{"type":21,"value":8231},{"type":15,"tag":252,"props":17312,"children":17313},{"style":447},[17314],{"type":21,"value":17315}," fpm ",{"type":15,"tag":252,"props":17317,"children":17318},{"style":601},[17319],{"type":21,"value":614},{"type":15,"tag":252,"props":17321,"children":17322},{"style":259},[17323],{"type":21,"value":273},{"type":15,"tag":252,"props":17325,"children":17326},{"style":601},[17327],{"type":21,"value":804},{"type":15,"tag":252,"props":17329,"children":17330},{"style":259},[17331],{"type":21,"value":17084},{"type":15,"tag":252,"props":17333,"children":17334},{"style":601},[17335],{"type":21,"value":804},{"type":15,"tag":252,"props":17337,"children":17338},{"style":259},[17339],{"type":21,"value":17093},{"type":15,"tag":252,"props":17341,"children":17342},{"style":601},[17343],{"type":21,"value":804},{"type":15,"tag":252,"props":17345,"children":17346},{"style":259},[17347],{"type":21,"value":809},{"type":15,"tag":252,"props":17349,"children":17350},{"style":447},[17351],{"type":21,"value":17352},"(());\n",{"type":15,"tag":252,"props":17354,"children":17355},{"class":254,"line":2426},[17356],{"type":15,"tag":252,"props":17357,"children":17358},{"emptyLinePlaceholder":2053},[17359],{"type":21,"value":2056},{"type":15,"tag":252,"props":17361,"children":17362},{"class":254,"line":2474},[17363,17368,17372,17377],{"type":15,"tag":252,"props":17364,"children":17365},{"style":447},[17366],{"type":21,"value":17367},"        fpm",{"type":15,"tag":252,"props":17369,"children":17370},{"style":601},[17371],{"type":21,"value":432},{"type":15,"tag":252,"props":17373,"children":17374},{"style":259},[17375],{"type":21,"value":17376},"add_ipsccp_pass",{"type":15,"tag":252,"props":17378,"children":17379},{"style":447},[17380],{"type":21,"value":814},{"type":15,"tag":252,"props":17382,"children":17383},{"class":254,"line":2522},[17384,17388,17392,17397],{"type":15,"tag":252,"props":17385,"children":17386},{"style":447},[17387],{"type":21,"value":17367},{"type":15,"tag":252,"props":17389,"children":17390},{"style":601},[17391],{"type":21,"value":432},{"type":15,"tag":252,"props":17393,"children":17394},{"style":259},[17395],{"type":21,"value":17396},"add_new_gvn_pass",{"type":15,"tag":252,"props":17398,"children":17399},{"style":447},[17400],{"type":21,"value":814},{"type":15,"tag":252,"props":17402,"children":17403},{"class":254,"line":2530},[17404,17408,17412,17417],{"type":15,"tag":252,"props":17405,"children":17406},{"style":447},[17407],{"type":21,"value":17367},{"type":15,"tag":252,"props":17409,"children":17410},{"style":601},[17411],{"type":21,"value":432},{"type":15,"tag":252,"props":17413,"children":17414},{"style":259},[17415],{"type":21,"value":17416},"add_ind_var_simplify_pass",{"type":15,"tag":252,"props":17418,"children":17419},{"style":447},[17420],{"type":21,"value":814},{"type":15,"tag":252,"props":17422,"children":17423},{"class":254,"line":2570},[17424,17428,17432,17437],{"type":15,"tag":252,"props":17425,"children":17426},{"style":447},[17427],{"type":21,"value":17367},{"type":15,"tag":252,"props":17429,"children":17430},{"style":601},[17431],{"type":21,"value":432},{"type":15,"tag":252,"props":17433,"children":17434},{"style":259},[17435],{"type":21,"value":17436},"add_instruction_simplify_pass",{"type":15,"tag":252,"props":17438,"children":17439},{"style":447},[17440],{"type":21,"value":814},{"type":15,"tag":252,"props":17442,"children":17443},{"class":254,"line":2591},[17444,17448,17452,17457],{"type":15,"tag":252,"props":17445,"children":17446},{"style":447},[17447],{"type":21,"value":17367},{"type":15,"tag":252,"props":17449,"children":17450},{"style":601},[17451],{"type":21,"value":432},{"type":15,"tag":252,"props":17453,"children":17454},{"style":259},[17455],{"type":21,"value":17456},"add_instruction_combining_pass",{"type":15,"tag":252,"props":17458,"children":17459},{"style":447},[17460],{"type":21,"value":814},{"type":15,"tag":252,"props":17462,"children":17463},{"class":254,"line":2599},[17464],{"type":15,"tag":252,"props":17465,"children":17466},{"emptyLinePlaceholder":2053},[17467],{"type":21,"value":2056},{"type":15,"tag":252,"props":17469,"children":17470},{"class":254,"line":2647},[17471,17475,17479,17484],{"type":15,"tag":252,"props":17472,"children":17473},{"style":447},[17474],{"type":21,"value":17367},{"type":15,"tag":252,"props":17476,"children":17477},{"style":601},[17478],{"type":21,"value":432},{"type":15,"tag":252,"props":17480,"children":17481},{"style":259},[17482],{"type":21,"value":17483},"add_constant_merge_pass",{"type":15,"tag":252,"props":17485,"children":17486},{"style":447},[17487],{"type":21,"value":814},{"type":15,"tag":252,"props":17489,"children":17490},{"class":254,"line":2679},[17491,17495,17499,17504],{"type":15,"tag":252,"props":17492,"children":17493},{"style":447},[17494],{"type":21,"value":17367},{"type":15,"tag":252,"props":17496,"children":17497},{"style":601},[17498],{"type":21,"value":432},{"type":15,"tag":252,"props":17500,"children":17501},{"style":259},[17502],{"type":21,"value":17503},"add_global_optimizer_pass",{"type":15,"tag":252,"props":17505,"children":17506},{"style":447},[17507],{"type":21,"value":814},{"type":15,"tag":252,"props":17509,"children":17510},{"class":254,"line":2727},[17511],{"type":15,"tag":252,"props":17512,"children":17513},{"emptyLinePlaceholder":2053},[17514],{"type":21,"value":2056},{"type":15,"tag":252,"props":17516,"children":17517},{"class":254,"line":2735},[17518,17522,17526,17531],{"type":15,"tag":252,"props":17519,"children":17520},{"style":447},[17521],{"type":21,"value":17367},{"type":15,"tag":252,"props":17523,"children":17524},{"style":601},[17525],{"type":21,"value":432},{"type":15,"tag":252,"props":17527,"children":17528},{"style":259},[17529],{"type":21,"value":17530},"add_demote_memory_to_register_pass",{"type":15,"tag":252,"props":17532,"children":17533},{"style":447},[17534],{"type":21,"value":814},{"type":15,"tag":252,"props":17536,"children":17537},{"class":254,"line":2799},[17538,17542,17546,17551],{"type":15,"tag":252,"props":17539,"children":17540},{"style":447},[17541],{"type":21,"value":17367},{"type":15,"tag":252,"props":17543,"children":17544},{"style":601},[17545],{"type":21,"value":432},{"type":15,"tag":252,"props":17547,"children":17548},{"style":259},[17549],{"type":21,"value":17550},"add_merge_functions_pass",{"type":15,"tag":252,"props":17552,"children":17553},{"style":447},[17554],{"type":21,"value":814},{"type":15,"tag":252,"props":17556,"children":17557},{"class":254,"line":2807},[17558,17562,17566,17571],{"type":15,"tag":252,"props":17559,"children":17560},{"style":447},[17561],{"type":21,"value":17367},{"type":15,"tag":252,"props":17563,"children":17564},{"style":601},[17565],{"type":21,"value":432},{"type":15,"tag":252,"props":17567,"children":17568},{"style":259},[17569],{"type":21,"value":17570},"add_dead_arg_elimination_pass",{"type":15,"tag":252,"props":17572,"children":17573},{"style":447},[17574],{"type":21,"value":814},{"type":15,"tag":252,"props":17576,"children":17577},{"class":254,"line":2848},[17578,17582,17586,17591],{"type":15,"tag":252,"props":17579,"children":17580},{"style":447},[17581],{"type":21,"value":17367},{"type":15,"tag":252,"props":17583,"children":17584},{"style":601},[17585],{"type":21,"value":432},{"type":15,"tag":252,"props":17587,"children":17588},{"style":259},[17589],{"type":21,"value":17590},"add_function_attrs_pass",{"type":15,"tag":252,"props":17592,"children":17593},{"style":447},[17594],{"type":21,"value":814},{"type":15,"tag":252,"props":17596,"children":17597},{"class":254,"line":4645},[17598,17602,17606,17611],{"type":15,"tag":252,"props":17599,"children":17600},{"style":447},[17601],{"type":21,"value":17367},{"type":15,"tag":252,"props":17603,"children":17604},{"style":601},[17605],{"type":21,"value":432},{"type":15,"tag":252,"props":17607,"children":17608},{"style":259},[17609],{"type":21,"value":17610},"add_function_inlining_pass",{"type":15,"tag":252,"props":17612,"children":17613},{"style":447},[17614],{"type":21,"value":814},{"type":15,"tag":252,"props":17616,"children":17617},{"class":254,"line":4654},[17618,17622,17626,17631],{"type":15,"tag":252,"props":17619,"children":17620},{"style":447},[17621],{"type":21,"value":17367},{"type":15,"tag":252,"props":17623,"children":17624},{"style":601},[17625],{"type":21,"value":432},{"type":15,"tag":252,"props":17627,"children":17628},{"style":259},[17629],{"type":21,"value":17630},"add_tail_call_elimination_pass",{"type":15,"tag":252,"props":17632,"children":17633},{"style":447},[17634],{"type":21,"value":814},{"type":15,"tag":252,"props":17636,"children":17637},{"class":254,"line":4675},[17638],{"type":15,"tag":252,"props":17639,"children":17640},{"emptyLinePlaceholder":2053},[17641],{"type":21,"value":2056},{"type":15,"tag":252,"props":17643,"children":17644},{"class":254,"line":8160},[17645,17649,17653,17658],{"type":15,"tag":252,"props":17646,"children":17647},{"style":447},[17648],{"type":21,"value":17367},{"type":15,"tag":252,"props":17650,"children":17651},{"style":601},[17652],{"type":21,"value":432},{"type":15,"tag":252,"props":17654,"children":17655},{"style":259},[17656],{"type":21,"value":17657},"add_licm_pass",{"type":15,"tag":252,"props":17659,"children":17660},{"style":447},[17661],{"type":21,"value":814},{"type":15,"tag":252,"props":17663,"children":17664},{"class":254,"line":8168},[17665,17669,17673,17678],{"type":15,"tag":252,"props":17666,"children":17667},{"style":447},[17668],{"type":21,"value":17367},{"type":15,"tag":252,"props":17670,"children":17671},{"style":601},[17672],{"type":21,"value":432},{"type":15,"tag":252,"props":17674,"children":17675},{"style":259},[17676],{"type":21,"value":17677},"add_cfg_simplification_pass",{"type":15,"tag":252,"props":17679,"children":17680},{"style":447},[17681],{"type":21,"value":814},{"type":15,"tag":252,"props":17683,"children":17684},{"class":254,"line":8176},[17685],{"type":15,"tag":252,"props":17686,"children":17687},{"emptyLinePlaceholder":2053},[17688],{"type":21,"value":2056},{"type":15,"tag":252,"props":17690,"children":17691},{"class":254,"line":8225},[17692,17696,17700,17705],{"type":15,"tag":252,"props":17693,"children":17694},{"style":447},[17695],{"type":21,"value":17367},{"type":15,"tag":252,"props":17697,"children":17698},{"style":601},[17699],{"type":21,"value":432},{"type":15,"tag":252,"props":17701,"children":17702},{"style":259},[17703],{"type":21,"value":17704},"add_global_dce_pass",{"type":15,"tag":252,"props":17706,"children":17707},{"style":447},[17708],{"type":21,"value":814},{"type":15,"tag":252,"props":17710,"children":17711},{"class":254,"line":8289},[17712,17716,17720,17725],{"type":15,"tag":252,"props":17713,"children":17714},{"style":447},[17715],{"type":21,"value":17367},{"type":15,"tag":252,"props":17717,"children":17718},{"style":601},[17719],{"type":21,"value":432},{"type":15,"tag":252,"props":17721,"children":17722},{"style":259},[17723],{"type":21,"value":17724},"add_aggressive_dce_pass",{"type":15,"tag":252,"props":17726,"children":17727},{"style":447},[17728],{"type":21,"value":814},{"type":15,"tag":252,"props":17730,"children":17731},{"class":254,"line":8326},[17732,17736,17740,17745],{"type":15,"tag":252,"props":17733,"children":17734},{"style":447},[17735],{"type":21,"value":17367},{"type":15,"tag":252,"props":17737,"children":17738},{"style":601},[17739],{"type":21,"value":432},{"type":15,"tag":252,"props":17741,"children":17742},{"style":259},[17743],{"type":21,"value":17744},"add_loop_deletion_pass",{"type":15,"tag":252,"props":17746,"children":17747},{"style":447},[17748],{"type":21,"value":814},{"type":15,"tag":252,"props":17750,"children":17751},{"class":254,"line":8357},[17752],{"type":15,"tag":252,"props":17753,"children":17754},{"emptyLinePlaceholder":2053},[17755],{"type":21,"value":2056},{"type":15,"tag":252,"props":17757,"children":17758},{"class":254,"line":8385},[17759,17763],{"type":15,"tag":252,"props":17760,"children":17761},{"style":276},[17762],{"type":21,"value":7199},{"type":15,"tag":252,"props":17764,"children":17765},{"style":447},[17766],{"type":21,"value":3769},{"type":15,"tag":252,"props":17768,"children":17769},{"class":254,"line":8403},[17770,17775,17779,17783],{"type":15,"tag":252,"props":17771,"children":17772},{"style":447},[17773],{"type":21,"value":17774},"            context",{"type":15,"tag":252,"props":17776,"children":17777},{"style":601},[17778],{"type":21,"value":3374},{"type":15,"tag":252,"props":17780,"children":17781},{"style":601},[17782],{"type":21,"value":4920},{"type":15,"tag":252,"props":17784,"children":17785},{"style":447},[17786],{"type":21,"value":17787},"context,\n",{"type":15,"tag":252,"props":17789,"children":17790},{"class":254,"line":8432},[17791],{"type":15,"tag":252,"props":17792,"children":17793},{"style":447},[17794],{"type":21,"value":17795},"            module,\n",{"type":15,"tag":252,"props":17797,"children":17798},{"class":254,"line":8440},[17799],{"type":15,"tag":252,"props":17800,"children":17801},{"style":447},[17802],{"type":21,"value":17803},"            builder,\n",{"type":15,"tag":252,"props":17805,"children":17806},{"class":254,"line":8454},[17807],{"type":15,"tag":252,"props":17808,"children":17809},{"style":447},[17810],{"type":21,"value":17811},"            fpm,\n",{"type":15,"tag":252,"props":17813,"children":17814},{"class":254,"line":8462},[17815],{"type":15,"tag":252,"props":17816,"children":17817},{"style":447},[17818],{"type":21,"value":4087},{"type":15,"tag":252,"props":17820,"children":17821},{"class":254,"line":8470},[17822],{"type":15,"tag":252,"props":17823,"children":17824},{"style":447},[17825],{"type":21,"value":4095},{"type":15,"tag":252,"props":17827,"children":17828},{"class":254,"line":8498},[17829],{"type":15,"tag":252,"props":17830,"children":17831},{"style":447},[17832],{"type":21,"value":2854},{"type":15,"tag":23,"props":17834,"children":17835},{},[17836],{"type":21,"value":17837},"You will see a lot of the same structs here, with the addition of the fpm, it is the optimizer!\nWe don't have to write it ourselves! So instead of worrying about if we should optimize stuff, just don't first and see if LLVM does it for you, if it does, then great less work for us! So always try the simple stuff first, like we will output every variable on the heap, but LLVM will promote them to registers where it works.",{"type":15,"tag":95,"props":17839,"children":17841},{"code":17840,"language":772,"meta":8,"className":773,"style":8},"    fn int_type(&self) -> inkwell::types::IntType {\n        use crate::IntWidth;\n\n        match IntWidth {\n            8 => self.context.i8_type(),\n            16 => self.context.i16_type(),\n            32 => self.context.i32_type(),\n            64 => self.context.i64_type(),\n            128 => self.context.i128_type(),\n            _ => panic!(\"Invalid int width\"),\n        }\n    }\n",[17842],{"type":15,"tag":81,"props":17843,"children":17844},{"__ignoreMap":8},[17845,17902,17923,17930,17945,17981,18018,18054,18091,18128,18157,18164],{"type":15,"tag":252,"props":17846,"children":17847},{"class":254,"line":255},[17848,17852,17857,17861,17865,17869,17873,17877,17881,17885,17890,17894,17898],{"type":15,"tag":252,"props":17849,"children":17850},{"style":601},[17851],{"type":21,"value":7146},{"type":15,"tag":252,"props":17853,"children":17854},{"style":259},[17855],{"type":21,"value":17856}," int_type",{"type":15,"tag":252,"props":17858,"children":17859},{"style":447},[17860],{"type":21,"value":849},{"type":15,"tag":252,"props":17862,"children":17863},{"style":601},[17864],{"type":21,"value":1171},{"type":15,"tag":252,"props":17866,"children":17867},{"style":276},[17868],{"type":21,"value":7432},{"type":15,"tag":252,"props":17870,"children":17871},{"style":447},[17872],{"type":21,"value":4943},{"type":15,"tag":252,"props":17874,"children":17875},{"style":601},[17876],{"type":21,"value":3947},{"type":15,"tag":252,"props":17878,"children":17879},{"style":259},[17880],{"type":21,"value":273},{"type":15,"tag":252,"props":17882,"children":17883},{"style":601},[17884],{"type":21,"value":804},{"type":15,"tag":252,"props":17886,"children":17887},{"style":259},[17888],{"type":21,"value":17889},"types",{"type":15,"tag":252,"props":17891,"children":17892},{"style":601},[17893],{"type":21,"value":804},{"type":15,"tag":252,"props":17895,"children":17896},{"style":259},[17897],{"type":21,"value":5765},{"type":15,"tag":252,"props":17899,"children":17900},{"style":447},[17901],{"type":21,"value":3769},{"type":15,"tag":252,"props":17903,"children":17904},{"class":254,"line":334},[17905,17910,17914,17919],{"type":15,"tag":252,"props":17906,"children":17907},{"style":601},[17908],{"type":21,"value":17909},"        use",{"type":15,"tag":252,"props":17911,"children":17912},{"style":601},[17913],{"type":21,"value":5760},{"type":15,"tag":252,"props":17915,"children":17916},{"style":259},[17917],{"type":21,"value":17918},"IntWidth",{"type":15,"tag":252,"props":17920,"children":17921},{"style":447},[17922],{"type":21,"value":3325},{"type":15,"tag":252,"props":17924,"children":17925},{"class":254,"line":390},[17926],{"type":15,"tag":252,"props":17927,"children":17928},{"emptyLinePlaceholder":2053},[17929],{"type":21,"value":2056},{"type":15,"tag":252,"props":17931,"children":17932},{"class":254,"line":2077},[17933,17937,17941],{"type":15,"tag":252,"props":17934,"children":17935},{"style":601},[17936],{"type":21,"value":12717},{"type":15,"tag":252,"props":17938,"children":17939},{"style":259},[17940],{"type":21,"value":3369},{"type":15,"tag":252,"props":17942,"children":17943},{"style":447},[17944],{"type":21,"value":3769},{"type":15,"tag":252,"props":17946,"children":17947},{"class":254,"line":2110},[17948,17953,17957,17961,17965,17969,17973,17977],{"type":15,"tag":252,"props":17949,"children":17950},{"style":276},[17951],{"type":21,"value":17952},"            8",{"type":15,"tag":252,"props":17954,"children":17955},{"style":601},[17956],{"type":21,"value":9226},{"type":15,"tag":252,"props":17958,"children":17959},{"style":276},[17960],{"type":21,"value":7244},{"type":15,"tag":252,"props":17962,"children":17963},{"style":601},[17964],{"type":21,"value":432},{"type":15,"tag":252,"props":17966,"children":17967},{"style":447},[17968],{"type":21,"value":908},{"type":15,"tag":252,"props":17970,"children":17971},{"style":601},[17972],{"type":21,"value":432},{"type":15,"tag":252,"props":17974,"children":17975},{"style":259},[17976],{"type":21,"value":973},{"type":15,"tag":252,"props":17978,"children":17979},{"style":447},[17980],{"type":21,"value":10142},{"type":15,"tag":252,"props":17982,"children":17983},{"class":254,"line":2150},[17984,17989,17993,17997,18001,18005,18009,18014],{"type":15,"tag":252,"props":17985,"children":17986},{"style":276},[17987],{"type":21,"value":17988},"            16",{"type":15,"tag":252,"props":17990,"children":17991},{"style":601},[17992],{"type":21,"value":9226},{"type":15,"tag":252,"props":17994,"children":17995},{"style":276},[17996],{"type":21,"value":7244},{"type":15,"tag":252,"props":17998,"children":17999},{"style":601},[18000],{"type":21,"value":432},{"type":15,"tag":252,"props":18002,"children":18003},{"style":447},[18004],{"type":21,"value":908},{"type":15,"tag":252,"props":18006,"children":18007},{"style":601},[18008],{"type":21,"value":432},{"type":15,"tag":252,"props":18010,"children":18011},{"style":259},[18012],{"type":21,"value":18013},"i16_type",{"type":15,"tag":252,"props":18015,"children":18016},{"style":447},[18017],{"type":21,"value":10142},{"type":15,"tag":252,"props":18019,"children":18020},{"class":254,"line":2182},[18021,18026,18030,18034,18038,18042,18046,18050],{"type":15,"tag":252,"props":18022,"children":18023},{"style":276},[18024],{"type":21,"value":18025},"            32",{"type":15,"tag":252,"props":18027,"children":18028},{"style":601},[18029],{"type":21,"value":9226},{"type":15,"tag":252,"props":18031,"children":18032},{"style":276},[18033],{"type":21,"value":7244},{"type":15,"tag":252,"props":18035,"children":18036},{"style":601},[18037],{"type":21,"value":432},{"type":15,"tag":252,"props":18039,"children":18040},{"style":447},[18041],{"type":21,"value":908},{"type":15,"tag":252,"props":18043,"children":18044},{"style":601},[18045],{"type":21,"value":432},{"type":15,"tag":252,"props":18047,"children":18048},{"style":259},[18049],{"type":21,"value":1059},{"type":15,"tag":252,"props":18051,"children":18052},{"style":447},[18053],{"type":21,"value":10142},{"type":15,"tag":252,"props":18055,"children":18056},{"class":254,"line":2190},[18057,18062,18066,18070,18074,18078,18082,18087],{"type":15,"tag":252,"props":18058,"children":18059},{"style":276},[18060],{"type":21,"value":18061},"            64",{"type":15,"tag":252,"props":18063,"children":18064},{"style":601},[18065],{"type":21,"value":9226},{"type":15,"tag":252,"props":18067,"children":18068},{"style":276},[18069],{"type":21,"value":7244},{"type":15,"tag":252,"props":18071,"children":18072},{"style":601},[18073],{"type":21,"value":432},{"type":15,"tag":252,"props":18075,"children":18076},{"style":447},[18077],{"type":21,"value":908},{"type":15,"tag":252,"props":18079,"children":18080},{"style":601},[18081],{"type":21,"value":432},{"type":15,"tag":252,"props":18083,"children":18084},{"style":259},[18085],{"type":21,"value":18086},"i64_type",{"type":15,"tag":252,"props":18088,"children":18089},{"style":447},[18090],{"type":21,"value":10142},{"type":15,"tag":252,"props":18092,"children":18093},{"class":254,"line":2222},[18094,18099,18103,18107,18111,18115,18119,18124],{"type":15,"tag":252,"props":18095,"children":18096},{"style":276},[18097],{"type":21,"value":18098},"            128",{"type":15,"tag":252,"props":18100,"children":18101},{"style":601},[18102],{"type":21,"value":9226},{"type":15,"tag":252,"props":18104,"children":18105},{"style":276},[18106],{"type":21,"value":7244},{"type":15,"tag":252,"props":18108,"children":18109},{"style":601},[18110],{"type":21,"value":432},{"type":15,"tag":252,"props":18112,"children":18113},{"style":447},[18114],{"type":21,"value":908},{"type":15,"tag":252,"props":18116,"children":18117},{"style":601},[18118],{"type":21,"value":432},{"type":15,"tag":252,"props":18120,"children":18121},{"style":259},[18122],{"type":21,"value":18123},"i128_type",{"type":15,"tag":252,"props":18125,"children":18126},{"style":447},[18127],{"type":21,"value":10142},{"type":15,"tag":252,"props":18129,"children":18130},{"class":254,"line":2270},[18131,18135,18139,18144,18148,18153],{"type":15,"tag":252,"props":18132,"children":18133},{"style":447},[18134],{"type":21,"value":9250},{"type":15,"tag":252,"props":18136,"children":18137},{"style":601},[18138],{"type":21,"value":4054},{"type":15,"tag":252,"props":18140,"children":18141},{"style":259},[18142],{"type":21,"value":18143}," panic!",{"type":15,"tag":252,"props":18145,"children":18146},{"style":447},[18147],{"type":21,"value":849},{"type":15,"tag":252,"props":18149,"children":18150},{"style":265},[18151],{"type":21,"value":18152},"\"Invalid int width\"",{"type":15,"tag":252,"props":18154,"children":18155},{"style":447},[18156],{"type":21,"value":5899},{"type":15,"tag":252,"props":18158,"children":18159},{"class":254,"line":2302},[18160],{"type":15,"tag":252,"props":18161,"children":18162},{"style":447},[18163],{"type":21,"value":4087},{"type":15,"tag":252,"props":18165,"children":18166},{"class":254,"line":2310},[18167],{"type":15,"tag":252,"props":18168,"children":18169},{"style":447},[18170],{"type":21,"value":4095},{"type":15,"tag":23,"props":18172,"children":18173},{},[18174,18176,18181],{"type":21,"value":18175},"We also have this so the Int width in ",{"type":15,"tag":81,"props":18177,"children":18179},{"className":18178},[],[18180],{"type":21,"value":3274},{"type":21,"value":18182}," is easier to work (this means we are restricted to these options.)\nNow we can actually do some code gen:",{"type":15,"tag":95,"props":18184,"children":18186},{"code":18185,"language":772,"meta":8,"className":773,"style":8},"    fn compile_libc_definitions(&mut self) {\n        let i32_type = self.context.i32_type();\n        let i8_type = self.context.i8_type();\n        let i8_ptr_type = i8_type.ptr_type(inkwell::AddressSpace::default());\n\n        let printf_type = i32_type.fn_type(&[i8_ptr_type.into()], true);\n        self.module.add_function(\"printf\", printf_type, None);\n    }\n\n    fn compile_int_expression(&self, expression: &ir::IntExpression) -> inkwell::values::IntValue {\n        match expression {\n            ir::IntExpression::Literal(int) => self.int_type().const_int(*int as u64, false),\n        }\n    }\n\n    fn compile_print_statement(&self, statement: &ir::PrintStatement) {\n        let printf = self.module.get_function(\"printf\").unwrap();\n\n        let format_string = match statement {\n            ir::PrintStatement::Int(_) => \"%d\\n\",\n        };\n        let format_string = self\n            .builder\n            .build_global_string_ptr(format_string, \"format_string\")\n            .as_pointer_value();\n\n        match statement {\n            ir::PrintStatement::Int(int_expression) => {\n                let int_value = self.compile_int_expression(int_expression);\n                self.builder.build_call(\n                    printf,\n                    &[format_string.into(), int_value.into()],\n                    \"printf\",\n                );\n            }\n        }\n    }\n\n    fn compile_statement(&self, statement: &ir::Statement) {\n        match statement {\n            ir::Statement::Print(print_statement) => self.compile_print_statement(print_statement),\n        }\n    }\n\n    pub fn compile_module(&mut self, module: &ir::Module) {\n        self.compile_libc_definitions();\n        // In the future we will have functions, for now put everything in main()\n\n        let i32_type = self.context.i32_type();\n        let main_type = i32_type.fn_type(&[], false);\n        let main = self.module.add_function(\"main\", main_type, None);\n        let main_block = self.context.append_basic_block(main, \"entry\");\n        self.builder.position_at_end(main_block);\n\n        for statement in &module.0 {\n            self.compile_statement(statement);\n        }\n\n        self.builder\n            .build_return(Some(&i32_type.const_int(0, false)));\n    }\n",[18187],{"type":15,"tag":81,"props":18188,"children":18189},{"__ignoreMap":8},[18190,18218,18257,18296,18351,18358,18417,18460,18467,18474,18557,18568,18660,18667,18674,18681,18734,18794,18801,18826,18875,18883,18903,18915,18940,18955,18962,18973,19008,19042,19069,19077,19116,19128,19136,19143,19150,19157,19164,19216,19227,19277,19284,19291,19298,19355,19375,19383,19390,19430,19479,19537,19586,19614,19622,19659,19681,19689,19697,19713,19773],{"type":15,"tag":252,"props":18191,"children":18192},{"class":254,"line":255},[18193,18197,18202,18206,18210,18214],{"type":15,"tag":252,"props":18194,"children":18195},{"style":601},[18196],{"type":21,"value":7146},{"type":15,"tag":252,"props":18198,"children":18199},{"style":259},[18200],{"type":21,"value":18201}," compile_libc_definitions",{"type":15,"tag":252,"props":18203,"children":18204},{"style":447},[18205],{"type":21,"value":849},{"type":15,"tag":252,"props":18207,"children":18208},{"style":601},[18209],{"type":21,"value":7239},{"type":15,"tag":252,"props":18211,"children":18212},{"style":276},[18213],{"type":21,"value":7244},{"type":15,"tag":252,"props":18215,"children":18216},{"style":447},[18217],{"type":21,"value":7370},{"type":15,"tag":252,"props":18219,"children":18220},{"class":254,"line":334},[18221,18225,18229,18233,18237,18241,18245,18249,18253],{"type":15,"tag":252,"props":18222,"children":18223},{"style":601},[18224],{"type":21,"value":8231},{"type":15,"tag":252,"props":18226,"children":18227},{"style":447},[18228],{"type":21,"value":1042},{"type":15,"tag":252,"props":18230,"children":18231},{"style":601},[18232],{"type":21,"value":614},{"type":15,"tag":252,"props":18234,"children":18235},{"style":276},[18236],{"type":21,"value":7244},{"type":15,"tag":252,"props":18238,"children":18239},{"style":601},[18240],{"type":21,"value":432},{"type":15,"tag":252,"props":18242,"children":18243},{"style":447},[18244],{"type":21,"value":908},{"type":15,"tag":252,"props":18246,"children":18247},{"style":601},[18248],{"type":21,"value":432},{"type":15,"tag":252,"props":18250,"children":18251},{"style":259},[18252],{"type":21,"value":1059},{"type":15,"tag":252,"props":18254,"children":18255},{"style":447},[18256],{"type":21,"value":814},{"type":15,"tag":252,"props":18258,"children":18259},{"class":254,"line":390},[18260,18264,18268,18272,18276,18280,18284,18288,18292],{"type":15,"tag":252,"props":18261,"children":18262},{"style":601},[18263],{"type":21,"value":8231},{"type":15,"tag":252,"props":18265,"children":18266},{"style":447},[18267],{"type":21,"value":956},{"type":15,"tag":252,"props":18269,"children":18270},{"style":601},[18271],{"type":21,"value":614},{"type":15,"tag":252,"props":18273,"children":18274},{"style":276},[18275],{"type":21,"value":7244},{"type":15,"tag":252,"props":18277,"children":18278},{"style":601},[18279],{"type":21,"value":432},{"type":15,"tag":252,"props":18281,"children":18282},{"style":447},[18283],{"type":21,"value":908},{"type":15,"tag":252,"props":18285,"children":18286},{"style":601},[18287],{"type":21,"value":432},{"type":15,"tag":252,"props":18289,"children":18290},{"style":259},[18291],{"type":21,"value":973},{"type":15,"tag":252,"props":18293,"children":18294},{"style":447},[18295],{"type":21,"value":814},{"type":15,"tag":252,"props":18297,"children":18298},{"class":254,"line":2077},[18299,18303,18307,18311,18315,18319,18323,18327,18331,18335,18339,18343,18347],{"type":15,"tag":252,"props":18300,"children":18301},{"style":601},[18302],{"type":21,"value":8231},{"type":15,"tag":252,"props":18304,"children":18305},{"style":447},[18306],{"type":21,"value":989},{"type":15,"tag":252,"props":18308,"children":18309},{"style":601},[18310],{"type":21,"value":614},{"type":15,"tag":252,"props":18312,"children":18313},{"style":447},[18314],{"type":21,"value":998},{"type":15,"tag":252,"props":18316,"children":18317},{"style":601},[18318],{"type":21,"value":432},{"type":15,"tag":252,"props":18320,"children":18321},{"style":259},[18322],{"type":21,"value":1007},{"type":15,"tag":252,"props":18324,"children":18325},{"style":447},[18326],{"type":21,"value":849},{"type":15,"tag":252,"props":18328,"children":18329},{"style":259},[18330],{"type":21,"value":164},{"type":15,"tag":252,"props":18332,"children":18333},{"style":601},[18334],{"type":21,"value":804},{"type":15,"tag":252,"props":18336,"children":18337},{"style":259},[18338],{"type":21,"value":1016},{"type":15,"tag":252,"props":18340,"children":18341},{"style":601},[18342],{"type":21,"value":804},{"type":15,"tag":252,"props":18344,"children":18345},{"style":259},[18346],{"type":21,"value":1025},{"type":15,"tag":252,"props":18348,"children":18349},{"style":447},[18350],{"type":21,"value":1030},{"type":15,"tag":252,"props":18352,"children":18353},{"class":254,"line":2110},[18354],{"type":15,"tag":252,"props":18355,"children":18356},{"emptyLinePlaceholder":2053},[18357],{"type":21,"value":2056},{"type":15,"tag":252,"props":18359,"children":18360},{"class":254,"line":2150},[18361,18365,18369,18373,18377,18381,18385,18389,18393,18397,18401,18405,18409,18413],{"type":15,"tag":252,"props":18362,"children":18363},{"style":601},[18364],{"type":21,"value":8231},{"type":15,"tag":252,"props":18366,"children":18367},{"style":447},[18368],{"type":21,"value":1144},{"type":15,"tag":252,"props":18370,"children":18371},{"style":601},[18372],{"type":21,"value":614},{"type":15,"tag":252,"props":18374,"children":18375},{"style":447},[18376],{"type":21,"value":1153},{"type":15,"tag":252,"props":18378,"children":18379},{"style":601},[18380],{"type":21,"value":432},{"type":15,"tag":252,"props":18382,"children":18383},{"style":259},[18384],{"type":21,"value":1162},{"type":15,"tag":252,"props":18386,"children":18387},{"style":447},[18388],{"type":21,"value":849},{"type":15,"tag":252,"props":18390,"children":18391},{"style":601},[18392],{"type":21,"value":1171},{"type":15,"tag":252,"props":18394,"children":18395},{"style":447},[18396],{"type":21,"value":1176},{"type":15,"tag":252,"props":18398,"children":18399},{"style":601},[18400],{"type":21,"value":432},{"type":15,"tag":252,"props":18402,"children":18403},{"style":259},[18404],{"type":21,"value":1185},{"type":15,"tag":252,"props":18406,"children":18407},{"style":447},[18408],{"type":21,"value":1190},{"type":15,"tag":252,"props":18410,"children":18411},{"style":276},[18412],{"type":21,"value":1195},{"type":15,"tag":252,"props":18414,"children":18415},{"style":447},[18416],{"type":21,"value":859},{"type":15,"tag":252,"props":18418,"children":18419},{"class":254,"line":2182},[18420,18424,18428,18432,18436,18440,18444,18448,18452,18456],{"type":15,"tag":252,"props":18421,"children":18422},{"style":276},[18423],{"type":21,"value":7286},{"type":15,"tag":252,"props":18425,"children":18426},{"style":601},[18427],{"type":21,"value":432},{"type":15,"tag":252,"props":18429,"children":18430},{"style":447},[18431],{"type":21,"value":919},{"type":15,"tag":252,"props":18433,"children":18434},{"style":601},[18435],{"type":21,"value":432},{"type":15,"tag":252,"props":18437,"children":18438},{"style":259},[18439],{"type":21,"value":1229},{"type":15,"tag":252,"props":18441,"children":18442},{"style":447},[18443],{"type":21,"value":849},{"type":15,"tag":252,"props":18445,"children":18446},{"style":265},[18447],{"type":21,"value":1238},{"type":15,"tag":252,"props":18449,"children":18450},{"style":447},[18451],{"type":21,"value":1243},{"type":15,"tag":252,"props":18453,"children":18454},{"style":259},[18455],{"type":21,"value":1248},{"type":15,"tag":252,"props":18457,"children":18458},{"style":447},[18459],{"type":21,"value":859},{"type":15,"tag":252,"props":18461,"children":18462},{"class":254,"line":2190},[18463],{"type":15,"tag":252,"props":18464,"children":18465},{"style":447},[18466],{"type":21,"value":4095},{"type":15,"tag":252,"props":18468,"children":18469},{"class":254,"line":2222},[18470],{"type":15,"tag":252,"props":18471,"children":18472},{"emptyLinePlaceholder":2053},[18473],{"type":21,"value":2056},{"type":15,"tag":252,"props":18475,"children":18476},{"class":254,"line":2270},[18477,18481,18486,18490,18494,18498,18503,18507,18511,18515,18519,18523,18527,18531,18535,18539,18544,18548,18553],{"type":15,"tag":252,"props":18478,"children":18479},{"style":601},[18480],{"type":21,"value":7146},{"type":15,"tag":252,"props":18482,"children":18483},{"style":259},[18484],{"type":21,"value":18485}," compile_int_expression",{"type":15,"tag":252,"props":18487,"children":18488},{"style":447},[18489],{"type":21,"value":849},{"type":15,"tag":252,"props":18491,"children":18492},{"style":601},[18493],{"type":21,"value":1171},{"type":15,"tag":252,"props":18495,"children":18496},{"style":276},[18497],{"type":21,"value":7432},{"type":15,"tag":252,"props":18499,"children":18500},{"style":447},[18501],{"type":21,"value":18502},", expression",{"type":15,"tag":252,"props":18504,"children":18505},{"style":601},[18506],{"type":21,"value":3374},{"type":15,"tag":252,"props":18508,"children":18509},{"style":601},[18510],{"type":21,"value":4920},{"type":15,"tag":252,"props":18512,"children":18513},{"style":259},[18514],{"type":21,"value":14557},{"type":15,"tag":252,"props":18516,"children":18517},{"style":601},[18518],{"type":21,"value":804},{"type":15,"tag":252,"props":18520,"children":18521},{"style":259},[18522],{"type":21,"value":14798},{"type":15,"tag":252,"props":18524,"children":18525},{"style":447},[18526],{"type":21,"value":4943},{"type":15,"tag":252,"props":18528,"children":18529},{"style":601},[18530],{"type":21,"value":3947},{"type":15,"tag":252,"props":18532,"children":18533},{"style":259},[18534],{"type":21,"value":273},{"type":15,"tag":252,"props":18536,"children":18537},{"style":601},[18538],{"type":21,"value":804},{"type":15,"tag":252,"props":18540,"children":18541},{"style":259},[18542],{"type":21,"value":18543},"values",{"type":15,"tag":252,"props":18545,"children":18546},{"style":601},[18547],{"type":21,"value":804},{"type":15,"tag":252,"props":18549,"children":18550},{"style":259},[18551],{"type":21,"value":18552},"IntValue",{"type":15,"tag":252,"props":18554,"children":18555},{"style":447},[18556],{"type":21,"value":3769},{"type":15,"tag":252,"props":18558,"children":18559},{"class":254,"line":2302},[18560,18564],{"type":15,"tag":252,"props":18561,"children":18562},{"style":601},[18563],{"type":21,"value":12717},{"type":15,"tag":252,"props":18565,"children":18566},{"style":447},[18567],{"type":21,"value":15489},{"type":15,"tag":252,"props":18569,"children":18570},{"class":254,"line":2310},[18571,18576,18580,18584,18588,18592,18596,18600,18604,18608,18613,18617,18621,18625,18629,18633,18638,18643,18648,18652,18656],{"type":15,"tag":252,"props":18572,"children":18573},{"style":259},[18574],{"type":21,"value":18575},"            ir",{"type":15,"tag":252,"props":18577,"children":18578},{"style":601},[18579],{"type":21,"value":804},{"type":15,"tag":252,"props":18581,"children":18582},{"style":259},[18583],{"type":21,"value":14798},{"type":15,"tag":252,"props":18585,"children":18586},{"style":601},[18587],{"type":21,"value":804},{"type":15,"tag":252,"props":18589,"children":18590},{"style":259},[18591],{"type":21,"value":5724},{"type":15,"tag":252,"props":18593,"children":18594},{"style":447},[18595],{"type":21,"value":15326},{"type":15,"tag":252,"props":18597,"children":18598},{"style":601},[18599],{"type":21,"value":4054},{"type":15,"tag":252,"props":18601,"children":18602},{"style":276},[18603],{"type":21,"value":7244},{"type":15,"tag":252,"props":18605,"children":18606},{"style":601},[18607],{"type":21,"value":432},{"type":15,"tag":252,"props":18609,"children":18610},{"style":259},[18611],{"type":21,"value":18612},"int_type",{"type":15,"tag":252,"props":18614,"children":18615},{"style":447},[18616],{"type":21,"value":7305},{"type":15,"tag":252,"props":18618,"children":18619},{"style":601},[18620],{"type":21,"value":432},{"type":15,"tag":252,"props":18622,"children":18623},{"style":259},[18624],{"type":21,"value":1892},{"type":15,"tag":252,"props":18626,"children":18627},{"style":447},[18628],{"type":21,"value":849},{"type":15,"tag":252,"props":18630,"children":18631},{"style":601},[18632],{"type":21,"value":8752},{"type":15,"tag":252,"props":18634,"children":18635},{"style":447},[18636],{"type":21,"value":18637},"int ",{"type":15,"tag":252,"props":18639,"children":18640},{"style":601},[18641],{"type":21,"value":18642},"as",{"type":15,"tag":252,"props":18644,"children":18645},{"style":259},[18646],{"type":21,"value":18647}," u64",{"type":15,"tag":252,"props":18649,"children":18650},{"style":447},[18651],{"type":21,"value":1076},{"type":15,"tag":252,"props":18653,"children":18654},{"style":276},[18655],{"type":21,"value":1456},{"type":15,"tag":252,"props":18657,"children":18658},{"style":447},[18659],{"type":21,"value":5899},{"type":15,"tag":252,"props":18661,"children":18662},{"class":254,"line":2370},[18663],{"type":15,"tag":252,"props":18664,"children":18665},{"style":447},[18666],{"type":21,"value":4087},{"type":15,"tag":252,"props":18668,"children":18669},{"class":254,"line":2418},[18670],{"type":15,"tag":252,"props":18671,"children":18672},{"style":447},[18673],{"type":21,"value":4095},{"type":15,"tag":252,"props":18675,"children":18676},{"class":254,"line":2426},[18677],{"type":15,"tag":252,"props":18678,"children":18679},{"emptyLinePlaceholder":2053},[18680],{"type":21,"value":2056},{"type":15,"tag":252,"props":18682,"children":18683},{"class":254,"line":2474},[18684,18688,18693,18697,18701,18705,18710,18714,18718,18722,18726,18730],{"type":15,"tag":252,"props":18685,"children":18686},{"style":601},[18687],{"type":21,"value":7146},{"type":15,"tag":252,"props":18689,"children":18690},{"style":259},[18691],{"type":21,"value":18692}," compile_print_statement",{"type":15,"tag":252,"props":18694,"children":18695},{"style":447},[18696],{"type":21,"value":849},{"type":15,"tag":252,"props":18698,"children":18699},{"style":601},[18700],{"type":21,"value":1171},{"type":15,"tag":252,"props":18702,"children":18703},{"style":276},[18704],{"type":21,"value":7432},{"type":15,"tag":252,"props":18706,"children":18707},{"style":447},[18708],{"type":21,"value":18709},", statement",{"type":15,"tag":252,"props":18711,"children":18712},{"style":601},[18713],{"type":21,"value":3374},{"type":15,"tag":252,"props":18715,"children":18716},{"style":601},[18717],{"type":21,"value":4920},{"type":15,"tag":252,"props":18719,"children":18720},{"style":259},[18721],{"type":21,"value":14557},{"type":15,"tag":252,"props":18723,"children":18724},{"style":601},[18725],{"type":21,"value":804},{"type":15,"tag":252,"props":18727,"children":18728},{"style":259},[18729],{"type":21,"value":14728},{"type":15,"tag":252,"props":18731,"children":18732},{"style":447},[18733],{"type":21,"value":7370},{"type":15,"tag":252,"props":18735,"children":18736},{"class":254,"line":2522},[18737,18741,18745,18749,18753,18757,18761,18765,18770,18774,18778,18782,18786,18790],{"type":15,"tag":252,"props":18738,"children":18739},{"style":601},[18740],{"type":21,"value":8231},{"type":15,"tag":252,"props":18742,"children":18743},{"style":447},[18744],{"type":21,"value":1211},{"type":15,"tag":252,"props":18746,"children":18747},{"style":601},[18748],{"type":21,"value":614},{"type":15,"tag":252,"props":18750,"children":18751},{"style":276},[18752],{"type":21,"value":7244},{"type":15,"tag":252,"props":18754,"children":18755},{"style":601},[18756],{"type":21,"value":432},{"type":15,"tag":252,"props":18758,"children":18759},{"style":447},[18760],{"type":21,"value":919},{"type":15,"tag":252,"props":18762,"children":18763},{"style":601},[18764],{"type":21,"value":432},{"type":15,"tag":252,"props":18766,"children":18767},{"style":259},[18768],{"type":21,"value":18769},"get_function",{"type":15,"tag":252,"props":18771,"children":18772},{"style":447},[18773],{"type":21,"value":849},{"type":15,"tag":252,"props":18775,"children":18776},{"style":265},[18777],{"type":21,"value":1238},{"type":15,"tag":252,"props":18779,"children":18780},{"style":447},[18781],{"type":21,"value":1975},{"type":15,"tag":252,"props":18783,"children":18784},{"style":601},[18785],{"type":21,"value":432},{"type":15,"tag":252,"props":18787,"children":18788},{"style":259},[18789],{"type":21,"value":1984},{"type":15,"tag":252,"props":18791,"children":18792},{"style":447},[18793],{"type":21,"value":814},{"type":15,"tag":252,"props":18795,"children":18796},{"class":254,"line":2530},[18797],{"type":15,"tag":252,"props":18798,"children":18799},{"emptyLinePlaceholder":2053},[18800],{"type":21,"value":2056},{"type":15,"tag":252,"props":18802,"children":18803},{"class":254,"line":2570},[18804,18808,18813,18817,18822],{"type":15,"tag":252,"props":18805,"children":18806},{"style":601},[18807],{"type":21,"value":8231},{"type":15,"tag":252,"props":18809,"children":18810},{"style":447},[18811],{"type":21,"value":18812}," format_string ",{"type":15,"tag":252,"props":18814,"children":18815},{"style":601},[18816],{"type":21,"value":614},{"type":15,"tag":252,"props":18818,"children":18819},{"style":601},[18820],{"type":21,"value":18821}," match",{"type":15,"tag":252,"props":18823,"children":18824},{"style":447},[18825],{"type":21,"value":15848},{"type":15,"tag":252,"props":18827,"children":18828},{"class":254,"line":2591},[18829,18833,18837,18841,18845,18849,18853,18857,18862,18866,18871],{"type":15,"tag":252,"props":18830,"children":18831},{"style":259},[18832],{"type":21,"value":18575},{"type":15,"tag":252,"props":18834,"children":18835},{"style":601},[18836],{"type":21,"value":804},{"type":15,"tag":252,"props":18838,"children":18839},{"style":259},[18840],{"type":21,"value":14728},{"type":15,"tag":252,"props":18842,"children":18843},{"style":601},[18844],{"type":21,"value":804},{"type":15,"tag":252,"props":18846,"children":18847},{"style":259},[18848],{"type":21,"value":14888},{"type":15,"tag":252,"props":18850,"children":18851},{"style":447},[18852],{"type":21,"value":12975},{"type":15,"tag":252,"props":18854,"children":18855},{"style":601},[18856],{"type":21,"value":4054},{"type":15,"tag":252,"props":18858,"children":18859},{"style":265},[18860],{"type":21,"value":18861}," \"%d",{"type":15,"tag":252,"props":18863,"children":18864},{"style":276},[18865],{"type":21,"value":8314},{"type":15,"tag":252,"props":18867,"children":18868},{"style":265},[18869],{"type":21,"value":18870},"\"",{"type":15,"tag":252,"props":18872,"children":18873},{"style":447},[18874],{"type":21,"value":3879},{"type":15,"tag":252,"props":18876,"children":18877},{"class":254,"line":2599},[18878],{"type":15,"tag":252,"props":18879,"children":18880},{"style":447},[18881],{"type":21,"value":18882},"        };\n",{"type":15,"tag":252,"props":18884,"children":18885},{"class":254,"line":2647},[18886,18890,18894,18898],{"type":15,"tag":252,"props":18887,"children":18888},{"style":601},[18889],{"type":21,"value":8231},{"type":15,"tag":252,"props":18891,"children":18892},{"style":447},[18893],{"type":21,"value":18812},{"type":15,"tag":252,"props":18895,"children":18896},{"style":601},[18897],{"type":21,"value":614},{"type":15,"tag":252,"props":18899,"children":18900},{"style":276},[18901],{"type":21,"value":18902}," self\n",{"type":15,"tag":252,"props":18904,"children":18905},{"class":254,"line":2679},[18906,18910],{"type":15,"tag":252,"props":18907,"children":18908},{"style":601},[18909],{"type":21,"value":10662},{"type":15,"tag":252,"props":18911,"children":18912},{"style":447},[18913],{"type":21,"value":18914},"builder\n",{"type":15,"tag":252,"props":18916,"children":18917},{"class":254,"line":2727},[18918,18922,18926,18931,18936],{"type":15,"tag":252,"props":18919,"children":18920},{"style":601},[18921],{"type":21,"value":10662},{"type":15,"tag":252,"props":18923,"children":18924},{"style":259},[18925],{"type":21,"value":1686},{"type":15,"tag":252,"props":18927,"children":18928},{"style":447},[18929],{"type":21,"value":18930},"(format_string, ",{"type":15,"tag":252,"props":18932,"children":18933},{"style":265},[18934],{"type":21,"value":18935},"\"format_string\"",{"type":15,"tag":252,"props":18937,"children":18938},{"style":447},[18939],{"type":21,"value":7327},{"type":15,"tag":252,"props":18941,"children":18942},{"class":254,"line":2735},[18943,18947,18951],{"type":15,"tag":252,"props":18944,"children":18945},{"style":601},[18946],{"type":21,"value":10662},{"type":15,"tag":252,"props":18948,"children":18949},{"style":259},[18950],{"type":21,"value":1737},{"type":15,"tag":252,"props":18952,"children":18953},{"style":447},[18954],{"type":21,"value":814},{"type":15,"tag":252,"props":18956,"children":18957},{"class":254,"line":2799},[18958],{"type":15,"tag":252,"props":18959,"children":18960},{"emptyLinePlaceholder":2053},[18961],{"type":21,"value":2056},{"type":15,"tag":252,"props":18963,"children":18964},{"class":254,"line":2807},[18965,18969],{"type":15,"tag":252,"props":18966,"children":18967},{"style":601},[18968],{"type":21,"value":12717},{"type":15,"tag":252,"props":18970,"children":18971},{"style":447},[18972],{"type":21,"value":15848},{"type":15,"tag":252,"props":18974,"children":18975},{"class":254,"line":2848},[18976,18980,18984,18988,18992,18996,19000,19004],{"type":15,"tag":252,"props":18977,"children":18978},{"style":259},[18979],{"type":21,"value":18575},{"type":15,"tag":252,"props":18981,"children":18982},{"style":601},[18983],{"type":21,"value":804},{"type":15,"tag":252,"props":18985,"children":18986},{"style":259},[18987],{"type":21,"value":14728},{"type":15,"tag":252,"props":18989,"children":18990},{"style":601},[18991],{"type":21,"value":804},{"type":15,"tag":252,"props":18993,"children":18994},{"style":259},[18995],{"type":21,"value":14888},{"type":15,"tag":252,"props":18997,"children":18998},{"style":447},[18999],{"type":21,"value":15705},{"type":15,"tag":252,"props":19001,"children":19002},{"style":601},[19003],{"type":21,"value":4054},{"type":15,"tag":252,"props":19005,"children":19006},{"style":447},[19007],{"type":21,"value":3769},{"type":15,"tag":252,"props":19009,"children":19010},{"class":254,"line":4645},[19011,19015,19020,19024,19028,19032,19037],{"type":15,"tag":252,"props":19012,"children":19013},{"style":601},[19014],{"type":21,"value":13283},{"type":15,"tag":252,"props":19016,"children":19017},{"style":447},[19018],{"type":21,"value":19019}," int_value ",{"type":15,"tag":252,"props":19021,"children":19022},{"style":601},[19023],{"type":21,"value":614},{"type":15,"tag":252,"props":19025,"children":19026},{"style":276},[19027],{"type":21,"value":7244},{"type":15,"tag":252,"props":19029,"children":19030},{"style":601},[19031],{"type":21,"value":432},{"type":15,"tag":252,"props":19033,"children":19034},{"style":259},[19035],{"type":21,"value":19036},"compile_int_expression",{"type":15,"tag":252,"props":19038,"children":19039},{"style":447},[19040],{"type":21,"value":19041},"(int_expression);\n",{"type":15,"tag":252,"props":19043,"children":19044},{"class":254,"line":4654},[19045,19049,19053,19057,19061,19065],{"type":15,"tag":252,"props":19046,"children":19047},{"style":276},[19048],{"type":21,"value":8765},{"type":15,"tag":252,"props":19050,"children":19051},{"style":601},[19052],{"type":21,"value":432},{"type":15,"tag":252,"props":19054,"children":19055},{"style":447},[19056],{"type":21,"value":930},{"type":15,"tag":252,"props":19058,"children":19059},{"style":601},[19060],{"type":21,"value":432},{"type":15,"tag":252,"props":19062,"children":19063},{"style":259},[19064],{"type":21,"value":1792},{"type":15,"tag":252,"props":19066,"children":19067},{"style":447},[19068],{"type":21,"value":14196},{"type":15,"tag":252,"props":19070,"children":19071},{"class":254,"line":4675},[19072],{"type":15,"tag":252,"props":19073,"children":19074},{"style":447},[19075],{"type":21,"value":19076},"                    printf,\n",{"type":15,"tag":252,"props":19078,"children":19079},{"class":254,"line":8160},[19080,19085,19090,19094,19098,19103,19107,19111],{"type":15,"tag":252,"props":19081,"children":19082},{"style":601},[19083],{"type":21,"value":19084},"                    &",{"type":15,"tag":252,"props":19086,"children":19087},{"style":447},[19088],{"type":21,"value":19089},"[format_string",{"type":15,"tag":252,"props":19091,"children":19092},{"style":601},[19093],{"type":21,"value":432},{"type":15,"tag":252,"props":19095,"children":19096},{"style":259},[19097],{"type":21,"value":1185},{"type":15,"tag":252,"props":19099,"children":19100},{"style":447},[19101],{"type":21,"value":19102},"(), int_value",{"type":15,"tag":252,"props":19104,"children":19105},{"style":601},[19106],{"type":21,"value":432},{"type":15,"tag":252,"props":19108,"children":19109},{"style":259},[19110],{"type":21,"value":1185},{"type":15,"tag":252,"props":19112,"children":19113},{"style":447},[19114],{"type":21,"value":19115},"()],\n",{"type":15,"tag":252,"props":19117,"children":19118},{"class":254,"line":8168},[19119,19124],{"type":15,"tag":252,"props":19120,"children":19121},{"style":265},[19122],{"type":21,"value":19123},"                    \"printf\"",{"type":15,"tag":252,"props":19125,"children":19126},{"style":447},[19127],{"type":21,"value":3879},{"type":15,"tag":252,"props":19129,"children":19130},{"class":254,"line":8176},[19131],{"type":15,"tag":252,"props":19132,"children":19133},{"style":447},[19134],{"type":21,"value":19135},"                );\n",{"type":15,"tag":252,"props":19137,"children":19138},{"class":254,"line":8225},[19139],{"type":15,"tag":252,"props":19140,"children":19141},{"style":447},[19142],{"type":21,"value":8814},{"type":15,"tag":252,"props":19144,"children":19145},{"class":254,"line":8289},[19146],{"type":15,"tag":252,"props":19147,"children":19148},{"style":447},[19149],{"type":21,"value":4087},{"type":15,"tag":252,"props":19151,"children":19152},{"class":254,"line":8326},[19153],{"type":15,"tag":252,"props":19154,"children":19155},{"style":447},[19156],{"type":21,"value":4095},{"type":15,"tag":252,"props":19158,"children":19159},{"class":254,"line":8357},[19160],{"type":15,"tag":252,"props":19161,"children":19162},{"emptyLinePlaceholder":2053},[19163],{"type":21,"value":2056},{"type":15,"tag":252,"props":19165,"children":19166},{"class":254,"line":8385},[19167,19171,19176,19180,19184,19188,19192,19196,19200,19204,19208,19212],{"type":15,"tag":252,"props":19168,"children":19169},{"style":601},[19170],{"type":21,"value":7146},{"type":15,"tag":252,"props":19172,"children":19173},{"style":259},[19174],{"type":21,"value":19175}," compile_statement",{"type":15,"tag":252,"props":19177,"children":19178},{"style":447},[19179],{"type":21,"value":849},{"type":15,"tag":252,"props":19181,"children":19182},{"style":601},[19183],{"type":21,"value":1171},{"type":15,"tag":252,"props":19185,"children":19186},{"style":276},[19187],{"type":21,"value":7432},{"type":15,"tag":252,"props":19189,"children":19190},{"style":447},[19191],{"type":21,"value":18709},{"type":15,"tag":252,"props":19193,"children":19194},{"style":601},[19195],{"type":21,"value":3374},{"type":15,"tag":252,"props":19197,"children":19198},{"style":601},[19199],{"type":21,"value":4920},{"type":15,"tag":252,"props":19201,"children":19202},{"style":259},[19203],{"type":21,"value":14557},{"type":15,"tag":252,"props":19205,"children":19206},{"style":601},[19207],{"type":21,"value":804},{"type":15,"tag":252,"props":19209,"children":19210},{"style":259},[19211],{"type":21,"value":5709},{"type":15,"tag":252,"props":19213,"children":19214},{"style":447},[19215],{"type":21,"value":7370},{"type":15,"tag":252,"props":19217,"children":19218},{"class":254,"line":8403},[19219,19223],{"type":15,"tag":252,"props":19220,"children":19221},{"style":601},[19222],{"type":21,"value":12717},{"type":15,"tag":252,"props":19224,"children":19225},{"style":447},[19226],{"type":21,"value":15848},{"type":15,"tag":252,"props":19228,"children":19229},{"class":254,"line":8432},[19230,19234,19238,19242,19246,19250,19255,19259,19263,19267,19272],{"type":15,"tag":252,"props":19231,"children":19232},{"style":259},[19233],{"type":21,"value":18575},{"type":15,"tag":252,"props":19235,"children":19236},{"style":601},[19237],{"type":21,"value":804},{"type":15,"tag":252,"props":19239,"children":19240},{"style":259},[19241],{"type":21,"value":5709},{"type":15,"tag":252,"props":19243,"children":19244},{"style":601},[19245],{"type":21,"value":804},{"type":15,"tag":252,"props":19247,"children":19248},{"style":259},[19249],{"type":21,"value":5693},{"type":15,"tag":252,"props":19251,"children":19252},{"style":447},[19253],{"type":21,"value":19254},"(print_statement) ",{"type":15,"tag":252,"props":19256,"children":19257},{"style":601},[19258],{"type":21,"value":4054},{"type":15,"tag":252,"props":19260,"children":19261},{"style":276},[19262],{"type":21,"value":7244},{"type":15,"tag":252,"props":19264,"children":19265},{"style":601},[19266],{"type":21,"value":432},{"type":15,"tag":252,"props":19268,"children":19269},{"style":259},[19270],{"type":21,"value":19271},"compile_print_statement",{"type":15,"tag":252,"props":19273,"children":19274},{"style":447},[19275],{"type":21,"value":19276},"(print_statement),\n",{"type":15,"tag":252,"props":19278,"children":19279},{"class":254,"line":8440},[19280],{"type":15,"tag":252,"props":19281,"children":19282},{"style":447},[19283],{"type":21,"value":4087},{"type":15,"tag":252,"props":19285,"children":19286},{"class":254,"line":8454},[19287],{"type":15,"tag":252,"props":19288,"children":19289},{"style":447},[19290],{"type":21,"value":4095},{"type":15,"tag":252,"props":19292,"children":19293},{"class":254,"line":8462},[19294],{"type":15,"tag":252,"props":19295,"children":19296},{"emptyLinePlaceholder":2053},[19297],{"type":21,"value":2056},{"type":15,"tag":252,"props":19299,"children":19300},{"class":254,"line":8470},[19301,19305,19309,19314,19318,19322,19326,19331,19335,19339,19343,19347,19351],{"type":15,"tag":252,"props":19302,"children":19303},{"style":601},[19304],{"type":21,"value":4762},{"type":15,"tag":252,"props":19306,"children":19307},{"style":601},[19308],{"type":21,"value":4901},{"type":15,"tag":252,"props":19310,"children":19311},{"style":259},[19312],{"type":21,"value":19313}," compile_module",{"type":15,"tag":252,"props":19315,"children":19316},{"style":447},[19317],{"type":21,"value":849},{"type":15,"tag":252,"props":19319,"children":19320},{"style":601},[19321],{"type":21,"value":7239},{"type":15,"tag":252,"props":19323,"children":19324},{"style":276},[19325],{"type":21,"value":7244},{"type":15,"tag":252,"props":19327,"children":19328},{"style":447},[19329],{"type":21,"value":19330},", module",{"type":15,"tag":252,"props":19332,"children":19333},{"style":601},[19334],{"type":21,"value":3374},{"type":15,"tag":252,"props":19336,"children":19337},{"style":601},[19338],{"type":21,"value":4920},{"type":15,"tag":252,"props":19340,"children":19341},{"style":259},[19342],{"type":21,"value":14557},{"type":15,"tag":252,"props":19344,"children":19345},{"style":601},[19346],{"type":21,"value":804},{"type":15,"tag":252,"props":19348,"children":19349},{"style":259},[19350],{"type":21,"value":6055},{"type":15,"tag":252,"props":19352,"children":19353},{"style":447},[19354],{"type":21,"value":7370},{"type":15,"tag":252,"props":19356,"children":19357},{"class":254,"line":8498},[19358,19362,19366,19371],{"type":15,"tag":252,"props":19359,"children":19360},{"style":276},[19361],{"type":21,"value":7286},{"type":15,"tag":252,"props":19363,"children":19364},{"style":601},[19365],{"type":21,"value":432},{"type":15,"tag":252,"props":19367,"children":19368},{"style":259},[19369],{"type":21,"value":19370},"compile_libc_definitions",{"type":15,"tag":252,"props":19372,"children":19373},{"style":447},[19374],{"type":21,"value":814},{"type":15,"tag":252,"props":19376,"children":19377},{"class":254,"line":8518},[19378],{"type":15,"tag":252,"props":19379,"children":19380},{"style":3287},[19381],{"type":21,"value":19382},"        // In the future we will have functions, for now put everything in main()\n",{"type":15,"tag":252,"props":19384,"children":19385},{"class":254,"line":8526},[19386],{"type":15,"tag":252,"props":19387,"children":19388},{"emptyLinePlaceholder":2053},[19389],{"type":21,"value":2056},{"type":15,"tag":252,"props":19391,"children":19393},{"class":254,"line":19392},49,[19394,19398,19402,19406,19410,19414,19418,19422,19426],{"type":15,"tag":252,"props":19395,"children":19396},{"style":601},[19397],{"type":21,"value":8231},{"type":15,"tag":252,"props":19399,"children":19400},{"style":447},[19401],{"type":21,"value":1042},{"type":15,"tag":252,"props":19403,"children":19404},{"style":601},[19405],{"type":21,"value":614},{"type":15,"tag":252,"props":19407,"children":19408},{"style":276},[19409],{"type":21,"value":7244},{"type":15,"tag":252,"props":19411,"children":19412},{"style":601},[19413],{"type":21,"value":432},{"type":15,"tag":252,"props":19415,"children":19416},{"style":447},[19417],{"type":21,"value":908},{"type":15,"tag":252,"props":19419,"children":19420},{"style":601},[19421],{"type":21,"value":432},{"type":15,"tag":252,"props":19423,"children":19424},{"style":259},[19425],{"type":21,"value":1059},{"type":15,"tag":252,"props":19427,"children":19428},{"style":447},[19429],{"type":21,"value":814},{"type":15,"tag":252,"props":19431,"children":19433},{"class":254,"line":19432},50,[19434,19438,19443,19447,19451,19455,19459,19463,19467,19471,19475],{"type":15,"tag":252,"props":19435,"children":19436},{"style":601},[19437],{"type":21,"value":8231},{"type":15,"tag":252,"props":19439,"children":19440},{"style":447},[19441],{"type":21,"value":19442}," main_type ",{"type":15,"tag":252,"props":19444,"children":19445},{"style":601},[19446],{"type":21,"value":614},{"type":15,"tag":252,"props":19448,"children":19449},{"style":447},[19450],{"type":21,"value":1153},{"type":15,"tag":252,"props":19452,"children":19453},{"style":601},[19454],{"type":21,"value":432},{"type":15,"tag":252,"props":19456,"children":19457},{"style":259},[19458],{"type":21,"value":1162},{"type":15,"tag":252,"props":19460,"children":19461},{"style":447},[19462],{"type":21,"value":849},{"type":15,"tag":252,"props":19464,"children":19465},{"style":601},[19466],{"type":21,"value":1171},{"type":15,"tag":252,"props":19468,"children":19469},{"style":447},[19470],{"type":21,"value":1451},{"type":15,"tag":252,"props":19472,"children":19473},{"style":276},[19474],{"type":21,"value":1456},{"type":15,"tag":252,"props":19476,"children":19477},{"style":447},[19478],{"type":21,"value":859},{"type":15,"tag":252,"props":19480,"children":19482},{"class":254,"line":19481},51,[19483,19487,19492,19496,19500,19504,19508,19512,19516,19520,19524,19529,19533],{"type":15,"tag":252,"props":19484,"children":19485},{"style":601},[19486],{"type":21,"value":8231},{"type":15,"tag":252,"props":19488,"children":19489},{"style":447},[19490],{"type":21,"value":19491}," main ",{"type":15,"tag":252,"props":19493,"children":19494},{"style":601},[19495],{"type":21,"value":614},{"type":15,"tag":252,"props":19497,"children":19498},{"style":276},[19499],{"type":21,"value":7244},{"type":15,"tag":252,"props":19501,"children":19502},{"style":601},[19503],{"type":21,"value":432},{"type":15,"tag":252,"props":19505,"children":19506},{"style":447},[19507],{"type":21,"value":919},{"type":15,"tag":252,"props":19509,"children":19510},{"style":601},[19511],{"type":21,"value":432},{"type":15,"tag":252,"props":19513,"children":19514},{"style":259},[19515],{"type":21,"value":1229},{"type":15,"tag":252,"props":19517,"children":19518},{"style":447},[19519],{"type":21,"value":849},{"type":15,"tag":252,"props":19521,"children":19522},{"style":265},[19523],{"type":21,"value":1497},{"type":15,"tag":252,"props":19525,"children":19526},{"style":447},[19527],{"type":21,"value":19528},", main_type, ",{"type":15,"tag":252,"props":19530,"children":19531},{"style":259},[19532],{"type":21,"value":1248},{"type":15,"tag":252,"props":19534,"children":19535},{"style":447},[19536],{"type":21,"value":859},{"type":15,"tag":252,"props":19538,"children":19540},{"class":254,"line":19539},52,[19541,19545,19549,19553,19557,19561,19565,19569,19573,19578,19582],{"type":15,"tag":252,"props":19542,"children":19543},{"style":601},[19544],{"type":21,"value":8231},{"type":15,"tag":252,"props":19546,"children":19547},{"style":447},[19548],{"type":21,"value":1548},{"type":15,"tag":252,"props":19550,"children":19551},{"style":601},[19552],{"type":21,"value":614},{"type":15,"tag":252,"props":19554,"children":19555},{"style":276},[19556],{"type":21,"value":7244},{"type":15,"tag":252,"props":19558,"children":19559},{"style":601},[19560],{"type":21,"value":432},{"type":15,"tag":252,"props":19562,"children":19563},{"style":447},[19564],{"type":21,"value":908},{"type":15,"tag":252,"props":19566,"children":19567},{"style":601},[19568],{"type":21,"value":432},{"type":15,"tag":252,"props":19570,"children":19571},{"style":259},[19572],{"type":21,"value":1565},{"type":15,"tag":252,"props":19574,"children":19575},{"style":447},[19576],{"type":21,"value":19577},"(main, ",{"type":15,"tag":252,"props":19579,"children":19580},{"style":265},[19581],{"type":21,"value":1575},{"type":15,"tag":252,"props":19583,"children":19584},{"style":447},[19585],{"type":21,"value":859},{"type":15,"tag":252,"props":19587,"children":19589},{"class":254,"line":19588},53,[19590,19594,19598,19602,19606,19610],{"type":15,"tag":252,"props":19591,"children":19592},{"style":276},[19593],{"type":21,"value":7286},{"type":15,"tag":252,"props":19595,"children":19596},{"style":601},[19597],{"type":21,"value":432},{"type":15,"tag":252,"props":19599,"children":19600},{"style":447},[19601],{"type":21,"value":930},{"type":15,"tag":252,"props":19603,"children":19604},{"style":601},[19605],{"type":21,"value":432},{"type":15,"tag":252,"props":19607,"children":19608},{"style":259},[19609],{"type":21,"value":1595},{"type":15,"tag":252,"props":19611,"children":19612},{"style":447},[19613],{"type":21,"value":1600},{"type":15,"tag":252,"props":19615,"children":19617},{"class":254,"line":19616},54,[19618],{"type":15,"tag":252,"props":19619,"children":19620},{"emptyLinePlaceholder":2053},[19621],{"type":21,"value":2056},{"type":15,"tag":252,"props":19623,"children":19625},{"class":254,"line":19624},55,[19626,19631,19635,19639,19643,19647,19651,19655],{"type":15,"tag":252,"props":19627,"children":19628},{"style":601},[19629],{"type":21,"value":19630},"        for",{"type":15,"tag":252,"props":19632,"children":19633},{"style":447},[19634],{"type":21,"value":16121},{"type":15,"tag":252,"props":19636,"children":19637},{"style":601},[19638],{"type":21,"value":16126},{"type":15,"tag":252,"props":19640,"children":19641},{"style":601},[19642],{"type":21,"value":4920},{"type":15,"tag":252,"props":19644,"children":19645},{"style":447},[19646],{"type":21,"value":919},{"type":15,"tag":252,"props":19648,"children":19649},{"style":601},[19650],{"type":21,"value":432},{"type":15,"tag":252,"props":19652,"children":19653},{"style":276},[19654],{"type":21,"value":1901},{"type":15,"tag":252,"props":19656,"children":19657},{"style":447},[19658],{"type":21,"value":3769},{"type":15,"tag":252,"props":19660,"children":19662},{"class":254,"line":19661},56,[19663,19667,19671,19676],{"type":15,"tag":252,"props":19664,"children":19665},{"style":276},[19666],{"type":21,"value":8332},{"type":15,"tag":252,"props":19668,"children":19669},{"style":601},[19670],{"type":21,"value":432},{"type":15,"tag":252,"props":19672,"children":19673},{"style":259},[19674],{"type":21,"value":19675},"compile_statement",{"type":15,"tag":252,"props":19677,"children":19678},{"style":447},[19679],{"type":21,"value":19680},"(statement);\n",{"type":15,"tag":252,"props":19682,"children":19684},{"class":254,"line":19683},57,[19685],{"type":15,"tag":252,"props":19686,"children":19687},{"style":447},[19688],{"type":21,"value":4087},{"type":15,"tag":252,"props":19690,"children":19692},{"class":254,"line":19691},58,[19693],{"type":15,"tag":252,"props":19694,"children":19695},{"emptyLinePlaceholder":2053},[19696],{"type":21,"value":2056},{"type":15,"tag":252,"props":19698,"children":19700},{"class":254,"line":19699},59,[19701,19705,19709],{"type":15,"tag":252,"props":19702,"children":19703},{"style":276},[19704],{"type":21,"value":7286},{"type":15,"tag":252,"props":19706,"children":19707},{"style":601},[19708],{"type":21,"value":432},{"type":15,"tag":252,"props":19710,"children":19711},{"style":447},[19712],{"type":21,"value":18914},{"type":15,"tag":252,"props":19714,"children":19716},{"class":254,"line":19715},60,[19717,19721,19725,19729,19733,19737,19741,19745,19749,19753,19757,19761,19765,19769],{"type":15,"tag":252,"props":19718,"children":19719},{"style":601},[19720],{"type":21,"value":10662},{"type":15,"tag":252,"props":19722,"children":19723},{"style":259},[19724],{"type":21,"value":1862},{"type":15,"tag":252,"props":19726,"children":19727},{"style":447},[19728],{"type":21,"value":849},{"type":15,"tag":252,"props":19730,"children":19731},{"style":259},[19732],{"type":21,"value":1871},{"type":15,"tag":252,"props":19734,"children":19735},{"style":447},[19736],{"type":21,"value":849},{"type":15,"tag":252,"props":19738,"children":19739},{"style":601},[19740],{"type":21,"value":1171},{"type":15,"tag":252,"props":19742,"children":19743},{"style":447},[19744],{"type":21,"value":1059},{"type":15,"tag":252,"props":19746,"children":19747},{"style":601},[19748],{"type":21,"value":432},{"type":15,"tag":252,"props":19750,"children":19751},{"style":259},[19752],{"type":21,"value":1892},{"type":15,"tag":252,"props":19754,"children":19755},{"style":447},[19756],{"type":21,"value":849},{"type":15,"tag":252,"props":19758,"children":19759},{"style":276},[19760],{"type":21,"value":1901},{"type":15,"tag":252,"props":19762,"children":19763},{"style":447},[19764],{"type":21,"value":1076},{"type":15,"tag":252,"props":19766,"children":19767},{"style":276},[19768],{"type":21,"value":1456},{"type":15,"tag":252,"props":19770,"children":19771},{"style":447},[19772],{"type":21,"value":1914},{"type":15,"tag":252,"props":19774,"children":19776},{"class":254,"line":19775},61,[19777],{"type":15,"tag":252,"props":19778,"children":19779},{"style":447},[19780],{"type":21,"value":4095},{"type":15,"tag":23,"props":19782,"children":19783},{},[19784],{"type":21,"value":19785},"We need to add the libc functions definitions we will be using, we will be using more in the future so stay tuned ",{"type":15,"tag":23,"props":19787,"children":19788},{},[19789,19791,19797],{"type":21,"value":19790},"The most complex part here is the print statement, but it should look very similar to what we did in part 1! We just do some conditional selecting of the formatting string, so the constructed call might look like ",{"type":15,"tag":81,"props":19792,"children":19794},{"className":19793},[],[19795],{"type":21,"value":19796},"printf(\"%d\\n\", 1)",{"type":21,"value":432},{"type":15,"tag":23,"props":19799,"children":19800},{},[19801],{"type":21,"value":19802},"We can now save this, and here is a small optimization I will do! In the last post we used the text version of LLVM IR, but there is a bytecode version that will take up less space and be more efficient!",{"type":15,"tag":95,"props":19804,"children":19806},{"code":19805,"language":772,"meta":8,"className":773,"style":8},"    pub fn output_to_file(&mut self, file_path: &std::path::Path, options: &CompilerOptions) {\n        if !options.dont_optimize {\n            self.fpm.run_on(&self.module);\n        }\n\n        self.module.write_bitcode_to_path(file_path);\n\n        if options.output_llvm {\n            self.module.print_to_stderr();\n        }\n    }\n",[19807],{"type":15,"tag":81,"props":19808,"children":19809},{"__ignoreMap":8},[19810,19894,19920,19966,19973,19980,20009,20016,20036,20064,20071],{"type":15,"tag":252,"props":19811,"children":19812},{"class":254,"line":255},[19813,19817,19821,19826,19830,19834,19838,19843,19847,19851,19856,19860,19865,19869,19874,19878,19882,19886,19890],{"type":15,"tag":252,"props":19814,"children":19815},{"style":601},[19816],{"type":21,"value":4762},{"type":15,"tag":252,"props":19818,"children":19819},{"style":601},[19820],{"type":21,"value":4901},{"type":15,"tag":252,"props":19822,"children":19823},{"style":259},[19824],{"type":21,"value":19825}," output_to_file",{"type":15,"tag":252,"props":19827,"children":19828},{"style":447},[19829],{"type":21,"value":849},{"type":15,"tag":252,"props":19831,"children":19832},{"style":601},[19833],{"type":21,"value":7239},{"type":15,"tag":252,"props":19835,"children":19836},{"style":276},[19837],{"type":21,"value":7244},{"type":15,"tag":252,"props":19839,"children":19840},{"style":447},[19841],{"type":21,"value":19842},", file_path",{"type":15,"tag":252,"props":19844,"children":19845},{"style":601},[19846],{"type":21,"value":3374},{"type":15,"tag":252,"props":19848,"children":19849},{"style":601},[19850],{"type":21,"value":4920},{"type":15,"tag":252,"props":19852,"children":19853},{"style":259},[19854],{"type":21,"value":19855},"std",{"type":15,"tag":252,"props":19857,"children":19858},{"style":601},[19859],{"type":21,"value":804},{"type":15,"tag":252,"props":19861,"children":19862},{"style":259},[19863],{"type":21,"value":19864},"path",{"type":15,"tag":252,"props":19866,"children":19867},{"style":601},[19868],{"type":21,"value":804},{"type":15,"tag":252,"props":19870,"children":19871},{"style":259},[19872],{"type":21,"value":19873},"Path",{"type":15,"tag":252,"props":19875,"children":19876},{"style":447},[19877],{"type":21,"value":4930},{"type":15,"tag":252,"props":19879,"children":19880},{"style":601},[19881],{"type":21,"value":3374},{"type":15,"tag":252,"props":19883,"children":19884},{"style":601},[19885],{"type":21,"value":4920},{"type":15,"tag":252,"props":19887,"children":19888},{"style":259},[19889],{"type":21,"value":5086},{"type":15,"tag":252,"props":19891,"children":19892},{"style":447},[19893],{"type":21,"value":7370},{"type":15,"tag":252,"props":19895,"children":19896},{"class":254,"line":334},[19897,19901,19906,19911,19915],{"type":15,"tag":252,"props":19898,"children":19899},{"style":601},[19900],{"type":21,"value":8295},{"type":15,"tag":252,"props":19902,"children":19903},{"style":601},[19904],{"type":21,"value":19905}," !",{"type":15,"tag":252,"props":19907,"children":19908},{"style":447},[19909],{"type":21,"value":19910},"options",{"type":15,"tag":252,"props":19912,"children":19913},{"style":601},[19914],{"type":21,"value":432},{"type":15,"tag":252,"props":19916,"children":19917},{"style":447},[19918],{"type":21,"value":19919},"dont_optimize {\n",{"type":15,"tag":252,"props":19921,"children":19922},{"class":254,"line":390},[19923,19927,19931,19936,19940,19945,19949,19953,19957,19961],{"type":15,"tag":252,"props":19924,"children":19925},{"style":276},[19926],{"type":21,"value":8332},{"type":15,"tag":252,"props":19928,"children":19929},{"style":601},[19930],{"type":21,"value":432},{"type":15,"tag":252,"props":19932,"children":19933},{"style":447},[19934],{"type":21,"value":19935},"fpm",{"type":15,"tag":252,"props":19937,"children":19938},{"style":601},[19939],{"type":21,"value":432},{"type":15,"tag":252,"props":19941,"children":19942},{"style":259},[19943],{"type":21,"value":19944},"run_on",{"type":15,"tag":252,"props":19946,"children":19947},{"style":447},[19948],{"type":21,"value":849},{"type":15,"tag":252,"props":19950,"children":19951},{"style":601},[19952],{"type":21,"value":1171},{"type":15,"tag":252,"props":19954,"children":19955},{"style":276},[19956],{"type":21,"value":7432},{"type":15,"tag":252,"props":19958,"children":19959},{"style":601},[19960],{"type":21,"value":432},{"type":15,"tag":252,"props":19962,"children":19963},{"style":447},[19964],{"type":21,"value":19965},"module);\n",{"type":15,"tag":252,"props":19967,"children":19968},{"class":254,"line":2077},[19969],{"type":15,"tag":252,"props":19970,"children":19971},{"style":447},[19972],{"type":21,"value":4087},{"type":15,"tag":252,"props":19974,"children":19975},{"class":254,"line":2110},[19976],{"type":15,"tag":252,"props":19977,"children":19978},{"emptyLinePlaceholder":2053},[19979],{"type":21,"value":2056},{"type":15,"tag":252,"props":19981,"children":19982},{"class":254,"line":2150},[19983,19987,19991,19995,19999,20004],{"type":15,"tag":252,"props":19984,"children":19985},{"style":276},[19986],{"type":21,"value":7286},{"type":15,"tag":252,"props":19988,"children":19989},{"style":601},[19990],{"type":21,"value":432},{"type":15,"tag":252,"props":19992,"children":19993},{"style":447},[19994],{"type":21,"value":919},{"type":15,"tag":252,"props":19996,"children":19997},{"style":601},[19998],{"type":21,"value":432},{"type":15,"tag":252,"props":20000,"children":20001},{"style":259},[20002],{"type":21,"value":20003},"write_bitcode_to_path",{"type":15,"tag":252,"props":20005,"children":20006},{"style":447},[20007],{"type":21,"value":20008},"(file_path);\n",{"type":15,"tag":252,"props":20010,"children":20011},{"class":254,"line":2182},[20012],{"type":15,"tag":252,"props":20013,"children":20014},{"emptyLinePlaceholder":2053},[20015],{"type":21,"value":2056},{"type":15,"tag":252,"props":20017,"children":20018},{"class":254,"line":2190},[20019,20023,20027,20031],{"type":15,"tag":252,"props":20020,"children":20021},{"style":601},[20022],{"type":21,"value":8295},{"type":15,"tag":252,"props":20024,"children":20025},{"style":447},[20026],{"type":21,"value":16596},{"type":15,"tag":252,"props":20028,"children":20029},{"style":601},[20030],{"type":21,"value":432},{"type":15,"tag":252,"props":20032,"children":20033},{"style":447},[20034],{"type":21,"value":20035},"output_llvm {\n",{"type":15,"tag":252,"props":20037,"children":20038},{"class":254,"line":2222},[20039,20043,20047,20051,20055,20060],{"type":15,"tag":252,"props":20040,"children":20041},{"style":276},[20042],{"type":21,"value":8332},{"type":15,"tag":252,"props":20044,"children":20045},{"style":601},[20046],{"type":21,"value":432},{"type":15,"tag":252,"props":20048,"children":20049},{"style":447},[20050],{"type":21,"value":919},{"type":15,"tag":252,"props":20052,"children":20053},{"style":601},[20054],{"type":21,"value":432},{"type":15,"tag":252,"props":20056,"children":20057},{"style":259},[20058],{"type":21,"value":20059},"print_to_stderr",{"type":15,"tag":252,"props":20061,"children":20062},{"style":447},[20063],{"type":21,"value":814},{"type":15,"tag":252,"props":20065,"children":20066},{"class":254,"line":2270},[20067],{"type":15,"tag":252,"props":20068,"children":20069},{"style":447},[20070],{"type":21,"value":4087},{"type":15,"tag":252,"props":20072,"children":20073},{"class":254,"line":2302},[20074],{"type":15,"tag":252,"props":20075,"children":20076},{"style":447},[20077],{"type":21,"value":4095},{"type":15,"tag":23,"props":20079,"children":20080},{},[20081],{"type":21,"value":20082},"And yes we do generate the output twice if we have the debug flag set, but it is a debug flag, it doesn't really matter.\nWe also run optimization in this part because we already have the compiler options!",{"type":15,"tag":23,"props":20084,"children":20085},{},[20086,20088,20093,20095,20106],{"type":21,"value":20087},"Now we just have to call this from our ",{"type":15,"tag":81,"props":20089,"children":20091},{"className":20090},[],[20092],{"type":21,"value":5022},{"type":21,"value":20094}," function, but one question, in what file should we save the result? well, here the ",{"type":15,"tag":43,"props":20096,"children":20099},{"href":20097,"rel":20098},"https://crates.io/crates/temp-file",[47],[20100],{"type":15,"tag":81,"props":20101,"children":20103},{"className":20102},[],[20104],{"type":21,"value":20105},"temp-file",{"type":21,"value":20107}," crate will help us! it will allow us to create temporary files for use during compiling!",{"type":15,"tag":95,"props":20109,"children":20111},{"code":20110,"language":245,"meta":8,"className":246,"style":8},"cargo add temp-file\n",[20112],{"type":15,"tag":81,"props":20113,"children":20114},{"__ignoreMap":8},[20115],{"type":15,"tag":252,"props":20116,"children":20117},{"class":254,"line":255},[20118,20122,20126],{"type":15,"tag":252,"props":20119,"children":20120},{"style":259},[20121],{"type":21,"value":262},{"type":15,"tag":252,"props":20123,"children":20124},{"style":265},[20125],{"type":21,"value":268},{"type":15,"tag":252,"props":20127,"children":20128},{"style":265},[20129],{"type":21,"value":20130}," temp-file\n",{"type":15,"tag":23,"props":20132,"children":20133},{},[20134],{"type":21,"value":20135},"then we can generate and use our temporary file",{"type":15,"tag":95,"props":20137,"children":20139},{"code":20138,"language":772,"meta":8,"className":773,"style":8},"// lib.rs - build(...)\n    let inkwell_context = inkwell::context::Context::create();\n    let mut code_gen = code_gen::CodeGen::new(&inkwell_context);\n    code_gen.compile_module(&ir);\n\n    let llvm_ir_output_file = temp_file::empty();\n    code_gen.output_to_file(llvm_ir_output_file.path(), &options);\n",[20140],{"type":15,"tag":81,"props":20141,"children":20142},{"__ignoreMap":8},[20143,20151,20199,20253,20283,20290,20324],{"type":15,"tag":252,"props":20144,"children":20145},{"class":254,"line":255},[20146],{"type":15,"tag":252,"props":20147,"children":20148},{"style":3287},[20149],{"type":21,"value":20150},"// lib.rs - build(...)\n",{"type":15,"tag":252,"props":20152,"children":20153},{"class":254,"line":334},[20154,20158,20163,20167,20171,20175,20179,20183,20187,20191,20195],{"type":15,"tag":252,"props":20155,"children":20156},{"style":601},[20157],{"type":21,"value":2083},{"type":15,"tag":252,"props":20159,"children":20160},{"style":447},[20161],{"type":21,"value":20162}," inkwell_context ",{"type":15,"tag":252,"props":20164,"children":20165},{"style":601},[20166],{"type":21,"value":614},{"type":15,"tag":252,"props":20168,"children":20169},{"style":259},[20170],{"type":21,"value":273},{"type":15,"tag":252,"props":20172,"children":20173},{"style":601},[20174],{"type":21,"value":804},{"type":15,"tag":252,"props":20176,"children":20177},{"style":259},[20178],{"type":21,"value":908},{"type":15,"tag":252,"props":20180,"children":20181},{"style":601},[20182],{"type":21,"value":804},{"type":15,"tag":252,"props":20184,"children":20185},{"style":259},[20186],{"type":21,"value":2034},{"type":15,"tag":252,"props":20188,"children":20189},{"style":601},[20190],{"type":21,"value":804},{"type":15,"tag":252,"props":20192,"children":20193},{"style":259},[20194],{"type":21,"value":809},{"type":15,"tag":252,"props":20196,"children":20197},{"style":447},[20198],{"type":21,"value":814},{"type":15,"tag":252,"props":20200,"children":20201},{"class":254,"line":390},[20202,20206,20210,20215,20219,20224,20228,20232,20236,20240,20244,20248],{"type":15,"tag":252,"props":20203,"children":20204},{"style":601},[20205],{"type":21,"value":2083},{"type":15,"tag":252,"props":20207,"children":20208},{"style":601},[20209],{"type":21,"value":8623},{"type":15,"tag":252,"props":20211,"children":20212},{"style":447},[20213],{"type":21,"value":20214}," code_gen ",{"type":15,"tag":252,"props":20216,"children":20217},{"style":601},[20218],{"type":21,"value":614},{"type":15,"tag":252,"props":20220,"children":20221},{"style":259},[20222],{"type":21,"value":20223}," code_gen",{"type":15,"tag":252,"props":20225,"children":20226},{"style":601},[20227],{"type":21,"value":804},{"type":15,"tag":252,"props":20229,"children":20230},{"style":259},[20231],{"type":21,"value":17165},{"type":15,"tag":252,"props":20233,"children":20234},{"style":601},[20235],{"type":21,"value":804},{"type":15,"tag":252,"props":20237,"children":20238},{"style":259},[20239],{"type":21,"value":7761},{"type":15,"tag":252,"props":20241,"children":20242},{"style":447},[20243],{"type":21,"value":849},{"type":15,"tag":252,"props":20245,"children":20246},{"style":601},[20247],{"type":21,"value":1171},{"type":15,"tag":252,"props":20249,"children":20250},{"style":447},[20251],{"type":21,"value":20252},"inkwell_context);\n",{"type":15,"tag":252,"props":20254,"children":20255},{"class":254,"line":2077},[20256,20261,20265,20270,20274,20278],{"type":15,"tag":252,"props":20257,"children":20258},{"style":447},[20259],{"type":21,"value":20260},"    code_gen",{"type":15,"tag":252,"props":20262,"children":20263},{"style":601},[20264],{"type":21,"value":432},{"type":15,"tag":252,"props":20266,"children":20267},{"style":259},[20268],{"type":21,"value":20269},"compile_module",{"type":15,"tag":252,"props":20271,"children":20272},{"style":447},[20273],{"type":21,"value":849},{"type":15,"tag":252,"props":20275,"children":20276},{"style":601},[20277],{"type":21,"value":1171},{"type":15,"tag":252,"props":20279,"children":20280},{"style":447},[20281],{"type":21,"value":20282},"ir);\n",{"type":15,"tag":252,"props":20284,"children":20285},{"class":254,"line":2110},[20286],{"type":15,"tag":252,"props":20287,"children":20288},{"emptyLinePlaceholder":2053},[20289],{"type":21,"value":2056},{"type":15,"tag":252,"props":20291,"children":20292},{"class":254,"line":2150},[20293,20297,20302,20306,20311,20315,20320],{"type":15,"tag":252,"props":20294,"children":20295},{"style":601},[20296],{"type":21,"value":2083},{"type":15,"tag":252,"props":20298,"children":20299},{"style":447},[20300],{"type":21,"value":20301}," llvm_ir_output_file ",{"type":15,"tag":252,"props":20303,"children":20304},{"style":601},[20305],{"type":21,"value":614},{"type":15,"tag":252,"props":20307,"children":20308},{"style":259},[20309],{"type":21,"value":20310}," temp_file",{"type":15,"tag":252,"props":20312,"children":20313},{"style":601},[20314],{"type":21,"value":804},{"type":15,"tag":252,"props":20316,"children":20317},{"style":259},[20318],{"type":21,"value":20319},"empty",{"type":15,"tag":252,"props":20321,"children":20322},{"style":447},[20323],{"type":21,"value":814},{"type":15,"tag":252,"props":20325,"children":20326},{"class":254,"line":2182},[20327,20331,20335,20340,20345,20349,20353,20358,20362],{"type":15,"tag":252,"props":20328,"children":20329},{"style":447},[20330],{"type":21,"value":20260},{"type":15,"tag":252,"props":20332,"children":20333},{"style":601},[20334],{"type":21,"value":432},{"type":15,"tag":252,"props":20336,"children":20337},{"style":259},[20338],{"type":21,"value":20339},"output_to_file",{"type":15,"tag":252,"props":20341,"children":20342},{"style":447},[20343],{"type":21,"value":20344},"(llvm_ir_output_file",{"type":15,"tag":252,"props":20346,"children":20347},{"style":601},[20348],{"type":21,"value":432},{"type":15,"tag":252,"props":20350,"children":20351},{"style":259},[20352],{"type":21,"value":19864},{"type":15,"tag":252,"props":20354,"children":20355},{"style":447},[20356],{"type":21,"value":20357},"(), ",{"type":15,"tag":252,"props":20359,"children":20360},{"style":601},[20361],{"type":21,"value":1171},{"type":15,"tag":252,"props":20363,"children":20364},{"style":447},[20365],{"type":21,"value":20366},"options);\n",{"type":15,"tag":23,"props":20368,"children":20369},{},[20370,20372,20378],{"type":21,"value":20371},"We can now run this, ",{"type":15,"tag":81,"props":20373,"children":20375},{"className":20374},[],[20376],{"type":21,"value":20377},"cargo run -- run test.viv --output-llvm",{"type":21,"value":20379},", and we should get",{"type":15,"tag":95,"props":20381,"children":20383},{"code":20382},"; ModuleID = 'main'\nsource_filename = \"main\"\n\n@format_string.1 = private unnamed_addr constant [4 x i8] c\"%d\\0A\\00\", align 1\n\ndeclare i32 @printf(ptr %0, ...) local_unnamed_addr\n\ndefine i32 @main() local_unnamed_addr {\nentry:\n  %printf = tail call i32 (ptr, ...) @printf(ptr noundef nonnull @format_string.1, i32 1)\n  %printf1 = tail call i32 (ptr, ...) @printf(ptr noundef nonnull @format_string.1, i32 2)\n  ret i32 0\n}\n",[20384],{"type":15,"tag":81,"props":20385,"children":20386},{"__ignoreMap":8},[20387],{"type":21,"value":20382},{"type":15,"tag":59,"props":20389,"children":20391},{"id":20390},"compiling-to-binary",[20392],{"type":21,"value":20393},"Compiling to binary",{"type":15,"tag":23,"props":20395,"children":20396},{},[20397,20399,20404,20405,20410,20411,20416],{"type":21,"value":20398},"Now we need to compile this LLVM IR down to a binary, to do this we will spawn subprocesses of ",{"type":15,"tag":81,"props":20400,"children":20402},{"className":20401},[],[20403],{"type":21,"value":2966},{"type":21,"value":3071},{"type":15,"tag":81,"props":20406,"children":20408},{"className":20407},[],[20409],{"type":21,"value":3002},{"type":21,"value":1613},{"type":15,"tag":81,"props":20412,"children":20414},{"className":20413},[],[20415],{"type":21,"value":3009},{"type":21,"value":432},{"type":15,"tag":23,"props":20418,"children":20419},{},[20420],{"type":21,"value":20421},"To do this we will create some helper functions!",{"type":15,"tag":95,"props":20423,"children":20425},{"code":20424,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\nfn find_on_path(program: &str) -> Option\u003Cstd::path::PathBuf> {\n    let path = std::env::var_os(\"PATH\")?;\n\n    for dir in std::env::split_paths(&path) {\n        let candidate = dir.join(program);\n\n        if candidate.is_file() {\n            return Some(candidate);\n        }\n    }\n\n    None\n}\n\nfn find_any_on_path(programs: Vec\u003C&str>) -> Option\u003Cstd::path::PathBuf> {\n    for program in programs {\n        if let Some(path) = find_on_path(program) {\n            return Some(path);\n        }\n    }\n\n    None\n}\n",[20426],{"type":15,"tag":81,"props":20427,"children":20428},{"__ignoreMap":8},[20429,20436,20503,20561,20568,20618,20652,20659,20684,20702,20709,20716,20723,20731,20738,20745,20818,20839,20872,20888,20895,20902,20909,20916],{"type":15,"tag":252,"props":20430,"children":20431},{"class":254,"line":255},[20432],{"type":15,"tag":252,"props":20433,"children":20434},{"style":3287},[20435],{"type":21,"value":3290},{"type":15,"tag":252,"props":20437,"children":20438},{"class":254,"line":334},[20439,20443,20448,20453,20457,20461,20465,20469,20473,20477,20482,20486,20490,20494,20499],{"type":15,"tag":252,"props":20440,"children":20441},{"style":601},[20442],{"type":21,"value":2064},{"type":15,"tag":252,"props":20444,"children":20445},{"style":259},[20446],{"type":21,"value":20447}," find_on_path",{"type":15,"tag":252,"props":20449,"children":20450},{"style":447},[20451],{"type":21,"value":20452},"(program",{"type":15,"tag":252,"props":20454,"children":20455},{"style":601},[20456],{"type":21,"value":3374},{"type":15,"tag":252,"props":20458,"children":20459},{"style":601},[20460],{"type":21,"value":4920},{"type":15,"tag":252,"props":20462,"children":20463},{"style":259},[20464],{"type":21,"value":4925},{"type":15,"tag":252,"props":20466,"children":20467},{"style":447},[20468],{"type":21,"value":4943},{"type":15,"tag":252,"props":20470,"children":20471},{"style":601},[20472],{"type":21,"value":3947},{"type":15,"tag":252,"props":20474,"children":20475},{"style":259},[20476],{"type":21,"value":8210},{"type":15,"tag":252,"props":20478,"children":20479},{"style":447},[20480],{"type":21,"value":20481},"\u003Cstd",{"type":15,"tag":252,"props":20483,"children":20484},{"style":601},[20485],{"type":21,"value":804},{"type":15,"tag":252,"props":20487,"children":20488},{"style":447},[20489],{"type":21,"value":19864},{"type":15,"tag":252,"props":20491,"children":20492},{"style":601},[20493],{"type":21,"value":804},{"type":15,"tag":252,"props":20495,"children":20496},{"style":259},[20497],{"type":21,"value":20498},"PathBuf",{"type":15,"tag":252,"props":20500,"children":20501},{"style":447},[20502],{"type":21,"value":7138},{"type":15,"tag":252,"props":20504,"children":20505},{"class":254,"line":390},[20506,20510,20515,20519,20523,20527,20531,20535,20540,20544,20549,20553,20557],{"type":15,"tag":252,"props":20507,"children":20508},{"style":601},[20509],{"type":21,"value":2083},{"type":15,"tag":252,"props":20511,"children":20512},{"style":447},[20513],{"type":21,"value":20514}," path ",{"type":15,"tag":252,"props":20516,"children":20517},{"style":601},[20518],{"type":21,"value":614},{"type":15,"tag":252,"props":20520,"children":20521},{"style":259},[20522],{"type":21,"value":6894},{"type":15,"tag":252,"props":20524,"children":20525},{"style":601},[20526],{"type":21,"value":804},{"type":15,"tag":252,"props":20528,"children":20529},{"style":259},[20530],{"type":21,"value":677},{"type":15,"tag":252,"props":20532,"children":20533},{"style":601},[20534],{"type":21,"value":804},{"type":15,"tag":252,"props":20536,"children":20537},{"style":259},[20538],{"type":21,"value":20539},"var_os",{"type":15,"tag":252,"props":20541,"children":20542},{"style":447},[20543],{"type":21,"value":849},{"type":15,"tag":252,"props":20545,"children":20546},{"style":265},[20547],{"type":21,"value":20548},"\"PATH\"",{"type":15,"tag":252,"props":20550,"children":20551},{"style":447},[20552],{"type":21,"value":1975},{"type":15,"tag":252,"props":20554,"children":20555},{"style":601},[20556],{"type":21,"value":5468},{"type":15,"tag":252,"props":20558,"children":20559},{"style":447},[20560],{"type":21,"value":3325},{"type":15,"tag":252,"props":20562,"children":20563},{"class":254,"line":2077},[20564],{"type":15,"tag":252,"props":20565,"children":20566},{"emptyLinePlaceholder":2053},[20567],{"type":21,"value":2056},{"type":15,"tag":252,"props":20569,"children":20570},{"class":254,"line":2110},[20571,20575,20580,20584,20588,20592,20596,20600,20605,20609,20613],{"type":15,"tag":252,"props":20572,"children":20573},{"style":601},[20574],{"type":21,"value":16116},{"type":15,"tag":252,"props":20576,"children":20577},{"style":447},[20578],{"type":21,"value":20579}," dir ",{"type":15,"tag":252,"props":20581,"children":20582},{"style":601},[20583],{"type":21,"value":16126},{"type":15,"tag":252,"props":20585,"children":20586},{"style":259},[20587],{"type":21,"value":6894},{"type":15,"tag":252,"props":20589,"children":20590},{"style":601},[20591],{"type":21,"value":804},{"type":15,"tag":252,"props":20593,"children":20594},{"style":259},[20595],{"type":21,"value":677},{"type":15,"tag":252,"props":20597,"children":20598},{"style":601},[20599],{"type":21,"value":804},{"type":15,"tag":252,"props":20601,"children":20602},{"style":259},[20603],{"type":21,"value":20604},"split_paths",{"type":15,"tag":252,"props":20606,"children":20607},{"style":447},[20608],{"type":21,"value":849},{"type":15,"tag":252,"props":20610,"children":20611},{"style":601},[20612],{"type":21,"value":1171},{"type":15,"tag":252,"props":20614,"children":20615},{"style":447},[20616],{"type":21,"value":20617},"path) {\n",{"type":15,"tag":252,"props":20619,"children":20620},{"class":254,"line":2150},[20621,20625,20630,20634,20639,20643,20647],{"type":15,"tag":252,"props":20622,"children":20623},{"style":601},[20624],{"type":21,"value":8231},{"type":15,"tag":252,"props":20626,"children":20627},{"style":447},[20628],{"type":21,"value":20629}," candidate ",{"type":15,"tag":252,"props":20631,"children":20632},{"style":601},[20633],{"type":21,"value":614},{"type":15,"tag":252,"props":20635,"children":20636},{"style":447},[20637],{"type":21,"value":20638}," dir",{"type":15,"tag":252,"props":20640,"children":20641},{"style":601},[20642],{"type":21,"value":432},{"type":15,"tag":252,"props":20644,"children":20645},{"style":259},[20646],{"type":21,"value":10794},{"type":15,"tag":252,"props":20648,"children":20649},{"style":447},[20650],{"type":21,"value":20651},"(program);\n",{"type":15,"tag":252,"props":20653,"children":20654},{"class":254,"line":2182},[20655],{"type":15,"tag":252,"props":20656,"children":20657},{"emptyLinePlaceholder":2053},[20658],{"type":21,"value":2056},{"type":15,"tag":252,"props":20660,"children":20661},{"class":254,"line":2190},[20662,20666,20671,20675,20680],{"type":15,"tag":252,"props":20663,"children":20664},{"style":601},[20665],{"type":21,"value":8295},{"type":15,"tag":252,"props":20667,"children":20668},{"style":447},[20669],{"type":21,"value":20670}," candidate",{"type":15,"tag":252,"props":20672,"children":20673},{"style":601},[20674],{"type":21,"value":432},{"type":15,"tag":252,"props":20676,"children":20677},{"style":259},[20678],{"type":21,"value":20679},"is_file",{"type":15,"tag":252,"props":20681,"children":20682},{"style":447},[20683],{"type":21,"value":2074},{"type":15,"tag":252,"props":20685,"children":20686},{"class":254,"line":2222},[20687,20692,20697],{"type":15,"tag":252,"props":20688,"children":20689},{"style":601},[20690],{"type":21,"value":20691},"            return",{"type":15,"tag":252,"props":20693,"children":20694},{"style":259},[20695],{"type":21,"value":20696}," Some",{"type":15,"tag":252,"props":20698,"children":20699},{"style":447},[20700],{"type":21,"value":20701},"(candidate);\n",{"type":15,"tag":252,"props":20703,"children":20704},{"class":254,"line":2270},[20705],{"type":15,"tag":252,"props":20706,"children":20707},{"style":447},[20708],{"type":21,"value":4087},{"type":15,"tag":252,"props":20710,"children":20711},{"class":254,"line":2302},[20712],{"type":15,"tag":252,"props":20713,"children":20714},{"style":447},[20715],{"type":21,"value":4095},{"type":15,"tag":252,"props":20717,"children":20718},{"class":254,"line":2310},[20719],{"type":15,"tag":252,"props":20720,"children":20721},{"emptyLinePlaceholder":2053},[20722],{"type":21,"value":2056},{"type":15,"tag":252,"props":20724,"children":20725},{"class":254,"line":2370},[20726],{"type":15,"tag":252,"props":20727,"children":20728},{"style":259},[20729],{"type":21,"value":20730},"    None\n",{"type":15,"tag":252,"props":20732,"children":20733},{"class":254,"line":2418},[20734],{"type":15,"tag":252,"props":20735,"children":20736},{"style":447},[20737],{"type":21,"value":2854},{"type":15,"tag":252,"props":20739,"children":20740},{"class":254,"line":2426},[20741],{"type":15,"tag":252,"props":20742,"children":20743},{"emptyLinePlaceholder":2053},[20744],{"type":21,"value":2056},{"type":15,"tag":252,"props":20746,"children":20747},{"class":254,"line":2474},[20748,20752,20757,20762,20766,20770,20774,20778,20782,20786,20790,20794,20798,20802,20806,20810,20814],{"type":15,"tag":252,"props":20749,"children":20750},{"style":601},[20751],{"type":21,"value":2064},{"type":15,"tag":252,"props":20753,"children":20754},{"style":259},[20755],{"type":21,"value":20756}," find_any_on_path",{"type":15,"tag":252,"props":20758,"children":20759},{"style":447},[20760],{"type":21,"value":20761},"(programs",{"type":15,"tag":252,"props":20763,"children":20764},{"style":601},[20765],{"type":21,"value":3374},{"type":15,"tag":252,"props":20767,"children":20768},{"style":259},[20769],{"type":21,"value":5821},{"type":15,"tag":252,"props":20771,"children":20772},{"style":447},[20773],{"type":21,"value":5826},{"type":15,"tag":252,"props":20775,"children":20776},{"style":601},[20777],{"type":21,"value":1171},{"type":15,"tag":252,"props":20779,"children":20780},{"style":259},[20781],{"type":21,"value":4925},{"type":15,"tag":252,"props":20783,"children":20784},{"style":447},[20785],{"type":21,"value":7178},{"type":15,"tag":252,"props":20787,"children":20788},{"style":601},[20789],{"type":21,"value":3947},{"type":15,"tag":252,"props":20791,"children":20792},{"style":259},[20793],{"type":21,"value":8210},{"type":15,"tag":252,"props":20795,"children":20796},{"style":447},[20797],{"type":21,"value":20481},{"type":15,"tag":252,"props":20799,"children":20800},{"style":601},[20801],{"type":21,"value":804},{"type":15,"tag":252,"props":20803,"children":20804},{"style":447},[20805],{"type":21,"value":19864},{"type":15,"tag":252,"props":20807,"children":20808},{"style":601},[20809],{"type":21,"value":804},{"type":15,"tag":252,"props":20811,"children":20812},{"style":259},[20813],{"type":21,"value":20498},{"type":15,"tag":252,"props":20815,"children":20816},{"style":447},[20817],{"type":21,"value":7138},{"type":15,"tag":252,"props":20819,"children":20820},{"class":254,"line":2522},[20821,20825,20830,20834],{"type":15,"tag":252,"props":20822,"children":20823},{"style":601},[20824],{"type":21,"value":16116},{"type":15,"tag":252,"props":20826,"children":20827},{"style":447},[20828],{"type":21,"value":20829}," program ",{"type":15,"tag":252,"props":20831,"children":20832},{"style":601},[20833],{"type":21,"value":16126},{"type":15,"tag":252,"props":20835,"children":20836},{"style":447},[20837],{"type":21,"value":20838}," programs {\n",{"type":15,"tag":252,"props":20840,"children":20841},{"class":254,"line":2530},[20842,20846,20850,20854,20859,20863,20867],{"type":15,"tag":252,"props":20843,"children":20844},{"style":601},[20845],{"type":21,"value":8295},{"type":15,"tag":252,"props":20847,"children":20848},{"style":601},[20849],{"type":21,"value":8661},{"type":15,"tag":252,"props":20851,"children":20852},{"style":259},[20853],{"type":21,"value":20696},{"type":15,"tag":252,"props":20855,"children":20856},{"style":447},[20857],{"type":21,"value":20858},"(path) ",{"type":15,"tag":252,"props":20860,"children":20861},{"style":601},[20862],{"type":21,"value":614},{"type":15,"tag":252,"props":20864,"children":20865},{"style":259},[20866],{"type":21,"value":20447},{"type":15,"tag":252,"props":20868,"children":20869},{"style":447},[20870],{"type":21,"value":20871},"(program) {\n",{"type":15,"tag":252,"props":20873,"children":20874},{"class":254,"line":2570},[20875,20879,20883],{"type":15,"tag":252,"props":20876,"children":20877},{"style":601},[20878],{"type":21,"value":20691},{"type":15,"tag":252,"props":20880,"children":20881},{"style":259},[20882],{"type":21,"value":20696},{"type":15,"tag":252,"props":20884,"children":20885},{"style":447},[20886],{"type":21,"value":20887},"(path);\n",{"type":15,"tag":252,"props":20889,"children":20890},{"class":254,"line":2591},[20891],{"type":15,"tag":252,"props":20892,"children":20893},{"style":447},[20894],{"type":21,"value":4087},{"type":15,"tag":252,"props":20896,"children":20897},{"class":254,"line":2599},[20898],{"type":15,"tag":252,"props":20899,"children":20900},{"style":447},[20901],{"type":21,"value":4095},{"type":15,"tag":252,"props":20903,"children":20904},{"class":254,"line":2647},[20905],{"type":15,"tag":252,"props":20906,"children":20907},{"emptyLinePlaceholder":2053},[20908],{"type":21,"value":2056},{"type":15,"tag":252,"props":20910,"children":20911},{"class":254,"line":2679},[20912],{"type":15,"tag":252,"props":20913,"children":20914},{"style":259},[20915],{"type":21,"value":20730},{"type":15,"tag":252,"props":20917,"children":20918},{"class":254,"line":2727},[20919],{"type":15,"tag":252,"props":20920,"children":20921},{"style":447},[20922],{"type":21,"value":2854},{"type":15,"tag":23,"props":20924,"children":20925},{},[20926,20928,20934],{"type":21,"value":20927},"These two functions will let us search the ",{"type":15,"tag":81,"props":20929,"children":20931},{"className":20930},[],[20932],{"type":21,"value":20933},"PATH",{"type":21,"value":20935}," env variable for the command line tools we need to invoke!",{"type":15,"tag":23,"props":20937,"children":20938},{},[20939],{"type":21,"value":20940},"We then use these to do our 2 steps in compiling from an LLVM ir to a binary",{"type":15,"tag":95,"props":20942,"children":20944},{"code":20943,"language":772,"meta":8,"className":773,"style":8},"fn compile_to_objectfile(from: &str, to: &str) -> anyhow::Result\u003C()> {\n    let clang = find_on_path(\"llc\").ok_or(anyhow::anyhow!(\"Llc not found on path\"))?;\n    std::process::Command::new(clang)\n        .args([from, \"-filetype=obj\", \"-o\", to])\n        .spawn()?\n        .wait()?\n        .success()\n        .then_some(())\n        .ok_or(anyhow::anyhow!(\"Llc failed\"))?;\n\n    Ok(())\n}\n\nfn compile_to_binary(from: &str, to: &str) -> anyhow::Result\u003C()> {\n    let clang = find_any_on_path(vec![\"clang\", \"gcc\"])\n        .ok_or(anyhow::anyhow!(\"Clang or gcc not found on path\"))?;\n    std::process::Command::new(clang)\n        .args([from, \"-no-pie\", \"-o\", to])\n        .spawn()?\n        .wait()?\n        .success()\n        .then_some(())\n        .ok_or(anyhow::anyhow!(\"Clang/gcc failed\"))?;\n\n    Ok(())\n}\n",[20945],{"type":15,"tag":81,"props":20946,"children":20947},{"__ignoreMap":8},[20948,21018,21098,21137,21174,21194,21214,21230,21246,21294,21301,21312,21319,21326,21394,21443,21491,21526,21558,21577,21596,21611,21626,21674,21681,21692],{"type":15,"tag":252,"props":20949,"children":20950},{"class":254,"line":255},[20951,20955,20960,20965,20969,20973,20977,20982,20986,20990,20994,20998,21002,21006,21010,21014],{"type":15,"tag":252,"props":20952,"children":20953},{"style":601},[20954],{"type":21,"value":2064},{"type":15,"tag":252,"props":20956,"children":20957},{"style":259},[20958],{"type":21,"value":20959}," compile_to_objectfile",{"type":15,"tag":252,"props":20961,"children":20962},{"style":447},[20963],{"type":21,"value":20964},"(from",{"type":15,"tag":252,"props":20966,"children":20967},{"style":601},[20968],{"type":21,"value":3374},{"type":15,"tag":252,"props":20970,"children":20971},{"style":601},[20972],{"type":21,"value":4920},{"type":15,"tag":252,"props":20974,"children":20975},{"style":259},[20976],{"type":21,"value":4925},{"type":15,"tag":252,"props":20978,"children":20979},{"style":447},[20980],{"type":21,"value":20981},", to",{"type":15,"tag":252,"props":20983,"children":20984},{"style":601},[20985],{"type":21,"value":3374},{"type":15,"tag":252,"props":20987,"children":20988},{"style":601},[20989],{"type":21,"value":4920},{"type":15,"tag":252,"props":20991,"children":20992},{"style":259},[20993],{"type":21,"value":4925},{"type":15,"tag":252,"props":20995,"children":20996},{"style":447},[20997],{"type":21,"value":4943},{"type":15,"tag":252,"props":20999,"children":21000},{"style":601},[21001],{"type":21,"value":3947},{"type":15,"tag":252,"props":21003,"children":21004},{"style":259},[21005],{"type":21,"value":3952},{"type":15,"tag":252,"props":21007,"children":21008},{"style":601},[21009],{"type":21,"value":804},{"type":15,"tag":252,"props":21011,"children":21012},{"style":259},[21013],{"type":21,"value":3961},{"type":15,"tag":252,"props":21015,"children":21016},{"style":447},[21017],{"type":21,"value":3966},{"type":15,"tag":252,"props":21019,"children":21020},{"class":254,"line":334},[21021,21025,21030,21034,21038,21042,21047,21051,21055,21059,21063,21067,21071,21076,21080,21085,21090,21094],{"type":15,"tag":252,"props":21022,"children":21023},{"style":601},[21024],{"type":21,"value":2083},{"type":15,"tag":252,"props":21026,"children":21027},{"style":447},[21028],{"type":21,"value":21029}," clang ",{"type":15,"tag":252,"props":21031,"children":21032},{"style":601},[21033],{"type":21,"value":614},{"type":15,"tag":252,"props":21035,"children":21036},{"style":259},[21037],{"type":21,"value":20447},{"type":15,"tag":252,"props":21039,"children":21040},{"style":447},[21041],{"type":21,"value":849},{"type":15,"tag":252,"props":21043,"children":21044},{"style":265},[21045],{"type":21,"value":21046},"\"llc\"",{"type":15,"tag":252,"props":21048,"children":21049},{"style":447},[21050],{"type":21,"value":1975},{"type":15,"tag":252,"props":21052,"children":21053},{"style":601},[21054],{"type":21,"value":432},{"type":15,"tag":252,"props":21056,"children":21057},{"style":259},[21058],{"type":21,"value":7314},{"type":15,"tag":252,"props":21060,"children":21061},{"style":447},[21062],{"type":21,"value":849},{"type":15,"tag":252,"props":21064,"children":21065},{"style":259},[21066],{"type":21,"value":3472},{"type":15,"tag":252,"props":21068,"children":21069},{"style":601},[21070],{"type":21,"value":804},{"type":15,"tag":252,"props":21072,"children":21073},{"style":259},[21074],{"type":21,"value":21075},"anyhow!",{"type":15,"tag":252,"props":21077,"children":21078},{"style":447},[21079],{"type":21,"value":849},{"type":15,"tag":252,"props":21081,"children":21082},{"style":265},[21083],{"type":21,"value":21084},"\"Llc not found on path\"",{"type":15,"tag":252,"props":21086,"children":21087},{"style":447},[21088],{"type":21,"value":21089},"))",{"type":15,"tag":252,"props":21091,"children":21092},{"style":601},[21093],{"type":21,"value":5468},{"type":15,"tag":252,"props":21095,"children":21096},{"style":447},[21097],{"type":21,"value":3325},{"type":15,"tag":252,"props":21099,"children":21100},{"class":254,"line":390},[21101,21106,21110,21115,21119,21124,21128,21132],{"type":15,"tag":252,"props":21102,"children":21103},{"style":259},[21104],{"type":21,"value":21105},"    std",{"type":15,"tag":252,"props":21107,"children":21108},{"style":601},[21109],{"type":21,"value":804},{"type":15,"tag":252,"props":21111,"children":21112},{"style":259},[21113],{"type":21,"value":21114},"process",{"type":15,"tag":252,"props":21116,"children":21117},{"style":601},[21118],{"type":21,"value":804},{"type":15,"tag":252,"props":21120,"children":21121},{"style":259},[21122],{"type":21,"value":21123},"Command",{"type":15,"tag":252,"props":21125,"children":21126},{"style":601},[21127],{"type":21,"value":804},{"type":15,"tag":252,"props":21129,"children":21130},{"style":259},[21131],{"type":21,"value":7761},{"type":15,"tag":252,"props":21133,"children":21134},{"style":447},[21135],{"type":21,"value":21136},"(clang)\n",{"type":15,"tag":252,"props":21138,"children":21139},{"class":254,"line":2077},[21140,21145,21150,21155,21160,21164,21169],{"type":15,"tag":252,"props":21141,"children":21142},{"style":601},[21143],{"type":21,"value":21144},"        .",{"type":15,"tag":252,"props":21146,"children":21147},{"style":259},[21148],{"type":21,"value":21149},"args",{"type":15,"tag":252,"props":21151,"children":21152},{"style":447},[21153],{"type":21,"value":21154},"([from, ",{"type":15,"tag":252,"props":21156,"children":21157},{"style":265},[21158],{"type":21,"value":21159},"\"-filetype=obj\"",{"type":15,"tag":252,"props":21161,"children":21162},{"style":447},[21163],{"type":21,"value":1076},{"type":15,"tag":252,"props":21165,"children":21166},{"style":265},[21167],{"type":21,"value":21168},"\"-o\"",{"type":15,"tag":252,"props":21170,"children":21171},{"style":447},[21172],{"type":21,"value":21173},", to])\n",{"type":15,"tag":252,"props":21175,"children":21176},{"class":254,"line":2110},[21177,21181,21186,21190],{"type":15,"tag":252,"props":21178,"children":21179},{"style":601},[21180],{"type":21,"value":21144},{"type":15,"tag":252,"props":21182,"children":21183},{"style":259},[21184],{"type":21,"value":21185},"spawn",{"type":15,"tag":252,"props":21187,"children":21188},{"style":447},[21189],{"type":21,"value":7305},{"type":15,"tag":252,"props":21191,"children":21192},{"style":601},[21193],{"type":21,"value":12564},{"type":15,"tag":252,"props":21195,"children":21196},{"class":254,"line":2150},[21197,21201,21206,21210],{"type":15,"tag":252,"props":21198,"children":21199},{"style":601},[21200],{"type":21,"value":21144},{"type":15,"tag":252,"props":21202,"children":21203},{"style":259},[21204],{"type":21,"value":21205},"wait",{"type":15,"tag":252,"props":21207,"children":21208},{"style":447},[21209],{"type":21,"value":7305},{"type":15,"tag":252,"props":21211,"children":21212},{"style":601},[21213],{"type":21,"value":12564},{"type":15,"tag":252,"props":21215,"children":21216},{"class":254,"line":2182},[21217,21221,21226],{"type":15,"tag":252,"props":21218,"children":21219},{"style":601},[21220],{"type":21,"value":21144},{"type":15,"tag":252,"props":21222,"children":21223},{"style":259},[21224],{"type":21,"value":21225},"success",{"type":15,"tag":252,"props":21227,"children":21228},{"style":447},[21229],{"type":21,"value":10672},{"type":15,"tag":252,"props":21231,"children":21232},{"class":254,"line":2190},[21233,21237,21242],{"type":15,"tag":252,"props":21234,"children":21235},{"style":601},[21236],{"type":21,"value":21144},{"type":15,"tag":252,"props":21238,"children":21239},{"style":259},[21240],{"type":21,"value":21241},"then_some",{"type":15,"tag":252,"props":21243,"children":21244},{"style":447},[21245],{"type":21,"value":4115},{"type":15,"tag":252,"props":21247,"children":21248},{"class":254,"line":2222},[21249,21253,21257,21261,21265,21269,21273,21277,21282,21286,21290],{"type":15,"tag":252,"props":21250,"children":21251},{"style":601},[21252],{"type":21,"value":21144},{"type":15,"tag":252,"props":21254,"children":21255},{"style":259},[21256],{"type":21,"value":7314},{"type":15,"tag":252,"props":21258,"children":21259},{"style":447},[21260],{"type":21,"value":849},{"type":15,"tag":252,"props":21262,"children":21263},{"style":259},[21264],{"type":21,"value":3472},{"type":15,"tag":252,"props":21266,"children":21267},{"style":601},[21268],{"type":21,"value":804},{"type":15,"tag":252,"props":21270,"children":21271},{"style":259},[21272],{"type":21,"value":21075},{"type":15,"tag":252,"props":21274,"children":21275},{"style":447},[21276],{"type":21,"value":849},{"type":15,"tag":252,"props":21278,"children":21279},{"style":265},[21280],{"type":21,"value":21281},"\"Llc failed\"",{"type":15,"tag":252,"props":21283,"children":21284},{"style":447},[21285],{"type":21,"value":21089},{"type":15,"tag":252,"props":21287,"children":21288},{"style":601},[21289],{"type":21,"value":5468},{"type":15,"tag":252,"props":21291,"children":21292},{"style":447},[21293],{"type":21,"value":3325},{"type":15,"tag":252,"props":21295,"children":21296},{"class":254,"line":2270},[21297],{"type":15,"tag":252,"props":21298,"children":21299},{"emptyLinePlaceholder":2053},[21300],{"type":21,"value":2056},{"type":15,"tag":252,"props":21302,"children":21303},{"class":254,"line":2302},[21304,21308],{"type":15,"tag":252,"props":21305,"children":21306},{"style":259},[21307],{"type":21,"value":4110},{"type":15,"tag":252,"props":21309,"children":21310},{"style":447},[21311],{"type":21,"value":4115},{"type":15,"tag":252,"props":21313,"children":21314},{"class":254,"line":2310},[21315],{"type":15,"tag":252,"props":21316,"children":21317},{"style":447},[21318],{"type":21,"value":2854},{"type":15,"tag":252,"props":21320,"children":21321},{"class":254,"line":2370},[21322],{"type":15,"tag":252,"props":21323,"children":21324},{"emptyLinePlaceholder":2053},[21325],{"type":21,"value":2056},{"type":15,"tag":252,"props":21327,"children":21328},{"class":254,"line":2418},[21329,21333,21338,21342,21346,21350,21354,21358,21362,21366,21370,21374,21378,21382,21386,21390],{"type":15,"tag":252,"props":21330,"children":21331},{"style":601},[21332],{"type":21,"value":2064},{"type":15,"tag":252,"props":21334,"children":21335},{"style":259},[21336],{"type":21,"value":21337}," compile_to_binary",{"type":15,"tag":252,"props":21339,"children":21340},{"style":447},[21341],{"type":21,"value":20964},{"type":15,"tag":252,"props":21343,"children":21344},{"style":601},[21345],{"type":21,"value":3374},{"type":15,"tag":252,"props":21347,"children":21348},{"style":601},[21349],{"type":21,"value":4920},{"type":15,"tag":252,"props":21351,"children":21352},{"style":259},[21353],{"type":21,"value":4925},{"type":15,"tag":252,"props":21355,"children":21356},{"style":447},[21357],{"type":21,"value":20981},{"type":15,"tag":252,"props":21359,"children":21360},{"style":601},[21361],{"type":21,"value":3374},{"type":15,"tag":252,"props":21363,"children":21364},{"style":601},[21365],{"type":21,"value":4920},{"type":15,"tag":252,"props":21367,"children":21368},{"style":259},[21369],{"type":21,"value":4925},{"type":15,"tag":252,"props":21371,"children":21372},{"style":447},[21373],{"type":21,"value":4943},{"type":15,"tag":252,"props":21375,"children":21376},{"style":601},[21377],{"type":21,"value":3947},{"type":15,"tag":252,"props":21379,"children":21380},{"style":259},[21381],{"type":21,"value":3952},{"type":15,"tag":252,"props":21383,"children":21384},{"style":601},[21385],{"type":21,"value":804},{"type":15,"tag":252,"props":21387,"children":21388},{"style":259},[21389],{"type":21,"value":3961},{"type":15,"tag":252,"props":21391,"children":21392},{"style":447},[21393],{"type":21,"value":3966},{"type":15,"tag":252,"props":21395,"children":21396},{"class":254,"line":2426},[21397,21401,21405,21409,21413,21417,21421,21425,21430,21434,21439],{"type":15,"tag":252,"props":21398,"children":21399},{"style":601},[21400],{"type":21,"value":2083},{"type":15,"tag":252,"props":21402,"children":21403},{"style":447},[21404],{"type":21,"value":21029},{"type":15,"tag":252,"props":21406,"children":21407},{"style":601},[21408],{"type":21,"value":614},{"type":15,"tag":252,"props":21410,"children":21411},{"style":259},[21412],{"type":21,"value":20756},{"type":15,"tag":252,"props":21414,"children":21415},{"style":447},[21416],{"type":21,"value":849},{"type":15,"tag":252,"props":21418,"children":21419},{"style":259},[21420],{"type":21,"value":6099},{"type":15,"tag":252,"props":21422,"children":21423},{"style":447},[21424],{"type":21,"value":450},{"type":15,"tag":252,"props":21426,"children":21427},{"style":265},[21428],{"type":21,"value":21429},"\"clang\"",{"type":15,"tag":252,"props":21431,"children":21432},{"style":447},[21433],{"type":21,"value":1076},{"type":15,"tag":252,"props":21435,"children":21436},{"style":265},[21437],{"type":21,"value":21438},"\"gcc\"",{"type":15,"tag":252,"props":21440,"children":21441},{"style":447},[21442],{"type":21,"value":6236},{"type":15,"tag":252,"props":21444,"children":21445},{"class":254,"line":2474},[21446,21450,21454,21458,21462,21466,21470,21474,21479,21483,21487],{"type":15,"tag":252,"props":21447,"children":21448},{"style":601},[21449],{"type":21,"value":21144},{"type":15,"tag":252,"props":21451,"children":21452},{"style":259},[21453],{"type":21,"value":7314},{"type":15,"tag":252,"props":21455,"children":21456},{"style":447},[21457],{"type":21,"value":849},{"type":15,"tag":252,"props":21459,"children":21460},{"style":259},[21461],{"type":21,"value":3472},{"type":15,"tag":252,"props":21463,"children":21464},{"style":601},[21465],{"type":21,"value":804},{"type":15,"tag":252,"props":21467,"children":21468},{"style":259},[21469],{"type":21,"value":21075},{"type":15,"tag":252,"props":21471,"children":21472},{"style":447},[21473],{"type":21,"value":849},{"type":15,"tag":252,"props":21475,"children":21476},{"style":265},[21477],{"type":21,"value":21478},"\"Clang or gcc not found on path\"",{"type":15,"tag":252,"props":21480,"children":21481},{"style":447},[21482],{"type":21,"value":21089},{"type":15,"tag":252,"props":21484,"children":21485},{"style":601},[21486],{"type":21,"value":5468},{"type":15,"tag":252,"props":21488,"children":21489},{"style":447},[21490],{"type":21,"value":3325},{"type":15,"tag":252,"props":21492,"children":21493},{"class":254,"line":2522},[21494,21498,21502,21506,21510,21514,21518,21522],{"type":15,"tag":252,"props":21495,"children":21496},{"style":259},[21497],{"type":21,"value":21105},{"type":15,"tag":252,"props":21499,"children":21500},{"style":601},[21501],{"type":21,"value":804},{"type":15,"tag":252,"props":21503,"children":21504},{"style":259},[21505],{"type":21,"value":21114},{"type":15,"tag":252,"props":21507,"children":21508},{"style":601},[21509],{"type":21,"value":804},{"type":15,"tag":252,"props":21511,"children":21512},{"style":259},[21513],{"type":21,"value":21123},{"type":15,"tag":252,"props":21515,"children":21516},{"style":601},[21517],{"type":21,"value":804},{"type":15,"tag":252,"props":21519,"children":21520},{"style":259},[21521],{"type":21,"value":7761},{"type":15,"tag":252,"props":21523,"children":21524},{"style":447},[21525],{"type":21,"value":21136},{"type":15,"tag":252,"props":21527,"children":21528},{"class":254,"line":2530},[21529,21533,21537,21541,21546,21550,21554],{"type":15,"tag":252,"props":21530,"children":21531},{"style":601},[21532],{"type":21,"value":21144},{"type":15,"tag":252,"props":21534,"children":21535},{"style":259},[21536],{"type":21,"value":21149},{"type":15,"tag":252,"props":21538,"children":21539},{"style":447},[21540],{"type":21,"value":21154},{"type":15,"tag":252,"props":21542,"children":21543},{"style":265},[21544],{"type":21,"value":21545},"\"-no-pie\"",{"type":15,"tag":252,"props":21547,"children":21548},{"style":447},[21549],{"type":21,"value":1076},{"type":15,"tag":252,"props":21551,"children":21552},{"style":265},[21553],{"type":21,"value":21168},{"type":15,"tag":252,"props":21555,"children":21556},{"style":447},[21557],{"type":21,"value":21173},{"type":15,"tag":252,"props":21559,"children":21560},{"class":254,"line":2570},[21561,21565,21569,21573],{"type":15,"tag":252,"props":21562,"children":21563},{"style":601},[21564],{"type":21,"value":21144},{"type":15,"tag":252,"props":21566,"children":21567},{"style":259},[21568],{"type":21,"value":21185},{"type":15,"tag":252,"props":21570,"children":21571},{"style":447},[21572],{"type":21,"value":7305},{"type":15,"tag":252,"props":21574,"children":21575},{"style":601},[21576],{"type":21,"value":12564},{"type":15,"tag":252,"props":21578,"children":21579},{"class":254,"line":2591},[21580,21584,21588,21592],{"type":15,"tag":252,"props":21581,"children":21582},{"style":601},[21583],{"type":21,"value":21144},{"type":15,"tag":252,"props":21585,"children":21586},{"style":259},[21587],{"type":21,"value":21205},{"type":15,"tag":252,"props":21589,"children":21590},{"style":447},[21591],{"type":21,"value":7305},{"type":15,"tag":252,"props":21593,"children":21594},{"style":601},[21595],{"type":21,"value":12564},{"type":15,"tag":252,"props":21597,"children":21598},{"class":254,"line":2599},[21599,21603,21607],{"type":15,"tag":252,"props":21600,"children":21601},{"style":601},[21602],{"type":21,"value":21144},{"type":15,"tag":252,"props":21604,"children":21605},{"style":259},[21606],{"type":21,"value":21225},{"type":15,"tag":252,"props":21608,"children":21609},{"style":447},[21610],{"type":21,"value":10672},{"type":15,"tag":252,"props":21612,"children":21613},{"class":254,"line":2647},[21614,21618,21622],{"type":15,"tag":252,"props":21615,"children":21616},{"style":601},[21617],{"type":21,"value":21144},{"type":15,"tag":252,"props":21619,"children":21620},{"style":259},[21621],{"type":21,"value":21241},{"type":15,"tag":252,"props":21623,"children":21624},{"style":447},[21625],{"type":21,"value":4115},{"type":15,"tag":252,"props":21627,"children":21628},{"class":254,"line":2679},[21629,21633,21637,21641,21645,21649,21653,21657,21662,21666,21670],{"type":15,"tag":252,"props":21630,"children":21631},{"style":601},[21632],{"type":21,"value":21144},{"type":15,"tag":252,"props":21634,"children":21635},{"style":259},[21636],{"type":21,"value":7314},{"type":15,"tag":252,"props":21638,"children":21639},{"style":447},[21640],{"type":21,"value":849},{"type":15,"tag":252,"props":21642,"children":21643},{"style":259},[21644],{"type":21,"value":3472},{"type":15,"tag":252,"props":21646,"children":21647},{"style":601},[21648],{"type":21,"value":804},{"type":15,"tag":252,"props":21650,"children":21651},{"style":259},[21652],{"type":21,"value":21075},{"type":15,"tag":252,"props":21654,"children":21655},{"style":447},[21656],{"type":21,"value":849},{"type":15,"tag":252,"props":21658,"children":21659},{"style":265},[21660],{"type":21,"value":21661},"\"Clang/gcc failed\"",{"type":15,"tag":252,"props":21663,"children":21664},{"style":447},[21665],{"type":21,"value":21089},{"type":15,"tag":252,"props":21667,"children":21668},{"style":601},[21669],{"type":21,"value":5468},{"type":15,"tag":252,"props":21671,"children":21672},{"style":447},[21673],{"type":21,"value":3325},{"type":15,"tag":252,"props":21675,"children":21676},{"class":254,"line":2727},[21677],{"type":15,"tag":252,"props":21678,"children":21679},{"emptyLinePlaceholder":2053},[21680],{"type":21,"value":2056},{"type":15,"tag":252,"props":21682,"children":21683},{"class":254,"line":2735},[21684,21688],{"type":15,"tag":252,"props":21685,"children":21686},{"style":259},[21687],{"type":21,"value":4110},{"type":15,"tag":252,"props":21689,"children":21690},{"style":447},[21691],{"type":21,"value":4115},{"type":15,"tag":252,"props":21693,"children":21694},{"class":254,"line":2799},[21695],{"type":15,"tag":252,"props":21696,"children":21697},{"style":447},[21698],{"type":21,"value":2854},{"type":15,"tag":23,"props":21700,"children":21701},{},[21702,21704,21709],{"type":21,"value":21703},"Then we can use these in the ",{"type":15,"tag":81,"props":21705,"children":21707},{"className":21706},[],[21708],{"type":21,"value":5022},{"type":21,"value":21710}," function",{"type":15,"tag":95,"props":21712,"children":21714},{"code":21713,"language":772,"meta":8,"className":773,"style":8},"pub fn build(\n    file_name: &str,\n    output_file: &str,\n    options: CompilerOptions,\n) -> anyhow::Result\u003C()> {\n    // ...\n\n    let llvm_ir_output_file = temp_file::empty();\n    code_gen.output_to_file(llvm_ir_output_file.path(), &options);\n\n    let object_file = temp_file::empty();\n    compile_to_objectfile(\n        llvm_ir_output_file.path().to_str().unwrap(),\n        object_file.path().to_str().unwrap(),\n    )?;\n    compile_to_binary(object_file.path().to_str().unwrap(), output_file)?;\n\n    Ok(())\n}\n",[21715],{"type":15,"tag":81,"props":21716,"children":21717},{"__ignoreMap":8},[21718,21737,21761,21785,21805,21832,21840,21847,21878,21917,21924,21956,21968,22013,22057,22073,22131,22138,22149],{"type":15,"tag":252,"props":21719,"children":21720},{"class":254,"line":255},[21721,21725,21729,21733],{"type":15,"tag":252,"props":21722,"children":21723},{"style":601},[21724],{"type":21,"value":4740},{"type":15,"tag":252,"props":21726,"children":21727},{"style":601},[21728],{"type":21,"value":4901},{"type":15,"tag":252,"props":21730,"children":21731},{"style":259},[21732],{"type":21,"value":4906},{"type":15,"tag":252,"props":21734,"children":21735},{"style":447},[21736],{"type":21,"value":14196},{"type":15,"tag":252,"props":21738,"children":21739},{"class":254,"line":334},[21740,21745,21749,21753,21757],{"type":15,"tag":252,"props":21741,"children":21742},{"style":447},[21743],{"type":21,"value":21744},"    file_name",{"type":15,"tag":252,"props":21746,"children":21747},{"style":601},[21748],{"type":21,"value":3374},{"type":15,"tag":252,"props":21750,"children":21751},{"style":601},[21752],{"type":21,"value":4920},{"type":15,"tag":252,"props":21754,"children":21755},{"style":259},[21756],{"type":21,"value":4925},{"type":15,"tag":252,"props":21758,"children":21759},{"style":447},[21760],{"type":21,"value":3879},{"type":15,"tag":252,"props":21762,"children":21763},{"class":254,"line":390},[21764,21769,21773,21777,21781],{"type":15,"tag":252,"props":21765,"children":21766},{"style":447},[21767],{"type":21,"value":21768},"    output_file",{"type":15,"tag":252,"props":21770,"children":21771},{"style":601},[21772],{"type":21,"value":3374},{"type":15,"tag":252,"props":21774,"children":21775},{"style":601},[21776],{"type":21,"value":4920},{"type":15,"tag":252,"props":21778,"children":21779},{"style":259},[21780],{"type":21,"value":4925},{"type":15,"tag":252,"props":21782,"children":21783},{"style":447},[21784],{"type":21,"value":3879},{"type":15,"tag":252,"props":21786,"children":21787},{"class":254,"line":2077},[21788,21793,21797,21801],{"type":15,"tag":252,"props":21789,"children":21790},{"style":447},[21791],{"type":21,"value":21792},"    options",{"type":15,"tag":252,"props":21794,"children":21795},{"style":601},[21796],{"type":21,"value":3374},{"type":15,"tag":252,"props":21798,"children":21799},{"style":259},[21800],{"type":21,"value":4750},{"type":15,"tag":252,"props":21802,"children":21803},{"style":447},[21804],{"type":21,"value":3879},{"type":15,"tag":252,"props":21806,"children":21807},{"class":254,"line":2110},[21808,21812,21816,21820,21824,21828],{"type":15,"tag":252,"props":21809,"children":21810},{"style":447},[21811],{"type":21,"value":4943},{"type":15,"tag":252,"props":21813,"children":21814},{"style":601},[21815],{"type":21,"value":3947},{"type":15,"tag":252,"props":21817,"children":21818},{"style":259},[21819],{"type":21,"value":3952},{"type":15,"tag":252,"props":21821,"children":21822},{"style":601},[21823],{"type":21,"value":804},{"type":15,"tag":252,"props":21825,"children":21826},{"style":259},[21827],{"type":21,"value":3961},{"type":15,"tag":252,"props":21829,"children":21830},{"style":447},[21831],{"type":21,"value":3966},{"type":15,"tag":252,"props":21833,"children":21834},{"class":254,"line":2150},[21835],{"type":15,"tag":252,"props":21836,"children":21837},{"style":3287},[21838],{"type":21,"value":21839},"    // ...\n",{"type":15,"tag":252,"props":21841,"children":21842},{"class":254,"line":2182},[21843],{"type":15,"tag":252,"props":21844,"children":21845},{"emptyLinePlaceholder":2053},[21846],{"type":21,"value":2056},{"type":15,"tag":252,"props":21848,"children":21849},{"class":254,"line":2190},[21850,21854,21858,21862,21866,21870,21874],{"type":15,"tag":252,"props":21851,"children":21852},{"style":601},[21853],{"type":21,"value":2083},{"type":15,"tag":252,"props":21855,"children":21856},{"style":447},[21857],{"type":21,"value":20301},{"type":15,"tag":252,"props":21859,"children":21860},{"style":601},[21861],{"type":21,"value":614},{"type":15,"tag":252,"props":21863,"children":21864},{"style":259},[21865],{"type":21,"value":20310},{"type":15,"tag":252,"props":21867,"children":21868},{"style":601},[21869],{"type":21,"value":804},{"type":15,"tag":252,"props":21871,"children":21872},{"style":259},[21873],{"type":21,"value":20319},{"type":15,"tag":252,"props":21875,"children":21876},{"style":447},[21877],{"type":21,"value":814},{"type":15,"tag":252,"props":21879,"children":21880},{"class":254,"line":2222},[21881,21885,21889,21893,21897,21901,21905,21909,21913],{"type":15,"tag":252,"props":21882,"children":21883},{"style":447},[21884],{"type":21,"value":20260},{"type":15,"tag":252,"props":21886,"children":21887},{"style":601},[21888],{"type":21,"value":432},{"type":15,"tag":252,"props":21890,"children":21891},{"style":259},[21892],{"type":21,"value":20339},{"type":15,"tag":252,"props":21894,"children":21895},{"style":447},[21896],{"type":21,"value":20344},{"type":15,"tag":252,"props":21898,"children":21899},{"style":601},[21900],{"type":21,"value":432},{"type":15,"tag":252,"props":21902,"children":21903},{"style":259},[21904],{"type":21,"value":19864},{"type":15,"tag":252,"props":21906,"children":21907},{"style":447},[21908],{"type":21,"value":20357},{"type":15,"tag":252,"props":21910,"children":21911},{"style":601},[21912],{"type":21,"value":1171},{"type":15,"tag":252,"props":21914,"children":21915},{"style":447},[21916],{"type":21,"value":20366},{"type":15,"tag":252,"props":21918,"children":21919},{"class":254,"line":2270},[21920],{"type":15,"tag":252,"props":21921,"children":21922},{"emptyLinePlaceholder":2053},[21923],{"type":21,"value":2056},{"type":15,"tag":252,"props":21925,"children":21926},{"class":254,"line":2302},[21927,21931,21936,21940,21944,21948,21952],{"type":15,"tag":252,"props":21928,"children":21929},{"style":601},[21930],{"type":21,"value":2083},{"type":15,"tag":252,"props":21932,"children":21933},{"style":447},[21934],{"type":21,"value":21935}," object_file ",{"type":15,"tag":252,"props":21937,"children":21938},{"style":601},[21939],{"type":21,"value":614},{"type":15,"tag":252,"props":21941,"children":21942},{"style":259},[21943],{"type":21,"value":20310},{"type":15,"tag":252,"props":21945,"children":21946},{"style":601},[21947],{"type":21,"value":804},{"type":15,"tag":252,"props":21949,"children":21950},{"style":259},[21951],{"type":21,"value":20319},{"type":15,"tag":252,"props":21953,"children":21954},{"style":447},[21955],{"type":21,"value":814},{"type":15,"tag":252,"props":21957,"children":21958},{"class":254,"line":2310},[21959,21964],{"type":15,"tag":252,"props":21960,"children":21961},{"style":259},[21962],{"type":21,"value":21963},"    compile_to_objectfile",{"type":15,"tag":252,"props":21965,"children":21966},{"style":447},[21967],{"type":21,"value":14196},{"type":15,"tag":252,"props":21969,"children":21970},{"class":254,"line":2370},[21971,21976,21980,21984,21988,21992,21997,22001,22005,22009],{"type":15,"tag":252,"props":21972,"children":21973},{"style":447},[21974],{"type":21,"value":21975},"        llvm_ir_output_file",{"type":15,"tag":252,"props":21977,"children":21978},{"style":601},[21979],{"type":21,"value":432},{"type":15,"tag":252,"props":21981,"children":21982},{"style":259},[21983],{"type":21,"value":19864},{"type":15,"tag":252,"props":21985,"children":21986},{"style":447},[21987],{"type":21,"value":7305},{"type":15,"tag":252,"props":21989,"children":21990},{"style":601},[21991],{"type":21,"value":432},{"type":15,"tag":252,"props":21993,"children":21994},{"style":259},[21995],{"type":21,"value":21996},"to_str",{"type":15,"tag":252,"props":21998,"children":21999},{"style":447},[22000],{"type":21,"value":7305},{"type":15,"tag":252,"props":22002,"children":22003},{"style":601},[22004],{"type":21,"value":432},{"type":15,"tag":252,"props":22006,"children":22007},{"style":259},[22008],{"type":21,"value":1984},{"type":15,"tag":252,"props":22010,"children":22011},{"style":447},[22012],{"type":21,"value":10142},{"type":15,"tag":252,"props":22014,"children":22015},{"class":254,"line":2418},[22016,22021,22025,22029,22033,22037,22041,22045,22049,22053],{"type":15,"tag":252,"props":22017,"children":22018},{"style":447},[22019],{"type":21,"value":22020},"        object_file",{"type":15,"tag":252,"props":22022,"children":22023},{"style":601},[22024],{"type":21,"value":432},{"type":15,"tag":252,"props":22026,"children":22027},{"style":259},[22028],{"type":21,"value":19864},{"type":15,"tag":252,"props":22030,"children":22031},{"style":447},[22032],{"type":21,"value":7305},{"type":15,"tag":252,"props":22034,"children":22035},{"style":601},[22036],{"type":21,"value":432},{"type":15,"tag":252,"props":22038,"children":22039},{"style":259},[22040],{"type":21,"value":21996},{"type":15,"tag":252,"props":22042,"children":22043},{"style":447},[22044],{"type":21,"value":7305},{"type":15,"tag":252,"props":22046,"children":22047},{"style":601},[22048],{"type":21,"value":432},{"type":15,"tag":252,"props":22050,"children":22051},{"style":259},[22052],{"type":21,"value":1984},{"type":15,"tag":252,"props":22054,"children":22055},{"style":447},[22056],{"type":21,"value":10142},{"type":15,"tag":252,"props":22058,"children":22059},{"class":254,"line":2426},[22060,22065,22069],{"type":15,"tag":252,"props":22061,"children":22062},{"style":447},[22063],{"type":21,"value":22064},"    )",{"type":15,"tag":252,"props":22066,"children":22067},{"style":601},[22068],{"type":21,"value":5468},{"type":15,"tag":252,"props":22070,"children":22071},{"style":447},[22072],{"type":21,"value":3325},{"type":15,"tag":252,"props":22074,"children":22075},{"class":254,"line":2474},[22076,22081,22086,22090,22094,22098,22102,22106,22110,22114,22118,22123,22127],{"type":15,"tag":252,"props":22077,"children":22078},{"style":259},[22079],{"type":21,"value":22080},"    compile_to_binary",{"type":15,"tag":252,"props":22082,"children":22083},{"style":447},[22084],{"type":21,"value":22085},"(object_file",{"type":15,"tag":252,"props":22087,"children":22088},{"style":601},[22089],{"type":21,"value":432},{"type":15,"tag":252,"props":22091,"children":22092},{"style":259},[22093],{"type":21,"value":19864},{"type":15,"tag":252,"props":22095,"children":22096},{"style":447},[22097],{"type":21,"value":7305},{"type":15,"tag":252,"props":22099,"children":22100},{"style":601},[22101],{"type":21,"value":432},{"type":15,"tag":252,"props":22103,"children":22104},{"style":259},[22105],{"type":21,"value":21996},{"type":15,"tag":252,"props":22107,"children":22108},{"style":447},[22109],{"type":21,"value":7305},{"type":15,"tag":252,"props":22111,"children":22112},{"style":601},[22113],{"type":21,"value":432},{"type":15,"tag":252,"props":22115,"children":22116},{"style":259},[22117],{"type":21,"value":1984},{"type":15,"tag":252,"props":22119,"children":22120},{"style":447},[22121],{"type":21,"value":22122},"(), output_file)",{"type":15,"tag":252,"props":22124,"children":22125},{"style":601},[22126],{"type":21,"value":5468},{"type":15,"tag":252,"props":22128,"children":22129},{"style":447},[22130],{"type":21,"value":3325},{"type":15,"tag":252,"props":22132,"children":22133},{"class":254,"line":2522},[22134],{"type":15,"tag":252,"props":22135,"children":22136},{"emptyLinePlaceholder":2053},[22137],{"type":21,"value":2056},{"type":15,"tag":252,"props":22139,"children":22140},{"class":254,"line":2530},[22141,22145],{"type":15,"tag":252,"props":22142,"children":22143},{"style":259},[22144],{"type":21,"value":4110},{"type":15,"tag":252,"props":22146,"children":22147},{"style":447},[22148],{"type":21,"value":4115},{"type":15,"tag":252,"props":22150,"children":22151},{"class":254,"line":2570},[22152],{"type":15,"tag":252,"props":22153,"children":22154},{"style":447},[22155],{"type":21,"value":2854},{"type":15,"tag":23,"props":22157,"children":22158},{},[22159],{"type":21,"value":22160},"let's update our Run code to generate an output file and run it",{"type":15,"tag":95,"props":22162,"children":22164},{"code":22163,"language":772,"meta":8,"className":773,"style":8},"// main.rs\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            let output_file = temp_file::empty();\n            build(\n                &input_file,\n                output_file.path().to_str().unwrap(),\n                compiler_options,\n            )\n            .context(\"Building input file\")?;\n\n            let output = std::process::Command::new(output_file.path())\n                .spawn()?\n                .wait()?;\n\n            std::process::exit(output.code().unwrap_or(1));\n        }\n    }\n\n",[22165],{"type":15,"tag":81,"props":22166,"children":22167},{"__ignoreMap":8},[22168,22175,22194,22221,22253,22264,22277,22321,22329,22337,22369,22376,22438,22458,22481,22488,22551,22558],{"type":15,"tag":252,"props":22169,"children":22170},{"class":254,"line":255},[22171],{"type":15,"tag":252,"props":22172,"children":22173},{"style":3287},[22174],{"type":21,"value":5037},{"type":15,"tag":252,"props":22176,"children":22177},{"class":254,"line":334},[22178,22182,22186,22190],{"type":15,"tag":252,"props":22179,"children":22180},{"style":601},[22181],{"type":21,"value":4014},{"type":15,"tag":252,"props":22183,"children":22184},{"style":447},[22185],{"type":21,"value":4019},{"type":15,"tag":252,"props":22187,"children":22188},{"style":601},[22189],{"type":21,"value":432},{"type":15,"tag":252,"props":22191,"children":22192},{"style":447},[22193],{"type":21,"value":4028},{"type":15,"tag":252,"props":22195,"children":22196},{"class":254,"line":390},[22197,22201,22205,22209,22213,22217],{"type":15,"tag":252,"props":22198,"children":22199},{"style":259},[22200],{"type":21,"value":4036},{"type":15,"tag":252,"props":22202,"children":22203},{"style":601},[22204],{"type":21,"value":804},{"type":15,"tag":252,"props":22206,"children":22207},{"style":259},[22208],{"type":21,"value":3576},{"type":15,"tag":252,"props":22210,"children":22211},{"style":447},[22212],{"type":21,"value":4049},{"type":15,"tag":252,"props":22214,"children":22215},{"style":601},[22216],{"type":21,"value":4054},{"type":15,"tag":252,"props":22218,"children":22219},{"style":447},[22220],{"type":21,"value":3769},{"type":15,"tag":252,"props":22222,"children":22223},{"class":254,"line":2077},[22224,22228,22233,22237,22241,22245,22249],{"type":15,"tag":252,"props":22225,"children":22226},{"style":601},[22227],{"type":21,"value":15892},{"type":15,"tag":252,"props":22229,"children":22230},{"style":447},[22231],{"type":21,"value":22232}," output_file ",{"type":15,"tag":252,"props":22234,"children":22235},{"style":601},[22236],{"type":21,"value":614},{"type":15,"tag":252,"props":22238,"children":22239},{"style":259},[22240],{"type":21,"value":20310},{"type":15,"tag":252,"props":22242,"children":22243},{"style":601},[22244],{"type":21,"value":804},{"type":15,"tag":252,"props":22246,"children":22247},{"style":259},[22248],{"type":21,"value":20319},{"type":15,"tag":252,"props":22250,"children":22251},{"style":447},[22252],{"type":21,"value":814},{"type":15,"tag":252,"props":22254,"children":22255},{"class":254,"line":2110},[22256,22260],{"type":15,"tag":252,"props":22257,"children":22258},{"style":259},[22259],{"type":21,"value":5437},{"type":15,"tag":252,"props":22261,"children":22262},{"style":447},[22263],{"type":21,"value":14196},{"type":15,"tag":252,"props":22265,"children":22266},{"class":254,"line":2150},[22267,22272],{"type":15,"tag":252,"props":22268,"children":22269},{"style":601},[22270],{"type":21,"value":22271},"                &",{"type":15,"tag":252,"props":22273,"children":22274},{"style":447},[22275],{"type":21,"value":22276},"input_file,\n",{"type":15,"tag":252,"props":22278,"children":22279},{"class":254,"line":2182},[22280,22285,22289,22293,22297,22301,22305,22309,22313,22317],{"type":15,"tag":252,"props":22281,"children":22282},{"style":447},[22283],{"type":21,"value":22284},"                output_file",{"type":15,"tag":252,"props":22286,"children":22287},{"style":601},[22288],{"type":21,"value":432},{"type":15,"tag":252,"props":22290,"children":22291},{"style":259},[22292],{"type":21,"value":19864},{"type":15,"tag":252,"props":22294,"children":22295},{"style":447},[22296],{"type":21,"value":7305},{"type":15,"tag":252,"props":22298,"children":22299},{"style":601},[22300],{"type":21,"value":432},{"type":15,"tag":252,"props":22302,"children":22303},{"style":259},[22304],{"type":21,"value":21996},{"type":15,"tag":252,"props":22306,"children":22307},{"style":447},[22308],{"type":21,"value":7305},{"type":15,"tag":252,"props":22310,"children":22311},{"style":601},[22312],{"type":21,"value":432},{"type":15,"tag":252,"props":22314,"children":22315},{"style":259},[22316],{"type":21,"value":1984},{"type":15,"tag":252,"props":22318,"children":22319},{"style":447},[22320],{"type":21,"value":10142},{"type":15,"tag":252,"props":22322,"children":22323},{"class":254,"line":2190},[22324],{"type":15,"tag":252,"props":22325,"children":22326},{"style":447},[22327],{"type":21,"value":22328},"                compiler_options,\n",{"type":15,"tag":252,"props":22330,"children":22331},{"class":254,"line":2222},[22332],{"type":15,"tag":252,"props":22333,"children":22334},{"style":447},[22335],{"type":21,"value":22336},"            )\n",{"type":15,"tag":252,"props":22338,"children":22339},{"class":254,"line":2270},[22340,22344,22348,22352,22357,22361,22365],{"type":15,"tag":252,"props":22341,"children":22342},{"style":601},[22343],{"type":21,"value":10662},{"type":15,"tag":252,"props":22345,"children":22346},{"style":259},[22347],{"type":21,"value":908},{"type":15,"tag":252,"props":22349,"children":22350},{"style":447},[22351],{"type":21,"value":849},{"type":15,"tag":252,"props":22353,"children":22354},{"style":265},[22355],{"type":21,"value":22356},"\"Building input file\"",{"type":15,"tag":252,"props":22358,"children":22359},{"style":447},[22360],{"type":21,"value":1975},{"type":15,"tag":252,"props":22362,"children":22363},{"style":601},[22364],{"type":21,"value":5468},{"type":15,"tag":252,"props":22366,"children":22367},{"style":447},[22368],{"type":21,"value":3325},{"type":15,"tag":252,"props":22370,"children":22371},{"class":254,"line":2302},[22372],{"type":15,"tag":252,"props":22373,"children":22374},{"emptyLinePlaceholder":2053},[22375],{"type":21,"value":2056},{"type":15,"tag":252,"props":22377,"children":22378},{"class":254,"line":2310},[22379,22383,22388,22392,22396,22400,22404,22408,22412,22416,22420,22425,22429,22433],{"type":15,"tag":252,"props":22380,"children":22381},{"style":601},[22382],{"type":21,"value":15892},{"type":15,"tag":252,"props":22384,"children":22385},{"style":447},[22386],{"type":21,"value":22387}," output ",{"type":15,"tag":252,"props":22389,"children":22390},{"style":601},[22391],{"type":21,"value":614},{"type":15,"tag":252,"props":22393,"children":22394},{"style":259},[22395],{"type":21,"value":6894},{"type":15,"tag":252,"props":22397,"children":22398},{"style":601},[22399],{"type":21,"value":804},{"type":15,"tag":252,"props":22401,"children":22402},{"style":259},[22403],{"type":21,"value":21114},{"type":15,"tag":252,"props":22405,"children":22406},{"style":601},[22407],{"type":21,"value":804},{"type":15,"tag":252,"props":22409,"children":22410},{"style":259},[22411],{"type":21,"value":21123},{"type":15,"tag":252,"props":22413,"children":22414},{"style":601},[22415],{"type":21,"value":804},{"type":15,"tag":252,"props":22417,"children":22418},{"style":259},[22419],{"type":21,"value":7761},{"type":15,"tag":252,"props":22421,"children":22422},{"style":447},[22423],{"type":21,"value":22424},"(output_file",{"type":15,"tag":252,"props":22426,"children":22427},{"style":601},[22428],{"type":21,"value":432},{"type":15,"tag":252,"props":22430,"children":22431},{"style":259},[22432],{"type":21,"value":19864},{"type":15,"tag":252,"props":22434,"children":22435},{"style":447},[22436],{"type":21,"value":22437},"())\n",{"type":15,"tag":252,"props":22439,"children":22440},{"class":254,"line":2370},[22441,22446,22450,22454],{"type":15,"tag":252,"props":22442,"children":22443},{"style":601},[22444],{"type":21,"value":22445},"                .",{"type":15,"tag":252,"props":22447,"children":22448},{"style":259},[22449],{"type":21,"value":21185},{"type":15,"tag":252,"props":22451,"children":22452},{"style":447},[22453],{"type":21,"value":7305},{"type":15,"tag":252,"props":22455,"children":22456},{"style":601},[22457],{"type":21,"value":12564},{"type":15,"tag":252,"props":22459,"children":22460},{"class":254,"line":2418},[22461,22465,22469,22473,22477],{"type":15,"tag":252,"props":22462,"children":22463},{"style":601},[22464],{"type":21,"value":22445},{"type":15,"tag":252,"props":22466,"children":22467},{"style":259},[22468],{"type":21,"value":21205},{"type":15,"tag":252,"props":22470,"children":22471},{"style":447},[22472],{"type":21,"value":7305},{"type":15,"tag":252,"props":22474,"children":22475},{"style":601},[22476],{"type":21,"value":5468},{"type":15,"tag":252,"props":22478,"children":22479},{"style":447},[22480],{"type":21,"value":3325},{"type":15,"tag":252,"props":22482,"children":22483},{"class":254,"line":2426},[22484],{"type":15,"tag":252,"props":22485,"children":22486},{"emptyLinePlaceholder":2053},[22487],{"type":21,"value":2056},{"type":15,"tag":252,"props":22489,"children":22490},{"class":254,"line":2474},[22491,22496,22500,22504,22508,22513,22518,22522,22526,22530,22534,22539,22543,22547],{"type":15,"tag":252,"props":22492,"children":22493},{"style":259},[22494],{"type":21,"value":22495},"            std",{"type":15,"tag":252,"props":22497,"children":22498},{"style":601},[22499],{"type":21,"value":804},{"type":15,"tag":252,"props":22501,"children":22502},{"style":259},[22503],{"type":21,"value":21114},{"type":15,"tag":252,"props":22505,"children":22506},{"style":601},[22507],{"type":21,"value":804},{"type":15,"tag":252,"props":22509,"children":22510},{"style":259},[22511],{"type":21,"value":22512},"exit",{"type":15,"tag":252,"props":22514,"children":22515},{"style":447},[22516],{"type":21,"value":22517},"(output",{"type":15,"tag":252,"props":22519,"children":22520},{"style":601},[22521],{"type":21,"value":432},{"type":15,"tag":252,"props":22523,"children":22524},{"style":259},[22525],{"type":21,"value":81},{"type":15,"tag":252,"props":22527,"children":22528},{"style":447},[22529],{"type":21,"value":7305},{"type":15,"tag":252,"props":22531,"children":22532},{"style":601},[22533],{"type":21,"value":432},{"type":15,"tag":252,"props":22535,"children":22536},{"style":259},[22537],{"type":21,"value":22538},"unwrap_or",{"type":15,"tag":252,"props":22540,"children":22541},{"style":447},[22542],{"type":21,"value":849},{"type":15,"tag":252,"props":22544,"children":22545},{"style":276},[22546],{"type":21,"value":6162},{"type":15,"tag":252,"props":22548,"children":22549},{"style":447},[22550],{"type":21,"value":10065},{"type":15,"tag":252,"props":22552,"children":22553},{"class":254,"line":2522},[22554],{"type":15,"tag":252,"props":22555,"children":22556},{"style":447},[22557],{"type":21,"value":4087},{"type":15,"tag":252,"props":22559,"children":22560},{"class":254,"line":2530},[22561],{"type":15,"tag":252,"props":22562,"children":22563},{"style":447},[22564],{"type":21,"value":4095},{"type":15,"tag":23,"props":22566,"children":22567},{},[22568,22570,22576,22578,22583,22584,22589,22591],{"type":21,"value":22569},"if we now just run our script, ",{"type":15,"tag":81,"props":22571,"children":22573},{"className":22572},[],[22574],{"type":21,"value":22575},"cargo run -- run test.viv",{"type":21,"value":22577}," you should see ",{"type":15,"tag":81,"props":22579,"children":22581},{"className":22580},[],[22582],{"type":21,"value":6162},{"type":21,"value":3071},{"type":15,"tag":81,"props":22585,"children":22587},{"className":22586},[],[22588],{"type":21,"value":6223},{"type":21,"value":22590}," being printed on the terminal! Congratulations! We now have a fully working compiler ",{"type":15,"tag":234,"props":22592,"children":22593},{},[],{"type":15,"tag":192,"props":22595,"children":22597},{"id":22596},"build-command",[22598],{"type":21,"value":22599},"Build command",{"type":15,"tag":23,"props":22601,"children":22602},{},[22603,22605,22610],{"type":21,"value":22604},"Just one last thing I want to add before we wrap up, add a ",{"type":15,"tag":81,"props":22606,"children":22608},{"className":22607},[],[22609],{"type":21,"value":5022},{"type":21,"value":22611}," command, what use is a compiler if we can't save our binary?",{"type":15,"tag":95,"props":22613,"children":22615},{"code":22614,"language":772,"meta":8,"className":773,"style":8},"// main.rs\n\n#[derive(Subcommand)]\nenum CompilerCommand {\n    /// Compile and run file\n    Run { input_file: String },\n    /// Compile file\n    Build {\n        input_file: String,\n        output_file: String,\n    },\n}\n\n// ...\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            // ...\n        }\n        CompilerCommand::Build {\n            input_file,\n            output_file,\n        } => {\n            build(&input_file, &output_file, compiler_options).context(\"Building input file\")?;\n        }\n    }\n",[22616],{"type":15,"tag":81,"props":22617,"children":22618},{"__ignoreMap":8},[22619,22626,22633,22648,22663,22670,22693,22701,22713,22733,22753,22761,22768,22775,22782,22789,22808,22835,22843,22850,22870,22878,22886,22901,22958,22965],{"type":15,"tag":252,"props":22620,"children":22621},{"class":254,"line":255},[22622],{"type":15,"tag":252,"props":22623,"children":22624},{"style":3287},[22625],{"type":21,"value":5037},{"type":15,"tag":252,"props":22627,"children":22628},{"class":254,"line":334},[22629],{"type":15,"tag":252,"props":22630,"children":22631},{"emptyLinePlaceholder":2053},[22632],{"type":21,"value":2056},{"type":15,"tag":252,"props":22634,"children":22635},{"class":254,"line":390},[22636,22640,22644],{"type":15,"tag":252,"props":22637,"children":22638},{"style":447},[22639],{"type":21,"value":3742},{"type":15,"tag":252,"props":22641,"children":22642},{"style":259},[22643],{"type":21,"value":3723},{"type":15,"tag":252,"props":22645,"children":22646},{"style":447},[22647],{"type":21,"value":3751},{"type":15,"tag":252,"props":22649,"children":22650},{"class":254,"line":2077},[22651,22655,22659],{"type":15,"tag":252,"props":22652,"children":22653},{"style":601},[22654],{"type":21,"value":3759},{"type":15,"tag":252,"props":22656,"children":22657},{"style":259},[22658],{"type":21,"value":3764},{"type":15,"tag":252,"props":22660,"children":22661},{"style":447},[22662],{"type":21,"value":3769},{"type":15,"tag":252,"props":22664,"children":22665},{"class":254,"line":2110},[22666],{"type":15,"tag":252,"props":22667,"children":22668},{"style":3287},[22669],{"type":21,"value":3777},{"type":15,"tag":252,"props":22671,"children":22672},{"class":254,"line":2150},[22673,22677,22681,22685,22689],{"type":15,"tag":252,"props":22674,"children":22675},{"style":259},[22676],{"type":21,"value":3785},{"type":15,"tag":252,"props":22678,"children":22679},{"style":447},[22680],{"type":21,"value":3790},{"type":15,"tag":252,"props":22682,"children":22683},{"style":601},[22684],{"type":21,"value":3374},{"type":15,"tag":252,"props":22686,"children":22687},{"style":259},[22688],{"type":21,"value":3799},{"type":15,"tag":252,"props":22690,"children":22691},{"style":447},[22692],{"type":21,"value":3804},{"type":15,"tag":252,"props":22694,"children":22695},{"class":254,"line":2182},[22696],{"type":15,"tag":252,"props":22697,"children":22698},{"style":3287},[22699],{"type":21,"value":22700},"    /// Compile file\n",{"type":15,"tag":252,"props":22702,"children":22703},{"class":254,"line":2190},[22704,22709],{"type":15,"tag":252,"props":22705,"children":22706},{"style":259},[22707],{"type":21,"value":22708},"    Build",{"type":15,"tag":252,"props":22710,"children":22711},{"style":447},[22712],{"type":21,"value":3769},{"type":15,"tag":252,"props":22714,"children":22715},{"class":254,"line":2222},[22716,22721,22725,22729],{"type":15,"tag":252,"props":22717,"children":22718},{"style":447},[22719],{"type":21,"value":22720},"        input_file",{"type":15,"tag":252,"props":22722,"children":22723},{"style":601},[22724],{"type":21,"value":3374},{"type":15,"tag":252,"props":22726,"children":22727},{"style":259},[22728],{"type":21,"value":3799},{"type":15,"tag":252,"props":22730,"children":22731},{"style":447},[22732],{"type":21,"value":3879},{"type":15,"tag":252,"props":22734,"children":22735},{"class":254,"line":2270},[22736,22741,22745,22749],{"type":15,"tag":252,"props":22737,"children":22738},{"style":447},[22739],{"type":21,"value":22740},"        output_file",{"type":15,"tag":252,"props":22742,"children":22743},{"style":601},[22744],{"type":21,"value":3374},{"type":15,"tag":252,"props":22746,"children":22747},{"style":259},[22748],{"type":21,"value":3799},{"type":15,"tag":252,"props":22750,"children":22751},{"style":447},[22752],{"type":21,"value":3879},{"type":15,"tag":252,"props":22754,"children":22755},{"class":254,"line":2302},[22756],{"type":15,"tag":252,"props":22757,"children":22758},{"style":447},[22759],{"type":21,"value":22760},"    },\n",{"type":15,"tag":252,"props":22762,"children":22763},{"class":254,"line":2310},[22764],{"type":15,"tag":252,"props":22765,"children":22766},{"style":447},[22767],{"type":21,"value":2854},{"type":15,"tag":252,"props":22769,"children":22770},{"class":254,"line":2370},[22771],{"type":15,"tag":252,"props":22772,"children":22773},{"emptyLinePlaceholder":2053},[22774],{"type":21,"value":2056},{"type":15,"tag":252,"props":22776,"children":22777},{"class":254,"line":2418},[22778],{"type":15,"tag":252,"props":22779,"children":22780},{"style":3287},[22781],{"type":21,"value":5105},{"type":15,"tag":252,"props":22783,"children":22784},{"class":254,"line":2426},[22785],{"type":15,"tag":252,"props":22786,"children":22787},{"emptyLinePlaceholder":2053},[22788],{"type":21,"value":2056},{"type":15,"tag":252,"props":22790,"children":22791},{"class":254,"line":2474},[22792,22796,22800,22804],{"type":15,"tag":252,"props":22793,"children":22794},{"style":601},[22795],{"type":21,"value":4014},{"type":15,"tag":252,"props":22797,"children":22798},{"style":447},[22799],{"type":21,"value":4019},{"type":15,"tag":252,"props":22801,"children":22802},{"style":601},[22803],{"type":21,"value":432},{"type":15,"tag":252,"props":22805,"children":22806},{"style":447},[22807],{"type":21,"value":4028},{"type":15,"tag":252,"props":22809,"children":22810},{"class":254,"line":2522},[22811,22815,22819,22823,22827,22831],{"type":15,"tag":252,"props":22812,"children":22813},{"style":259},[22814],{"type":21,"value":4036},{"type":15,"tag":252,"props":22816,"children":22817},{"style":601},[22818],{"type":21,"value":804},{"type":15,"tag":252,"props":22820,"children":22821},{"style":259},[22822],{"type":21,"value":3576},{"type":15,"tag":252,"props":22824,"children":22825},{"style":447},[22826],{"type":21,"value":4049},{"type":15,"tag":252,"props":22828,"children":22829},{"style":601},[22830],{"type":21,"value":4054},{"type":15,"tag":252,"props":22832,"children":22833},{"style":447},[22834],{"type":21,"value":3769},{"type":15,"tag":252,"props":22836,"children":22837},{"class":254,"line":2530},[22838],{"type":15,"tag":252,"props":22839,"children":22840},{"style":3287},[22841],{"type":21,"value":22842},"            // ...\n",{"type":15,"tag":252,"props":22844,"children":22845},{"class":254,"line":2570},[22846],{"type":15,"tag":252,"props":22847,"children":22848},{"style":447},[22849],{"type":21,"value":4087},{"type":15,"tag":252,"props":22851,"children":22852},{"class":254,"line":2591},[22853,22857,22861,22866],{"type":15,"tag":252,"props":22854,"children":22855},{"style":259},[22856],{"type":21,"value":4036},{"type":15,"tag":252,"props":22858,"children":22859},{"style":601},[22860],{"type":21,"value":804},{"type":15,"tag":252,"props":22862,"children":22863},{"style":259},[22864],{"type":21,"value":22865},"Build",{"type":15,"tag":252,"props":22867,"children":22868},{"style":447},[22869],{"type":21,"value":3769},{"type":15,"tag":252,"props":22871,"children":22872},{"class":254,"line":2599},[22873],{"type":15,"tag":252,"props":22874,"children":22875},{"style":447},[22876],{"type":21,"value":22877},"            input_file,\n",{"type":15,"tag":252,"props":22879,"children":22880},{"class":254,"line":2647},[22881],{"type":15,"tag":252,"props":22882,"children":22883},{"style":447},[22884],{"type":21,"value":22885},"            output_file,\n",{"type":15,"tag":252,"props":22887,"children":22888},{"class":254,"line":2679},[22889,22893,22897],{"type":15,"tag":252,"props":22890,"children":22891},{"style":447},[22892],{"type":21,"value":8391},{"type":15,"tag":252,"props":22894,"children":22895},{"style":601},[22896],{"type":21,"value":4054},{"type":15,"tag":252,"props":22898,"children":22899},{"style":447},[22900],{"type":21,"value":3769},{"type":15,"tag":252,"props":22902,"children":22903},{"class":254,"line":2727},[22904,22908,22912,22916,22921,22925,22930,22934,22938,22942,22946,22950,22954],{"type":15,"tag":252,"props":22905,"children":22906},{"style":259},[22907],{"type":21,"value":5437},{"type":15,"tag":252,"props":22909,"children":22910},{"style":447},[22911],{"type":21,"value":849},{"type":15,"tag":252,"props":22913,"children":22914},{"style":601},[22915],{"type":21,"value":1171},{"type":15,"tag":252,"props":22917,"children":22918},{"style":447},[22919],{"type":21,"value":22920},"input_file, ",{"type":15,"tag":252,"props":22922,"children":22923},{"style":601},[22924],{"type":21,"value":1171},{"type":15,"tag":252,"props":22926,"children":22927},{"style":447},[22928],{"type":21,"value":22929},"output_file, compiler_options)",{"type":15,"tag":252,"props":22931,"children":22932},{"style":601},[22933],{"type":21,"value":432},{"type":15,"tag":252,"props":22935,"children":22936},{"style":259},[22937],{"type":21,"value":908},{"type":15,"tag":252,"props":22939,"children":22940},{"style":447},[22941],{"type":21,"value":849},{"type":15,"tag":252,"props":22943,"children":22944},{"style":265},[22945],{"type":21,"value":22356},{"type":15,"tag":252,"props":22947,"children":22948},{"style":447},[22949],{"type":21,"value":1975},{"type":15,"tag":252,"props":22951,"children":22952},{"style":601},[22953],{"type":21,"value":5468},{"type":15,"tag":252,"props":22955,"children":22956},{"style":447},[22957],{"type":21,"value":3325},{"type":15,"tag":252,"props":22959,"children":22960},{"class":254,"line":2735},[22961],{"type":15,"tag":252,"props":22962,"children":22963},{"style":447},[22964],{"type":21,"value":4087},{"type":15,"tag":252,"props":22966,"children":22967},{"class":254,"line":2799},[22968],{"type":15,"tag":252,"props":22969,"children":22970},{"style":447},[22971],{"type":21,"value":4095},{"type":15,"tag":23,"props":22973,"children":22974},{},[22975],{"type":21,"value":22976},"we can now test our new command.",{"type":15,"tag":95,"props":22978,"children":22980},{"code":22979,"language":245,"meta":8,"className":246,"style":8},"cargo run -- build test.viv test \n./test\n",[22981],{"type":15,"tag":81,"props":22982,"children":22983},{"__ignoreMap":8},[22984,23017],{"type":15,"tag":252,"props":22985,"children":22986},{"class":254,"line":255},[22987,22991,22995,22999,23003,23007,23012],{"type":15,"tag":252,"props":22988,"children":22989},{"style":259},[22990],{"type":21,"value":262},{"type":15,"tag":252,"props":22992,"children":22993},{"style":265},[22994],{"type":21,"value":3621},{"type":15,"tag":252,"props":22996,"children":22997},{"style":276},[22998],{"type":21,"value":3670},{"type":15,"tag":252,"props":23000,"children":23001},{"style":265},[23002],{"type":21,"value":4906},{"type":15,"tag":252,"props":23004,"children":23005},{"style":265},[23006],{"type":21,"value":11174},{"type":15,"tag":252,"props":23008,"children":23009},{"style":265},[23010],{"type":21,"value":23011}," test",{"type":15,"tag":252,"props":23013,"children":23014},{"style":447},[23015],{"type":21,"value":23016}," \n",{"type":15,"tag":252,"props":23018,"children":23019},{"class":254,"line":334},[23020],{"type":15,"tag":252,"props":23021,"children":23022},{"style":259},[23023],{"type":21,"value":23024},"./test\n",{"type":15,"tag":192,"props":23026,"children":23028},{"id":23027},"conlusion",[23029],{"type":21,"value":23030},"Conlusion",{"type":15,"tag":23,"props":23032,"children":23033},{},[23034],{"type":21,"value":23035},"So today we made a complete compiler, fair enough it does only support printing numbers, but my god wasn't it fun! So much learning, if you want you can go ahead and play with this, try changing the syntax, and maybe even add more features yourself?",{"type":15,"tag":192,"props":23037,"children":23039},{"id":23038},"next-steps",[23040],{"type":21,"value":23041},"Next steps",{"type":15,"tag":23,"props":23043,"children":23044},{},[23045],{"type":21,"value":23046},"In the next post we will create the next obvious feature booleans!\n... wait really? booleans? we don't even have operators!",{"type":15,"tag":23,"props":23048,"children":23049},{},[23050,23052,23057,23059,23064],{"type":21,"value":23051},"And yhe you are right, it is a bit unusual, our first operator will be ",{"type":15,"tag":81,"props":23053,"children":23055},{"className":23054},[],[23056],{"type":21,"value":8304},{"type":21,"value":23058},", but there is a good reason. I want to start writing integration tests, and for that, we need ",{"type":15,"tag":81,"props":23060,"children":23062},{"className":23061},[],[23063],{"type":21,"value":8304},{"type":21,"value":432},{"type":15,"tag":23,"props":23066,"children":23067},{},[23068],{"type":21,"value":23069},"But we will do that next! If you have any questions feel free to leave them in the comments below.",{"type":15,"tag":3134,"props":23071,"children":23072},{},[23073],{"type":21,"value":3138},{"title":8,"searchDepth":334,"depth":334,"links":23075},[23076,23080,23084,23085,23086],{"id":14426,"depth":334,"text":14429,"children":23077},[23078,23079],{"id":14557,"depth":390,"text":14560},{"id":14893,"depth":390,"text":14896},{"id":16844,"depth":334,"text":16847,"children":23081},[23082,23083],{"id":16862,"depth":390,"text":16865},{"id":20390,"depth":390,"text":20393},{"id":22596,"depth":334,"text":22599},{"id":23027,"depth":334,"text":23030},{"id":23038,"depth":334,"text":23041},"content:blog:3.compiler_3.md","blog/3.compiler_3.md",{"_path":23090,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":23091,"description":23092,"body":23093,"_type":3151,"_id":38518,"_source":3153,"_file":38519,"_extension":3155},"/blog/compiler_4","Compiler Part 3 - Integration testing","In todays blog post we are going to implement assert so we can start writing tests.",{"type":12,"children":23094,"toc":38491},[23095,23100,23112,23126,23132,23145,23183,23191,23196,23204,23210,23215,23256,23275,23283,23288,23294,23299,23303,23327,23474,23479,24300,24305,24453,24458,25291,25295,25300,25444,25449,26056,26062,26067,26708,26713,26721,26727,26732,26737,26742,27091,27106,27116,27211,27216,27899,27904,27909,28071,28076,29093,29098,29103,29913,29932,29937,29949,30020,30032,30037,30049,30869,30903,30915,31026,31031,31706,31712,31717,31828,31833,32228,32240,32245,32272,33819,33831,33839,33865,33892,33898,33911,33916,33924,33929,33931,33936,33938,35167,35180,35186,35198,35204,35209,35217,35222,35249,35351,35356,36075,36080,36269,36288,36325,36330,36893,36898,36903,36908,37173,37181,37186,37768,37773,37778,38449,38454,38458,38487],{"type":15,"tag":16,"props":23096,"children":23098},{"id":23097},"compiler-part-3-integration-testing",[23099],{"type":21,"value":23091},{"type":15,"tag":23,"props":23101,"children":23102},{},[23103,23105,23110],{"type":21,"value":23104},"In todays blog post we are going to implement ",{"type":15,"tag":81,"props":23106,"children":23108},{"className":23107},[],[23109],{"type":21,"value":86},{"type":21,"value":23111}," so we can start writing tests.",{"type":15,"tag":23,"props":23113,"children":23114},{},[23115,23117,23124],{"type":21,"value":23116},"And as always you can find the code ",{"type":15,"tag":43,"props":23118,"children":23121},{"href":23119,"rel":23120},"https://github.com/vivax3794/viv_script_blog/tree/7fd10b62da16bab7d48cd5074795ea3ba5c850d7",[47],[23122],{"type":21,"value":23123},"here",{"type":21,"value":23125},";",{"type":15,"tag":59,"props":23127,"children":23129},{"id":23128},"why-assert-so-early",[23130],{"type":21,"value":23131},"Why assert so early?",{"type":15,"tag":23,"props":23133,"children":23134},{},[23135,23137,23143],{"type":21,"value":23136},"Simple, testing, we could test using stdout, but that gets annoying as we need to keep track of expected output somewhere, and an assert statement is just way more convenient. Our assert statement is gonna take the format of ",{"type":15,"tag":81,"props":23138,"children":23140},{"className":23139},[],[23141],{"type":21,"value":23142},"assert condition, message;",{"type":21,"value":23144}," (message will be optional). That means we will add string to our tokenizer today! but we wont implement full on strings until later posts.",{"type":15,"tag":23,"props":23146,"children":23147},{},[23148,23150,23155,23156,23161,23162,23167,23169,23174,23176,23181],{"type":21,"value":23149},"We are going to start with just ",{"type":15,"tag":81,"props":23151,"children":23153},{"className":23152},[],[23154],{"type":21,"value":1195},{"type":21,"value":1613},{"type":15,"tag":81,"props":23157,"children":23159},{"className":23158},[],[23160],{"type":21,"value":1456},{"type":21,"value":3071},{"type":15,"tag":81,"props":23163,"children":23165},{"className":23164},[],[23166],{"type":21,"value":86},{"type":21,"value":23168},", then adding ",{"type":15,"tag":81,"props":23170,"children":23172},{"className":23171},[],[23173],{"type":21,"value":8304},{"type":21,"value":23175}," at the end. This will also give us a look at how ",{"type":15,"tag":81,"props":23177,"children":23179},{"className":23178},[],[23180],{"type":21,"value":1627},{"type":21,"value":23182},"s are structured, as that is really all asserts are!",{"type":15,"tag":95,"props":23184,"children":23186},{"code":23185},"assert x == 2, \"stuff broke\";\n",[23187],{"type":15,"tag":81,"props":23188,"children":23189},{"__ignoreMap":8},[23190],{"type":21,"value":23185},{"type":15,"tag":23,"props":23192,"children":23193},{},[23194],{"type":21,"value":23195},"can be thought of as:",{"type":15,"tag":95,"props":23197,"children":23199},{"code":23198},"if !x == 2 {\n    printf(\"assert failed: stuff broke\");\n    exit(1);\n}\n",[23200],{"type":15,"tag":81,"props":23201,"children":23202},{"__ignoreMap":8},[23203],{"type":21,"value":23198},{"type":15,"tag":59,"props":23205,"children":23207},{"id":23206},"breaking-changes",[23208],{"type":21,"value":23209},"Breaking changes",{"type":15,"tag":23,"props":23211,"children":23212},{},[23213],{"type":21,"value":23214},"So now that we are writing tests breaking changes are gonna become annoying as we have to update tests. So we are going to avoid them as best we can!",{"type":15,"tag":23,"props":23216,"children":23217},{},[23218,23220,23225,23227,23232,23234,23239,23241,23246,23248,23254],{"type":21,"value":23219},"Put that posses a question, we dont have a ",{"type":15,"tag":81,"props":23221,"children":23223},{"className":23222},[],[23224],{"type":21,"value":1379},{"type":21,"value":23226}," function yet, we dont have functions at all. Should we add the very minimal to support ",{"type":15,"tag":81,"props":23228,"children":23230},{"className":23229},[],[23231],{"type":21,"value":1379},{"type":21,"value":23233},", or just have stuff at the top level? But then in the future should we ever add ",{"type":15,"tag":81,"props":23235,"children":23237},{"className":23236},[],[23238],{"type":21,"value":1379},{"type":21,"value":23240}," and what does that mean? If we dont we have to somehow separate the stuff that should go in ",{"type":15,"tag":81,"props":23242,"children":23244},{"className":23243},[],[23245],{"type":21,"value":1379},{"type":21,"value":23247}," and what is actually top level, and that would only work in the ",{"type":15,"tag":81,"props":23249,"children":23251},{"className":23250},[],[23252],{"type":21,"value":23253},"main.viv",{"type":21,"value":23255}," file! In other words it is a bit of a pain :/",{"type":15,"tag":23,"props":23257,"children":23258},{},[23259,23261,23266,23268,23273],{"type":21,"value":23260},"So we need a way to specify a ",{"type":15,"tag":81,"props":23262,"children":23264},{"className":23263},[],[23265],{"type":21,"value":1379},{"type":21,"value":23267},", but also do we want to have ",{"type":15,"tag":81,"props":23269,"children":23271},{"className":23270},[],[23272],{"type":21,"value":1379},{"type":21,"value":23274}," be some special name like every other lang out there, or should we be a snowflake? Since doing half the work of adding functions is kinda annoying, we could have special syntax for main!",{"type":15,"tag":95,"props":23276,"children":23278},{"code":23277},"${\n    print 1;\n    print 2;\n}\n",[23279],{"type":15,"tag":81,"props":23280,"children":23281},{"__ignoreMap":8},[23282],{"type":21,"value":23277},{"type":15,"tag":23,"props":23284,"children":23285},{},[23286],{"type":21,"value":23287},"It is a bit unusual to be sure, but I think this might work for us!",{"type":15,"tag":192,"props":23289,"children":23291},{"id":23290},"creating-main",[23292],{"type":21,"value":23293},"Creating main",{"type":15,"tag":23,"props":23295,"children":23296},{},[23297],{"type":21,"value":23298},"So we are gonna now introduce two type of statement, TopLevel and Normal statements, TopLevel is stuff like imports, functions, main, struct. While normal is stuff like assignment, print, if, etc...",{"type":15,"tag":59,"props":23300,"children":23301},{"id":5538},[23302],{"type":21,"value":5541},{"type":15,"tag":23,"props":23304,"children":23305},{},[23306,23308,23314,23315,23320,23321],{"type":21,"value":23307},"We are going to need some new tokens, for ",{"type":15,"tag":81,"props":23309,"children":23311},{"className":23310},[],[23312],{"type":21,"value":23313},"$",{"type":21,"value":1076},{"type":15,"tag":81,"props":23316,"children":23318},{"className":23317},[],[23319],{"type":21,"value":2021},{"type":21,"value":3071},{"type":15,"tag":81,"props":23322,"children":23324},{"className":23323},[],[23325],{"type":21,"value":23326},"}",{"type":15,"tag":95,"props":23328,"children":23330},{"code":23329,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\npub enum TokenType {\n    Integer(IntType),\n    Identifier(String),\n    Print,\n    SemiColon,\n    Dollar,\n    CurlyOpen,\n    CurlyClose,\n    Eof,\n}\n",[23331],{"type":15,"tag":81,"props":23332,"children":23333},{"__ignoreMap":8},[23334,23341,23360,23379,23398,23409,23420,23432,23444,23456,23467],{"type":15,"tag":252,"props":23335,"children":23336},{"class":254,"line":255},[23337],{"type":15,"tag":252,"props":23338,"children":23339},{"style":3287},[23340],{"type":21,"value":3290},{"type":15,"tag":252,"props":23342,"children":23343},{"class":254,"line":334},[23344,23348,23352,23356],{"type":15,"tag":252,"props":23345,"children":23346},{"style":601},[23347],{"type":21,"value":4740},{"type":15,"tag":252,"props":23349,"children":23350},{"style":601},[23351],{"type":21,"value":5869},{"type":15,"tag":252,"props":23353,"children":23354},{"style":259},[23355],{"type":21,"value":6463},{"type":15,"tag":252,"props":23357,"children":23358},{"style":447},[23359],{"type":21,"value":3769},{"type":15,"tag":252,"props":23361,"children":23362},{"class":254,"line":390},[23363,23367,23371,23375],{"type":15,"tag":252,"props":23364,"children":23365},{"style":259},[23366],{"type":21,"value":6025},{"type":15,"tag":252,"props":23368,"children":23369},{"style":447},[23370],{"type":21,"value":849},{"type":15,"tag":252,"props":23372,"children":23373},{"style":259},[23374],{"type":21,"value":5765},{"type":15,"tag":252,"props":23376,"children":23377},{"style":447},[23378],{"type":21,"value":5899},{"type":15,"tag":252,"props":23380,"children":23381},{"class":254,"line":2077},[23382,23386,23390,23394],{"type":15,"tag":252,"props":23383,"children":23384},{"style":259},[23385],{"type":21,"value":6494},{"type":15,"tag":252,"props":23387,"children":23388},{"style":447},[23389],{"type":21,"value":849},{"type":15,"tag":252,"props":23391,"children":23392},{"style":259},[23393],{"type":21,"value":6503},{"type":15,"tag":252,"props":23395,"children":23396},{"style":447},[23397],{"type":21,"value":5899},{"type":15,"tag":252,"props":23399,"children":23400},{"class":254,"line":2110},[23401,23405],{"type":15,"tag":252,"props":23402,"children":23403},{"style":259},[23404],{"type":21,"value":5886},{"type":15,"tag":252,"props":23406,"children":23407},{"style":447},[23408],{"type":21,"value":3879},{"type":15,"tag":252,"props":23410,"children":23411},{"class":254,"line":2150},[23412,23416],{"type":15,"tag":252,"props":23413,"children":23414},{"style":259},[23415],{"type":21,"value":6526},{"type":15,"tag":252,"props":23417,"children":23418},{"style":447},[23419],{"type":21,"value":3879},{"type":15,"tag":252,"props":23421,"children":23422},{"class":254,"line":2182},[23423,23428],{"type":15,"tag":252,"props":23424,"children":23425},{"style":259},[23426],{"type":21,"value":23427},"    Dollar",{"type":15,"tag":252,"props":23429,"children":23430},{"style":447},[23431],{"type":21,"value":3879},{"type":15,"tag":252,"props":23433,"children":23434},{"class":254,"line":2190},[23435,23440],{"type":15,"tag":252,"props":23436,"children":23437},{"style":259},[23438],{"type":21,"value":23439},"    CurlyOpen",{"type":15,"tag":252,"props":23441,"children":23442},{"style":447},[23443],{"type":21,"value":3879},{"type":15,"tag":252,"props":23445,"children":23446},{"class":254,"line":2222},[23447,23452],{"type":15,"tag":252,"props":23448,"children":23449},{"style":259},[23450],{"type":21,"value":23451},"    CurlyClose",{"type":15,"tag":252,"props":23453,"children":23454},{"style":447},[23455],{"type":21,"value":3879},{"type":15,"tag":252,"props":23457,"children":23458},{"class":254,"line":2270},[23459,23463],{"type":15,"tag":252,"props":23460,"children":23461},{"style":259},[23462],{"type":21,"value":6538},{"type":15,"tag":252,"props":23464,"children":23465},{"style":447},[23466],{"type":21,"value":3879},{"type":15,"tag":252,"props":23468,"children":23469},{"class":254,"line":2302},[23470],{"type":15,"tag":252,"props":23471,"children":23472},{"style":447},[23473],{"type":21,"value":2854},{"type":15,"tag":23,"props":23475,"children":23476},{},[23477],{"type":21,"value":23478},"Lets modify our tokenize function to parse these",{"type":15,"tag":95,"props":23480,"children":23482},{"code":23481,"language":772,"meta":8,"className":773,"style":8},"    pub fn tokenize(mut self) -> Result\u003CVec\u003CToken>, TokenizerError> {\n        let mut tokens = Vec::new();\n        while let Ok(&c) = self.code.peek() {\n            match c {\n                c if c.is_ascii_digit() => tokens.push(self.consume_number()),\n                c if c.is_ascii_alphabetic() => tokens.push(self.consume_identifier()),\n                c if c.is_ascii_whitespace() => self.consume_whitespace(),\n                '#' => self.consume_comment(),\n                _ => {\n                    self.void();\n\n                     match c {\n                        ';' => tokens.push(self.token(TokenType::SemiColon)),\n                        '$' => tokens.push(self.token(TokenType::Dollar)),\n                        '{' => tokens.push(self.token(TokenType::CurlyOpen)),\n                        '}' => tokens.push(self.token(TokenType::CurlyClose)),\n                        _ => self.error(format!(\"Unexpected character: {}\", c))?,\n                    }\n                }\n            }\n        }\n        tokens.push(self.token(TokenType::Eof));\n        Ok(tokens)\n    }\n",[23483],{"type":15,"tag":81,"props":23484,"children":23485},{"__ignoreMap":8},[23486,23553,23588,23643,23654,23717,23780,23827,23854,23869,23888,23895,23907,23967,24028,24089,24150,24202,24210,24217,24224,24231,24282,24293],{"type":15,"tag":252,"props":23487,"children":23488},{"class":254,"line":255},[23489,23493,23497,23501,23505,23509,23513,23517,23521,23525,23529,23533,23537,23541,23545,23549],{"type":15,"tag":252,"props":23490,"children":23491},{"style":601},[23492],{"type":21,"value":4762},{"type":15,"tag":252,"props":23494,"children":23495},{"style":601},[23496],{"type":21,"value":4901},{"type":15,"tag":252,"props":23498,"children":23499},{"style":259},[23500],{"type":21,"value":9704},{"type":15,"tag":252,"props":23502,"children":23503},{"style":447},[23504],{"type":21,"value":849},{"type":15,"tag":252,"props":23506,"children":23507},{"style":601},[23508],{"type":21,"value":9713},{"type":15,"tag":252,"props":23510,"children":23511},{"style":276},[23512],{"type":21,"value":7244},{"type":15,"tag":252,"props":23514,"children":23515},{"style":447},[23516],{"type":21,"value":4943},{"type":15,"tag":252,"props":23518,"children":23519},{"style":601},[23520],{"type":21,"value":3947},{"type":15,"tag":252,"props":23522,"children":23523},{"style":259},[23524],{"type":21,"value":7257},{"type":15,"tag":252,"props":23526,"children":23527},{"style":447},[23528],{"type":21,"value":5826},{"type":15,"tag":252,"props":23530,"children":23531},{"style":259},[23532],{"type":21,"value":9738},{"type":15,"tag":252,"props":23534,"children":23535},{"style":447},[23536],{"type":21,"value":5826},{"type":15,"tag":252,"props":23538,"children":23539},{"style":259},[23540],{"type":21,"value":9747},{"type":15,"tag":252,"props":23542,"children":23543},{"style":447},[23544],{"type":21,"value":9752},{"type":15,"tag":252,"props":23546,"children":23547},{"style":259},[23548],{"type":21,"value":7913},{"type":15,"tag":252,"props":23550,"children":23551},{"style":447},[23552],{"type":21,"value":7138},{"type":15,"tag":252,"props":23554,"children":23555},{"class":254,"line":334},[23556,23560,23564,23568,23572,23576,23580,23584],{"type":15,"tag":252,"props":23557,"children":23558},{"style":601},[23559],{"type":21,"value":8231},{"type":15,"tag":252,"props":23561,"children":23562},{"style":601},[23563],{"type":21,"value":8623},{"type":15,"tag":252,"props":23565,"children":23566},{"style":447},[23567],{"type":21,"value":9776},{"type":15,"tag":252,"props":23569,"children":23570},{"style":601},[23571],{"type":21,"value":614},{"type":15,"tag":252,"props":23573,"children":23574},{"style":259},[23575],{"type":21,"value":5821},{"type":15,"tag":252,"props":23577,"children":23578},{"style":601},[23579],{"type":21,"value":804},{"type":15,"tag":252,"props":23581,"children":23582},{"style":259},[23583],{"type":21,"value":7761},{"type":15,"tag":252,"props":23585,"children":23586},{"style":447},[23587],{"type":21,"value":814},{"type":15,"tag":252,"props":23589,"children":23590},{"class":254,"line":390},[23591,23595,23599,23603,23607,23611,23615,23619,23623,23627,23631,23635,23639],{"type":15,"tag":252,"props":23592,"children":23593},{"style":601},[23594],{"type":21,"value":8656},{"type":15,"tag":252,"props":23596,"children":23597},{"style":601},[23598],{"type":21,"value":8661},{"type":15,"tag":252,"props":23600,"children":23601},{"style":259},[23602],{"type":21,"value":8666},{"type":15,"tag":252,"props":23604,"children":23605},{"style":447},[23606],{"type":21,"value":849},{"type":15,"tag":252,"props":23608,"children":23609},{"style":601},[23610],{"type":21,"value":1171},{"type":15,"tag":252,"props":23612,"children":23613},{"style":447},[23614],{"type":21,"value":9824},{"type":15,"tag":252,"props":23616,"children":23617},{"style":601},[23618],{"type":21,"value":614},{"type":15,"tag":252,"props":23620,"children":23621},{"style":276},[23622],{"type":21,"value":7244},{"type":15,"tag":252,"props":23624,"children":23625},{"style":601},[23626],{"type":21,"value":432},{"type":15,"tag":252,"props":23628,"children":23629},{"style":447},[23630],{"type":21,"value":81},{"type":15,"tag":252,"props":23632,"children":23633},{"style":601},[23634],{"type":21,"value":432},{"type":15,"tag":252,"props":23636,"children":23637},{"style":259},[23638],{"type":21,"value":8696},{"type":15,"tag":252,"props":23640,"children":23641},{"style":447},[23642],{"type":21,"value":2074},{"type":15,"tag":252,"props":23644,"children":23645},{"class":254,"line":2077},[23646,23650],{"type":15,"tag":252,"props":23647,"children":23648},{"style":601},[23649],{"type":21,"value":9860},{"type":15,"tag":252,"props":23651,"children":23652},{"style":447},[23653],{"type":21,"value":9865},{"type":15,"tag":252,"props":23655,"children":23656},{"class":254,"line":2110},[23657,23661,23665,23669,23673,23677,23681,23685,23689,23693,23697,23701,23705,23709,23713],{"type":15,"tag":252,"props":23658,"children":23659},{"style":447},[23660],{"type":21,"value":9873},{"type":15,"tag":252,"props":23662,"children":23663},{"style":601},[23664],{"type":21,"value":1627},{"type":15,"tag":252,"props":23666,"children":23667},{"style":447},[23668],{"type":21,"value":8713},{"type":15,"tag":252,"props":23670,"children":23671},{"style":601},[23672],{"type":21,"value":432},{"type":15,"tag":252,"props":23674,"children":23675},{"style":259},[23676],{"type":21,"value":8722},{"type":15,"tag":252,"props":23678,"children":23679},{"style":447},[23680],{"type":21,"value":3942},{"type":15,"tag":252,"props":23682,"children":23683},{"style":601},[23684],{"type":21,"value":4054},{"type":15,"tag":252,"props":23686,"children":23687},{"style":447},[23688],{"type":21,"value":6977},{"type":15,"tag":252,"props":23690,"children":23691},{"style":601},[23692],{"type":21,"value":432},{"type":15,"tag":252,"props":23694,"children":23695},{"style":259},[23696],{"type":21,"value":8743},{"type":15,"tag":252,"props":23698,"children":23699},{"style":447},[23700],{"type":21,"value":849},{"type":15,"tag":252,"props":23702,"children":23703},{"style":276},[23704],{"type":21,"value":7432},{"type":15,"tag":252,"props":23706,"children":23707},{"style":601},[23708],{"type":21,"value":432},{"type":15,"tag":252,"props":23710,"children":23711},{"style":259},[23712],{"type":21,"value":9926},{"type":15,"tag":252,"props":23714,"children":23715},{"style":447},[23716],{"type":21,"value":7792},{"type":15,"tag":252,"props":23718,"children":23719},{"class":254,"line":2150},[23720,23724,23728,23732,23736,23740,23744,23748,23752,23756,23760,23764,23768,23772,23776],{"type":15,"tag":252,"props":23721,"children":23722},{"style":447},[23723],{"type":21,"value":9873},{"type":15,"tag":252,"props":23725,"children":23726},{"style":601},[23727],{"type":21,"value":1627},{"type":15,"tag":252,"props":23729,"children":23730},{"style":447},[23731],{"type":21,"value":8713},{"type":15,"tag":252,"props":23733,"children":23734},{"style":601},[23735],{"type":21,"value":432},{"type":15,"tag":252,"props":23737,"children":23738},{"style":259},[23739],{"type":21,"value":9954},{"type":15,"tag":252,"props":23741,"children":23742},{"style":447},[23743],{"type":21,"value":3942},{"type":15,"tag":252,"props":23745,"children":23746},{"style":601},[23747],{"type":21,"value":4054},{"type":15,"tag":252,"props":23749,"children":23750},{"style":447},[23751],{"type":21,"value":6977},{"type":15,"tag":252,"props":23753,"children":23754},{"style":601},[23755],{"type":21,"value":432},{"type":15,"tag":252,"props":23757,"children":23758},{"style":259},[23759],{"type":21,"value":8743},{"type":15,"tag":252,"props":23761,"children":23762},{"style":447},[23763],{"type":21,"value":849},{"type":15,"tag":252,"props":23765,"children":23766},{"style":276},[23767],{"type":21,"value":7432},{"type":15,"tag":252,"props":23769,"children":23770},{"style":601},[23771],{"type":21,"value":432},{"type":15,"tag":252,"props":23773,"children":23774},{"style":259},[23775],{"type":21,"value":9991},{"type":15,"tag":252,"props":23777,"children":23778},{"style":447},[23779],{"type":21,"value":7792},{"type":15,"tag":252,"props":23781,"children":23782},{"class":254,"line":2182},[23783,23787,23791,23795,23799,23803,23807,23811,23815,23819,23823],{"type":15,"tag":252,"props":23784,"children":23785},{"style":447},[23786],{"type":21,"value":9873},{"type":15,"tag":252,"props":23788,"children":23789},{"style":601},[23790],{"type":21,"value":1627},{"type":15,"tag":252,"props":23792,"children":23793},{"style":447},[23794],{"type":21,"value":8713},{"type":15,"tag":252,"props":23796,"children":23797},{"style":601},[23798],{"type":21,"value":432},{"type":15,"tag":252,"props":23800,"children":23801},{"style":259},[23802],{"type":21,"value":9392},{"type":15,"tag":252,"props":23804,"children":23805},{"style":447},[23806],{"type":21,"value":3942},{"type":15,"tag":252,"props":23808,"children":23809},{"style":601},[23810],{"type":21,"value":4054},{"type":15,"tag":252,"props":23812,"children":23813},{"style":276},[23814],{"type":21,"value":7244},{"type":15,"tag":252,"props":23816,"children":23817},{"style":601},[23818],{"type":21,"value":432},{"type":15,"tag":252,"props":23820,"children":23821},{"style":259},[23822],{"type":21,"value":10137},{"type":15,"tag":252,"props":23824,"children":23825},{"style":447},[23826],{"type":21,"value":10142},{"type":15,"tag":252,"props":23828,"children":23829},{"class":254,"line":2190},[23830,23834,23838,23842,23846,23850],{"type":15,"tag":252,"props":23831,"children":23832},{"style":265},[23833],{"type":21,"value":10150},{"type":15,"tag":252,"props":23835,"children":23836},{"style":601},[23837],{"type":21,"value":9226},{"type":15,"tag":252,"props":23839,"children":23840},{"style":276},[23841],{"type":21,"value":7244},{"type":15,"tag":252,"props":23843,"children":23844},{"style":601},[23845],{"type":21,"value":432},{"type":15,"tag":252,"props":23847,"children":23848},{"style":259},[23849],{"type":21,"value":10167},{"type":15,"tag":252,"props":23851,"children":23852},{"style":447},[23853],{"type":21,"value":10142},{"type":15,"tag":252,"props":23855,"children":23856},{"class":254,"line":2222},[23857,23861,23865],{"type":15,"tag":252,"props":23858,"children":23859},{"style":447},[23860],{"type":21,"value":10179},{"type":15,"tag":252,"props":23862,"children":23863},{"style":601},[23864],{"type":21,"value":4054},{"type":15,"tag":252,"props":23866,"children":23867},{"style":447},[23868],{"type":21,"value":3769},{"type":15,"tag":252,"props":23870,"children":23871},{"class":254,"line":2270},[23872,23876,23880,23884],{"type":15,"tag":252,"props":23873,"children":23874},{"style":276},[23875],{"type":21,"value":10073},{"type":15,"tag":252,"props":23877,"children":23878},{"style":601},[23879],{"type":21,"value":432},{"type":15,"tag":252,"props":23881,"children":23882},{"style":259},[23883],{"type":21,"value":8774},{"type":15,"tag":252,"props":23885,"children":23886},{"style":447},[23887],{"type":21,"value":814},{"type":15,"tag":252,"props":23889,"children":23890},{"class":254,"line":2302},[23891],{"type":15,"tag":252,"props":23892,"children":23893},{"emptyLinePlaceholder":2053},[23894],{"type":21,"value":2056},{"type":15,"tag":252,"props":23896,"children":23897},{"class":254,"line":2310},[23898,23903],{"type":15,"tag":252,"props":23899,"children":23900},{"style":601},[23901],{"type":21,"value":23902},"                     match",{"type":15,"tag":252,"props":23904,"children":23905},{"style":447},[23906],{"type":21,"value":9865},{"type":15,"tag":252,"props":23908,"children":23909},{"class":254,"line":2370},[23910,23915,23919,23923,23927,23931,23935,23939,23943,23947,23951,23955,23959,23963],{"type":15,"tag":252,"props":23911,"children":23912},{"style":265},[23913],{"type":21,"value":23914},"                        ';'",{"type":15,"tag":252,"props":23916,"children":23917},{"style":601},[23918],{"type":21,"value":9226},{"type":15,"tag":252,"props":23920,"children":23921},{"style":447},[23922],{"type":21,"value":6977},{"type":15,"tag":252,"props":23924,"children":23925},{"style":601},[23926],{"type":21,"value":432},{"type":15,"tag":252,"props":23928,"children":23929},{"style":259},[23930],{"type":21,"value":8743},{"type":15,"tag":252,"props":23932,"children":23933},{"style":447},[23934],{"type":21,"value":849},{"type":15,"tag":252,"props":23936,"children":23937},{"style":276},[23938],{"type":21,"value":7432},{"type":15,"tag":252,"props":23940,"children":23941},{"style":601},[23942],{"type":21,"value":432},{"type":15,"tag":252,"props":23944,"children":23945},{"style":259},[23946],{"type":21,"value":8837},{"type":15,"tag":252,"props":23948,"children":23949},{"style":447},[23950],{"type":21,"value":849},{"type":15,"tag":252,"props":23952,"children":23953},{"style":259},[23954],{"type":21,"value":8846},{"type":15,"tag":252,"props":23956,"children":23957},{"style":601},[23958],{"type":21,"value":804},{"type":15,"tag":252,"props":23960,"children":23961},{"style":259},[23962],{"type":21,"value":10060},{"type":15,"tag":252,"props":23964,"children":23965},{"style":447},[23966],{"type":21,"value":13037},{"type":15,"tag":252,"props":23968,"children":23969},{"class":254,"line":2418},[23970,23975,23979,23983,23987,23991,23995,23999,24003,24007,24011,24015,24019,24024],{"type":15,"tag":252,"props":23971,"children":23972},{"style":265},[23973],{"type":21,"value":23974},"                        '$'",{"type":15,"tag":252,"props":23976,"children":23977},{"style":601},[23978],{"type":21,"value":9226},{"type":15,"tag":252,"props":23980,"children":23981},{"style":447},[23982],{"type":21,"value":6977},{"type":15,"tag":252,"props":23984,"children":23985},{"style":601},[23986],{"type":21,"value":432},{"type":15,"tag":252,"props":23988,"children":23989},{"style":259},[23990],{"type":21,"value":8743},{"type":15,"tag":252,"props":23992,"children":23993},{"style":447},[23994],{"type":21,"value":849},{"type":15,"tag":252,"props":23996,"children":23997},{"style":276},[23998],{"type":21,"value":7432},{"type":15,"tag":252,"props":24000,"children":24001},{"style":601},[24002],{"type":21,"value":432},{"type":15,"tag":252,"props":24004,"children":24005},{"style":259},[24006],{"type":21,"value":8837},{"type":15,"tag":252,"props":24008,"children":24009},{"style":447},[24010],{"type":21,"value":849},{"type":15,"tag":252,"props":24012,"children":24013},{"style":259},[24014],{"type":21,"value":8846},{"type":15,"tag":252,"props":24016,"children":24017},{"style":601},[24018],{"type":21,"value":804},{"type":15,"tag":252,"props":24020,"children":24021},{"style":259},[24022],{"type":21,"value":24023},"Dollar",{"type":15,"tag":252,"props":24025,"children":24026},{"style":447},[24027],{"type":21,"value":13037},{"type":15,"tag":252,"props":24029,"children":24030},{"class":254,"line":2426},[24031,24036,24040,24044,24048,24052,24056,24060,24064,24068,24072,24076,24080,24085],{"type":15,"tag":252,"props":24032,"children":24033},{"style":265},[24034],{"type":21,"value":24035},"                        '{'",{"type":15,"tag":252,"props":24037,"children":24038},{"style":601},[24039],{"type":21,"value":9226},{"type":15,"tag":252,"props":24041,"children":24042},{"style":447},[24043],{"type":21,"value":6977},{"type":15,"tag":252,"props":24045,"children":24046},{"style":601},[24047],{"type":21,"value":432},{"type":15,"tag":252,"props":24049,"children":24050},{"style":259},[24051],{"type":21,"value":8743},{"type":15,"tag":252,"props":24053,"children":24054},{"style":447},[24055],{"type":21,"value":849},{"type":15,"tag":252,"props":24057,"children":24058},{"style":276},[24059],{"type":21,"value":7432},{"type":15,"tag":252,"props":24061,"children":24062},{"style":601},[24063],{"type":21,"value":432},{"type":15,"tag":252,"props":24065,"children":24066},{"style":259},[24067],{"type":21,"value":8837},{"type":15,"tag":252,"props":24069,"children":24070},{"style":447},[24071],{"type":21,"value":849},{"type":15,"tag":252,"props":24073,"children":24074},{"style":259},[24075],{"type":21,"value":8846},{"type":15,"tag":252,"props":24077,"children":24078},{"style":601},[24079],{"type":21,"value":804},{"type":15,"tag":252,"props":24081,"children":24082},{"style":259},[24083],{"type":21,"value":24084},"CurlyOpen",{"type":15,"tag":252,"props":24086,"children":24087},{"style":447},[24088],{"type":21,"value":13037},{"type":15,"tag":252,"props":24090,"children":24091},{"class":254,"line":2474},[24092,24097,24101,24105,24109,24113,24117,24121,24125,24129,24133,24137,24141,24146],{"type":15,"tag":252,"props":24093,"children":24094},{"style":265},[24095],{"type":21,"value":24096},"                        '}'",{"type":15,"tag":252,"props":24098,"children":24099},{"style":601},[24100],{"type":21,"value":9226},{"type":15,"tag":252,"props":24102,"children":24103},{"style":447},[24104],{"type":21,"value":6977},{"type":15,"tag":252,"props":24106,"children":24107},{"style":601},[24108],{"type":21,"value":432},{"type":15,"tag":252,"props":24110,"children":24111},{"style":259},[24112],{"type":21,"value":8743},{"type":15,"tag":252,"props":24114,"children":24115},{"style":447},[24116],{"type":21,"value":849},{"type":15,"tag":252,"props":24118,"children":24119},{"style":276},[24120],{"type":21,"value":7432},{"type":15,"tag":252,"props":24122,"children":24123},{"style":601},[24124],{"type":21,"value":432},{"type":15,"tag":252,"props":24126,"children":24127},{"style":259},[24128],{"type":21,"value":8837},{"type":15,"tag":252,"props":24130,"children":24131},{"style":447},[24132],{"type":21,"value":849},{"type":15,"tag":252,"props":24134,"children":24135},{"style":259},[24136],{"type":21,"value":8846},{"type":15,"tag":252,"props":24138,"children":24139},{"style":601},[24140],{"type":21,"value":804},{"type":15,"tag":252,"props":24142,"children":24143},{"style":259},[24144],{"type":21,"value":24145},"CurlyClose",{"type":15,"tag":252,"props":24147,"children":24148},{"style":447},[24149],{"type":21,"value":13037},{"type":15,"tag":252,"props":24151,"children":24152},{"class":254,"line":2522},[24153,24158,24162,24166,24170,24174,24178,24182,24186,24190,24194,24198],{"type":15,"tag":252,"props":24154,"children":24155},{"style":447},[24156],{"type":21,"value":24157},"                        _ ",{"type":15,"tag":252,"props":24159,"children":24160},{"style":601},[24161],{"type":21,"value":4054},{"type":15,"tag":252,"props":24163,"children":24164},{"style":276},[24165],{"type":21,"value":7244},{"type":15,"tag":252,"props":24167,"children":24168},{"style":601},[24169],{"type":21,"value":432},{"type":15,"tag":252,"props":24171,"children":24172},{"style":259},[24173],{"type":21,"value":10203},{"type":15,"tag":252,"props":24175,"children":24176},{"style":447},[24177],{"type":21,"value":849},{"type":15,"tag":252,"props":24179,"children":24180},{"style":259},[24181],{"type":21,"value":10212},{"type":15,"tag":252,"props":24183,"children":24184},{"style":447},[24185],{"type":21,"value":849},{"type":15,"tag":252,"props":24187,"children":24188},{"style":265},[24189],{"type":21,"value":10221},{"type":15,"tag":252,"props":24191,"children":24192},{"style":447},[24193],{"type":21,"value":10226},{"type":15,"tag":252,"props":24195,"children":24196},{"style":601},[24197],{"type":21,"value":5468},{"type":15,"tag":252,"props":24199,"children":24200},{"style":447},[24201],{"type":21,"value":3879},{"type":15,"tag":252,"props":24203,"children":24204},{"class":254,"line":2530},[24205],{"type":15,"tag":252,"props":24206,"children":24207},{"style":447},[24208],{"type":21,"value":24209},"                    }\n",{"type":15,"tag":252,"props":24211,"children":24212},{"class":254,"line":2570},[24213],{"type":15,"tag":252,"props":24214,"children":24215},{"style":447},[24216],{"type":21,"value":10093},{"type":15,"tag":252,"props":24218,"children":24219},{"class":254,"line":2591},[24220],{"type":15,"tag":252,"props":24221,"children":24222},{"style":447},[24223],{"type":21,"value":8814},{"type":15,"tag":252,"props":24225,"children":24226},{"class":254,"line":2599},[24227],{"type":15,"tag":252,"props":24228,"children":24229},{"style":447},[24230],{"type":21,"value":4087},{"type":15,"tag":252,"props":24232,"children":24233},{"class":254,"line":2647},[24234,24238,24242,24246,24250,24254,24258,24262,24266,24270,24274,24278],{"type":15,"tag":252,"props":24235,"children":24236},{"style":447},[24237],{"type":21,"value":10263},{"type":15,"tag":252,"props":24239,"children":24240},{"style":601},[24241],{"type":21,"value":432},{"type":15,"tag":252,"props":24243,"children":24244},{"style":259},[24245],{"type":21,"value":8743},{"type":15,"tag":252,"props":24247,"children":24248},{"style":447},[24249],{"type":21,"value":849},{"type":15,"tag":252,"props":24251,"children":24252},{"style":276},[24253],{"type":21,"value":7432},{"type":15,"tag":252,"props":24255,"children":24256},{"style":601},[24257],{"type":21,"value":432},{"type":15,"tag":252,"props":24259,"children":24260},{"style":259},[24261],{"type":21,"value":8837},{"type":15,"tag":252,"props":24263,"children":24264},{"style":447},[24265],{"type":21,"value":849},{"type":15,"tag":252,"props":24267,"children":24268},{"style":259},[24269],{"type":21,"value":8846},{"type":15,"tag":252,"props":24271,"children":24272},{"style":601},[24273],{"type":21,"value":804},{"type":15,"tag":252,"props":24275,"children":24276},{"style":259},[24277],{"type":21,"value":10304},{"type":15,"tag":252,"props":24279,"children":24280},{"style":447},[24281],{"type":21,"value":10065},{"type":15,"tag":252,"props":24283,"children":24284},{"class":254,"line":2679},[24285,24289],{"type":15,"tag":252,"props":24286,"children":24287},{"style":259},[24288],{"type":21,"value":10316},{"type":15,"tag":252,"props":24290,"children":24291},{"style":447},[24292],{"type":21,"value":10321},{"type":15,"tag":252,"props":24294,"children":24295},{"class":254,"line":2727},[24296],{"type":15,"tag":252,"props":24297,"children":24298},{"style":447},[24299],{"type":21,"value":4095},{"type":15,"tag":23,"props":24301,"children":24302},{},[24303],{"type":21,"value":24304},"We will also need to modify the Ast to add TopLever statements.",{"type":15,"tag":95,"props":24306,"children":24308},{"code":24307,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub struct Module(pub Vec\u003CToplevelStatement>);\n\n#[derive(Debug)]\npub enum ToplevelStatement {\n    MainFunction(Vec\u003CStatement>),\n}\n",[24309],{"type":15,"tag":81,"props":24310,"children":24311},{"__ignoreMap":8},[24312,24320,24335,24375,24382,24397,24417,24446],{"type":15,"tag":252,"props":24313,"children":24314},{"class":254,"line":255},[24315],{"type":15,"tag":252,"props":24316,"children":24317},{"style":3287},[24318],{"type":21,"value":24319},"// parsing/ast.rs\n",{"type":15,"tag":252,"props":24321,"children":24322},{"class":254,"line":334},[24323,24327,24331],{"type":15,"tag":252,"props":24324,"children":24325},{"style":447},[24326],{"type":21,"value":3742},{"type":15,"tag":252,"props":24328,"children":24329},{"style":259},[24330],{"type":21,"value":5788},{"type":15,"tag":252,"props":24332,"children":24333},{"style":447},[24334],{"type":21,"value":3751},{"type":15,"tag":252,"props":24336,"children":24337},{"class":254,"line":390},[24338,24342,24346,24350,24354,24358,24362,24366,24371],{"type":15,"tag":252,"props":24339,"children":24340},{"style":601},[24341],{"type":21,"value":4740},{"type":15,"tag":252,"props":24343,"children":24344},{"style":601},[24345],{"type":21,"value":4745},{"type":15,"tag":252,"props":24347,"children":24348},{"style":259},[24349],{"type":21,"value":5808},{"type":15,"tag":252,"props":24351,"children":24352},{"style":447},[24353],{"type":21,"value":849},{"type":15,"tag":252,"props":24355,"children":24356},{"style":601},[24357],{"type":21,"value":4740},{"type":15,"tag":252,"props":24359,"children":24360},{"style":259},[24361],{"type":21,"value":5821},{"type":15,"tag":252,"props":24363,"children":24364},{"style":447},[24365],{"type":21,"value":5826},{"type":15,"tag":252,"props":24367,"children":24368},{"style":259},[24369],{"type":21,"value":24370},"ToplevelStatement",{"type":15,"tag":252,"props":24372,"children":24373},{"style":447},[24374],{"type":21,"value":5835},{"type":15,"tag":252,"props":24376,"children":24377},{"class":254,"line":2077},[24378],{"type":15,"tag":252,"props":24379,"children":24380},{"emptyLinePlaceholder":2053},[24381],{"type":21,"value":2056},{"type":15,"tag":252,"props":24383,"children":24384},{"class":254,"line":2110},[24385,24389,24393],{"type":15,"tag":252,"props":24386,"children":24387},{"style":447},[24388],{"type":21,"value":3742},{"type":15,"tag":252,"props":24390,"children":24391},{"style":259},[24392],{"type":21,"value":5788},{"type":15,"tag":252,"props":24394,"children":24395},{"style":447},[24396],{"type":21,"value":3751},{"type":15,"tag":252,"props":24398,"children":24399},{"class":254,"line":2150},[24400,24404,24408,24413],{"type":15,"tag":252,"props":24401,"children":24402},{"style":601},[24403],{"type":21,"value":4740},{"type":15,"tag":252,"props":24405,"children":24406},{"style":601},[24407],{"type":21,"value":5869},{"type":15,"tag":252,"props":24409,"children":24410},{"style":259},[24411],{"type":21,"value":24412}," ToplevelStatement",{"type":15,"tag":252,"props":24414,"children":24415},{"style":447},[24416],{"type":21,"value":3769},{"type":15,"tag":252,"props":24418,"children":24419},{"class":254,"line":2182},[24420,24425,24429,24433,24437,24441],{"type":15,"tag":252,"props":24421,"children":24422},{"style":259},[24423],{"type":21,"value":24424},"    MainFunction",{"type":15,"tag":252,"props":24426,"children":24427},{"style":447},[24428],{"type":21,"value":849},{"type":15,"tag":252,"props":24430,"children":24431},{"style":259},[24432],{"type":21,"value":9738},{"type":15,"tag":252,"props":24434,"children":24435},{"style":447},[24436],{"type":21,"value":5826},{"type":15,"tag":252,"props":24438,"children":24439},{"style":259},[24440],{"type":21,"value":5709},{"type":15,"tag":252,"props":24442,"children":24443},{"style":447},[24444],{"type":21,"value":24445},">),\n",{"type":15,"tag":252,"props":24447,"children":24448},{"class":254,"line":2190},[24449],{"type":15,"tag":252,"props":24450,"children":24451},{"style":447},[24452],{"type":21,"value":2854},{"type":15,"tag":23,"props":24454,"children":24455},{},[24456],{"type":21,"value":24457},"Then we can add it to the parser, it is fairly simple change,",{"type":15,"tag":95,"props":24459,"children":24461},{"code":24460,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\n    fn main_function(&mut self) -> anyhow::Result\u003Cast::ToplevelStatement> {\n        self.expect(TokenType::CurlyOpen)?;\n\n        let mut statements = Vec::new();\n        while self.peek()? != &TokenType::CurlyClose {\n            statements.push(self.statement()?);\n        }\n        self.expect(TokenType::CurlyClose)?;\n\n        Ok(ast::ToplevelStatement::MainFunction(statements))\n    }\n\n    fn top_level_statement(&mut self) -> anyhow::Result\u003Cast::ToplevelStatement> {\n        match self.advance()?._type {\n            TokenType::Dollar => self.main_function(),\n            _ => Err(error(self.advance()?, \"Top Level Statement\".to_string()))?,\n        }\n    }\n\n    pub fn module(mut self) -> anyhow::Result\u003Cast::Module> {\n        let mut statements = Vec::new();\n\n        while self.peek()? != &TokenType::Eof {\n            statements.push(self.top_level_statement()?);\n        }\n\n        Ok(ast::Module(statements))\n    }\n",[24462],{"type":15,"tag":81,"props":24463,"children":24464},{"__ignoreMap":8},[24465,24472,24532,24575,24582,24617,24668,24711,24718,24761,24768,24804,24811,24818,24878,24910,24946,25022,25029,25036,25043,25106,25141,25148,25199,25243,25250,25257,25284],{"type":15,"tag":252,"props":24466,"children":24467},{"class":254,"line":255},[24468],{"type":15,"tag":252,"props":24469,"children":24470},{"style":3287},[24471],{"type":21,"value":11380},{"type":15,"tag":252,"props":24473,"children":24474},{"class":254,"line":334},[24475,24479,24484,24488,24492,24496,24500,24504,24508,24512,24516,24520,24524,24528],{"type":15,"tag":252,"props":24476,"children":24477},{"style":601},[24478],{"type":21,"value":7146},{"type":15,"tag":252,"props":24480,"children":24481},{"style":259},[24482],{"type":21,"value":24483}," main_function",{"type":15,"tag":252,"props":24485,"children":24486},{"style":447},[24487],{"type":21,"value":849},{"type":15,"tag":252,"props":24489,"children":24490},{"style":601},[24491],{"type":21,"value":7239},{"type":15,"tag":252,"props":24493,"children":24494},{"style":276},[24495],{"type":21,"value":7244},{"type":15,"tag":252,"props":24497,"children":24498},{"style":447},[24499],{"type":21,"value":4943},{"type":15,"tag":252,"props":24501,"children":24502},{"style":601},[24503],{"type":21,"value":3947},{"type":15,"tag":252,"props":24505,"children":24506},{"style":259},[24507],{"type":21,"value":3952},{"type":15,"tag":252,"props":24509,"children":24510},{"style":601},[24511],{"type":21,"value":804},{"type":15,"tag":252,"props":24513,"children":24514},{"style":259},[24515],{"type":21,"value":3961},{"type":15,"tag":252,"props":24517,"children":24518},{"style":447},[24519],{"type":21,"value":10502},{"type":15,"tag":252,"props":24521,"children":24522},{"style":601},[24523],{"type":21,"value":804},{"type":15,"tag":252,"props":24525,"children":24526},{"style":259},[24527],{"type":21,"value":24370},{"type":15,"tag":252,"props":24529,"children":24530},{"style":447},[24531],{"type":21,"value":7138},{"type":15,"tag":252,"props":24533,"children":24534},{"class":254,"line":390},[24535,24539,24543,24547,24551,24555,24559,24563,24567,24571],{"type":15,"tag":252,"props":24536,"children":24537},{"style":276},[24538],{"type":21,"value":7286},{"type":15,"tag":252,"props":24540,"children":24541},{"style":601},[24542],{"type":21,"value":432},{"type":15,"tag":252,"props":24544,"children":24545},{"style":259},[24546],{"type":21,"value":12596},{"type":15,"tag":252,"props":24548,"children":24549},{"style":447},[24550],{"type":21,"value":849},{"type":15,"tag":252,"props":24552,"children":24553},{"style":259},[24554],{"type":21,"value":8846},{"type":15,"tag":252,"props":24556,"children":24557},{"style":601},[24558],{"type":21,"value":804},{"type":15,"tag":252,"props":24560,"children":24561},{"style":259},[24562],{"type":21,"value":24084},{"type":15,"tag":252,"props":24564,"children":24565},{"style":447},[24566],{"type":21,"value":1975},{"type":15,"tag":252,"props":24568,"children":24569},{"style":601},[24570],{"type":21,"value":5468},{"type":15,"tag":252,"props":24572,"children":24573},{"style":447},[24574],{"type":21,"value":3325},{"type":15,"tag":252,"props":24576,"children":24577},{"class":254,"line":2077},[24578],{"type":15,"tag":252,"props":24579,"children":24580},{"emptyLinePlaceholder":2053},[24581],{"type":21,"value":2056},{"type":15,"tag":252,"props":24583,"children":24584},{"class":254,"line":2110},[24585,24589,24593,24597,24601,24605,24609,24613],{"type":15,"tag":252,"props":24586,"children":24587},{"style":601},[24588],{"type":21,"value":8231},{"type":15,"tag":252,"props":24590,"children":24591},{"style":601},[24592],{"type":21,"value":8623},{"type":15,"tag":252,"props":24594,"children":24595},{"style":447},[24596],{"type":21,"value":13556},{"type":15,"tag":252,"props":24598,"children":24599},{"style":601},[24600],{"type":21,"value":614},{"type":15,"tag":252,"props":24602,"children":24603},{"style":259},[24604],{"type":21,"value":5821},{"type":15,"tag":252,"props":24606,"children":24607},{"style":601},[24608],{"type":21,"value":804},{"type":15,"tag":252,"props":24610,"children":24611},{"style":259},[24612],{"type":21,"value":7761},{"type":15,"tag":252,"props":24614,"children":24615},{"style":447},[24616],{"type":21,"value":814},{"type":15,"tag":252,"props":24618,"children":24619},{"class":254,"line":2150},[24620,24624,24628,24632,24636,24640,24644,24648,24652,24656,24660,24664],{"type":15,"tag":252,"props":24621,"children":24622},{"style":601},[24623],{"type":21,"value":8656},{"type":15,"tag":252,"props":24625,"children":24626},{"style":276},[24627],{"type":21,"value":7244},{"type":15,"tag":252,"props":24629,"children":24630},{"style":601},[24631],{"type":21,"value":432},{"type":15,"tag":252,"props":24633,"children":24634},{"style":259},[24635],{"type":21,"value":8696},{"type":15,"tag":252,"props":24637,"children":24638},{"style":447},[24639],{"type":21,"value":7305},{"type":15,"tag":252,"props":24641,"children":24642},{"style":601},[24643],{"type":21,"value":5468},{"type":15,"tag":252,"props":24645,"children":24646},{"style":601},[24647],{"type":21,"value":13615},{"type":15,"tag":252,"props":24649,"children":24650},{"style":601},[24651],{"type":21,"value":4920},{"type":15,"tag":252,"props":24653,"children":24654},{"style":259},[24655],{"type":21,"value":8846},{"type":15,"tag":252,"props":24657,"children":24658},{"style":601},[24659],{"type":21,"value":804},{"type":15,"tag":252,"props":24661,"children":24662},{"style":259},[24663],{"type":21,"value":24145},{"type":15,"tag":252,"props":24665,"children":24666},{"style":447},[24667],{"type":21,"value":3769},{"type":15,"tag":252,"props":24669,"children":24670},{"class":254,"line":2182},[24671,24675,24679,24683,24687,24691,24695,24699,24703,24707],{"type":15,"tag":252,"props":24672,"children":24673},{"style":447},[24674],{"type":21,"value":13643},{"type":15,"tag":252,"props":24676,"children":24677},{"style":601},[24678],{"type":21,"value":432},{"type":15,"tag":252,"props":24680,"children":24681},{"style":259},[24682],{"type":21,"value":8743},{"type":15,"tag":252,"props":24684,"children":24685},{"style":447},[24686],{"type":21,"value":849},{"type":15,"tag":252,"props":24688,"children":24689},{"style":276},[24690],{"type":21,"value":7432},{"type":15,"tag":252,"props":24692,"children":24693},{"style":601},[24694],{"type":21,"value":432},{"type":15,"tag":252,"props":24696,"children":24697},{"style":259},[24698],{"type":21,"value":13668},{"type":15,"tag":252,"props":24700,"children":24701},{"style":447},[24702],{"type":21,"value":7305},{"type":15,"tag":252,"props":24704,"children":24705},{"style":601},[24706],{"type":21,"value":5468},{"type":15,"tag":252,"props":24708,"children":24709},{"style":447},[24710],{"type":21,"value":859},{"type":15,"tag":252,"props":24712,"children":24713},{"class":254,"line":2190},[24714],{"type":15,"tag":252,"props":24715,"children":24716},{"style":447},[24717],{"type":21,"value":4087},{"type":15,"tag":252,"props":24719,"children":24720},{"class":254,"line":2222},[24721,24725,24729,24733,24737,24741,24745,24749,24753,24757],{"type":15,"tag":252,"props":24722,"children":24723},{"style":276},[24724],{"type":21,"value":7286},{"type":15,"tag":252,"props":24726,"children":24727},{"style":601},[24728],{"type":21,"value":432},{"type":15,"tag":252,"props":24730,"children":24731},{"style":259},[24732],{"type":21,"value":12596},{"type":15,"tag":252,"props":24734,"children":24735},{"style":447},[24736],{"type":21,"value":849},{"type":15,"tag":252,"props":24738,"children":24739},{"style":259},[24740],{"type":21,"value":8846},{"type":15,"tag":252,"props":24742,"children":24743},{"style":601},[24744],{"type":21,"value":804},{"type":15,"tag":252,"props":24746,"children":24747},{"style":259},[24748],{"type":21,"value":24145},{"type":15,"tag":252,"props":24750,"children":24751},{"style":447},[24752],{"type":21,"value":1975},{"type":15,"tag":252,"props":24754,"children":24755},{"style":601},[24756],{"type":21,"value":5468},{"type":15,"tag":252,"props":24758,"children":24759},{"style":447},[24760],{"type":21,"value":3325},{"type":15,"tag":252,"props":24762,"children":24763},{"class":254,"line":2270},[24764],{"type":15,"tag":252,"props":24765,"children":24766},{"emptyLinePlaceholder":2053},[24767],{"type":21,"value":2056},{"type":15,"tag":252,"props":24769,"children":24770},{"class":254,"line":2302},[24771,24775,24779,24783,24787,24791,24795,24800],{"type":15,"tag":252,"props":24772,"children":24773},{"style":259},[24774],{"type":21,"value":10316},{"type":15,"tag":252,"props":24776,"children":24777},{"style":447},[24778],{"type":21,"value":849},{"type":15,"tag":252,"props":24780,"children":24781},{"style":259},[24782],{"type":21,"value":5623},{"type":15,"tag":252,"props":24784,"children":24785},{"style":601},[24786],{"type":21,"value":804},{"type":15,"tag":252,"props":24788,"children":24789},{"style":259},[24790],{"type":21,"value":24370},{"type":15,"tag":252,"props":24792,"children":24793},{"style":601},[24794],{"type":21,"value":804},{"type":15,"tag":252,"props":24796,"children":24797},{"style":259},[24798],{"type":21,"value":24799},"MainFunction",{"type":15,"tag":252,"props":24801,"children":24802},{"style":447},[24803],{"type":21,"value":13722},{"type":15,"tag":252,"props":24805,"children":24806},{"class":254,"line":2310},[24807],{"type":15,"tag":252,"props":24808,"children":24809},{"style":447},[24810],{"type":21,"value":4095},{"type":15,"tag":252,"props":24812,"children":24813},{"class":254,"line":2370},[24814],{"type":15,"tag":252,"props":24815,"children":24816},{"emptyLinePlaceholder":2053},[24817],{"type":21,"value":2056},{"type":15,"tag":252,"props":24819,"children":24820},{"class":254,"line":2418},[24821,24825,24830,24834,24838,24842,24846,24850,24854,24858,24862,24866,24870,24874],{"type":15,"tag":252,"props":24822,"children":24823},{"style":601},[24824],{"type":21,"value":7146},{"type":15,"tag":252,"props":24826,"children":24827},{"style":259},[24828],{"type":21,"value":24829}," top_level_statement",{"type":15,"tag":252,"props":24831,"children":24832},{"style":447},[24833],{"type":21,"value":849},{"type":15,"tag":252,"props":24835,"children":24836},{"style":601},[24837],{"type":21,"value":7239},{"type":15,"tag":252,"props":24839,"children":24840},{"style":276},[24841],{"type":21,"value":7244},{"type":15,"tag":252,"props":24843,"children":24844},{"style":447},[24845],{"type":21,"value":4943},{"type":15,"tag":252,"props":24847,"children":24848},{"style":601},[24849],{"type":21,"value":3947},{"type":15,"tag":252,"props":24851,"children":24852},{"style":259},[24853],{"type":21,"value":3952},{"type":15,"tag":252,"props":24855,"children":24856},{"style":601},[24857],{"type":21,"value":804},{"type":15,"tag":252,"props":24859,"children":24860},{"style":259},[24861],{"type":21,"value":3961},{"type":15,"tag":252,"props":24863,"children":24864},{"style":447},[24865],{"type":21,"value":10502},{"type":15,"tag":252,"props":24867,"children":24868},{"style":601},[24869],{"type":21,"value":804},{"type":15,"tag":252,"props":24871,"children":24872},{"style":259},[24873],{"type":21,"value":24370},{"type":15,"tag":252,"props":24875,"children":24876},{"style":447},[24877],{"type":21,"value":7138},{"type":15,"tag":252,"props":24879,"children":24880},{"class":254,"line":2426},[24881,24885,24889,24893,24897,24901,24906],{"type":15,"tag":252,"props":24882,"children":24883},{"style":601},[24884],{"type":21,"value":12717},{"type":15,"tag":252,"props":24886,"children":24887},{"style":276},[24888],{"type":21,"value":7244},{"type":15,"tag":252,"props":24890,"children":24891},{"style":601},[24892],{"type":21,"value":432},{"type":15,"tag":252,"props":24894,"children":24895},{"style":259},[24896],{"type":21,"value":8261},{"type":15,"tag":252,"props":24898,"children":24899},{"style":447},[24900],{"type":21,"value":7305},{"type":15,"tag":252,"props":24902,"children":24903},{"style":601},[24904],{"type":21,"value":24905},"?.",{"type":15,"tag":252,"props":24907,"children":24908},{"style":447},[24909],{"type":21,"value":12730},{"type":15,"tag":252,"props":24911,"children":24912},{"class":254,"line":2474},[24913,24917,24921,24925,24929,24933,24937,24942],{"type":15,"tag":252,"props":24914,"children":24915},{"style":259},[24916],{"type":21,"value":12738},{"type":15,"tag":252,"props":24918,"children":24919},{"style":601},[24920],{"type":21,"value":804},{"type":15,"tag":252,"props":24922,"children":24923},{"style":259},[24924],{"type":21,"value":24023},{"type":15,"tag":252,"props":24926,"children":24927},{"style":601},[24928],{"type":21,"value":9226},{"type":15,"tag":252,"props":24930,"children":24931},{"style":276},[24932],{"type":21,"value":7244},{"type":15,"tag":252,"props":24934,"children":24935},{"style":601},[24936],{"type":21,"value":432},{"type":15,"tag":252,"props":24938,"children":24939},{"style":259},[24940],{"type":21,"value":24941},"main_function",{"type":15,"tag":252,"props":24943,"children":24944},{"style":447},[24945],{"type":21,"value":10142},{"type":15,"tag":252,"props":24947,"children":24948},{"class":254,"line":2522},[24949,24953,24957,24961,24965,24969,24973,24977,24981,24985,24989,24993,24997,25002,25006,25010,25014,25018],{"type":15,"tag":252,"props":24950,"children":24951},{"style":447},[24952],{"type":21,"value":9250},{"type":15,"tag":252,"props":24954,"children":24955},{"style":601},[24956],{"type":21,"value":4054},{"type":15,"tag":252,"props":24958,"children":24959},{"style":259},[24960],{"type":21,"value":12804},{"type":15,"tag":252,"props":24962,"children":24963},{"style":447},[24964],{"type":21,"value":849},{"type":15,"tag":252,"props":24966,"children":24967},{"style":259},[24968],{"type":21,"value":10203},{"type":15,"tag":252,"props":24970,"children":24971},{"style":447},[24972],{"type":21,"value":849},{"type":15,"tag":252,"props":24974,"children":24975},{"style":276},[24976],{"type":21,"value":7432},{"type":15,"tag":252,"props":24978,"children":24979},{"style":601},[24980],{"type":21,"value":432},{"type":15,"tag":252,"props":24982,"children":24983},{"style":259},[24984],{"type":21,"value":8261},{"type":15,"tag":252,"props":24986,"children":24987},{"style":447},[24988],{"type":21,"value":7305},{"type":15,"tag":252,"props":24990,"children":24991},{"style":601},[24992],{"type":21,"value":5468},{"type":15,"tag":252,"props":24994,"children":24995},{"style":447},[24996],{"type":21,"value":1076},{"type":15,"tag":252,"props":24998,"children":24999},{"style":265},[25000],{"type":21,"value":25001},"\"Top Level Statement\"",{"type":15,"tag":252,"props":25003,"children":25004},{"style":601},[25005],{"type":21,"value":432},{"type":15,"tag":252,"props":25007,"children":25008},{"style":259},[25009],{"type":21,"value":12830},{"type":15,"tag":252,"props":25011,"children":25012},{"style":447},[25013],{"type":21,"value":12835},{"type":15,"tag":252,"props":25015,"children":25016},{"style":601},[25017],{"type":21,"value":5468},{"type":15,"tag":252,"props":25019,"children":25020},{"style":447},[25021],{"type":21,"value":3879},{"type":15,"tag":252,"props":25023,"children":25024},{"class":254,"line":2530},[25025],{"type":15,"tag":252,"props":25026,"children":25027},{"style":447},[25028],{"type":21,"value":4087},{"type":15,"tag":252,"props":25030,"children":25031},{"class":254,"line":2570},[25032],{"type":15,"tag":252,"props":25033,"children":25034},{"style":447},[25035],{"type":21,"value":4095},{"type":15,"tag":252,"props":25037,"children":25038},{"class":254,"line":2591},[25039],{"type":15,"tag":252,"props":25040,"children":25041},{"emptyLinePlaceholder":2053},[25042],{"type":21,"value":2056},{"type":15,"tag":252,"props":25044,"children":25045},{"class":254,"line":2599},[25046,25050,25054,25058,25062,25066,25070,25074,25078,25082,25086,25090,25094,25098,25102],{"type":15,"tag":252,"props":25047,"children":25048},{"style":601},[25049],{"type":21,"value":4762},{"type":15,"tag":252,"props":25051,"children":25052},{"style":601},[25053],{"type":21,"value":4901},{"type":15,"tag":252,"props":25055,"children":25056},{"style":259},[25057],{"type":21,"value":1220},{"type":15,"tag":252,"props":25059,"children":25060},{"style":447},[25061],{"type":21,"value":849},{"type":15,"tag":252,"props":25063,"children":25064},{"style":601},[25065],{"type":21,"value":9713},{"type":15,"tag":252,"props":25067,"children":25068},{"style":276},[25069],{"type":21,"value":7244},{"type":15,"tag":252,"props":25071,"children":25072},{"style":447},[25073],{"type":21,"value":4943},{"type":15,"tag":252,"props":25075,"children":25076},{"style":601},[25077],{"type":21,"value":3947},{"type":15,"tag":252,"props":25079,"children":25080},{"style":259},[25081],{"type":21,"value":3952},{"type":15,"tag":252,"props":25083,"children":25084},{"style":601},[25085],{"type":21,"value":804},{"type":15,"tag":252,"props":25087,"children":25088},{"style":259},[25089],{"type":21,"value":3961},{"type":15,"tag":252,"props":25091,"children":25092},{"style":447},[25093],{"type":21,"value":10502},{"type":15,"tag":252,"props":25095,"children":25096},{"style":601},[25097],{"type":21,"value":804},{"type":15,"tag":252,"props":25099,"children":25100},{"style":259},[25101],{"type":21,"value":6055},{"type":15,"tag":252,"props":25103,"children":25104},{"style":447},[25105],{"type":21,"value":7138},{"type":15,"tag":252,"props":25107,"children":25108},{"class":254,"line":2647},[25109,25113,25117,25121,25125,25129,25133,25137],{"type":15,"tag":252,"props":25110,"children":25111},{"style":601},[25112],{"type":21,"value":8231},{"type":15,"tag":252,"props":25114,"children":25115},{"style":601},[25116],{"type":21,"value":8623},{"type":15,"tag":252,"props":25118,"children":25119},{"style":447},[25120],{"type":21,"value":13556},{"type":15,"tag":252,"props":25122,"children":25123},{"style":601},[25124],{"type":21,"value":614},{"type":15,"tag":252,"props":25126,"children":25127},{"style":259},[25128],{"type":21,"value":5821},{"type":15,"tag":252,"props":25130,"children":25131},{"style":601},[25132],{"type":21,"value":804},{"type":15,"tag":252,"props":25134,"children":25135},{"style":259},[25136],{"type":21,"value":7761},{"type":15,"tag":252,"props":25138,"children":25139},{"style":447},[25140],{"type":21,"value":814},{"type":15,"tag":252,"props":25142,"children":25143},{"class":254,"line":2679},[25144],{"type":15,"tag":252,"props":25145,"children":25146},{"emptyLinePlaceholder":2053},[25147],{"type":21,"value":2056},{"type":15,"tag":252,"props":25149,"children":25150},{"class":254,"line":2727},[25151,25155,25159,25163,25167,25171,25175,25179,25183,25187,25191,25195],{"type":15,"tag":252,"props":25152,"children":25153},{"style":601},[25154],{"type":21,"value":8656},{"type":15,"tag":252,"props":25156,"children":25157},{"style":276},[25158],{"type":21,"value":7244},{"type":15,"tag":252,"props":25160,"children":25161},{"style":601},[25162],{"type":21,"value":432},{"type":15,"tag":252,"props":25164,"children":25165},{"style":259},[25166],{"type":21,"value":8696},{"type":15,"tag":252,"props":25168,"children":25169},{"style":447},[25170],{"type":21,"value":7305},{"type":15,"tag":252,"props":25172,"children":25173},{"style":601},[25174],{"type":21,"value":5468},{"type":15,"tag":252,"props":25176,"children":25177},{"style":601},[25178],{"type":21,"value":13615},{"type":15,"tag":252,"props":25180,"children":25181},{"style":601},[25182],{"type":21,"value":4920},{"type":15,"tag":252,"props":25184,"children":25185},{"style":259},[25186],{"type":21,"value":8846},{"type":15,"tag":252,"props":25188,"children":25189},{"style":601},[25190],{"type":21,"value":804},{"type":15,"tag":252,"props":25192,"children":25193},{"style":259},[25194],{"type":21,"value":10304},{"type":15,"tag":252,"props":25196,"children":25197},{"style":447},[25198],{"type":21,"value":3769},{"type":15,"tag":252,"props":25200,"children":25201},{"class":254,"line":2735},[25202,25206,25210,25214,25218,25222,25226,25231,25235,25239],{"type":15,"tag":252,"props":25203,"children":25204},{"style":447},[25205],{"type":21,"value":13643},{"type":15,"tag":252,"props":25207,"children":25208},{"style":601},[25209],{"type":21,"value":432},{"type":15,"tag":252,"props":25211,"children":25212},{"style":259},[25213],{"type":21,"value":8743},{"type":15,"tag":252,"props":25215,"children":25216},{"style":447},[25217],{"type":21,"value":849},{"type":15,"tag":252,"props":25219,"children":25220},{"style":276},[25221],{"type":21,"value":7432},{"type":15,"tag":252,"props":25223,"children":25224},{"style":601},[25225],{"type":21,"value":432},{"type":15,"tag":252,"props":25227,"children":25228},{"style":259},[25229],{"type":21,"value":25230},"top_level_statement",{"type":15,"tag":252,"props":25232,"children":25233},{"style":447},[25234],{"type":21,"value":7305},{"type":15,"tag":252,"props":25236,"children":25237},{"style":601},[25238],{"type":21,"value":5468},{"type":15,"tag":252,"props":25240,"children":25241},{"style":447},[25242],{"type":21,"value":859},{"type":15,"tag":252,"props":25244,"children":25245},{"class":254,"line":2799},[25246],{"type":15,"tag":252,"props":25247,"children":25248},{"style":447},[25249],{"type":21,"value":4087},{"type":15,"tag":252,"props":25251,"children":25252},{"class":254,"line":2807},[25253],{"type":15,"tag":252,"props":25254,"children":25255},{"emptyLinePlaceholder":2053},[25256],{"type":21,"value":2056},{"type":15,"tag":252,"props":25258,"children":25259},{"class":254,"line":2848},[25260,25264,25268,25272,25276,25280],{"type":15,"tag":252,"props":25261,"children":25262},{"style":259},[25263],{"type":21,"value":10316},{"type":15,"tag":252,"props":25265,"children":25266},{"style":447},[25267],{"type":21,"value":849},{"type":15,"tag":252,"props":25269,"children":25270},{"style":259},[25271],{"type":21,"value":5623},{"type":15,"tag":252,"props":25273,"children":25274},{"style":601},[25275],{"type":21,"value":804},{"type":15,"tag":252,"props":25277,"children":25278},{"style":259},[25279],{"type":21,"value":6055},{"type":15,"tag":252,"props":25281,"children":25282},{"style":447},[25283],{"type":21,"value":13722},{"type":15,"tag":252,"props":25285,"children":25286},{"class":254,"line":4645},[25287],{"type":15,"tag":252,"props":25288,"children":25289},{"style":447},[25290],{"type":21,"value":4095},{"type":15,"tag":59,"props":25292,"children":25293},{"id":14557},[25294],{"type":21,"value":14560},{"type":15,"tag":23,"props":25296,"children":25297},{},[25298],{"type":21,"value":25299},"The IR has a similar modification:",{"type":15,"tag":95,"props":25301,"children":25303},{"code":25302,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug)]\npub struct Module(pub Vec\u003CToplevelStatement>);\n\n#[derive(Debug)]\npub enum ToplevelStatement {\n    MainFunction(Vec\u003CStatement>),\n}\n",[25304],{"type":15,"tag":81,"props":25305,"children":25306},{"__ignoreMap":8},[25307,25315,25330,25369,25376,25391,25410,25437],{"type":15,"tag":252,"props":25308,"children":25309},{"class":254,"line":255},[25310],{"type":15,"tag":252,"props":25311,"children":25312},{"style":3287},[25313],{"type":21,"value":25314},"// ir.rs\n",{"type":15,"tag":252,"props":25316,"children":25317},{"class":254,"line":334},[25318,25322,25326],{"type":15,"tag":252,"props":25319,"children":25320},{"style":447},[25321],{"type":21,"value":3742},{"type":15,"tag":252,"props":25323,"children":25324},{"style":259},[25325],{"type":21,"value":5788},{"type":15,"tag":252,"props":25327,"children":25328},{"style":447},[25329],{"type":21,"value":3751},{"type":15,"tag":252,"props":25331,"children":25332},{"class":254,"line":390},[25333,25337,25341,25345,25349,25353,25357,25361,25365],{"type":15,"tag":252,"props":25334,"children":25335},{"style":601},[25336],{"type":21,"value":4740},{"type":15,"tag":252,"props":25338,"children":25339},{"style":601},[25340],{"type":21,"value":4745},{"type":15,"tag":252,"props":25342,"children":25343},{"style":259},[25344],{"type":21,"value":5808},{"type":15,"tag":252,"props":25346,"children":25347},{"style":447},[25348],{"type":21,"value":849},{"type":15,"tag":252,"props":25350,"children":25351},{"style":601},[25352],{"type":21,"value":4740},{"type":15,"tag":252,"props":25354,"children":25355},{"style":259},[25356],{"type":21,"value":5821},{"type":15,"tag":252,"props":25358,"children":25359},{"style":447},[25360],{"type":21,"value":5826},{"type":15,"tag":252,"props":25362,"children":25363},{"style":259},[25364],{"type":21,"value":24370},{"type":15,"tag":252,"props":25366,"children":25367},{"style":447},[25368],{"type":21,"value":5835},{"type":15,"tag":252,"props":25370,"children":25371},{"class":254,"line":2077},[25372],{"type":15,"tag":252,"props":25373,"children":25374},{"emptyLinePlaceholder":2053},[25375],{"type":21,"value":2056},{"type":15,"tag":252,"props":25377,"children":25378},{"class":254,"line":2110},[25379,25383,25387],{"type":15,"tag":252,"props":25380,"children":25381},{"style":447},[25382],{"type":21,"value":3742},{"type":15,"tag":252,"props":25384,"children":25385},{"style":259},[25386],{"type":21,"value":5788},{"type":15,"tag":252,"props":25388,"children":25389},{"style":447},[25390],{"type":21,"value":3751},{"type":15,"tag":252,"props":25392,"children":25393},{"class":254,"line":2150},[25394,25398,25402,25406],{"type":15,"tag":252,"props":25395,"children":25396},{"style":601},[25397],{"type":21,"value":4740},{"type":15,"tag":252,"props":25399,"children":25400},{"style":601},[25401],{"type":21,"value":5869},{"type":15,"tag":252,"props":25403,"children":25404},{"style":259},[25405],{"type":21,"value":24412},{"type":15,"tag":252,"props":25407,"children":25408},{"style":447},[25409],{"type":21,"value":3769},{"type":15,"tag":252,"props":25411,"children":25412},{"class":254,"line":2182},[25413,25417,25421,25425,25429,25433],{"type":15,"tag":252,"props":25414,"children":25415},{"style":259},[25416],{"type":21,"value":24424},{"type":15,"tag":252,"props":25418,"children":25419},{"style":447},[25420],{"type":21,"value":849},{"type":15,"tag":252,"props":25422,"children":25423},{"style":259},[25424],{"type":21,"value":9738},{"type":15,"tag":252,"props":25426,"children":25427},{"style":447},[25428],{"type":21,"value":5826},{"type":15,"tag":252,"props":25430,"children":25431},{"style":259},[25432],{"type":21,"value":5709},{"type":15,"tag":252,"props":25434,"children":25435},{"style":447},[25436],{"type":21,"value":24445},{"type":15,"tag":252,"props":25438,"children":25439},{"class":254,"line":2190},[25440],{"type":15,"tag":252,"props":25441,"children":25442},{"style":447},[25443],{"type":21,"value":2854},{"type":15,"tag":23,"props":25445,"children":25446},{},[25447],{"type":21,"value":25448},"And then the type analyzer",{"type":15,"tag":95,"props":25450,"children":25452},{"code":25451,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\npub fn resolve_top_level_statement(\n    statement: &ast::ToplevelStatement,\n) -> anyhow::Result\u003Cir::ToplevelStatement> {\n    match statement {\n        ast::ToplevelStatement::MainFunction(statements) => {\n            let mut ir_statements = Vec::new();\n\n            for statement in statements {\n                let ir_statement = resolve_statement(statement)?;\n\n                ir_statements.push(ir_statement);\n            }\n\n            Ok(ir::ToplevelStatement::MainFunction(ir_statements))\n        }\n    }\n}\n\npub fn resolve_module(module: &ast::Module) -> anyhow::Result\u003Cir::Module> {\n    let mut ir_statements = Vec::new();\n\n    for statement in &module.0 {\n        let ir_statement = resolve_top_level_statement(statement)?;\n\n        ir_statements.push(ir_statement);\n    }\n\n    Ok(ir::Module(ir_statements))\n}\n",[25453],{"type":15,"tag":81,"props":25454,"children":25455},{"__ignoreMap":8},[25456,25463,25483,25515,25554,25565,25601,25636,25643,25664,25695,25702,25722,25729,25736,25771,25778,25785,25792,25799,25874,25909,25916,25951,25982,25989,26008,26015,26022,26049],{"type":15,"tag":252,"props":25457,"children":25458},{"class":254,"line":255},[25459],{"type":15,"tag":252,"props":25460,"children":25461},{"style":3287},[25462],{"type":21,"value":14916},{"type":15,"tag":252,"props":25464,"children":25465},{"class":254,"line":334},[25466,25470,25474,25479],{"type":15,"tag":252,"props":25467,"children":25468},{"style":601},[25469],{"type":21,"value":4740},{"type":15,"tag":252,"props":25471,"children":25472},{"style":601},[25473],{"type":21,"value":4901},{"type":15,"tag":252,"props":25475,"children":25476},{"style":259},[25477],{"type":21,"value":25478}," resolve_top_level_statement",{"type":15,"tag":252,"props":25480,"children":25481},{"style":447},[25482],{"type":21,"value":14196},{"type":15,"tag":252,"props":25484,"children":25485},{"class":254,"line":390},[25486,25491,25495,25499,25503,25507,25511],{"type":15,"tag":252,"props":25487,"children":25488},{"style":447},[25489],{"type":21,"value":25490},"    statement",{"type":15,"tag":252,"props":25492,"children":25493},{"style":601},[25494],{"type":21,"value":3374},{"type":15,"tag":252,"props":25496,"children":25497},{"style":601},[25498],{"type":21,"value":4920},{"type":15,"tag":252,"props":25500,"children":25501},{"style":259},[25502],{"type":21,"value":5623},{"type":15,"tag":252,"props":25504,"children":25505},{"style":601},[25506],{"type":21,"value":804},{"type":15,"tag":252,"props":25508,"children":25509},{"style":259},[25510],{"type":21,"value":24370},{"type":15,"tag":252,"props":25512,"children":25513},{"style":447},[25514],{"type":21,"value":3879},{"type":15,"tag":252,"props":25516,"children":25517},{"class":254,"line":2077},[25518,25522,25526,25530,25534,25538,25542,25546,25550],{"type":15,"tag":252,"props":25519,"children":25520},{"style":447},[25521],{"type":21,"value":4943},{"type":15,"tag":252,"props":25523,"children":25524},{"style":601},[25525],{"type":21,"value":3947},{"type":15,"tag":252,"props":25527,"children":25528},{"style":259},[25529],{"type":21,"value":3952},{"type":15,"tag":252,"props":25531,"children":25532},{"style":601},[25533],{"type":21,"value":804},{"type":15,"tag":252,"props":25535,"children":25536},{"style":259},[25537],{"type":21,"value":3961},{"type":15,"tag":252,"props":25539,"children":25540},{"style":447},[25541],{"type":21,"value":15620},{"type":15,"tag":252,"props":25543,"children":25544},{"style":601},[25545],{"type":21,"value":804},{"type":15,"tag":252,"props":25547,"children":25548},{"style":259},[25549],{"type":21,"value":24370},{"type":15,"tag":252,"props":25551,"children":25552},{"style":447},[25553],{"type":21,"value":7138},{"type":15,"tag":252,"props":25555,"children":25556},{"class":254,"line":2110},[25557,25561],{"type":15,"tag":252,"props":25558,"children":25559},{"style":601},[25560],{"type":21,"value":4014},{"type":15,"tag":252,"props":25562,"children":25563},{"style":447},[25564],{"type":21,"value":15848},{"type":15,"tag":252,"props":25566,"children":25567},{"class":254,"line":2150},[25568,25572,25576,25580,25584,25588,25593,25597],{"type":15,"tag":252,"props":25569,"children":25570},{"style":259},[25571],{"type":21,"value":15305},{"type":15,"tag":252,"props":25573,"children":25574},{"style":601},[25575],{"type":21,"value":804},{"type":15,"tag":252,"props":25577,"children":25578},{"style":259},[25579],{"type":21,"value":24370},{"type":15,"tag":252,"props":25581,"children":25582},{"style":601},[25583],{"type":21,"value":804},{"type":15,"tag":252,"props":25585,"children":25586},{"style":259},[25587],{"type":21,"value":24799},{"type":15,"tag":252,"props":25589,"children":25590},{"style":447},[25591],{"type":21,"value":25592},"(statements) ",{"type":15,"tag":252,"props":25594,"children":25595},{"style":601},[25596],{"type":21,"value":4054},{"type":15,"tag":252,"props":25598,"children":25599},{"style":447},[25600],{"type":21,"value":3769},{"type":15,"tag":252,"props":25602,"children":25603},{"class":254,"line":2182},[25604,25608,25612,25616,25620,25624,25628,25632],{"type":15,"tag":252,"props":25605,"children":25606},{"style":601},[25607],{"type":21,"value":15892},{"type":15,"tag":252,"props":25609,"children":25610},{"style":601},[25611],{"type":21,"value":8623},{"type":15,"tag":252,"props":25613,"children":25614},{"style":447},[25615],{"type":21,"value":16081},{"type":15,"tag":252,"props":25617,"children":25618},{"style":601},[25619],{"type":21,"value":614},{"type":15,"tag":252,"props":25621,"children":25622},{"style":259},[25623],{"type":21,"value":5821},{"type":15,"tag":252,"props":25625,"children":25626},{"style":601},[25627],{"type":21,"value":804},{"type":15,"tag":252,"props":25629,"children":25630},{"style":259},[25631],{"type":21,"value":7761},{"type":15,"tag":252,"props":25633,"children":25634},{"style":447},[25635],{"type":21,"value":814},{"type":15,"tag":252,"props":25637,"children":25638},{"class":254,"line":2190},[25639],{"type":15,"tag":252,"props":25640,"children":25641},{"emptyLinePlaceholder":2053},[25642],{"type":21,"value":2056},{"type":15,"tag":252,"props":25644,"children":25645},{"class":254,"line":2222},[25646,25651,25655,25659],{"type":15,"tag":252,"props":25647,"children":25648},{"style":601},[25649],{"type":21,"value":25650},"            for",{"type":15,"tag":252,"props":25652,"children":25653},{"style":447},[25654],{"type":21,"value":16121},{"type":15,"tag":252,"props":25656,"children":25657},{"style":601},[25658],{"type":21,"value":16126},{"type":15,"tag":252,"props":25660,"children":25661},{"style":447},[25662],{"type":21,"value":25663}," statements {\n",{"type":15,"tag":252,"props":25665,"children":25666},{"class":254,"line":2270},[25667,25671,25675,25679,25683,25687,25691],{"type":15,"tag":252,"props":25668,"children":25669},{"style":601},[25670],{"type":21,"value":13283},{"type":15,"tag":252,"props":25672,"children":25673},{"style":447},[25674],{"type":21,"value":16158},{"type":15,"tag":252,"props":25676,"children":25677},{"style":601},[25678],{"type":21,"value":614},{"type":15,"tag":252,"props":25680,"children":25681},{"style":259},[25682],{"type":21,"value":15775},{"type":15,"tag":252,"props":25684,"children":25685},{"style":447},[25686],{"type":21,"value":16171},{"type":15,"tag":252,"props":25688,"children":25689},{"style":601},[25690],{"type":21,"value":5468},{"type":15,"tag":252,"props":25692,"children":25693},{"style":447},[25694],{"type":21,"value":3325},{"type":15,"tag":252,"props":25696,"children":25697},{"class":254,"line":2302},[25698],{"type":15,"tag":252,"props":25699,"children":25700},{"emptyLinePlaceholder":2053},[25701],{"type":21,"value":2056},{"type":15,"tag":252,"props":25703,"children":25704},{"class":254,"line":2310},[25705,25710,25714,25718],{"type":15,"tag":252,"props":25706,"children":25707},{"style":447},[25708],{"type":21,"value":25709},"                ir_statements",{"type":15,"tag":252,"props":25711,"children":25712},{"style":601},[25713],{"type":21,"value":432},{"type":15,"tag":252,"props":25715,"children":25716},{"style":259},[25717],{"type":21,"value":8743},{"type":15,"tag":252,"props":25719,"children":25720},{"style":447},[25721],{"type":21,"value":16207},{"type":15,"tag":252,"props":25723,"children":25724},{"class":254,"line":2370},[25725],{"type":15,"tag":252,"props":25726,"children":25727},{"style":447},[25728],{"type":21,"value":8814},{"type":15,"tag":252,"props":25730,"children":25731},{"class":254,"line":2418},[25732],{"type":15,"tag":252,"props":25733,"children":25734},{"emptyLinePlaceholder":2053},[25735],{"type":21,"value":2056},{"type":15,"tag":252,"props":25737,"children":25738},{"class":254,"line":2426},[25739,25743,25747,25751,25755,25759,25763,25767],{"type":15,"tag":252,"props":25740,"children":25741},{"style":259},[25742],{"type":21,"value":12492},{"type":15,"tag":252,"props":25744,"children":25745},{"style":447},[25746],{"type":21,"value":849},{"type":15,"tag":252,"props":25748,"children":25749},{"style":259},[25750],{"type":21,"value":14557},{"type":15,"tag":252,"props":25752,"children":25753},{"style":601},[25754],{"type":21,"value":804},{"type":15,"tag":252,"props":25756,"children":25757},{"style":259},[25758],{"type":21,"value":24370},{"type":15,"tag":252,"props":25760,"children":25761},{"style":601},[25762],{"type":21,"value":804},{"type":15,"tag":252,"props":25764,"children":25765},{"style":259},[25766],{"type":21,"value":24799},{"type":15,"tag":252,"props":25768,"children":25769},{"style":447},[25770],{"type":21,"value":16249},{"type":15,"tag":252,"props":25772,"children":25773},{"class":254,"line":2474},[25774],{"type":15,"tag":252,"props":25775,"children":25776},{"style":447},[25777],{"type":21,"value":4087},{"type":15,"tag":252,"props":25779,"children":25780},{"class":254,"line":2522},[25781],{"type":15,"tag":252,"props":25782,"children":25783},{"style":447},[25784],{"type":21,"value":4095},{"type":15,"tag":252,"props":25786,"children":25787},{"class":254,"line":2530},[25788],{"type":15,"tag":252,"props":25789,"children":25790},{"style":447},[25791],{"type":21,"value":2854},{"type":15,"tag":252,"props":25793,"children":25794},{"class":254,"line":2570},[25795],{"type":15,"tag":252,"props":25796,"children":25797},{"emptyLinePlaceholder":2053},[25798],{"type":21,"value":2056},{"type":15,"tag":252,"props":25800,"children":25801},{"class":254,"line":2591},[25802,25806,25810,25814,25818,25822,25826,25830,25834,25838,25842,25846,25850,25854,25858,25862,25866,25870],{"type":15,"tag":252,"props":25803,"children":25804},{"style":601},[25805],{"type":21,"value":4740},{"type":15,"tag":252,"props":25807,"children":25808},{"style":601},[25809],{"type":21,"value":4901},{"type":15,"tag":252,"props":25811,"children":25812},{"style":259},[25813],{"type":21,"value":16004},{"type":15,"tag":252,"props":25815,"children":25816},{"style":447},[25817],{"type":21,"value":16009},{"type":15,"tag":252,"props":25819,"children":25820},{"style":601},[25821],{"type":21,"value":3374},{"type":15,"tag":252,"props":25823,"children":25824},{"style":601},[25825],{"type":21,"value":4920},{"type":15,"tag":252,"props":25827,"children":25828},{"style":259},[25829],{"type":21,"value":5623},{"type":15,"tag":252,"props":25831,"children":25832},{"style":601},[25833],{"type":21,"value":804},{"type":15,"tag":252,"props":25835,"children":25836},{"style":259},[25837],{"type":21,"value":6055},{"type":15,"tag":252,"props":25839,"children":25840},{"style":447},[25841],{"type":21,"value":4943},{"type":15,"tag":252,"props":25843,"children":25844},{"style":601},[25845],{"type":21,"value":3947},{"type":15,"tag":252,"props":25847,"children":25848},{"style":259},[25849],{"type":21,"value":3952},{"type":15,"tag":252,"props":25851,"children":25852},{"style":601},[25853],{"type":21,"value":804},{"type":15,"tag":252,"props":25855,"children":25856},{"style":259},[25857],{"type":21,"value":3961},{"type":15,"tag":252,"props":25859,"children":25860},{"style":447},[25861],{"type":21,"value":15620},{"type":15,"tag":252,"props":25863,"children":25864},{"style":601},[25865],{"type":21,"value":804},{"type":15,"tag":252,"props":25867,"children":25868},{"style":259},[25869],{"type":21,"value":6055},{"type":15,"tag":252,"props":25871,"children":25872},{"style":447},[25873],{"type":21,"value":7138},{"type":15,"tag":252,"props":25875,"children":25876},{"class":254,"line":2599},[25877,25881,25885,25889,25893,25897,25901,25905],{"type":15,"tag":252,"props":25878,"children":25879},{"style":601},[25880],{"type":21,"value":2083},{"type":15,"tag":252,"props":25882,"children":25883},{"style":601},[25884],{"type":21,"value":8623},{"type":15,"tag":252,"props":25886,"children":25887},{"style":447},[25888],{"type":21,"value":16081},{"type":15,"tag":252,"props":25890,"children":25891},{"style":601},[25892],{"type":21,"value":614},{"type":15,"tag":252,"props":25894,"children":25895},{"style":259},[25896],{"type":21,"value":5821},{"type":15,"tag":252,"props":25898,"children":25899},{"style":601},[25900],{"type":21,"value":804},{"type":15,"tag":252,"props":25902,"children":25903},{"style":259},[25904],{"type":21,"value":7761},{"type":15,"tag":252,"props":25906,"children":25907},{"style":447},[25908],{"type":21,"value":814},{"type":15,"tag":252,"props":25910,"children":25911},{"class":254,"line":2647},[25912],{"type":15,"tag":252,"props":25913,"children":25914},{"emptyLinePlaceholder":2053},[25915],{"type":21,"value":2056},{"type":15,"tag":252,"props":25917,"children":25918},{"class":254,"line":2679},[25919,25923,25927,25931,25935,25939,25943,25947],{"type":15,"tag":252,"props":25920,"children":25921},{"style":601},[25922],{"type":21,"value":16116},{"type":15,"tag":252,"props":25924,"children":25925},{"style":447},[25926],{"type":21,"value":16121},{"type":15,"tag":252,"props":25928,"children":25929},{"style":601},[25930],{"type":21,"value":16126},{"type":15,"tag":252,"props":25932,"children":25933},{"style":601},[25934],{"type":21,"value":4920},{"type":15,"tag":252,"props":25936,"children":25937},{"style":447},[25938],{"type":21,"value":919},{"type":15,"tag":252,"props":25940,"children":25941},{"style":601},[25942],{"type":21,"value":432},{"type":15,"tag":252,"props":25944,"children":25945},{"style":276},[25946],{"type":21,"value":1901},{"type":15,"tag":252,"props":25948,"children":25949},{"style":447},[25950],{"type":21,"value":3769},{"type":15,"tag":252,"props":25952,"children":25953},{"class":254,"line":2727},[25954,25958,25962,25966,25970,25974,25978],{"type":15,"tag":252,"props":25955,"children":25956},{"style":601},[25957],{"type":21,"value":8231},{"type":15,"tag":252,"props":25959,"children":25960},{"style":447},[25961],{"type":21,"value":16158},{"type":15,"tag":252,"props":25963,"children":25964},{"style":601},[25965],{"type":21,"value":614},{"type":15,"tag":252,"props":25967,"children":25968},{"style":259},[25969],{"type":21,"value":25478},{"type":15,"tag":252,"props":25971,"children":25972},{"style":447},[25973],{"type":21,"value":16171},{"type":15,"tag":252,"props":25975,"children":25976},{"style":601},[25977],{"type":21,"value":5468},{"type":15,"tag":252,"props":25979,"children":25980},{"style":447},[25981],{"type":21,"value":3325},{"type":15,"tag":252,"props":25983,"children":25984},{"class":254,"line":2735},[25985],{"type":15,"tag":252,"props":25986,"children":25987},{"emptyLinePlaceholder":2053},[25988],{"type":21,"value":2056},{"type":15,"tag":252,"props":25990,"children":25991},{"class":254,"line":2799},[25992,25996,26000,26004],{"type":15,"tag":252,"props":25993,"children":25994},{"style":447},[25995],{"type":21,"value":16194},{"type":15,"tag":252,"props":25997,"children":25998},{"style":601},[25999],{"type":21,"value":432},{"type":15,"tag":252,"props":26001,"children":26002},{"style":259},[26003],{"type":21,"value":8743},{"type":15,"tag":252,"props":26005,"children":26006},{"style":447},[26007],{"type":21,"value":16207},{"type":15,"tag":252,"props":26009,"children":26010},{"class":254,"line":2807},[26011],{"type":15,"tag":252,"props":26012,"children":26013},{"style":447},[26014],{"type":21,"value":4095},{"type":15,"tag":252,"props":26016,"children":26017},{"class":254,"line":2848},[26018],{"type":15,"tag":252,"props":26019,"children":26020},{"emptyLinePlaceholder":2053},[26021],{"type":21,"value":2056},{"type":15,"tag":252,"props":26023,"children":26024},{"class":254,"line":4645},[26025,26029,26033,26037,26041,26045],{"type":15,"tag":252,"props":26026,"children":26027},{"style":259},[26028],{"type":21,"value":4110},{"type":15,"tag":252,"props":26030,"children":26031},{"style":447},[26032],{"type":21,"value":849},{"type":15,"tag":252,"props":26034,"children":26035},{"style":259},[26036],{"type":21,"value":14557},{"type":15,"tag":252,"props":26038,"children":26039},{"style":601},[26040],{"type":21,"value":804},{"type":15,"tag":252,"props":26042,"children":26043},{"style":259},[26044],{"type":21,"value":6055},{"type":15,"tag":252,"props":26046,"children":26047},{"style":447},[26048],{"type":21,"value":16249},{"type":15,"tag":252,"props":26050,"children":26051},{"class":254,"line":4654},[26052],{"type":15,"tag":252,"props":26053,"children":26054},{"style":447},[26055],{"type":21,"value":2854},{"type":15,"tag":59,"props":26057,"children":26059},{"id":26058},"code-gen",[26060],{"type":21,"value":26061},"Code gen",{"type":15,"tag":23,"props":26063,"children":26064},{},[26065],{"type":21,"value":26066},"Then we can modify the code gen to create the main part using this IR.",{"type":15,"tag":95,"props":26068,"children":26070},{"code":26069,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n    fn compile_top_level_statement(&self, statement: &ir::ToplevelStatement) {\n        match statement {\n            ir::ToplevelStatement::MainFunction(statements) => {\n                let i32_type = self.context.i32_type();\n                let main_type = i32_type.fn_type(&[], false);\n                let main = self.module.add_function(\"main\", main_type, None);\n                let main_block = self.context.append_basic_block(main, \"entry\");\n                self.builder.position_at_end(main_block);\n\n                for statement in statements {\n                    self.compile_statement(statement);\n                }\n\n                self.builder\n                    .build_return(Some(&i32_type.const_int(0, false)));\n            }\n        }\n    }\n\n    pub fn compile_module(&mut self, module: &ir::Module) {\n        self.compile_libc_definitions();\n\n        for statement in &module.0 {\n            self.compile_top_level_statement(statement);\n        }\n    }\n",[26071],{"type":15,"tag":81,"props":26072,"children":26073},{"__ignoreMap":8},[26074,26082,26134,26145,26180,26219,26266,26321,26368,26395,26402,26422,26441,26448,26455,26470,26530,26537,26544,26551,26558,26613,26632,26639,26674,26694,26701],{"type":15,"tag":252,"props":26075,"children":26076},{"class":254,"line":255},[26077],{"type":15,"tag":252,"props":26078,"children":26079},{"style":3287},[26080],{"type":21,"value":26081},"// code_gen.rs\n",{"type":15,"tag":252,"props":26083,"children":26084},{"class":254,"line":334},[26085,26089,26094,26098,26102,26106,26110,26114,26118,26122,26126,26130],{"type":15,"tag":252,"props":26086,"children":26087},{"style":601},[26088],{"type":21,"value":7146},{"type":15,"tag":252,"props":26090,"children":26091},{"style":259},[26092],{"type":21,"value":26093}," compile_top_level_statement",{"type":15,"tag":252,"props":26095,"children":26096},{"style":447},[26097],{"type":21,"value":849},{"type":15,"tag":252,"props":26099,"children":26100},{"style":601},[26101],{"type":21,"value":1171},{"type":15,"tag":252,"props":26103,"children":26104},{"style":276},[26105],{"type":21,"value":7432},{"type":15,"tag":252,"props":26107,"children":26108},{"style":447},[26109],{"type":21,"value":18709},{"type":15,"tag":252,"props":26111,"children":26112},{"style":601},[26113],{"type":21,"value":3374},{"type":15,"tag":252,"props":26115,"children":26116},{"style":601},[26117],{"type":21,"value":4920},{"type":15,"tag":252,"props":26119,"children":26120},{"style":259},[26121],{"type":21,"value":14557},{"type":15,"tag":252,"props":26123,"children":26124},{"style":601},[26125],{"type":21,"value":804},{"type":15,"tag":252,"props":26127,"children":26128},{"style":259},[26129],{"type":21,"value":24370},{"type":15,"tag":252,"props":26131,"children":26132},{"style":447},[26133],{"type":21,"value":7370},{"type":15,"tag":252,"props":26135,"children":26136},{"class":254,"line":390},[26137,26141],{"type":15,"tag":252,"props":26138,"children":26139},{"style":601},[26140],{"type":21,"value":12717},{"type":15,"tag":252,"props":26142,"children":26143},{"style":447},[26144],{"type":21,"value":15848},{"type":15,"tag":252,"props":26146,"children":26147},{"class":254,"line":2077},[26148,26152,26156,26160,26164,26168,26172,26176],{"type":15,"tag":252,"props":26149,"children":26150},{"style":259},[26151],{"type":21,"value":18575},{"type":15,"tag":252,"props":26153,"children":26154},{"style":601},[26155],{"type":21,"value":804},{"type":15,"tag":252,"props":26157,"children":26158},{"style":259},[26159],{"type":21,"value":24370},{"type":15,"tag":252,"props":26161,"children":26162},{"style":601},[26163],{"type":21,"value":804},{"type":15,"tag":252,"props":26165,"children":26166},{"style":259},[26167],{"type":21,"value":24799},{"type":15,"tag":252,"props":26169,"children":26170},{"style":447},[26171],{"type":21,"value":25592},{"type":15,"tag":252,"props":26173,"children":26174},{"style":601},[26175],{"type":21,"value":4054},{"type":15,"tag":252,"props":26177,"children":26178},{"style":447},[26179],{"type":21,"value":3769},{"type":15,"tag":252,"props":26181,"children":26182},{"class":254,"line":2110},[26183,26187,26191,26195,26199,26203,26207,26211,26215],{"type":15,"tag":252,"props":26184,"children":26185},{"style":601},[26186],{"type":21,"value":13283},{"type":15,"tag":252,"props":26188,"children":26189},{"style":447},[26190],{"type":21,"value":1042},{"type":15,"tag":252,"props":26192,"children":26193},{"style":601},[26194],{"type":21,"value":614},{"type":15,"tag":252,"props":26196,"children":26197},{"style":276},[26198],{"type":21,"value":7244},{"type":15,"tag":252,"props":26200,"children":26201},{"style":601},[26202],{"type":21,"value":432},{"type":15,"tag":252,"props":26204,"children":26205},{"style":447},[26206],{"type":21,"value":908},{"type":15,"tag":252,"props":26208,"children":26209},{"style":601},[26210],{"type":21,"value":432},{"type":15,"tag":252,"props":26212,"children":26213},{"style":259},[26214],{"type":21,"value":1059},{"type":15,"tag":252,"props":26216,"children":26217},{"style":447},[26218],{"type":21,"value":814},{"type":15,"tag":252,"props":26220,"children":26221},{"class":254,"line":2150},[26222,26226,26230,26234,26238,26242,26246,26250,26254,26258,26262],{"type":15,"tag":252,"props":26223,"children":26224},{"style":601},[26225],{"type":21,"value":13283},{"type":15,"tag":252,"props":26227,"children":26228},{"style":447},[26229],{"type":21,"value":19442},{"type":15,"tag":252,"props":26231,"children":26232},{"style":601},[26233],{"type":21,"value":614},{"type":15,"tag":252,"props":26235,"children":26236},{"style":447},[26237],{"type":21,"value":1153},{"type":15,"tag":252,"props":26239,"children":26240},{"style":601},[26241],{"type":21,"value":432},{"type":15,"tag":252,"props":26243,"children":26244},{"style":259},[26245],{"type":21,"value":1162},{"type":15,"tag":252,"props":26247,"children":26248},{"style":447},[26249],{"type":21,"value":849},{"type":15,"tag":252,"props":26251,"children":26252},{"style":601},[26253],{"type":21,"value":1171},{"type":15,"tag":252,"props":26255,"children":26256},{"style":447},[26257],{"type":21,"value":1451},{"type":15,"tag":252,"props":26259,"children":26260},{"style":276},[26261],{"type":21,"value":1456},{"type":15,"tag":252,"props":26263,"children":26264},{"style":447},[26265],{"type":21,"value":859},{"type":15,"tag":252,"props":26267,"children":26268},{"class":254,"line":2182},[26269,26273,26277,26281,26285,26289,26293,26297,26301,26305,26309,26313,26317],{"type":15,"tag":252,"props":26270,"children":26271},{"style":601},[26272],{"type":21,"value":13283},{"type":15,"tag":252,"props":26274,"children":26275},{"style":447},[26276],{"type":21,"value":19491},{"type":15,"tag":252,"props":26278,"children":26279},{"style":601},[26280],{"type":21,"value":614},{"type":15,"tag":252,"props":26282,"children":26283},{"style":276},[26284],{"type":21,"value":7244},{"type":15,"tag":252,"props":26286,"children":26287},{"style":601},[26288],{"type":21,"value":432},{"type":15,"tag":252,"props":26290,"children":26291},{"style":447},[26292],{"type":21,"value":919},{"type":15,"tag":252,"props":26294,"children":26295},{"style":601},[26296],{"type":21,"value":432},{"type":15,"tag":252,"props":26298,"children":26299},{"style":259},[26300],{"type":21,"value":1229},{"type":15,"tag":252,"props":26302,"children":26303},{"style":447},[26304],{"type":21,"value":849},{"type":15,"tag":252,"props":26306,"children":26307},{"style":265},[26308],{"type":21,"value":1497},{"type":15,"tag":252,"props":26310,"children":26311},{"style":447},[26312],{"type":21,"value":19528},{"type":15,"tag":252,"props":26314,"children":26315},{"style":259},[26316],{"type":21,"value":1248},{"type":15,"tag":252,"props":26318,"children":26319},{"style":447},[26320],{"type":21,"value":859},{"type":15,"tag":252,"props":26322,"children":26323},{"class":254,"line":2190},[26324,26328,26332,26336,26340,26344,26348,26352,26356,26360,26364],{"type":15,"tag":252,"props":26325,"children":26326},{"style":601},[26327],{"type":21,"value":13283},{"type":15,"tag":252,"props":26329,"children":26330},{"style":447},[26331],{"type":21,"value":1548},{"type":15,"tag":252,"props":26333,"children":26334},{"style":601},[26335],{"type":21,"value":614},{"type":15,"tag":252,"props":26337,"children":26338},{"style":276},[26339],{"type":21,"value":7244},{"type":15,"tag":252,"props":26341,"children":26342},{"style":601},[26343],{"type":21,"value":432},{"type":15,"tag":252,"props":26345,"children":26346},{"style":447},[26347],{"type":21,"value":908},{"type":15,"tag":252,"props":26349,"children":26350},{"style":601},[26351],{"type":21,"value":432},{"type":15,"tag":252,"props":26353,"children":26354},{"style":259},[26355],{"type":21,"value":1565},{"type":15,"tag":252,"props":26357,"children":26358},{"style":447},[26359],{"type":21,"value":19577},{"type":15,"tag":252,"props":26361,"children":26362},{"style":265},[26363],{"type":21,"value":1575},{"type":15,"tag":252,"props":26365,"children":26366},{"style":447},[26367],{"type":21,"value":859},{"type":15,"tag":252,"props":26369,"children":26370},{"class":254,"line":2222},[26371,26375,26379,26383,26387,26391],{"type":15,"tag":252,"props":26372,"children":26373},{"style":276},[26374],{"type":21,"value":8765},{"type":15,"tag":252,"props":26376,"children":26377},{"style":601},[26378],{"type":21,"value":432},{"type":15,"tag":252,"props":26380,"children":26381},{"style":447},[26382],{"type":21,"value":930},{"type":15,"tag":252,"props":26384,"children":26385},{"style":601},[26386],{"type":21,"value":432},{"type":15,"tag":252,"props":26388,"children":26389},{"style":259},[26390],{"type":21,"value":1595},{"type":15,"tag":252,"props":26392,"children":26393},{"style":447},[26394],{"type":21,"value":1600},{"type":15,"tag":252,"props":26396,"children":26397},{"class":254,"line":2270},[26398],{"type":15,"tag":252,"props":26399,"children":26400},{"emptyLinePlaceholder":2053},[26401],{"type":21,"value":2056},{"type":15,"tag":252,"props":26403,"children":26404},{"class":254,"line":2302},[26405,26410,26414,26418],{"type":15,"tag":252,"props":26406,"children":26407},{"style":601},[26408],{"type":21,"value":26409},"                for",{"type":15,"tag":252,"props":26411,"children":26412},{"style":447},[26413],{"type":21,"value":16121},{"type":15,"tag":252,"props":26415,"children":26416},{"style":601},[26417],{"type":21,"value":16126},{"type":15,"tag":252,"props":26419,"children":26420},{"style":447},[26421],{"type":21,"value":25663},{"type":15,"tag":252,"props":26423,"children":26424},{"class":254,"line":2310},[26425,26429,26433,26437],{"type":15,"tag":252,"props":26426,"children":26427},{"style":276},[26428],{"type":21,"value":10073},{"type":15,"tag":252,"props":26430,"children":26431},{"style":601},[26432],{"type":21,"value":432},{"type":15,"tag":252,"props":26434,"children":26435},{"style":259},[26436],{"type":21,"value":19675},{"type":15,"tag":252,"props":26438,"children":26439},{"style":447},[26440],{"type":21,"value":19680},{"type":15,"tag":252,"props":26442,"children":26443},{"class":254,"line":2370},[26444],{"type":15,"tag":252,"props":26445,"children":26446},{"style":447},[26447],{"type":21,"value":10093},{"type":15,"tag":252,"props":26449,"children":26450},{"class":254,"line":2418},[26451],{"type":15,"tag":252,"props":26452,"children":26453},{"emptyLinePlaceholder":2053},[26454],{"type":21,"value":2056},{"type":15,"tag":252,"props":26456,"children":26457},{"class":254,"line":2426},[26458,26462,26466],{"type":15,"tag":252,"props":26459,"children":26460},{"style":276},[26461],{"type":21,"value":8765},{"type":15,"tag":252,"props":26463,"children":26464},{"style":601},[26465],{"type":21,"value":432},{"type":15,"tag":252,"props":26467,"children":26468},{"style":447},[26469],{"type":21,"value":18914},{"type":15,"tag":252,"props":26471,"children":26472},{"class":254,"line":2474},[26473,26478,26482,26486,26490,26494,26498,26502,26506,26510,26514,26518,26522,26526],{"type":15,"tag":252,"props":26474,"children":26475},{"style":601},[26476],{"type":21,"value":26477},"                    .",{"type":15,"tag":252,"props":26479,"children":26480},{"style":259},[26481],{"type":21,"value":1862},{"type":15,"tag":252,"props":26483,"children":26484},{"style":447},[26485],{"type":21,"value":849},{"type":15,"tag":252,"props":26487,"children":26488},{"style":259},[26489],{"type":21,"value":1871},{"type":15,"tag":252,"props":26491,"children":26492},{"style":447},[26493],{"type":21,"value":849},{"type":15,"tag":252,"props":26495,"children":26496},{"style":601},[26497],{"type":21,"value":1171},{"type":15,"tag":252,"props":26499,"children":26500},{"style":447},[26501],{"type":21,"value":1059},{"type":15,"tag":252,"props":26503,"children":26504},{"style":601},[26505],{"type":21,"value":432},{"type":15,"tag":252,"props":26507,"children":26508},{"style":259},[26509],{"type":21,"value":1892},{"type":15,"tag":252,"props":26511,"children":26512},{"style":447},[26513],{"type":21,"value":849},{"type":15,"tag":252,"props":26515,"children":26516},{"style":276},[26517],{"type":21,"value":1901},{"type":15,"tag":252,"props":26519,"children":26520},{"style":447},[26521],{"type":21,"value":1076},{"type":15,"tag":252,"props":26523,"children":26524},{"style":276},[26525],{"type":21,"value":1456},{"type":15,"tag":252,"props":26527,"children":26528},{"style":447},[26529],{"type":21,"value":1914},{"type":15,"tag":252,"props":26531,"children":26532},{"class":254,"line":2522},[26533],{"type":15,"tag":252,"props":26534,"children":26535},{"style":447},[26536],{"type":21,"value":8814},{"type":15,"tag":252,"props":26538,"children":26539},{"class":254,"line":2530},[26540],{"type":15,"tag":252,"props":26541,"children":26542},{"style":447},[26543],{"type":21,"value":4087},{"type":15,"tag":252,"props":26545,"children":26546},{"class":254,"line":2570},[26547],{"type":15,"tag":252,"props":26548,"children":26549},{"style":447},[26550],{"type":21,"value":4095},{"type":15,"tag":252,"props":26552,"children":26553},{"class":254,"line":2591},[26554],{"type":15,"tag":252,"props":26555,"children":26556},{"emptyLinePlaceholder":2053},[26557],{"type":21,"value":2056},{"type":15,"tag":252,"props":26559,"children":26560},{"class":254,"line":2599},[26561,26565,26569,26573,26577,26581,26585,26589,26593,26597,26601,26605,26609],{"type":15,"tag":252,"props":26562,"children":26563},{"style":601},[26564],{"type":21,"value":4762},{"type":15,"tag":252,"props":26566,"children":26567},{"style":601},[26568],{"type":21,"value":4901},{"type":15,"tag":252,"props":26570,"children":26571},{"style":259},[26572],{"type":21,"value":19313},{"type":15,"tag":252,"props":26574,"children":26575},{"style":447},[26576],{"type":21,"value":849},{"type":15,"tag":252,"props":26578,"children":26579},{"style":601},[26580],{"type":21,"value":7239},{"type":15,"tag":252,"props":26582,"children":26583},{"style":276},[26584],{"type":21,"value":7244},{"type":15,"tag":252,"props":26586,"children":26587},{"style":447},[26588],{"type":21,"value":19330},{"type":15,"tag":252,"props":26590,"children":26591},{"style":601},[26592],{"type":21,"value":3374},{"type":15,"tag":252,"props":26594,"children":26595},{"style":601},[26596],{"type":21,"value":4920},{"type":15,"tag":252,"props":26598,"children":26599},{"style":259},[26600],{"type":21,"value":14557},{"type":15,"tag":252,"props":26602,"children":26603},{"style":601},[26604],{"type":21,"value":804},{"type":15,"tag":252,"props":26606,"children":26607},{"style":259},[26608],{"type":21,"value":6055},{"type":15,"tag":252,"props":26610,"children":26611},{"style":447},[26612],{"type":21,"value":7370},{"type":15,"tag":252,"props":26614,"children":26615},{"class":254,"line":2647},[26616,26620,26624,26628],{"type":15,"tag":252,"props":26617,"children":26618},{"style":276},[26619],{"type":21,"value":7286},{"type":15,"tag":252,"props":26621,"children":26622},{"style":601},[26623],{"type":21,"value":432},{"type":15,"tag":252,"props":26625,"children":26626},{"style":259},[26627],{"type":21,"value":19370},{"type":15,"tag":252,"props":26629,"children":26630},{"style":447},[26631],{"type":21,"value":814},{"type":15,"tag":252,"props":26633,"children":26634},{"class":254,"line":2679},[26635],{"type":15,"tag":252,"props":26636,"children":26637},{"emptyLinePlaceholder":2053},[26638],{"type":21,"value":2056},{"type":15,"tag":252,"props":26640,"children":26641},{"class":254,"line":2727},[26642,26646,26650,26654,26658,26662,26666,26670],{"type":15,"tag":252,"props":26643,"children":26644},{"style":601},[26645],{"type":21,"value":19630},{"type":15,"tag":252,"props":26647,"children":26648},{"style":447},[26649],{"type":21,"value":16121},{"type":15,"tag":252,"props":26651,"children":26652},{"style":601},[26653],{"type":21,"value":16126},{"type":15,"tag":252,"props":26655,"children":26656},{"style":601},[26657],{"type":21,"value":4920},{"type":15,"tag":252,"props":26659,"children":26660},{"style":447},[26661],{"type":21,"value":919},{"type":15,"tag":252,"props":26663,"children":26664},{"style":601},[26665],{"type":21,"value":432},{"type":15,"tag":252,"props":26667,"children":26668},{"style":276},[26669],{"type":21,"value":1901},{"type":15,"tag":252,"props":26671,"children":26672},{"style":447},[26673],{"type":21,"value":3769},{"type":15,"tag":252,"props":26675,"children":26676},{"class":254,"line":2735},[26677,26681,26685,26690],{"type":15,"tag":252,"props":26678,"children":26679},{"style":276},[26680],{"type":21,"value":8332},{"type":15,"tag":252,"props":26682,"children":26683},{"style":601},[26684],{"type":21,"value":432},{"type":15,"tag":252,"props":26686,"children":26687},{"style":259},[26688],{"type":21,"value":26689},"compile_top_level_statement",{"type":15,"tag":252,"props":26691,"children":26692},{"style":447},[26693],{"type":21,"value":19680},{"type":15,"tag":252,"props":26695,"children":26696},{"class":254,"line":2799},[26697],{"type":15,"tag":252,"props":26698,"children":26699},{"style":447},[26700],{"type":21,"value":4087},{"type":15,"tag":252,"props":26702,"children":26703},{"class":254,"line":2807},[26704],{"type":15,"tag":252,"props":26705,"children":26706},{"style":447},[26707],{"type":21,"value":4095},{"type":15,"tag":23,"props":26709,"children":26710},{},[26711],{"type":21,"value":26712},"Now you should be able to run",{"type":15,"tag":95,"props":26714,"children":26716},{"code":26715},"${\n  print 1;\n  print 2;\n}\n",[26717],{"type":15,"tag":81,"props":26718,"children":26719},{"__ignoreMap":8},[26720],{"type":21,"value":26715},{"type":15,"tag":192,"props":26722,"children":26724},{"id":26723},"representing-bools",[26725],{"type":21,"value":26726},"representing bools.",{"type":15,"tag":23,"props":26728,"children":26729},{},[26730],{"type":21,"value":26731},"Now we will add booleans, finally another type!",{"type":15,"tag":59,"props":26733,"children":26735},{"id":26734},"parsing-1",[26736],{"type":21,"value":5541},{"type":15,"tag":23,"props":26738,"children":26739},{},[26740],{"type":21,"value":26741},"First tokens:",{"type":15,"tag":95,"props":26743,"children":26745},{"code":26744,"language":772,"meta":8,"className":773,"style":8},"// parsing/tokens.rs\n\n#[derive(Debug, PartialEq, Eq)]\npub enum TokenType {\n    // ...\n    True,\n    False,\n}\n\n// ...\n\n    fn consume_identifier(&mut self) -> Token {\n        // ...\n\n        self.token(match identifier.as_str() {\n            \"print\" => TokenType::Print,\n            \"true\" => TokenType::True,\n            \"false\" => TokenType::False,\n            _ => TokenType::Identifier(identifier),\n        })\n    }\n",[26746],{"type":15,"tag":81,"props":26747,"children":26748},{"__ignoreMap":8},[26749,26756,26763,26794,26813,26820,26832,26844,26851,26858,26865,26872,26911,26919,26926,26965,26992,27021,27050,27077,27084],{"type":15,"tag":252,"props":26750,"children":26751},{"class":254,"line":255},[26752],{"type":15,"tag":252,"props":26753,"children":26754},{"style":3287},[26755],{"type":21,"value":7551},{"type":15,"tag":252,"props":26757,"children":26758},{"class":254,"line":334},[26759],{"type":15,"tag":252,"props":26760,"children":26761},{"emptyLinePlaceholder":2053},[26762],{"type":21,"value":2056},{"type":15,"tag":252,"props":26764,"children":26765},{"class":254,"line":390},[26766,26770,26774,26778,26782,26786,26790],{"type":15,"tag":252,"props":26767,"children":26768},{"style":447},[26769],{"type":21,"value":3742},{"type":15,"tag":252,"props":26771,"children":26772},{"style":259},[26773],{"type":21,"value":5788},{"type":15,"tag":252,"props":26775,"children":26776},{"style":447},[26777],{"type":21,"value":1076},{"type":15,"tag":252,"props":26779,"children":26780},{"style":259},[26781],{"type":21,"value":6434},{"type":15,"tag":252,"props":26783,"children":26784},{"style":447},[26785],{"type":21,"value":1076},{"type":15,"tag":252,"props":26787,"children":26788},{"style":259},[26789],{"type":21,"value":6443},{"type":15,"tag":252,"props":26791,"children":26792},{"style":447},[26793],{"type":21,"value":3751},{"type":15,"tag":252,"props":26795,"children":26796},{"class":254,"line":2077},[26797,26801,26805,26809],{"type":15,"tag":252,"props":26798,"children":26799},{"style":601},[26800],{"type":21,"value":4740},{"type":15,"tag":252,"props":26802,"children":26803},{"style":601},[26804],{"type":21,"value":5869},{"type":15,"tag":252,"props":26806,"children":26807},{"style":259},[26808],{"type":21,"value":6463},{"type":15,"tag":252,"props":26810,"children":26811},{"style":447},[26812],{"type":21,"value":3769},{"type":15,"tag":252,"props":26814,"children":26815},{"class":254,"line":2110},[26816],{"type":15,"tag":252,"props":26817,"children":26818},{"style":3287},[26819],{"type":21,"value":21839},{"type":15,"tag":252,"props":26821,"children":26822},{"class":254,"line":2150},[26823,26828],{"type":15,"tag":252,"props":26824,"children":26825},{"style":259},[26826],{"type":21,"value":26827},"    True",{"type":15,"tag":252,"props":26829,"children":26830},{"style":447},[26831],{"type":21,"value":3879},{"type":15,"tag":252,"props":26833,"children":26834},{"class":254,"line":2182},[26835,26840],{"type":15,"tag":252,"props":26836,"children":26837},{"style":259},[26838],{"type":21,"value":26839},"    False",{"type":15,"tag":252,"props":26841,"children":26842},{"style":447},[26843],{"type":21,"value":3879},{"type":15,"tag":252,"props":26845,"children":26846},{"class":254,"line":2190},[26847],{"type":15,"tag":252,"props":26848,"children":26849},{"style":447},[26850],{"type":21,"value":2854},{"type":15,"tag":252,"props":26852,"children":26853},{"class":254,"line":2222},[26854],{"type":15,"tag":252,"props":26855,"children":26856},{"emptyLinePlaceholder":2053},[26857],{"type":21,"value":2056},{"type":15,"tag":252,"props":26859,"children":26860},{"class":254,"line":2270},[26861],{"type":15,"tag":252,"props":26862,"children":26863},{"style":3287},[26864],{"type":21,"value":5105},{"type":15,"tag":252,"props":26866,"children":26867},{"class":254,"line":2302},[26868],{"type":15,"tag":252,"props":26869,"children":26870},{"emptyLinePlaceholder":2053},[26871],{"type":21,"value":2056},{"type":15,"tag":252,"props":26873,"children":26874},{"class":254,"line":2310},[26875,26879,26883,26887,26891,26895,26899,26903,26907],{"type":15,"tag":252,"props":26876,"children":26877},{"style":601},[26878],{"type":21,"value":7146},{"type":15,"tag":252,"props":26880,"children":26881},{"style":259},[26882],{"type":21,"value":8942},{"type":15,"tag":252,"props":26884,"children":26885},{"style":447},[26886],{"type":21,"value":849},{"type":15,"tag":252,"props":26888,"children":26889},{"style":601},[26890],{"type":21,"value":7239},{"type":15,"tag":252,"props":26892,"children":26893},{"style":276},[26894],{"type":21,"value":7244},{"type":15,"tag":252,"props":26896,"children":26897},{"style":447},[26898],{"type":21,"value":4943},{"type":15,"tag":252,"props":26900,"children":26901},{"style":601},[26902],{"type":21,"value":3947},{"type":15,"tag":252,"props":26904,"children":26905},{"style":259},[26906],{"type":21,"value":6572},{"type":15,"tag":252,"props":26908,"children":26909},{"style":447},[26910],{"type":21,"value":3769},{"type":15,"tag":252,"props":26912,"children":26913},{"class":254,"line":2370},[26914],{"type":15,"tag":252,"props":26915,"children":26916},{"style":3287},[26917],{"type":21,"value":26918},"        // ...\n",{"type":15,"tag":252,"props":26920,"children":26921},{"class":254,"line":2418},[26922],{"type":15,"tag":252,"props":26923,"children":26924},{"emptyLinePlaceholder":2053},[26925],{"type":21,"value":2056},{"type":15,"tag":252,"props":26927,"children":26928},{"class":254,"line":2426},[26929,26933,26937,26941,26945,26949,26953,26957,26961],{"type":15,"tag":252,"props":26930,"children":26931},{"style":276},[26932],{"type":21,"value":7286},{"type":15,"tag":252,"props":26934,"children":26935},{"style":601},[26936],{"type":21,"value":432},{"type":15,"tag":252,"props":26938,"children":26939},{"style":259},[26940],{"type":21,"value":8837},{"type":15,"tag":252,"props":26942,"children":26943},{"style":447},[26944],{"type":21,"value":849},{"type":15,"tag":252,"props":26946,"children":26947},{"style":601},[26948],{"type":21,"value":9195},{"type":15,"tag":252,"props":26950,"children":26951},{"style":447},[26952],{"type":21,"value":9200},{"type":15,"tag":252,"props":26954,"children":26955},{"style":601},[26956],{"type":21,"value":432},{"type":15,"tag":252,"props":26958,"children":26959},{"style":259},[26960],{"type":21,"value":9209},{"type":15,"tag":252,"props":26962,"children":26963},{"style":447},[26964],{"type":21,"value":2074},{"type":15,"tag":252,"props":26966,"children":26967},{"class":254,"line":2474},[26968,26972,26976,26980,26984,26988],{"type":15,"tag":252,"props":26969,"children":26970},{"style":265},[26971],{"type":21,"value":9221},{"type":15,"tag":252,"props":26973,"children":26974},{"style":601},[26975],{"type":21,"value":9226},{"type":15,"tag":252,"props":26977,"children":26978},{"style":259},[26979],{"type":21,"value":6463},{"type":15,"tag":252,"props":26981,"children":26982},{"style":601},[26983],{"type":21,"value":804},{"type":15,"tag":252,"props":26985,"children":26986},{"style":259},[26987],{"type":21,"value":5693},{"type":15,"tag":252,"props":26989,"children":26990},{"style":447},[26991],{"type":21,"value":3879},{"type":15,"tag":252,"props":26993,"children":26994},{"class":254,"line":2522},[26995,27000,27004,27008,27012,27017],{"type":15,"tag":252,"props":26996,"children":26997},{"style":265},[26998],{"type":21,"value":26999},"            \"true\"",{"type":15,"tag":252,"props":27001,"children":27002},{"style":601},[27003],{"type":21,"value":9226},{"type":15,"tag":252,"props":27005,"children":27006},{"style":259},[27007],{"type":21,"value":6463},{"type":15,"tag":252,"props":27009,"children":27010},{"style":601},[27011],{"type":21,"value":804},{"type":15,"tag":252,"props":27013,"children":27014},{"style":259},[27015],{"type":21,"value":27016},"True",{"type":15,"tag":252,"props":27018,"children":27019},{"style":447},[27020],{"type":21,"value":3879},{"type":15,"tag":252,"props":27022,"children":27023},{"class":254,"line":2530},[27024,27029,27033,27037,27041,27046],{"type":15,"tag":252,"props":27025,"children":27026},{"style":265},[27027],{"type":21,"value":27028},"            \"false\"",{"type":15,"tag":252,"props":27030,"children":27031},{"style":601},[27032],{"type":21,"value":9226},{"type":15,"tag":252,"props":27034,"children":27035},{"style":259},[27036],{"type":21,"value":6463},{"type":15,"tag":252,"props":27038,"children":27039},{"style":601},[27040],{"type":21,"value":804},{"type":15,"tag":252,"props":27042,"children":27043},{"style":259},[27044],{"type":21,"value":27045},"False",{"type":15,"tag":252,"props":27047,"children":27048},{"style":447},[27049],{"type":21,"value":3879},{"type":15,"tag":252,"props":27051,"children":27052},{"class":254,"line":2570},[27053,27057,27061,27065,27069,27073],{"type":15,"tag":252,"props":27054,"children":27055},{"style":447},[27056],{"type":21,"value":9250},{"type":15,"tag":252,"props":27058,"children":27059},{"style":601},[27060],{"type":21,"value":4054},{"type":15,"tag":252,"props":27062,"children":27063},{"style":259},[27064],{"type":21,"value":6463},{"type":15,"tag":252,"props":27066,"children":27067},{"style":601},[27068],{"type":21,"value":804},{"type":15,"tag":252,"props":27070,"children":27071},{"style":259},[27072],{"type":21,"value":6666},{"type":15,"tag":252,"props":27074,"children":27075},{"style":447},[27076],{"type":21,"value":9271},{"type":15,"tag":252,"props":27078,"children":27079},{"class":254,"line":2591},[27080],{"type":15,"tag":252,"props":27081,"children":27082},{"style":447},[27083],{"type":21,"value":8013},{"type":15,"tag":252,"props":27085,"children":27086},{"class":254,"line":2599},[27087],{"type":15,"tag":252,"props":27088,"children":27089},{"style":447},[27090],{"type":21,"value":4095},{"type":15,"tag":210,"props":27092,"children":27093},{},[27094],{"type":15,"tag":23,"props":27095,"children":27096},{},[27097,27099,27104],{"type":21,"value":27098},"In the future I will likely not show all these parts, just saying something like \"we add a token ",{"type":15,"tag":81,"props":27100,"children":27102},{"className":27101},[],[27103],{"type":21,"value":27016},{"type":21,"value":27105}," for 'true' \"",{"type":15,"tag":23,"props":27107,"children":27108},{},[27109,27111],{"type":21,"value":27110},"Then we will add a new ",{"type":15,"tag":81,"props":27112,"children":27114},{"className":27113},[],[27115],{"type":21,"value":5724},{"type":15,"tag":95,"props":27117,"children":27119},{"code":27118,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub enum Literal {\n    Integer(IntType),\n    Boolean(bool),\n}\n",[27120],{"type":15,"tag":81,"props":27121,"children":27122},{"__ignoreMap":8},[27123,27130,27145,27164,27183,27204],{"type":15,"tag":252,"props":27124,"children":27125},{"class":254,"line":255},[27126],{"type":15,"tag":252,"props":27127,"children":27128},{"style":3287},[27129],{"type":21,"value":24319},{"type":15,"tag":252,"props":27131,"children":27132},{"class":254,"line":334},[27133,27137,27141],{"type":15,"tag":252,"props":27134,"children":27135},{"style":447},[27136],{"type":21,"value":3742},{"type":15,"tag":252,"props":27138,"children":27139},{"style":259},[27140],{"type":21,"value":5788},{"type":15,"tag":252,"props":27142,"children":27143},{"style":447},[27144],{"type":21,"value":3751},{"type":15,"tag":252,"props":27146,"children":27147},{"class":254,"line":390},[27148,27152,27156,27160],{"type":15,"tag":252,"props":27149,"children":27150},{"style":601},[27151],{"type":21,"value":4740},{"type":15,"tag":252,"props":27153,"children":27154},{"style":601},[27155],{"type":21,"value":5869},{"type":15,"tag":252,"props":27157,"children":27158},{"style":259},[27159],{"type":21,"value":6013},{"type":15,"tag":252,"props":27161,"children":27162},{"style":447},[27163],{"type":21,"value":3769},{"type":15,"tag":252,"props":27165,"children":27166},{"class":254,"line":2077},[27167,27171,27175,27179],{"type":15,"tag":252,"props":27168,"children":27169},{"style":259},[27170],{"type":21,"value":6025},{"type":15,"tag":252,"props":27172,"children":27173},{"style":447},[27174],{"type":21,"value":849},{"type":15,"tag":252,"props":27176,"children":27177},{"style":259},[27178],{"type":21,"value":5765},{"type":15,"tag":252,"props":27180,"children":27181},{"style":447},[27182],{"type":21,"value":5899},{"type":15,"tag":252,"props":27184,"children":27185},{"class":254,"line":2110},[27186,27191,27195,27200],{"type":15,"tag":252,"props":27187,"children":27188},{"style":259},[27189],{"type":21,"value":27190},"    Boolean",{"type":15,"tag":252,"props":27192,"children":27193},{"style":447},[27194],{"type":21,"value":849},{"type":15,"tag":252,"props":27196,"children":27197},{"style":259},[27198],{"type":21,"value":27199},"bool",{"type":15,"tag":252,"props":27201,"children":27202},{"style":447},[27203],{"type":21,"value":5899},{"type":15,"tag":252,"props":27205,"children":27206},{"class":254,"line":2150},[27207],{"type":15,"tag":252,"props":27208,"children":27209},{"style":447},[27210],{"type":21,"value":2854},{"type":15,"tag":23,"props":27212,"children":27213},{},[27214],{"type":21,"value":27215},"And then we modify the literal parsing",{"type":15,"tag":95,"props":27217,"children":27219},{"code":27218,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\n    fn literal(&mut self) -> anyhow::Result\u003Cast::Literal> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Integer(i) => Ok(ast::Literal::Integer(i)),\n            TokenType::True => Ok(ast::Literal::Boolean(true)),\n            TokenType::False => Ok(ast::Literal::Boolean(false)),\n            _ => Err(error(token, \"Literal\".to_string()))?,\n        }\n    }\n\n    fn expression(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        match self.peek()? {\n            TokenType::Integer(_) | TokenType::True | TokenType::False => {\n                Ok(ast::Expression::Literal(self.literal()?))\n            }\n            _ => Err(error(self.advance()?, \"Expression\".to_string()))?,\n        }\n    }\n",[27220],{"type":15,"tag":81,"props":27221,"children":27222},{"__ignoreMap":8},[27223,27230,27289,27328,27347,27402,27462,27521,27572,27579,27586,27593,27652,27683,27743,27803,27810,27885,27892],{"type":15,"tag":252,"props":27224,"children":27225},{"class":254,"line":255},[27226],{"type":15,"tag":252,"props":27227,"children":27228},{"style":3287},[27229],{"type":21,"value":11380},{"type":15,"tag":252,"props":27231,"children":27232},{"class":254,"line":334},[27233,27237,27241,27245,27249,27253,27257,27261,27265,27269,27273,27277,27281,27285],{"type":15,"tag":252,"props":27234,"children":27235},{"style":601},[27236],{"type":21,"value":7146},{"type":15,"tag":252,"props":27238,"children":27239},{"style":259},[27240],{"type":21,"value":12622},{"type":15,"tag":252,"props":27242,"children":27243},{"style":447},[27244],{"type":21,"value":849},{"type":15,"tag":252,"props":27246,"children":27247},{"style":601},[27248],{"type":21,"value":7239},{"type":15,"tag":252,"props":27250,"children":27251},{"style":276},[27252],{"type":21,"value":7244},{"type":15,"tag":252,"props":27254,"children":27255},{"style":447},[27256],{"type":21,"value":4943},{"type":15,"tag":252,"props":27258,"children":27259},{"style":601},[27260],{"type":21,"value":3947},{"type":15,"tag":252,"props":27262,"children":27263},{"style":259},[27264],{"type":21,"value":3952},{"type":15,"tag":252,"props":27266,"children":27267},{"style":601},[27268],{"type":21,"value":804},{"type":15,"tag":252,"props":27270,"children":27271},{"style":259},[27272],{"type":21,"value":3961},{"type":15,"tag":252,"props":27274,"children":27275},{"style":447},[27276],{"type":21,"value":10502},{"type":15,"tag":252,"props":27278,"children":27279},{"style":601},[27280],{"type":21,"value":804},{"type":15,"tag":252,"props":27282,"children":27283},{"style":259},[27284],{"type":21,"value":5724},{"type":15,"tag":252,"props":27286,"children":27287},{"style":447},[27288],{"type":21,"value":7138},{"type":15,"tag":252,"props":27290,"children":27291},{"class":254,"line":390},[27292,27296,27300,27304,27308,27312,27316,27320,27324],{"type":15,"tag":252,"props":27293,"children":27294},{"style":601},[27295],{"type":21,"value":8231},{"type":15,"tag":252,"props":27297,"children":27298},{"style":447},[27299],{"type":21,"value":12420},{"type":15,"tag":252,"props":27301,"children":27302},{"style":601},[27303],{"type":21,"value":614},{"type":15,"tag":252,"props":27305,"children":27306},{"style":276},[27307],{"type":21,"value":7244},{"type":15,"tag":252,"props":27309,"children":27310},{"style":601},[27311],{"type":21,"value":432},{"type":15,"tag":252,"props":27313,"children":27314},{"style":259},[27315],{"type":21,"value":8261},{"type":15,"tag":252,"props":27317,"children":27318},{"style":447},[27319],{"type":21,"value":7305},{"type":15,"tag":252,"props":27321,"children":27322},{"style":601},[27323],{"type":21,"value":5468},{"type":15,"tag":252,"props":27325,"children":27326},{"style":447},[27327],{"type":21,"value":3325},{"type":15,"tag":252,"props":27329,"children":27330},{"class":254,"line":2077},[27331,27335,27339,27343],{"type":15,"tag":252,"props":27332,"children":27333},{"style":601},[27334],{"type":21,"value":12717},{"type":15,"tag":252,"props":27336,"children":27337},{"style":447},[27338],{"type":21,"value":8039},{"type":15,"tag":252,"props":27340,"children":27341},{"style":601},[27342],{"type":21,"value":432},{"type":15,"tag":252,"props":27344,"children":27345},{"style":447},[27346],{"type":21,"value":12730},{"type":15,"tag":252,"props":27348,"children":27349},{"class":254,"line":2110},[27350,27354,27358,27362,27366,27370,27374,27378,27382,27386,27390,27394,27398],{"type":15,"tag":252,"props":27351,"children":27352},{"style":259},[27353],{"type":21,"value":12738},{"type":15,"tag":252,"props":27355,"children":27356},{"style":601},[27357],{"type":21,"value":804},{"type":15,"tag":252,"props":27359,"children":27360},{"style":259},[27361],{"type":21,"value":6153},{"type":15,"tag":252,"props":27363,"children":27364},{"style":447},[27365],{"type":21,"value":12751},{"type":15,"tag":252,"props":27367,"children":27368},{"style":601},[27369],{"type":21,"value":4054},{"type":15,"tag":252,"props":27371,"children":27372},{"style":259},[27373],{"type":21,"value":8666},{"type":15,"tag":252,"props":27375,"children":27376},{"style":447},[27377],{"type":21,"value":849},{"type":15,"tag":252,"props":27379,"children":27380},{"style":259},[27381],{"type":21,"value":5623},{"type":15,"tag":252,"props":27383,"children":27384},{"style":601},[27385],{"type":21,"value":804},{"type":15,"tag":252,"props":27387,"children":27388},{"style":259},[27389],{"type":21,"value":5724},{"type":15,"tag":252,"props":27391,"children":27392},{"style":601},[27393],{"type":21,"value":804},{"type":15,"tag":252,"props":27395,"children":27396},{"style":259},[27397],{"type":21,"value":6153},{"type":15,"tag":252,"props":27399,"children":27400},{"style":447},[27401],{"type":21,"value":12788},{"type":15,"tag":252,"props":27403,"children":27404},{"class":254,"line":2150},[27405,27409,27413,27417,27421,27425,27429,27433,27437,27441,27445,27450,27454,27458],{"type":15,"tag":252,"props":27406,"children":27407},{"style":259},[27408],{"type":21,"value":12738},{"type":15,"tag":252,"props":27410,"children":27411},{"style":601},[27412],{"type":21,"value":804},{"type":15,"tag":252,"props":27414,"children":27415},{"style":259},[27416],{"type":21,"value":27016},{"type":15,"tag":252,"props":27418,"children":27419},{"style":601},[27420],{"type":21,"value":9226},{"type":15,"tag":252,"props":27422,"children":27423},{"style":259},[27424],{"type":21,"value":8666},{"type":15,"tag":252,"props":27426,"children":27427},{"style":447},[27428],{"type":21,"value":849},{"type":15,"tag":252,"props":27430,"children":27431},{"style":259},[27432],{"type":21,"value":5623},{"type":15,"tag":252,"props":27434,"children":27435},{"style":601},[27436],{"type":21,"value":804},{"type":15,"tag":252,"props":27438,"children":27439},{"style":259},[27440],{"type":21,"value":5724},{"type":15,"tag":252,"props":27442,"children":27443},{"style":601},[27444],{"type":21,"value":804},{"type":15,"tag":252,"props":27446,"children":27447},{"style":259},[27448],{"type":21,"value":27449},"Boolean",{"type":15,"tag":252,"props":27451,"children":27452},{"style":447},[27453],{"type":21,"value":849},{"type":15,"tag":252,"props":27455,"children":27456},{"style":276},[27457],{"type":21,"value":1195},{"type":15,"tag":252,"props":27459,"children":27460},{"style":447},[27461],{"type":21,"value":13037},{"type":15,"tag":252,"props":27463,"children":27464},{"class":254,"line":2182},[27465,27469,27473,27477,27481,27485,27489,27493,27497,27501,27505,27509,27513,27517],{"type":15,"tag":252,"props":27466,"children":27467},{"style":259},[27468],{"type":21,"value":12738},{"type":15,"tag":252,"props":27470,"children":27471},{"style":601},[27472],{"type":21,"value":804},{"type":15,"tag":252,"props":27474,"children":27475},{"style":259},[27476],{"type":21,"value":27045},{"type":15,"tag":252,"props":27478,"children":27479},{"style":601},[27480],{"type":21,"value":9226},{"type":15,"tag":252,"props":27482,"children":27483},{"style":259},[27484],{"type":21,"value":8666},{"type":15,"tag":252,"props":27486,"children":27487},{"style":447},[27488],{"type":21,"value":849},{"type":15,"tag":252,"props":27490,"children":27491},{"style":259},[27492],{"type":21,"value":5623},{"type":15,"tag":252,"props":27494,"children":27495},{"style":601},[27496],{"type":21,"value":804},{"type":15,"tag":252,"props":27498,"children":27499},{"style":259},[27500],{"type":21,"value":5724},{"type":15,"tag":252,"props":27502,"children":27503},{"style":601},[27504],{"type":21,"value":804},{"type":15,"tag":252,"props":27506,"children":27507},{"style":259},[27508],{"type":21,"value":27449},{"type":15,"tag":252,"props":27510,"children":27511},{"style":447},[27512],{"type":21,"value":849},{"type":15,"tag":252,"props":27514,"children":27515},{"style":276},[27516],{"type":21,"value":1456},{"type":15,"tag":252,"props":27518,"children":27519},{"style":447},[27520],{"type":21,"value":13037},{"type":15,"tag":252,"props":27522,"children":27523},{"class":254,"line":2190},[27524,27528,27532,27536,27540,27544,27548,27552,27556,27560,27564,27568],{"type":15,"tag":252,"props":27525,"children":27526},{"style":447},[27527],{"type":21,"value":9250},{"type":15,"tag":252,"props":27529,"children":27530},{"style":601},[27531],{"type":21,"value":4054},{"type":15,"tag":252,"props":27533,"children":27534},{"style":259},[27535],{"type":21,"value":12804},{"type":15,"tag":252,"props":27537,"children":27538},{"style":447},[27539],{"type":21,"value":849},{"type":15,"tag":252,"props":27541,"children":27542},{"style":259},[27543],{"type":21,"value":10203},{"type":15,"tag":252,"props":27545,"children":27546},{"style":447},[27547],{"type":21,"value":12541},{"type":15,"tag":252,"props":27549,"children":27550},{"style":265},[27551],{"type":21,"value":12821},{"type":15,"tag":252,"props":27553,"children":27554},{"style":601},[27555],{"type":21,"value":432},{"type":15,"tag":252,"props":27557,"children":27558},{"style":259},[27559],{"type":21,"value":12830},{"type":15,"tag":252,"props":27561,"children":27562},{"style":447},[27563],{"type":21,"value":12835},{"type":15,"tag":252,"props":27565,"children":27566},{"style":601},[27567],{"type":21,"value":5468},{"type":15,"tag":252,"props":27569,"children":27570},{"style":447},[27571],{"type":21,"value":3879},{"type":15,"tag":252,"props":27573,"children":27574},{"class":254,"line":2222},[27575],{"type":15,"tag":252,"props":27576,"children":27577},{"style":447},[27578],{"type":21,"value":4087},{"type":15,"tag":252,"props":27580,"children":27581},{"class":254,"line":2270},[27582],{"type":15,"tag":252,"props":27583,"children":27584},{"style":447},[27585],{"type":21,"value":4095},{"type":15,"tag":252,"props":27587,"children":27588},{"class":254,"line":2302},[27589],{"type":15,"tag":252,"props":27590,"children":27591},{"emptyLinePlaceholder":2053},[27592],{"type":21,"value":2056},{"type":15,"tag":252,"props":27594,"children":27595},{"class":254,"line":2310},[27596,27600,27604,27608,27612,27616,27620,27624,27628,27632,27636,27640,27644,27648],{"type":15,"tag":252,"props":27597,"children":27598},{"style":601},[27599],{"type":21,"value":7146},{"type":15,"tag":252,"props":27601,"children":27602},{"style":259},[27603],{"type":21,"value":12876},{"type":15,"tag":252,"props":27605,"children":27606},{"style":447},[27607],{"type":21,"value":849},{"type":15,"tag":252,"props":27609,"children":27610},{"style":601},[27611],{"type":21,"value":7239},{"type":15,"tag":252,"props":27613,"children":27614},{"style":276},[27615],{"type":21,"value":7244},{"type":15,"tag":252,"props":27617,"children":27618},{"style":447},[27619],{"type":21,"value":4943},{"type":15,"tag":252,"props":27621,"children":27622},{"style":601},[27623],{"type":21,"value":3947},{"type":15,"tag":252,"props":27625,"children":27626},{"style":259},[27627],{"type":21,"value":3952},{"type":15,"tag":252,"props":27629,"children":27630},{"style":601},[27631],{"type":21,"value":804},{"type":15,"tag":252,"props":27633,"children":27634},{"style":259},[27635],{"type":21,"value":3961},{"type":15,"tag":252,"props":27637,"children":27638},{"style":447},[27639],{"type":21,"value":10502},{"type":15,"tag":252,"props":27641,"children":27642},{"style":601},[27643],{"type":21,"value":804},{"type":15,"tag":252,"props":27645,"children":27646},{"style":259},[27647],{"type":21,"value":5716},{"type":15,"tag":252,"props":27649,"children":27650},{"style":447},[27651],{"type":21,"value":7138},{"type":15,"tag":252,"props":27653,"children":27654},{"class":254,"line":2370},[27655,27659,27663,27667,27671,27675,27679],{"type":15,"tag":252,"props":27656,"children":27657},{"style":601},[27658],{"type":21,"value":12717},{"type":15,"tag":252,"props":27660,"children":27661},{"style":276},[27662],{"type":21,"value":7244},{"type":15,"tag":252,"props":27664,"children":27665},{"style":601},[27666],{"type":21,"value":432},{"type":15,"tag":252,"props":27668,"children":27669},{"style":259},[27670],{"type":21,"value":8696},{"type":15,"tag":252,"props":27672,"children":27673},{"style":447},[27674],{"type":21,"value":7305},{"type":15,"tag":252,"props":27676,"children":27677},{"style":601},[27678],{"type":21,"value":5468},{"type":15,"tag":252,"props":27680,"children":27681},{"style":447},[27682],{"type":21,"value":3769},{"type":15,"tag":252,"props":27684,"children":27685},{"class":254,"line":2418},[27686,27690,27694,27698,27702,27706,27710,27714,27718,27723,27727,27731,27735,27739],{"type":15,"tag":252,"props":27687,"children":27688},{"style":259},[27689],{"type":21,"value":12738},{"type":15,"tag":252,"props":27691,"children":27692},{"style":601},[27693],{"type":21,"value":804},{"type":15,"tag":252,"props":27695,"children":27696},{"style":259},[27697],{"type":21,"value":6153},{"type":15,"tag":252,"props":27699,"children":27700},{"style":447},[27701],{"type":21,"value":12975},{"type":15,"tag":252,"props":27703,"children":27704},{"style":601},[27705],{"type":21,"value":10693},{"type":15,"tag":252,"props":27707,"children":27708},{"style":259},[27709],{"type":21,"value":6463},{"type":15,"tag":252,"props":27711,"children":27712},{"style":601},[27713],{"type":21,"value":804},{"type":15,"tag":252,"props":27715,"children":27716},{"style":259},[27717],{"type":21,"value":27016},{"type":15,"tag":252,"props":27719,"children":27720},{"style":601},[27721],{"type":21,"value":27722}," |",{"type":15,"tag":252,"props":27724,"children":27725},{"style":259},[27726],{"type":21,"value":6463},{"type":15,"tag":252,"props":27728,"children":27729},{"style":601},[27730],{"type":21,"value":804},{"type":15,"tag":252,"props":27732,"children":27733},{"style":259},[27734],{"type":21,"value":27045},{"type":15,"tag":252,"props":27736,"children":27737},{"style":601},[27738],{"type":21,"value":9226},{"type":15,"tag":252,"props":27740,"children":27741},{"style":447},[27742],{"type":21,"value":3769},{"type":15,"tag":252,"props":27744,"children":27745},{"class":254,"line":2426},[27746,27750,27754,27758,27762,27766,27770,27774,27778,27782,27786,27790,27794,27798],{"type":15,"tag":252,"props":27747,"children":27748},{"style":259},[27749],{"type":21,"value":13392},{"type":15,"tag":252,"props":27751,"children":27752},{"style":447},[27753],{"type":21,"value":849},{"type":15,"tag":252,"props":27755,"children":27756},{"style":259},[27757],{"type":21,"value":5623},{"type":15,"tag":252,"props":27759,"children":27760},{"style":601},[27761],{"type":21,"value":804},{"type":15,"tag":252,"props":27763,"children":27764},{"style":259},[27765],{"type":21,"value":5716},{"type":15,"tag":252,"props":27767,"children":27768},{"style":601},[27769],{"type":21,"value":804},{"type":15,"tag":252,"props":27771,"children":27772},{"style":259},[27773],{"type":21,"value":5724},{"type":15,"tag":252,"props":27775,"children":27776},{"style":447},[27777],{"type":21,"value":849},{"type":15,"tag":252,"props":27779,"children":27780},{"style":276},[27781],{"type":21,"value":7432},{"type":15,"tag":252,"props":27783,"children":27784},{"style":601},[27785],{"type":21,"value":432},{"type":15,"tag":252,"props":27787,"children":27788},{"style":259},[27789],{"type":21,"value":13024},{"type":15,"tag":252,"props":27791,"children":27792},{"style":447},[27793],{"type":21,"value":7305},{"type":15,"tag":252,"props":27795,"children":27796},{"style":601},[27797],{"type":21,"value":5468},{"type":15,"tag":252,"props":27799,"children":27800},{"style":447},[27801],{"type":21,"value":27802},"))\n",{"type":15,"tag":252,"props":27804,"children":27805},{"class":254,"line":2474},[27806],{"type":15,"tag":252,"props":27807,"children":27808},{"style":447},[27809],{"type":21,"value":8814},{"type":15,"tag":252,"props":27811,"children":27812},{"class":254,"line":2522},[27813,27817,27821,27825,27829,27833,27837,27841,27845,27849,27853,27857,27861,27865,27869,27873,27877,27881],{"type":15,"tag":252,"props":27814,"children":27815},{"style":447},[27816],{"type":21,"value":9250},{"type":15,"tag":252,"props":27818,"children":27819},{"style":601},[27820],{"type":21,"value":4054},{"type":15,"tag":252,"props":27822,"children":27823},{"style":259},[27824],{"type":21,"value":12804},{"type":15,"tag":252,"props":27826,"children":27827},{"style":447},[27828],{"type":21,"value":849},{"type":15,"tag":252,"props":27830,"children":27831},{"style":259},[27832],{"type":21,"value":10203},{"type":15,"tag":252,"props":27834,"children":27835},{"style":447},[27836],{"type":21,"value":849},{"type":15,"tag":252,"props":27838,"children":27839},{"style":276},[27840],{"type":21,"value":7432},{"type":15,"tag":252,"props":27842,"children":27843},{"style":601},[27844],{"type":21,"value":432},{"type":15,"tag":252,"props":27846,"children":27847},{"style":259},[27848],{"type":21,"value":8261},{"type":15,"tag":252,"props":27850,"children":27851},{"style":447},[27852],{"type":21,"value":7305},{"type":15,"tag":252,"props":27854,"children":27855},{"style":601},[27856],{"type":21,"value":5468},{"type":15,"tag":252,"props":27858,"children":27859},{"style":447},[27860],{"type":21,"value":1076},{"type":15,"tag":252,"props":27862,"children":27863},{"style":265},[27864],{"type":21,"value":13093},{"type":15,"tag":252,"props":27866,"children":27867},{"style":601},[27868],{"type":21,"value":432},{"type":15,"tag":252,"props":27870,"children":27871},{"style":259},[27872],{"type":21,"value":12830},{"type":15,"tag":252,"props":27874,"children":27875},{"style":447},[27876],{"type":21,"value":12835},{"type":15,"tag":252,"props":27878,"children":27879},{"style":601},[27880],{"type":21,"value":5468},{"type":15,"tag":252,"props":27882,"children":27883},{"style":447},[27884],{"type":21,"value":3879},{"type":15,"tag":252,"props":27886,"children":27887},{"class":254,"line":2530},[27888],{"type":15,"tag":252,"props":27889,"children":27890},{"style":447},[27891],{"type":21,"value":4087},{"type":15,"tag":252,"props":27893,"children":27894},{"class":254,"line":2570},[27895],{"type":15,"tag":252,"props":27896,"children":27897},{"style":447},[27898],{"type":21,"value":4095},{"type":15,"tag":59,"props":27900,"children":27902},{"id":27901},"ir-1",[27903],{"type":21,"value":14560},{"type":15,"tag":23,"props":27905,"children":27906},{},[27907],{"type":21,"value":27908},"Now lets add boolean expression to our IR!",{"type":15,"tag":95,"props":27910,"children":27912},{"code":27911,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug)]\npub enum PrintStatement {\n    Int(IntExpression),\n    Boolean(BooleanExpression),\n}\n\n#[derive(Debug)]\npub enum BooleanExpression {\n    Literal(bool),\n}\n",[27913],{"type":15,"tag":81,"props":27914,"children":27915},{"__ignoreMap":8},[27916,27923,27938,27957,27976,27996,28003,28010,28025,28045,28064],{"type":15,"tag":252,"props":27917,"children":27918},{"class":254,"line":255},[27919],{"type":15,"tag":252,"props":27920,"children":27921},{"style":3287},[27922],{"type":21,"value":25314},{"type":15,"tag":252,"props":27924,"children":27925},{"class":254,"line":334},[27926,27930,27934],{"type":15,"tag":252,"props":27927,"children":27928},{"style":447},[27929],{"type":21,"value":3742},{"type":15,"tag":252,"props":27931,"children":27932},{"style":259},[27933],{"type":21,"value":5788},{"type":15,"tag":252,"props":27935,"children":27936},{"style":447},[27937],{"type":21,"value":3751},{"type":15,"tag":252,"props":27939,"children":27940},{"class":254,"line":390},[27941,27945,27949,27953],{"type":15,"tag":252,"props":27942,"children":27943},{"style":601},[27944],{"type":21,"value":4740},{"type":15,"tag":252,"props":27946,"children":27947},{"style":601},[27948],{"type":21,"value":5869},{"type":15,"tag":252,"props":27950,"children":27951},{"style":259},[27952],{"type":21,"value":14777},{"type":15,"tag":252,"props":27954,"children":27955},{"style":447},[27956],{"type":21,"value":3769},{"type":15,"tag":252,"props":27958,"children":27959},{"class":254,"line":2077},[27960,27964,27968,27972],{"type":15,"tag":252,"props":27961,"children":27962},{"style":259},[27963],{"type":21,"value":14789},{"type":15,"tag":252,"props":27965,"children":27966},{"style":447},[27967],{"type":21,"value":849},{"type":15,"tag":252,"props":27969,"children":27970},{"style":259},[27971],{"type":21,"value":14798},{"type":15,"tag":252,"props":27973,"children":27974},{"style":447},[27975],{"type":21,"value":5899},{"type":15,"tag":252,"props":27977,"children":27978},{"class":254,"line":2110},[27979,27983,27987,27992],{"type":15,"tag":252,"props":27980,"children":27981},{"style":259},[27982],{"type":21,"value":27190},{"type":15,"tag":252,"props":27984,"children":27985},{"style":447},[27986],{"type":21,"value":849},{"type":15,"tag":252,"props":27988,"children":27989},{"style":259},[27990],{"type":21,"value":27991},"BooleanExpression",{"type":15,"tag":252,"props":27993,"children":27994},{"style":447},[27995],{"type":21,"value":5899},{"type":15,"tag":252,"props":27997,"children":27998},{"class":254,"line":2150},[27999],{"type":15,"tag":252,"props":28000,"children":28001},{"style":447},[28002],{"type":21,"value":2854},{"type":15,"tag":252,"props":28004,"children":28005},{"class":254,"line":2182},[28006],{"type":15,"tag":252,"props":28007,"children":28008},{"emptyLinePlaceholder":2053},[28009],{"type":21,"value":2056},{"type":15,"tag":252,"props":28011,"children":28012},{"class":254,"line":2190},[28013,28017,28021],{"type":15,"tag":252,"props":28014,"children":28015},{"style":447},[28016],{"type":21,"value":3742},{"type":15,"tag":252,"props":28018,"children":28019},{"style":259},[28020],{"type":21,"value":5788},{"type":15,"tag":252,"props":28022,"children":28023},{"style":447},[28024],{"type":21,"value":3751},{"type":15,"tag":252,"props":28026,"children":28027},{"class":254,"line":2222},[28028,28032,28036,28041],{"type":15,"tag":252,"props":28029,"children":28030},{"style":601},[28031],{"type":21,"value":4740},{"type":15,"tag":252,"props":28033,"children":28034},{"style":601},[28035],{"type":21,"value":5869},{"type":15,"tag":252,"props":28037,"children":28038},{"style":259},[28039],{"type":21,"value":28040}," BooleanExpression",{"type":15,"tag":252,"props":28042,"children":28043},{"style":447},[28044],{"type":21,"value":3769},{"type":15,"tag":252,"props":28046,"children":28047},{"class":254,"line":2270},[28048,28052,28056,28060],{"type":15,"tag":252,"props":28049,"children":28050},{"style":259},[28051],{"type":21,"value":5956},{"type":15,"tag":252,"props":28053,"children":28054},{"style":447},[28055],{"type":21,"value":849},{"type":15,"tag":252,"props":28057,"children":28058},{"style":259},[28059],{"type":21,"value":27199},{"type":15,"tag":252,"props":28061,"children":28062},{"style":447},[28063],{"type":21,"value":5899},{"type":15,"tag":252,"props":28065,"children":28066},{"class":254,"line":2302},[28067],{"type":15,"tag":252,"props":28068,"children":28069},{"style":447},[28070],{"type":21,"value":2854},{"type":15,"tag":23,"props":28072,"children":28073},{},[28074],{"type":21,"value":28075},"Then we modify the type analyzer!",{"type":15,"tag":95,"props":28077,"children":28079},{"code":28078,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nenum TypedExpression {\n    Int(ir::IntExpression),\n    Boolean(ir::BooleanExpression),\n}\n\nimpl TypedExpression {\n    fn is_int(self) -> anyhow::Result\u003Cir::IntExpression> {\n        match self {\n            TypedExpression::Int(exp) => Ok(exp),\n            _ => Err(TypeError(\"Expected int\".to_string()))?,\n        }\n    }\n\n    fn is_boolean(self) -> anyhow::Result\u003Cir::BooleanExpression> {\n        match self {\n            TypedExpression::Boolean(exp) => Ok(exp),\n            _ => Err(TypeError(\"Expected bool\".to_string()))?,\n        }\n    }\n}\n\nfn resolve_literal(literal: &ast::Literal) -> anyhow::Result\u003CTypedExpression> {\n    match literal {\n        ast::Literal::Integer(int) => Ok(TypedExpression::Int(ir::IntExpression::Literal(*int))),\n        ast::Literal::Boolean(boolean) => Ok(TypedExpression::Boolean(\n            ir::BooleanExpression::Literal(*boolean),\n        )),\n    }\n}\n\nfn resolve_print_statement(expression: &ast::Expression) -> anyhow::Result\u003Cir::PrintStatement> {\n    let typed_expression = resolve_expression(expression)?;\n\n    match typed_expression {\n        TypedExpression::Int(int_expression) => Ok(ir::PrintStatement::Int(int_expression)),\n        TypedExpression::Boolean(boolean_expression) => {\n            Ok(ir::PrintStatement::Boolean(boolean_expression))\n        }\n    }\n}\n",[28080],{"type":15,"tag":81,"props":28081,"children":28082},{"__ignoreMap":8},[28083,28090,28105,28132,28159,28166,28173,28188,28243,28258,28291,28344,28351,28358,28365,28421,28436,28467,28519,28526,28533,28540,28547,28614,28625,28712,28768,28804,28812,28819,28826,28833,28904,28935,28942,28953,29008,29036,29072,29079,29086],{"type":15,"tag":252,"props":28084,"children":28085},{"class":254,"line":255},[28086],{"type":15,"tag":252,"props":28087,"children":28088},{"style":3287},[28089],{"type":21,"value":14916},{"type":15,"tag":252,"props":28091,"children":28092},{"class":254,"line":334},[28093,28097,28101],{"type":15,"tag":252,"props":28094,"children":28095},{"style":601},[28096],{"type":21,"value":3759},{"type":15,"tag":252,"props":28098,"children":28099},{"style":259},[28100],{"type":21,"value":14951},{"type":15,"tag":252,"props":28102,"children":28103},{"style":447},[28104],{"type":21,"value":3769},{"type":15,"tag":252,"props":28106,"children":28107},{"class":254,"line":390},[28108,28112,28116,28120,28124,28128],{"type":15,"tag":252,"props":28109,"children":28110},{"style":259},[28111],{"type":21,"value":14789},{"type":15,"tag":252,"props":28113,"children":28114},{"style":447},[28115],{"type":21,"value":849},{"type":15,"tag":252,"props":28117,"children":28118},{"style":259},[28119],{"type":21,"value":14557},{"type":15,"tag":252,"props":28121,"children":28122},{"style":601},[28123],{"type":21,"value":804},{"type":15,"tag":252,"props":28125,"children":28126},{"style":259},[28127],{"type":21,"value":14798},{"type":15,"tag":252,"props":28129,"children":28130},{"style":447},[28131],{"type":21,"value":5899},{"type":15,"tag":252,"props":28133,"children":28134},{"class":254,"line":2077},[28135,28139,28143,28147,28151,28155],{"type":15,"tag":252,"props":28136,"children":28137},{"style":259},[28138],{"type":21,"value":27190},{"type":15,"tag":252,"props":28140,"children":28141},{"style":447},[28142],{"type":21,"value":849},{"type":15,"tag":252,"props":28144,"children":28145},{"style":259},[28146],{"type":21,"value":14557},{"type":15,"tag":252,"props":28148,"children":28149},{"style":601},[28150],{"type":21,"value":804},{"type":15,"tag":252,"props":28152,"children":28153},{"style":259},[28154],{"type":21,"value":27991},{"type":15,"tag":252,"props":28156,"children":28157},{"style":447},[28158],{"type":21,"value":5899},{"type":15,"tag":252,"props":28160,"children":28161},{"class":254,"line":2110},[28162],{"type":15,"tag":252,"props":28163,"children":28164},{"style":447},[28165],{"type":21,"value":2854},{"type":15,"tag":252,"props":28167,"children":28168},{"class":254,"line":2150},[28169],{"type":15,"tag":252,"props":28170,"children":28171},{"emptyLinePlaceholder":2053},[28172],{"type":21,"value":2056},{"type":15,"tag":252,"props":28174,"children":28175},{"class":254,"line":2182},[28176,28180,28184],{"type":15,"tag":252,"props":28177,"children":28178},{"style":601},[28179],{"type":21,"value":7107},{"type":15,"tag":252,"props":28181,"children":28182},{"style":259},[28183],{"type":21,"value":14951},{"type":15,"tag":252,"props":28185,"children":28186},{"style":447},[28187],{"type":21,"value":3769},{"type":15,"tag":252,"props":28189,"children":28190},{"class":254,"line":2190},[28191,28195,28199,28203,28207,28211,28215,28219,28223,28227,28231,28235,28239],{"type":15,"tag":252,"props":28192,"children":28193},{"style":601},[28194],{"type":21,"value":7146},{"type":15,"tag":252,"props":28196,"children":28197},{"style":259},[28198],{"type":21,"value":15023},{"type":15,"tag":252,"props":28200,"children":28201},{"style":447},[28202],{"type":21,"value":849},{"type":15,"tag":252,"props":28204,"children":28205},{"style":276},[28206],{"type":21,"value":7432},{"type":15,"tag":252,"props":28208,"children":28209},{"style":447},[28210],{"type":21,"value":4943},{"type":15,"tag":252,"props":28212,"children":28213},{"style":601},[28214],{"type":21,"value":3947},{"type":15,"tag":252,"props":28216,"children":28217},{"style":259},[28218],{"type":21,"value":3952},{"type":15,"tag":252,"props":28220,"children":28221},{"style":601},[28222],{"type":21,"value":804},{"type":15,"tag":252,"props":28224,"children":28225},{"style":259},[28226],{"type":21,"value":3961},{"type":15,"tag":252,"props":28228,"children":28229},{"style":447},[28230],{"type":21,"value":15620},{"type":15,"tag":252,"props":28232,"children":28233},{"style":601},[28234],{"type":21,"value":804},{"type":15,"tag":252,"props":28236,"children":28237},{"style":259},[28238],{"type":21,"value":14798},{"type":15,"tag":252,"props":28240,"children":28241},{"style":447},[28242],{"type":21,"value":7138},{"type":15,"tag":252,"props":28244,"children":28245},{"class":254,"line":2222},[28246,28250,28254],{"type":15,"tag":252,"props":28247,"children":28248},{"style":601},[28249],{"type":21,"value":12717},{"type":15,"tag":252,"props":28251,"children":28252},{"style":276},[28253],{"type":21,"value":7244},{"type":15,"tag":252,"props":28255,"children":28256},{"style":447},[28257],{"type":21,"value":3769},{"type":15,"tag":252,"props":28259,"children":28260},{"class":254,"line":2270},[28261,28265,28269,28273,28278,28282,28286],{"type":15,"tag":252,"props":28262,"children":28263},{"style":259},[28264],{"type":21,"value":15074},{"type":15,"tag":252,"props":28266,"children":28267},{"style":601},[28268],{"type":21,"value":804},{"type":15,"tag":252,"props":28270,"children":28271},{"style":259},[28272],{"type":21,"value":14888},{"type":15,"tag":252,"props":28274,"children":28275},{"style":447},[28276],{"type":21,"value":28277},"(exp) ",{"type":15,"tag":252,"props":28279,"children":28280},{"style":601},[28281],{"type":21,"value":4054},{"type":15,"tag":252,"props":28283,"children":28284},{"style":259},[28285],{"type":21,"value":8666},{"type":15,"tag":252,"props":28287,"children":28288},{"style":447},[28289],{"type":21,"value":28290},"(exp),\n",{"type":15,"tag":252,"props":28292,"children":28293},{"class":254,"line":2302},[28294,28298,28302,28306,28310,28315,28319,28324,28328,28332,28336,28340],{"type":15,"tag":252,"props":28295,"children":28296},{"style":447},[28297],{"type":21,"value":9250},{"type":15,"tag":252,"props":28299,"children":28300},{"style":601},[28301],{"type":21,"value":4054},{"type":15,"tag":252,"props":28303,"children":28304},{"style":259},[28305],{"type":21,"value":12804},{"type":15,"tag":252,"props":28307,"children":28308},{"style":447},[28309],{"type":21,"value":849},{"type":15,"tag":252,"props":28311,"children":28312},{"style":259},[28313],{"type":21,"value":28314},"TypeError",{"type":15,"tag":252,"props":28316,"children":28317},{"style":447},[28318],{"type":21,"value":849},{"type":15,"tag":252,"props":28320,"children":28321},{"style":265},[28322],{"type":21,"value":28323},"\"Expected int\"",{"type":15,"tag":252,"props":28325,"children":28326},{"style":601},[28327],{"type":21,"value":432},{"type":15,"tag":252,"props":28329,"children":28330},{"style":259},[28331],{"type":21,"value":12830},{"type":15,"tag":252,"props":28333,"children":28334},{"style":447},[28335],{"type":21,"value":12835},{"type":15,"tag":252,"props":28337,"children":28338},{"style":601},[28339],{"type":21,"value":5468},{"type":15,"tag":252,"props":28341,"children":28342},{"style":447},[28343],{"type":21,"value":3879},{"type":15,"tag":252,"props":28345,"children":28346},{"class":254,"line":2310},[28347],{"type":15,"tag":252,"props":28348,"children":28349},{"style":447},[28350],{"type":21,"value":4087},{"type":15,"tag":252,"props":28352,"children":28353},{"class":254,"line":2370},[28354],{"type":15,"tag":252,"props":28355,"children":28356},{"style":447},[28357],{"type":21,"value":4095},{"type":15,"tag":252,"props":28359,"children":28360},{"class":254,"line":2418},[28361],{"type":15,"tag":252,"props":28362,"children":28363},{"emptyLinePlaceholder":2053},[28364],{"type":21,"value":2056},{"type":15,"tag":252,"props":28366,"children":28367},{"class":254,"line":2426},[28368,28372,28377,28381,28385,28389,28393,28397,28401,28405,28409,28413,28417],{"type":15,"tag":252,"props":28369,"children":28370},{"style":601},[28371],{"type":21,"value":7146},{"type":15,"tag":252,"props":28373,"children":28374},{"style":259},[28375],{"type":21,"value":28376}," is_boolean",{"type":15,"tag":252,"props":28378,"children":28379},{"style":447},[28380],{"type":21,"value":849},{"type":15,"tag":252,"props":28382,"children":28383},{"style":276},[28384],{"type":21,"value":7432},{"type":15,"tag":252,"props":28386,"children":28387},{"style":447},[28388],{"type":21,"value":4943},{"type":15,"tag":252,"props":28390,"children":28391},{"style":601},[28392],{"type":21,"value":3947},{"type":15,"tag":252,"props":28394,"children":28395},{"style":259},[28396],{"type":21,"value":3952},{"type":15,"tag":252,"props":28398,"children":28399},{"style":601},[28400],{"type":21,"value":804},{"type":15,"tag":252,"props":28402,"children":28403},{"style":259},[28404],{"type":21,"value":3961},{"type":15,"tag":252,"props":28406,"children":28407},{"style":447},[28408],{"type":21,"value":15620},{"type":15,"tag":252,"props":28410,"children":28411},{"style":601},[28412],{"type":21,"value":804},{"type":15,"tag":252,"props":28414,"children":28415},{"style":259},[28416],{"type":21,"value":27991},{"type":15,"tag":252,"props":28418,"children":28419},{"style":447},[28420],{"type":21,"value":7138},{"type":15,"tag":252,"props":28422,"children":28423},{"class":254,"line":2474},[28424,28428,28432],{"type":15,"tag":252,"props":28425,"children":28426},{"style":601},[28427],{"type":21,"value":12717},{"type":15,"tag":252,"props":28429,"children":28430},{"style":276},[28431],{"type":21,"value":7244},{"type":15,"tag":252,"props":28433,"children":28434},{"style":447},[28435],{"type":21,"value":3769},{"type":15,"tag":252,"props":28437,"children":28438},{"class":254,"line":2522},[28439,28443,28447,28451,28455,28459,28463],{"type":15,"tag":252,"props":28440,"children":28441},{"style":259},[28442],{"type":21,"value":15074},{"type":15,"tag":252,"props":28444,"children":28445},{"style":601},[28446],{"type":21,"value":804},{"type":15,"tag":252,"props":28448,"children":28449},{"style":259},[28450],{"type":21,"value":27449},{"type":15,"tag":252,"props":28452,"children":28453},{"style":447},[28454],{"type":21,"value":28277},{"type":15,"tag":252,"props":28456,"children":28457},{"style":601},[28458],{"type":21,"value":4054},{"type":15,"tag":252,"props":28460,"children":28461},{"style":259},[28462],{"type":21,"value":8666},{"type":15,"tag":252,"props":28464,"children":28465},{"style":447},[28466],{"type":21,"value":28290},{"type":15,"tag":252,"props":28468,"children":28469},{"class":254,"line":2530},[28470,28474,28478,28482,28486,28490,28494,28499,28503,28507,28511,28515],{"type":15,"tag":252,"props":28471,"children":28472},{"style":447},[28473],{"type":21,"value":9250},{"type":15,"tag":252,"props":28475,"children":28476},{"style":601},[28477],{"type":21,"value":4054},{"type":15,"tag":252,"props":28479,"children":28480},{"style":259},[28481],{"type":21,"value":12804},{"type":15,"tag":252,"props":28483,"children":28484},{"style":447},[28485],{"type":21,"value":849},{"type":15,"tag":252,"props":28487,"children":28488},{"style":259},[28489],{"type":21,"value":28314},{"type":15,"tag":252,"props":28491,"children":28492},{"style":447},[28493],{"type":21,"value":849},{"type":15,"tag":252,"props":28495,"children":28496},{"style":265},[28497],{"type":21,"value":28498},"\"Expected bool\"",{"type":15,"tag":252,"props":28500,"children":28501},{"style":601},[28502],{"type":21,"value":432},{"type":15,"tag":252,"props":28504,"children":28505},{"style":259},[28506],{"type":21,"value":12830},{"type":15,"tag":252,"props":28508,"children":28509},{"style":447},[28510],{"type":21,"value":12835},{"type":15,"tag":252,"props":28512,"children":28513},{"style":601},[28514],{"type":21,"value":5468},{"type":15,"tag":252,"props":28516,"children":28517},{"style":447},[28518],{"type":21,"value":3879},{"type":15,"tag":252,"props":28520,"children":28521},{"class":254,"line":2570},[28522],{"type":15,"tag":252,"props":28523,"children":28524},{"style":447},[28525],{"type":21,"value":4087},{"type":15,"tag":252,"props":28527,"children":28528},{"class":254,"line":2591},[28529],{"type":15,"tag":252,"props":28530,"children":28531},{"style":447},[28532],{"type":21,"value":4095},{"type":15,"tag":252,"props":28534,"children":28535},{"class":254,"line":2599},[28536],{"type":15,"tag":252,"props":28537,"children":28538},{"style":447},[28539],{"type":21,"value":2854},{"type":15,"tag":252,"props":28541,"children":28542},{"class":254,"line":2647},[28543],{"type":15,"tag":252,"props":28544,"children":28545},{"emptyLinePlaceholder":2053},[28546],{"type":21,"value":2056},{"type":15,"tag":252,"props":28548,"children":28549},{"class":254,"line":2679},[28550,28554,28558,28562,28566,28570,28574,28578,28582,28586,28590,28594,28598,28602,28606,28610],{"type":15,"tag":252,"props":28551,"children":28552},{"style":601},[28553],{"type":21,"value":2064},{"type":15,"tag":252,"props":28555,"children":28556},{"style":259},[28557],{"type":21,"value":15227},{"type":15,"tag":252,"props":28559,"children":28560},{"style":447},[28561],{"type":21,"value":15232},{"type":15,"tag":252,"props":28563,"children":28564},{"style":601},[28565],{"type":21,"value":3374},{"type":15,"tag":252,"props":28567,"children":28568},{"style":601},[28569],{"type":21,"value":4920},{"type":15,"tag":252,"props":28571,"children":28572},{"style":259},[28573],{"type":21,"value":5623},{"type":15,"tag":252,"props":28575,"children":28576},{"style":601},[28577],{"type":21,"value":804},{"type":15,"tag":252,"props":28579,"children":28580},{"style":259},[28581],{"type":21,"value":5724},{"type":15,"tag":252,"props":28583,"children":28584},{"style":447},[28585],{"type":21,"value":4943},{"type":15,"tag":252,"props":28587,"children":28588},{"style":601},[28589],{"type":21,"value":3947},{"type":15,"tag":252,"props":28591,"children":28592},{"style":259},[28593],{"type":21,"value":3952},{"type":15,"tag":252,"props":28595,"children":28596},{"style":601},[28597],{"type":21,"value":804},{"type":15,"tag":252,"props":28599,"children":28600},{"style":259},[28601],{"type":21,"value":3961},{"type":15,"tag":252,"props":28603,"children":28604},{"style":447},[28605],{"type":21,"value":5826},{"type":15,"tag":252,"props":28607,"children":28608},{"style":259},[28609],{"type":21,"value":15281},{"type":15,"tag":252,"props":28611,"children":28612},{"style":447},[28613],{"type":21,"value":7138},{"type":15,"tag":252,"props":28615,"children":28616},{"class":254,"line":2727},[28617,28621],{"type":15,"tag":252,"props":28618,"children":28619},{"style":601},[28620],{"type":21,"value":4014},{"type":15,"tag":252,"props":28622,"children":28623},{"style":447},[28624],{"type":21,"value":15297},{"type":15,"tag":252,"props":28626,"children":28627},{"class":254,"line":2735},[28628,28632,28636,28640,28644,28648,28652,28656,28660,28664,28668,28672,28676,28680,28684,28688,28692,28696,28700,28704,28708],{"type":15,"tag":252,"props":28629,"children":28630},{"style":259},[28631],{"type":21,"value":15305},{"type":15,"tag":252,"props":28633,"children":28634},{"style":601},[28635],{"type":21,"value":804},{"type":15,"tag":252,"props":28637,"children":28638},{"style":259},[28639],{"type":21,"value":5724},{"type":15,"tag":252,"props":28641,"children":28642},{"style":601},[28643],{"type":21,"value":804},{"type":15,"tag":252,"props":28645,"children":28646},{"style":259},[28647],{"type":21,"value":6153},{"type":15,"tag":252,"props":28649,"children":28650},{"style":447},[28651],{"type":21,"value":15326},{"type":15,"tag":252,"props":28653,"children":28654},{"style":601},[28655],{"type":21,"value":4054},{"type":15,"tag":252,"props":28657,"children":28658},{"style":259},[28659],{"type":21,"value":8666},{"type":15,"tag":252,"props":28661,"children":28662},{"style":447},[28663],{"type":21,"value":849},{"type":15,"tag":252,"props":28665,"children":28666},{"style":259},[28667],{"type":21,"value":15281},{"type":15,"tag":252,"props":28669,"children":28670},{"style":601},[28671],{"type":21,"value":804},{"type":15,"tag":252,"props":28673,"children":28674},{"style":259},[28675],{"type":21,"value":14888},{"type":15,"tag":252,"props":28677,"children":28678},{"style":447},[28679],{"type":21,"value":849},{"type":15,"tag":252,"props":28681,"children":28682},{"style":259},[28683],{"type":21,"value":14557},{"type":15,"tag":252,"props":28685,"children":28686},{"style":601},[28687],{"type":21,"value":804},{"type":15,"tag":252,"props":28689,"children":28690},{"style":259},[28691],{"type":21,"value":14798},{"type":15,"tag":252,"props":28693,"children":28694},{"style":601},[28695],{"type":21,"value":804},{"type":15,"tag":252,"props":28697,"children":28698},{"style":259},[28699],{"type":21,"value":5724},{"type":15,"tag":252,"props":28701,"children":28702},{"style":447},[28703],{"type":21,"value":849},{"type":15,"tag":252,"props":28705,"children":28706},{"style":601},[28707],{"type":21,"value":8752},{"type":15,"tag":252,"props":28709,"children":28710},{"style":447},[28711],{"type":21,"value":15387},{"type":15,"tag":252,"props":28713,"children":28714},{"class":254,"line":2799},[28715,28719,28723,28727,28731,28735,28740,28744,28748,28752,28756,28760,28764],{"type":15,"tag":252,"props":28716,"children":28717},{"style":259},[28718],{"type":21,"value":15305},{"type":15,"tag":252,"props":28720,"children":28721},{"style":601},[28722],{"type":21,"value":804},{"type":15,"tag":252,"props":28724,"children":28725},{"style":259},[28726],{"type":21,"value":5724},{"type":15,"tag":252,"props":28728,"children":28729},{"style":601},[28730],{"type":21,"value":804},{"type":15,"tag":252,"props":28732,"children":28733},{"style":259},[28734],{"type":21,"value":27449},{"type":15,"tag":252,"props":28736,"children":28737},{"style":447},[28738],{"type":21,"value":28739},"(boolean) ",{"type":15,"tag":252,"props":28741,"children":28742},{"style":601},[28743],{"type":21,"value":4054},{"type":15,"tag":252,"props":28745,"children":28746},{"style":259},[28747],{"type":21,"value":8666},{"type":15,"tag":252,"props":28749,"children":28750},{"style":447},[28751],{"type":21,"value":849},{"type":15,"tag":252,"props":28753,"children":28754},{"style":259},[28755],{"type":21,"value":15281},{"type":15,"tag":252,"props":28757,"children":28758},{"style":601},[28759],{"type":21,"value":804},{"type":15,"tag":252,"props":28761,"children":28762},{"style":259},[28763],{"type":21,"value":27449},{"type":15,"tag":252,"props":28765,"children":28766},{"style":447},[28767],{"type":21,"value":14196},{"type":15,"tag":252,"props":28769,"children":28770},{"class":254,"line":2807},[28771,28775,28779,28783,28787,28791,28795,28799],{"type":15,"tag":252,"props":28772,"children":28773},{"style":259},[28774],{"type":21,"value":18575},{"type":15,"tag":252,"props":28776,"children":28777},{"style":601},[28778],{"type":21,"value":804},{"type":15,"tag":252,"props":28780,"children":28781},{"style":259},[28782],{"type":21,"value":27991},{"type":15,"tag":252,"props":28784,"children":28785},{"style":601},[28786],{"type":21,"value":804},{"type":15,"tag":252,"props":28788,"children":28789},{"style":259},[28790],{"type":21,"value":5724},{"type":15,"tag":252,"props":28792,"children":28793},{"style":447},[28794],{"type":21,"value":849},{"type":15,"tag":252,"props":28796,"children":28797},{"style":601},[28798],{"type":21,"value":8752},{"type":15,"tag":252,"props":28800,"children":28801},{"style":447},[28802],{"type":21,"value":28803},"boolean),\n",{"type":15,"tag":252,"props":28805,"children":28806},{"class":254,"line":2848},[28807],{"type":15,"tag":252,"props":28808,"children":28809},{"style":447},[28810],{"type":21,"value":28811},"        )),\n",{"type":15,"tag":252,"props":28813,"children":28814},{"class":254,"line":4645},[28815],{"type":15,"tag":252,"props":28816,"children":28817},{"style":447},[28818],{"type":21,"value":4095},{"type":15,"tag":252,"props":28820,"children":28821},{"class":254,"line":4654},[28822],{"type":15,"tag":252,"props":28823,"children":28824},{"style":447},[28825],{"type":21,"value":2854},{"type":15,"tag":252,"props":28827,"children":28828},{"class":254,"line":4675},[28829],{"type":15,"tag":252,"props":28830,"children":28831},{"emptyLinePlaceholder":2053},[28832],{"type":21,"value":2056},{"type":15,"tag":252,"props":28834,"children":28835},{"class":254,"line":8160},[28836,28840,28844,28848,28852,28856,28860,28864,28868,28872,28876,28880,28884,28888,28892,28896,28900],{"type":15,"tag":252,"props":28837,"children":28838},{"style":601},[28839],{"type":21,"value":2064},{"type":15,"tag":252,"props":28841,"children":28842},{"style":259},[28843],{"type":21,"value":15571},{"type":15,"tag":252,"props":28845,"children":28846},{"style":447},[28847],{"type":21,"value":15425},{"type":15,"tag":252,"props":28849,"children":28850},{"style":601},[28851],{"type":21,"value":3374},{"type":15,"tag":252,"props":28853,"children":28854},{"style":601},[28855],{"type":21,"value":4920},{"type":15,"tag":252,"props":28857,"children":28858},{"style":259},[28859],{"type":21,"value":5623},{"type":15,"tag":252,"props":28861,"children":28862},{"style":601},[28863],{"type":21,"value":804},{"type":15,"tag":252,"props":28865,"children":28866},{"style":259},[28867],{"type":21,"value":5716},{"type":15,"tag":252,"props":28869,"children":28870},{"style":447},[28871],{"type":21,"value":4943},{"type":15,"tag":252,"props":28873,"children":28874},{"style":601},[28875],{"type":21,"value":3947},{"type":15,"tag":252,"props":28877,"children":28878},{"style":259},[28879],{"type":21,"value":3952},{"type":15,"tag":252,"props":28881,"children":28882},{"style":601},[28883],{"type":21,"value":804},{"type":15,"tag":252,"props":28885,"children":28886},{"style":259},[28887],{"type":21,"value":3961},{"type":15,"tag":252,"props":28889,"children":28890},{"style":447},[28891],{"type":21,"value":15620},{"type":15,"tag":252,"props":28893,"children":28894},{"style":601},[28895],{"type":21,"value":804},{"type":15,"tag":252,"props":28897,"children":28898},{"style":259},[28899],{"type":21,"value":14728},{"type":15,"tag":252,"props":28901,"children":28902},{"style":447},[28903],{"type":21,"value":7138},{"type":15,"tag":252,"props":28905,"children":28906},{"class":254,"line":8168},[28907,28911,28915,28919,28923,28927,28931],{"type":15,"tag":252,"props":28908,"children":28909},{"style":601},[28910],{"type":21,"value":2083},{"type":15,"tag":252,"props":28912,"children":28913},{"style":447},[28914],{"type":21,"value":15644},{"type":15,"tag":252,"props":28916,"children":28917},{"style":601},[28918],{"type":21,"value":614},{"type":15,"tag":252,"props":28920,"children":28921},{"style":259},[28922],{"type":21,"value":15420},{"type":15,"tag":252,"props":28924,"children":28925},{"style":447},[28926],{"type":21,"value":15657},{"type":15,"tag":252,"props":28928,"children":28929},{"style":601},[28930],{"type":21,"value":5468},{"type":15,"tag":252,"props":28932,"children":28933},{"style":447},[28934],{"type":21,"value":3325},{"type":15,"tag":252,"props":28936,"children":28937},{"class":254,"line":8176},[28938],{"type":15,"tag":252,"props":28939,"children":28940},{"emptyLinePlaceholder":2053},[28941],{"type":21,"value":2056},{"type":15,"tag":252,"props":28943,"children":28944},{"class":254,"line":8225},[28945,28949],{"type":15,"tag":252,"props":28946,"children":28947},{"style":601},[28948],{"type":21,"value":4014},{"type":15,"tag":252,"props":28950,"children":28951},{"style":447},[28952],{"type":21,"value":15684},{"type":15,"tag":252,"props":28954,"children":28955},{"class":254,"line":8289},[28956,28960,28964,28968,28972,28976,28980,28984,28988,28992,28996,29000,29004],{"type":15,"tag":252,"props":28957,"children":28958},{"style":259},[28959],{"type":21,"value":15692},{"type":15,"tag":252,"props":28961,"children":28962},{"style":601},[28963],{"type":21,"value":804},{"type":15,"tag":252,"props":28965,"children":28966},{"style":259},[28967],{"type":21,"value":14888},{"type":15,"tag":252,"props":28969,"children":28970},{"style":447},[28971],{"type":21,"value":15705},{"type":15,"tag":252,"props":28973,"children":28974},{"style":601},[28975],{"type":21,"value":4054},{"type":15,"tag":252,"props":28977,"children":28978},{"style":259},[28979],{"type":21,"value":8666},{"type":15,"tag":252,"props":28981,"children":28982},{"style":447},[28983],{"type":21,"value":849},{"type":15,"tag":252,"props":28985,"children":28986},{"style":259},[28987],{"type":21,"value":14557},{"type":15,"tag":252,"props":28989,"children":28990},{"style":601},[28991],{"type":21,"value":804},{"type":15,"tag":252,"props":28993,"children":28994},{"style":259},[28995],{"type":21,"value":14728},{"type":15,"tag":252,"props":28997,"children":28998},{"style":601},[28999],{"type":21,"value":804},{"type":15,"tag":252,"props":29001,"children":29002},{"style":259},[29003],{"type":21,"value":14888},{"type":15,"tag":252,"props":29005,"children":29006},{"style":447},[29007],{"type":21,"value":15742},{"type":15,"tag":252,"props":29009,"children":29010},{"class":254,"line":8326},[29011,29015,29019,29023,29028,29032],{"type":15,"tag":252,"props":29012,"children":29013},{"style":259},[29014],{"type":21,"value":15692},{"type":15,"tag":252,"props":29016,"children":29017},{"style":601},[29018],{"type":21,"value":804},{"type":15,"tag":252,"props":29020,"children":29021},{"style":259},[29022],{"type":21,"value":27449},{"type":15,"tag":252,"props":29024,"children":29025},{"style":447},[29026],{"type":21,"value":29027},"(boolean_expression) ",{"type":15,"tag":252,"props":29029,"children":29030},{"style":601},[29031],{"type":21,"value":4054},{"type":15,"tag":252,"props":29033,"children":29034},{"style":447},[29035],{"type":21,"value":3769},{"type":15,"tag":252,"props":29037,"children":29038},{"class":254,"line":8357},[29039,29043,29047,29051,29055,29059,29063,29067],{"type":15,"tag":252,"props":29040,"children":29041},{"style":259},[29042],{"type":21,"value":12492},{"type":15,"tag":252,"props":29044,"children":29045},{"style":447},[29046],{"type":21,"value":849},{"type":15,"tag":252,"props":29048,"children":29049},{"style":259},[29050],{"type":21,"value":14557},{"type":15,"tag":252,"props":29052,"children":29053},{"style":601},[29054],{"type":21,"value":804},{"type":15,"tag":252,"props":29056,"children":29057},{"style":259},[29058],{"type":21,"value":14728},{"type":15,"tag":252,"props":29060,"children":29061},{"style":601},[29062],{"type":21,"value":804},{"type":15,"tag":252,"props":29064,"children":29065},{"style":259},[29066],{"type":21,"value":27449},{"type":15,"tag":252,"props":29068,"children":29069},{"style":447},[29070],{"type":21,"value":29071},"(boolean_expression))\n",{"type":15,"tag":252,"props":29073,"children":29074},{"class":254,"line":8385},[29075],{"type":15,"tag":252,"props":29076,"children":29077},{"style":447},[29078],{"type":21,"value":4087},{"type":15,"tag":252,"props":29080,"children":29081},{"class":254,"line":8403},[29082],{"type":15,"tag":252,"props":29083,"children":29084},{"style":447},[29085],{"type":21,"value":4095},{"type":15,"tag":252,"props":29087,"children":29088},{"class":254,"line":8432},[29089],{"type":15,"tag":252,"props":29090,"children":29091},{"style":447},[29092],{"type":21,"value":2854},{"type":15,"tag":59,"props":29094,"children":29096},{"id":29095},"code-gen-1",[29097],{"type":21,"value":26061},{"type":15,"tag":23,"props":29099,"children":29100},{},[29101],{"type":21,"value":29102},"Now for the code generation!",{"type":15,"tag":95,"props":29104,"children":29106},{"code":29105,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n    fn compile_bool_expression(\n        &self,\n        expression: &ir::BooleanExpression,\n    ) -> inkwell::values::IntValue {\n        match expression {\n            ir::BooleanExpression::Literal(boolean) => {\n                self.int_type().const_int(*boolean as u64, false)\n            }\n        }\n    }\n\n    fn compile_print_statement(&self, statement: &ir::PrintStatement) {\n        let printf = self.module.get_function(\"printf\").unwrap();\n\n        let format_string = match statement {\n            ir::PrintStatement::Int(_) => \"%d\\n\",\n            ir::PrintStatement::Boolean(_) => \"Bool(%d)\\n\", // This isnt the best way to do this\n        };\n        let format_string = self\n            .builder\n            .build_global_string_ptr(format_string, \"format_string\")\n            .as_pointer_value();\n\n        match statement {\n            ir::PrintStatement::Int(int_expression) => {\n              // ...\n            }\n            ir::PrintStatement::Boolean(boolean_expression) => {\n                let boolean_value = self.compile_bool_expression(boolean_expression);\n                self.builder.build_call(\n                    printf,\n                    &[format_string.into(), boolean_value.into()],\n                    \"printf\",\n                );\n            }\n        }\n    }\n",[29107],{"type":15,"tag":81,"props":29108,"children":29109},{"__ignoreMap":8},[29110,29117,29133,29149,29181,29217,29228,29263,29323,29330,29337,29344,29351,29402,29461,29468,29491,29538,29592,29599,29618,29629,29652,29667,29674,29685,29720,29728,29735,29770,29804,29831,29838,29874,29885,29892,29899,29906],{"type":15,"tag":252,"props":29111,"children":29112},{"class":254,"line":255},[29113],{"type":15,"tag":252,"props":29114,"children":29115},{"style":3287},[29116],{"type":21,"value":26081},{"type":15,"tag":252,"props":29118,"children":29119},{"class":254,"line":334},[29120,29124,29129],{"type":15,"tag":252,"props":29121,"children":29122},{"style":601},[29123],{"type":21,"value":7146},{"type":15,"tag":252,"props":29125,"children":29126},{"style":259},[29127],{"type":21,"value":29128}," compile_bool_expression",{"type":15,"tag":252,"props":29130,"children":29131},{"style":447},[29132],{"type":21,"value":14196},{"type":15,"tag":252,"props":29134,"children":29135},{"class":254,"line":390},[29136,29141,29145],{"type":15,"tag":252,"props":29137,"children":29138},{"style":601},[29139],{"type":21,"value":29140},"        &",{"type":15,"tag":252,"props":29142,"children":29143},{"style":276},[29144],{"type":21,"value":7432},{"type":15,"tag":252,"props":29146,"children":29147},{"style":447},[29148],{"type":21,"value":3879},{"type":15,"tag":252,"props":29150,"children":29151},{"class":254,"line":2077},[29152,29157,29161,29165,29169,29173,29177],{"type":15,"tag":252,"props":29153,"children":29154},{"style":447},[29155],{"type":21,"value":29156},"        expression",{"type":15,"tag":252,"props":29158,"children":29159},{"style":601},[29160],{"type":21,"value":3374},{"type":15,"tag":252,"props":29162,"children":29163},{"style":601},[29164],{"type":21,"value":4920},{"type":15,"tag":252,"props":29166,"children":29167},{"style":259},[29168],{"type":21,"value":14557},{"type":15,"tag":252,"props":29170,"children":29171},{"style":601},[29172],{"type":21,"value":804},{"type":15,"tag":252,"props":29174,"children":29175},{"style":259},[29176],{"type":21,"value":27991},{"type":15,"tag":252,"props":29178,"children":29179},{"style":447},[29180],{"type":21,"value":3879},{"type":15,"tag":252,"props":29182,"children":29183},{"class":254,"line":2110},[29184,29189,29193,29197,29201,29205,29209,29213],{"type":15,"tag":252,"props":29185,"children":29186},{"style":447},[29187],{"type":21,"value":29188},"    ) ",{"type":15,"tag":252,"props":29190,"children":29191},{"style":601},[29192],{"type":21,"value":3947},{"type":15,"tag":252,"props":29194,"children":29195},{"style":259},[29196],{"type":21,"value":273},{"type":15,"tag":252,"props":29198,"children":29199},{"style":601},[29200],{"type":21,"value":804},{"type":15,"tag":252,"props":29202,"children":29203},{"style":259},[29204],{"type":21,"value":18543},{"type":15,"tag":252,"props":29206,"children":29207},{"style":601},[29208],{"type":21,"value":804},{"type":15,"tag":252,"props":29210,"children":29211},{"style":259},[29212],{"type":21,"value":18552},{"type":15,"tag":252,"props":29214,"children":29215},{"style":447},[29216],{"type":21,"value":3769},{"type":15,"tag":252,"props":29218,"children":29219},{"class":254,"line":2150},[29220,29224],{"type":15,"tag":252,"props":29221,"children":29222},{"style":601},[29223],{"type":21,"value":12717},{"type":15,"tag":252,"props":29225,"children":29226},{"style":447},[29227],{"type":21,"value":15489},{"type":15,"tag":252,"props":29229,"children":29230},{"class":254,"line":2182},[29231,29235,29239,29243,29247,29251,29255,29259],{"type":15,"tag":252,"props":29232,"children":29233},{"style":259},[29234],{"type":21,"value":18575},{"type":15,"tag":252,"props":29236,"children":29237},{"style":601},[29238],{"type":21,"value":804},{"type":15,"tag":252,"props":29240,"children":29241},{"style":259},[29242],{"type":21,"value":27991},{"type":15,"tag":252,"props":29244,"children":29245},{"style":601},[29246],{"type":21,"value":804},{"type":15,"tag":252,"props":29248,"children":29249},{"style":259},[29250],{"type":21,"value":5724},{"type":15,"tag":252,"props":29252,"children":29253},{"style":447},[29254],{"type":21,"value":28739},{"type":15,"tag":252,"props":29256,"children":29257},{"style":601},[29258],{"type":21,"value":4054},{"type":15,"tag":252,"props":29260,"children":29261},{"style":447},[29262],{"type":21,"value":3769},{"type":15,"tag":252,"props":29264,"children":29265},{"class":254,"line":2190},[29266,29270,29274,29278,29282,29286,29290,29294,29298,29303,29307,29311,29315,29319],{"type":15,"tag":252,"props":29267,"children":29268},{"style":276},[29269],{"type":21,"value":8765},{"type":15,"tag":252,"props":29271,"children":29272},{"style":601},[29273],{"type":21,"value":432},{"type":15,"tag":252,"props":29275,"children":29276},{"style":259},[29277],{"type":21,"value":18612},{"type":15,"tag":252,"props":29279,"children":29280},{"style":447},[29281],{"type":21,"value":7305},{"type":15,"tag":252,"props":29283,"children":29284},{"style":601},[29285],{"type":21,"value":432},{"type":15,"tag":252,"props":29287,"children":29288},{"style":259},[29289],{"type":21,"value":1892},{"type":15,"tag":252,"props":29291,"children":29292},{"style":447},[29293],{"type":21,"value":849},{"type":15,"tag":252,"props":29295,"children":29296},{"style":601},[29297],{"type":21,"value":8752},{"type":15,"tag":252,"props":29299,"children":29300},{"style":447},[29301],{"type":21,"value":29302},"boolean ",{"type":15,"tag":252,"props":29304,"children":29305},{"style":601},[29306],{"type":21,"value":18642},{"type":15,"tag":252,"props":29308,"children":29309},{"style":259},[29310],{"type":21,"value":18647},{"type":15,"tag":252,"props":29312,"children":29313},{"style":447},[29314],{"type":21,"value":1076},{"type":15,"tag":252,"props":29316,"children":29317},{"style":276},[29318],{"type":21,"value":1456},{"type":15,"tag":252,"props":29320,"children":29321},{"style":447},[29322],{"type":21,"value":7327},{"type":15,"tag":252,"props":29324,"children":29325},{"class":254,"line":2222},[29326],{"type":15,"tag":252,"props":29327,"children":29328},{"style":447},[29329],{"type":21,"value":8814},{"type":15,"tag":252,"props":29331,"children":29332},{"class":254,"line":2270},[29333],{"type":15,"tag":252,"props":29334,"children":29335},{"style":447},[29336],{"type":21,"value":4087},{"type":15,"tag":252,"props":29338,"children":29339},{"class":254,"line":2302},[29340],{"type":15,"tag":252,"props":29341,"children":29342},{"style":447},[29343],{"type":21,"value":4095},{"type":15,"tag":252,"props":29345,"children":29346},{"class":254,"line":2310},[29347],{"type":15,"tag":252,"props":29348,"children":29349},{"emptyLinePlaceholder":2053},[29350],{"type":21,"value":2056},{"type":15,"tag":252,"props":29352,"children":29353},{"class":254,"line":2370},[29354,29358,29362,29366,29370,29374,29378,29382,29386,29390,29394,29398],{"type":15,"tag":252,"props":29355,"children":29356},{"style":601},[29357],{"type":21,"value":7146},{"type":15,"tag":252,"props":29359,"children":29360},{"style":259},[29361],{"type":21,"value":18692},{"type":15,"tag":252,"props":29363,"children":29364},{"style":447},[29365],{"type":21,"value":849},{"type":15,"tag":252,"props":29367,"children":29368},{"style":601},[29369],{"type":21,"value":1171},{"type":15,"tag":252,"props":29371,"children":29372},{"style":276},[29373],{"type":21,"value":7432},{"type":15,"tag":252,"props":29375,"children":29376},{"style":447},[29377],{"type":21,"value":18709},{"type":15,"tag":252,"props":29379,"children":29380},{"style":601},[29381],{"type":21,"value":3374},{"type":15,"tag":252,"props":29383,"children":29384},{"style":601},[29385],{"type":21,"value":4920},{"type":15,"tag":252,"props":29387,"children":29388},{"style":259},[29389],{"type":21,"value":14557},{"type":15,"tag":252,"props":29391,"children":29392},{"style":601},[29393],{"type":21,"value":804},{"type":15,"tag":252,"props":29395,"children":29396},{"style":259},[29397],{"type":21,"value":14728},{"type":15,"tag":252,"props":29399,"children":29400},{"style":447},[29401],{"type":21,"value":7370},{"type":15,"tag":252,"props":29403,"children":29404},{"class":254,"line":2418},[29405,29409,29413,29417,29421,29425,29429,29433,29437,29441,29445,29449,29453,29457],{"type":15,"tag":252,"props":29406,"children":29407},{"style":601},[29408],{"type":21,"value":8231},{"type":15,"tag":252,"props":29410,"children":29411},{"style":447},[29412],{"type":21,"value":1211},{"type":15,"tag":252,"props":29414,"children":29415},{"style":601},[29416],{"type":21,"value":614},{"type":15,"tag":252,"props":29418,"children":29419},{"style":276},[29420],{"type":21,"value":7244},{"type":15,"tag":252,"props":29422,"children":29423},{"style":601},[29424],{"type":21,"value":432},{"type":15,"tag":252,"props":29426,"children":29427},{"style":447},[29428],{"type":21,"value":919},{"type":15,"tag":252,"props":29430,"children":29431},{"style":601},[29432],{"type":21,"value":432},{"type":15,"tag":252,"props":29434,"children":29435},{"style":259},[29436],{"type":21,"value":18769},{"type":15,"tag":252,"props":29438,"children":29439},{"style":447},[29440],{"type":21,"value":849},{"type":15,"tag":252,"props":29442,"children":29443},{"style":265},[29444],{"type":21,"value":1238},{"type":15,"tag":252,"props":29446,"children":29447},{"style":447},[29448],{"type":21,"value":1975},{"type":15,"tag":252,"props":29450,"children":29451},{"style":601},[29452],{"type":21,"value":432},{"type":15,"tag":252,"props":29454,"children":29455},{"style":259},[29456],{"type":21,"value":1984},{"type":15,"tag":252,"props":29458,"children":29459},{"style":447},[29460],{"type":21,"value":814},{"type":15,"tag":252,"props":29462,"children":29463},{"class":254,"line":2426},[29464],{"type":15,"tag":252,"props":29465,"children":29466},{"emptyLinePlaceholder":2053},[29467],{"type":21,"value":2056},{"type":15,"tag":252,"props":29469,"children":29470},{"class":254,"line":2474},[29471,29475,29479,29483,29487],{"type":15,"tag":252,"props":29472,"children":29473},{"style":601},[29474],{"type":21,"value":8231},{"type":15,"tag":252,"props":29476,"children":29477},{"style":447},[29478],{"type":21,"value":18812},{"type":15,"tag":252,"props":29480,"children":29481},{"style":601},[29482],{"type":21,"value":614},{"type":15,"tag":252,"props":29484,"children":29485},{"style":601},[29486],{"type":21,"value":18821},{"type":15,"tag":252,"props":29488,"children":29489},{"style":447},[29490],{"type":21,"value":15848},{"type":15,"tag":252,"props":29492,"children":29493},{"class":254,"line":2522},[29494,29498,29502,29506,29510,29514,29518,29522,29526,29530,29534],{"type":15,"tag":252,"props":29495,"children":29496},{"style":259},[29497],{"type":21,"value":18575},{"type":15,"tag":252,"props":29499,"children":29500},{"style":601},[29501],{"type":21,"value":804},{"type":15,"tag":252,"props":29503,"children":29504},{"style":259},[29505],{"type":21,"value":14728},{"type":15,"tag":252,"props":29507,"children":29508},{"style":601},[29509],{"type":21,"value":804},{"type":15,"tag":252,"props":29511,"children":29512},{"style":259},[29513],{"type":21,"value":14888},{"type":15,"tag":252,"props":29515,"children":29516},{"style":447},[29517],{"type":21,"value":12975},{"type":15,"tag":252,"props":29519,"children":29520},{"style":601},[29521],{"type":21,"value":4054},{"type":15,"tag":252,"props":29523,"children":29524},{"style":265},[29525],{"type":21,"value":18861},{"type":15,"tag":252,"props":29527,"children":29528},{"style":276},[29529],{"type":21,"value":8314},{"type":15,"tag":252,"props":29531,"children":29532},{"style":265},[29533],{"type":21,"value":18870},{"type":15,"tag":252,"props":29535,"children":29536},{"style":447},[29537],{"type":21,"value":3879},{"type":15,"tag":252,"props":29539,"children":29540},{"class":254,"line":2530},[29541,29545,29549,29553,29557,29561,29565,29569,29574,29578,29582,29587],{"type":15,"tag":252,"props":29542,"children":29543},{"style":259},[29544],{"type":21,"value":18575},{"type":15,"tag":252,"props":29546,"children":29547},{"style":601},[29548],{"type":21,"value":804},{"type":15,"tag":252,"props":29550,"children":29551},{"style":259},[29552],{"type":21,"value":14728},{"type":15,"tag":252,"props":29554,"children":29555},{"style":601},[29556],{"type":21,"value":804},{"type":15,"tag":252,"props":29558,"children":29559},{"style":259},[29560],{"type":21,"value":27449},{"type":15,"tag":252,"props":29562,"children":29563},{"style":447},[29564],{"type":21,"value":12975},{"type":15,"tag":252,"props":29566,"children":29567},{"style":601},[29568],{"type":21,"value":4054},{"type":15,"tag":252,"props":29570,"children":29571},{"style":265},[29572],{"type":21,"value":29573}," \"Bool(%d)",{"type":15,"tag":252,"props":29575,"children":29576},{"style":276},[29577],{"type":21,"value":8314},{"type":15,"tag":252,"props":29579,"children":29580},{"style":265},[29581],{"type":21,"value":18870},{"type":15,"tag":252,"props":29583,"children":29584},{"style":447},[29585],{"type":21,"value":29586},",",{"type":15,"tag":252,"props":29588,"children":29589},{"style":3287},[29590],{"type":21,"value":29591}," // This isnt the best way to do this\n",{"type":15,"tag":252,"props":29593,"children":29594},{"class":254,"line":2570},[29595],{"type":15,"tag":252,"props":29596,"children":29597},{"style":447},[29598],{"type":21,"value":18882},{"type":15,"tag":252,"props":29600,"children":29601},{"class":254,"line":2591},[29602,29606,29610,29614],{"type":15,"tag":252,"props":29603,"children":29604},{"style":601},[29605],{"type":21,"value":8231},{"type":15,"tag":252,"props":29607,"children":29608},{"style":447},[29609],{"type":21,"value":18812},{"type":15,"tag":252,"props":29611,"children":29612},{"style":601},[29613],{"type":21,"value":614},{"type":15,"tag":252,"props":29615,"children":29616},{"style":276},[29617],{"type":21,"value":18902},{"type":15,"tag":252,"props":29619,"children":29620},{"class":254,"line":2599},[29621,29625],{"type":15,"tag":252,"props":29622,"children":29623},{"style":601},[29624],{"type":21,"value":10662},{"type":15,"tag":252,"props":29626,"children":29627},{"style":447},[29628],{"type":21,"value":18914},{"type":15,"tag":252,"props":29630,"children":29631},{"class":254,"line":2647},[29632,29636,29640,29644,29648],{"type":15,"tag":252,"props":29633,"children":29634},{"style":601},[29635],{"type":21,"value":10662},{"type":15,"tag":252,"props":29637,"children":29638},{"style":259},[29639],{"type":21,"value":1686},{"type":15,"tag":252,"props":29641,"children":29642},{"style":447},[29643],{"type":21,"value":18930},{"type":15,"tag":252,"props":29645,"children":29646},{"style":265},[29647],{"type":21,"value":18935},{"type":15,"tag":252,"props":29649,"children":29650},{"style":447},[29651],{"type":21,"value":7327},{"type":15,"tag":252,"props":29653,"children":29654},{"class":254,"line":2679},[29655,29659,29663],{"type":15,"tag":252,"props":29656,"children":29657},{"style":601},[29658],{"type":21,"value":10662},{"type":15,"tag":252,"props":29660,"children":29661},{"style":259},[29662],{"type":21,"value":1737},{"type":15,"tag":252,"props":29664,"children":29665},{"style":447},[29666],{"type":21,"value":814},{"type":15,"tag":252,"props":29668,"children":29669},{"class":254,"line":2727},[29670],{"type":15,"tag":252,"props":29671,"children":29672},{"emptyLinePlaceholder":2053},[29673],{"type":21,"value":2056},{"type":15,"tag":252,"props":29675,"children":29676},{"class":254,"line":2735},[29677,29681],{"type":15,"tag":252,"props":29678,"children":29679},{"style":601},[29680],{"type":21,"value":12717},{"type":15,"tag":252,"props":29682,"children":29683},{"style":447},[29684],{"type":21,"value":15848},{"type":15,"tag":252,"props":29686,"children":29687},{"class":254,"line":2799},[29688,29692,29696,29700,29704,29708,29712,29716],{"type":15,"tag":252,"props":29689,"children":29690},{"style":259},[29691],{"type":21,"value":18575},{"type":15,"tag":252,"props":29693,"children":29694},{"style":601},[29695],{"type":21,"value":804},{"type":15,"tag":252,"props":29697,"children":29698},{"style":259},[29699],{"type":21,"value":14728},{"type":15,"tag":252,"props":29701,"children":29702},{"style":601},[29703],{"type":21,"value":804},{"type":15,"tag":252,"props":29705,"children":29706},{"style":259},[29707],{"type":21,"value":14888},{"type":15,"tag":252,"props":29709,"children":29710},{"style":447},[29711],{"type":21,"value":15705},{"type":15,"tag":252,"props":29713,"children":29714},{"style":601},[29715],{"type":21,"value":4054},{"type":15,"tag":252,"props":29717,"children":29718},{"style":447},[29719],{"type":21,"value":3769},{"type":15,"tag":252,"props":29721,"children":29722},{"class":254,"line":2807},[29723],{"type":15,"tag":252,"props":29724,"children":29725},{"style":3287},[29726],{"type":21,"value":29727},"              // ...\n",{"type":15,"tag":252,"props":29729,"children":29730},{"class":254,"line":2848},[29731],{"type":15,"tag":252,"props":29732,"children":29733},{"style":447},[29734],{"type":21,"value":8814},{"type":15,"tag":252,"props":29736,"children":29737},{"class":254,"line":4645},[29738,29742,29746,29750,29754,29758,29762,29766],{"type":15,"tag":252,"props":29739,"children":29740},{"style":259},[29741],{"type":21,"value":18575},{"type":15,"tag":252,"props":29743,"children":29744},{"style":601},[29745],{"type":21,"value":804},{"type":15,"tag":252,"props":29747,"children":29748},{"style":259},[29749],{"type":21,"value":14728},{"type":15,"tag":252,"props":29751,"children":29752},{"style":601},[29753],{"type":21,"value":804},{"type":15,"tag":252,"props":29755,"children":29756},{"style":259},[29757],{"type":21,"value":27449},{"type":15,"tag":252,"props":29759,"children":29760},{"style":447},[29761],{"type":21,"value":29027},{"type":15,"tag":252,"props":29763,"children":29764},{"style":601},[29765],{"type":21,"value":4054},{"type":15,"tag":252,"props":29767,"children":29768},{"style":447},[29769],{"type":21,"value":3769},{"type":15,"tag":252,"props":29771,"children":29772},{"class":254,"line":4654},[29773,29777,29782,29786,29790,29794,29799],{"type":15,"tag":252,"props":29774,"children":29775},{"style":601},[29776],{"type":21,"value":13283},{"type":15,"tag":252,"props":29778,"children":29779},{"style":447},[29780],{"type":21,"value":29781}," boolean_value ",{"type":15,"tag":252,"props":29783,"children":29784},{"style":601},[29785],{"type":21,"value":614},{"type":15,"tag":252,"props":29787,"children":29788},{"style":276},[29789],{"type":21,"value":7244},{"type":15,"tag":252,"props":29791,"children":29792},{"style":601},[29793],{"type":21,"value":432},{"type":15,"tag":252,"props":29795,"children":29796},{"style":259},[29797],{"type":21,"value":29798},"compile_bool_expression",{"type":15,"tag":252,"props":29800,"children":29801},{"style":447},[29802],{"type":21,"value":29803},"(boolean_expression);\n",{"type":15,"tag":252,"props":29805,"children":29806},{"class":254,"line":4675},[29807,29811,29815,29819,29823,29827],{"type":15,"tag":252,"props":29808,"children":29809},{"style":276},[29810],{"type":21,"value":8765},{"type":15,"tag":252,"props":29812,"children":29813},{"style":601},[29814],{"type":21,"value":432},{"type":15,"tag":252,"props":29816,"children":29817},{"style":447},[29818],{"type":21,"value":930},{"type":15,"tag":252,"props":29820,"children":29821},{"style":601},[29822],{"type":21,"value":432},{"type":15,"tag":252,"props":29824,"children":29825},{"style":259},[29826],{"type":21,"value":1792},{"type":15,"tag":252,"props":29828,"children":29829},{"style":447},[29830],{"type":21,"value":14196},{"type":15,"tag":252,"props":29832,"children":29833},{"class":254,"line":8160},[29834],{"type":15,"tag":252,"props":29835,"children":29836},{"style":447},[29837],{"type":21,"value":19076},{"type":15,"tag":252,"props":29839,"children":29840},{"class":254,"line":8168},[29841,29845,29849,29853,29857,29862,29866,29870],{"type":15,"tag":252,"props":29842,"children":29843},{"style":601},[29844],{"type":21,"value":19084},{"type":15,"tag":252,"props":29846,"children":29847},{"style":447},[29848],{"type":21,"value":19089},{"type":15,"tag":252,"props":29850,"children":29851},{"style":601},[29852],{"type":21,"value":432},{"type":15,"tag":252,"props":29854,"children":29855},{"style":259},[29856],{"type":21,"value":1185},{"type":15,"tag":252,"props":29858,"children":29859},{"style":447},[29860],{"type":21,"value":29861},"(), boolean_value",{"type":15,"tag":252,"props":29863,"children":29864},{"style":601},[29865],{"type":21,"value":432},{"type":15,"tag":252,"props":29867,"children":29868},{"style":259},[29869],{"type":21,"value":1185},{"type":15,"tag":252,"props":29871,"children":29872},{"style":447},[29873],{"type":21,"value":19115},{"type":15,"tag":252,"props":29875,"children":29876},{"class":254,"line":8176},[29877,29881],{"type":15,"tag":252,"props":29878,"children":29879},{"style":265},[29880],{"type":21,"value":19123},{"type":15,"tag":252,"props":29882,"children":29883},{"style":447},[29884],{"type":21,"value":3879},{"type":15,"tag":252,"props":29886,"children":29887},{"class":254,"line":8225},[29888],{"type":15,"tag":252,"props":29889,"children":29890},{"style":447},[29891],{"type":21,"value":19135},{"type":15,"tag":252,"props":29893,"children":29894},{"class":254,"line":8289},[29895],{"type":15,"tag":252,"props":29896,"children":29897},{"style":447},[29898],{"type":21,"value":8814},{"type":15,"tag":252,"props":29900,"children":29901},{"class":254,"line":8326},[29902],{"type":15,"tag":252,"props":29903,"children":29904},{"style":447},[29905],{"type":21,"value":4087},{"type":15,"tag":252,"props":29907,"children":29908},{"class":254,"line":8357},[29909],{"type":15,"tag":252,"props":29910,"children":29911},{"style":447},[29912],{"type":21,"value":4095},{"type":15,"tag":23,"props":29914,"children":29915},{},[29916,29918,29923,29925,29930],{"type":21,"value":29917},"Yes we just represent a bool as ",{"type":15,"tag":81,"props":29919,"children":29921},{"className":29920},[],[29922],{"type":21,"value":1901},{"type":21,"value":29924}," or ",{"type":15,"tag":81,"props":29926,"children":29928},{"className":29927},[],[29929],{"type":21,"value":6162},{"type":21,"value":29931},", but that is easiest.",{"type":15,"tag":192,"props":29933,"children":29934},{"id":86},[29935],{"type":21,"value":29936},"Assert",{"type":15,"tag":23,"props":29938,"children":29939},{},[29940,29942,29947],{"type":21,"value":29941},"Now we are gonna add our ",{"type":15,"tag":81,"props":29943,"children":29945},{"className":29944},[],[29946],{"type":21,"value":86},{"type":21,"value":29948}," statement, it will basically be compiled to:",{"type":15,"tag":95,"props":29950,"children":29952},{"code":29951,"language":772,"meta":8,"className":773,"style":8},"if !condition {\n    printf(\"assert failed: message\");\n    exit(1);\n}\n",[29953],{"type":15,"tag":81,"props":29954,"children":29955},{"__ignoreMap":8},[29956,29972,29993,30013],{"type":15,"tag":252,"props":29957,"children":29958},{"class":254,"line":255},[29959,29963,29967],{"type":15,"tag":252,"props":29960,"children":29961},{"style":601},[29962],{"type":21,"value":1627},{"type":15,"tag":252,"props":29964,"children":29965},{"style":601},[29966],{"type":21,"value":19905},{"type":15,"tag":252,"props":29968,"children":29969},{"style":447},[29970],{"type":21,"value":29971},"condition {\n",{"type":15,"tag":252,"props":29973,"children":29974},{"class":254,"line":334},[29975,29980,29984,29989],{"type":15,"tag":252,"props":29976,"children":29977},{"style":259},[29978],{"type":21,"value":29979},"    printf",{"type":15,"tag":252,"props":29981,"children":29982},{"style":447},[29983],{"type":21,"value":849},{"type":15,"tag":252,"props":29985,"children":29986},{"style":265},[29987],{"type":21,"value":29988},"\"assert failed: message\"",{"type":15,"tag":252,"props":29990,"children":29991},{"style":447},[29992],{"type":21,"value":859},{"type":15,"tag":252,"props":29994,"children":29995},{"class":254,"line":390},[29996,30001,30005,30009],{"type":15,"tag":252,"props":29997,"children":29998},{"style":259},[29999],{"type":21,"value":30000},"    exit",{"type":15,"tag":252,"props":30002,"children":30003},{"style":447},[30004],{"type":21,"value":849},{"type":15,"tag":252,"props":30006,"children":30007},{"style":276},[30008],{"type":21,"value":6162},{"type":15,"tag":252,"props":30010,"children":30011},{"style":447},[30012],{"type":21,"value":859},{"type":15,"tag":252,"props":30014,"children":30015},{"class":254,"line":2077},[30016],{"type":15,"tag":252,"props":30017,"children":30018},{"style":447},[30019],{"type":21,"value":2854},{"type":15,"tag":23,"props":30021,"children":30022},{},[30023,30025,30030],{"type":21,"value":30024},"Then afterwards we will add a test runner, so we can start writing tests! And then we will add ",{"type":15,"tag":81,"props":30026,"children":30028},{"className":30027},[],[30029],{"type":21,"value":8304},{"type":21,"value":30031}," so the assert can actually do something.",{"type":15,"tag":59,"props":30033,"children":30035},{"id":30034},"parsing-2",[30036],{"type":21,"value":5541},{"type":15,"tag":23,"props":30038,"children":30039},{},[30040,30042,30047],{"type":21,"value":30041},"We are going to need a ",{"type":15,"tag":81,"props":30043,"children":30045},{"className":30044},[],[30046],{"type":21,"value":6503},{"type":21,"value":30048}," token for the assert message.",{"type":15,"tag":95,"props":30050,"children":30052},{"code":30051,"language":772,"meta":8,"className":773,"style":8},"// parsing/tokens.rs\n    fn consume_string(&mut self) -> Result\u003CToken, TokenizerError> {\n        let mut string = String::new();\n        self.void();\n        loop {\n            match self.code.peek() {\n                Ok('\"') => {\n                    self.void();\n                    break;\n                }\n                Ok('\\n') => self.error(\"Unexpected newline in string\".to_string())?,\n                Ok(c) => {\n                    string.push(*c);\n                    self.void();\n                }\n                Err(_) => self.error(\"Unexpected end of file\".to_string())?,\n            }\n        }\n        Ok(self.token(TokenType::String(string)))\n    }\n\n    pub fn tokenize(mut self) -> Result\u003CVec\u003CToken>, TokenizerError> {\n        let mut tokens = Vec::new();\n        while let Ok(&c) = self.code.peek() {\n            match c {\n                '\"' => tokens.push(self.consume_string()?),\n                // ...\n            }\n        }\n        tokens.push(self.token(TokenType::Eof));\n        Ok(tokens)\n    }\n",[30053],{"type":15,"tag":81,"props":30054,"children":30055},{"__ignoreMap":8},[30056,30063,30119,30154,30173,30185,30216,30244,30263,30275,30282,30355,30374,30402,30421,30428,30485,30492,30499,30543,30550,30557,30624,30659,30714,30725,30778,30786,30793,30800,30851,30862],{"type":15,"tag":252,"props":30057,"children":30058},{"class":254,"line":255},[30059],{"type":15,"tag":252,"props":30060,"children":30061},{"style":3287},[30062],{"type":21,"value":7551},{"type":15,"tag":252,"props":30064,"children":30065},{"class":254,"line":334},[30066,30070,30075,30079,30083,30087,30091,30095,30099,30103,30107,30111,30115],{"type":15,"tag":252,"props":30067,"children":30068},{"style":601},[30069],{"type":21,"value":7146},{"type":15,"tag":252,"props":30071,"children":30072},{"style":259},[30073],{"type":21,"value":30074}," consume_string",{"type":15,"tag":252,"props":30076,"children":30077},{"style":447},[30078],{"type":21,"value":849},{"type":15,"tag":252,"props":30080,"children":30081},{"style":601},[30082],{"type":21,"value":7239},{"type":15,"tag":252,"props":30084,"children":30085},{"style":276},[30086],{"type":21,"value":7244},{"type":15,"tag":252,"props":30088,"children":30089},{"style":447},[30090],{"type":21,"value":4943},{"type":15,"tag":252,"props":30092,"children":30093},{"style":601},[30094],{"type":21,"value":3947},{"type":15,"tag":252,"props":30096,"children":30097},{"style":259},[30098],{"type":21,"value":7257},{"type":15,"tag":252,"props":30100,"children":30101},{"style":447},[30102],{"type":21,"value":5826},{"type":15,"tag":252,"props":30104,"children":30105},{"style":259},[30106],{"type":21,"value":9747},{"type":15,"tag":252,"props":30108,"children":30109},{"style":447},[30110],{"type":21,"value":1076},{"type":15,"tag":252,"props":30112,"children":30113},{"style":259},[30114],{"type":21,"value":7913},{"type":15,"tag":252,"props":30116,"children":30117},{"style":447},[30118],{"type":21,"value":7138},{"type":15,"tag":252,"props":30120,"children":30121},{"class":254,"line":390},[30122,30126,30130,30134,30138,30142,30146,30150],{"type":15,"tag":252,"props":30123,"children":30124},{"style":601},[30125],{"type":21,"value":8231},{"type":15,"tag":252,"props":30127,"children":30128},{"style":601},[30129],{"type":21,"value":8623},{"type":15,"tag":252,"props":30131,"children":30132},{"style":447},[30133],{"type":21,"value":1668},{"type":15,"tag":252,"props":30135,"children":30136},{"style":601},[30137],{"type":21,"value":614},{"type":15,"tag":252,"props":30139,"children":30140},{"style":259},[30141],{"type":21,"value":3799},{"type":15,"tag":252,"props":30143,"children":30144},{"style":601},[30145],{"type":21,"value":804},{"type":15,"tag":252,"props":30147,"children":30148},{"style":259},[30149],{"type":21,"value":7761},{"type":15,"tag":252,"props":30151,"children":30152},{"style":447},[30153],{"type":21,"value":814},{"type":15,"tag":252,"props":30155,"children":30156},{"class":254,"line":2077},[30157,30161,30165,30169],{"type":15,"tag":252,"props":30158,"children":30159},{"style":276},[30160],{"type":21,"value":7286},{"type":15,"tag":252,"props":30162,"children":30163},{"style":601},[30164],{"type":21,"value":432},{"type":15,"tag":252,"props":30166,"children":30167},{"style":259},[30168],{"type":21,"value":8774},{"type":15,"tag":252,"props":30170,"children":30171},{"style":447},[30172],{"type":21,"value":814},{"type":15,"tag":252,"props":30174,"children":30175},{"class":254,"line":2110},[30176,30181],{"type":15,"tag":252,"props":30177,"children":30178},{"style":601},[30179],{"type":21,"value":30180},"        loop",{"type":15,"tag":252,"props":30182,"children":30183},{"style":447},[30184],{"type":21,"value":3769},{"type":15,"tag":252,"props":30186,"children":30187},{"class":254,"line":2150},[30188,30192,30196,30200,30204,30208,30212],{"type":15,"tag":252,"props":30189,"children":30190},{"style":601},[30191],{"type":21,"value":9860},{"type":15,"tag":252,"props":30193,"children":30194},{"style":276},[30195],{"type":21,"value":7244},{"type":15,"tag":252,"props":30197,"children":30198},{"style":601},[30199],{"type":21,"value":432},{"type":15,"tag":252,"props":30201,"children":30202},{"style":447},[30203],{"type":21,"value":81},{"type":15,"tag":252,"props":30205,"children":30206},{"style":601},[30207],{"type":21,"value":432},{"type":15,"tag":252,"props":30209,"children":30210},{"style":259},[30211],{"type":21,"value":8696},{"type":15,"tag":252,"props":30213,"children":30214},{"style":447},[30215],{"type":21,"value":2074},{"type":15,"tag":252,"props":30217,"children":30218},{"class":254,"line":2182},[30219,30223,30227,30232,30236,30240],{"type":15,"tag":252,"props":30220,"children":30221},{"style":259},[30222],{"type":21,"value":13392},{"type":15,"tag":252,"props":30224,"children":30225},{"style":447},[30226],{"type":21,"value":849},{"type":15,"tag":252,"props":30228,"children":30229},{"style":265},[30230],{"type":21,"value":30231},"'\"'",{"type":15,"tag":252,"props":30233,"children":30234},{"style":447},[30235],{"type":21,"value":4943},{"type":15,"tag":252,"props":30237,"children":30238},{"style":601},[30239],{"type":21,"value":4054},{"type":15,"tag":252,"props":30241,"children":30242},{"style":447},[30243],{"type":21,"value":3769},{"type":15,"tag":252,"props":30245,"children":30246},{"class":254,"line":2190},[30247,30251,30255,30259],{"type":15,"tag":252,"props":30248,"children":30249},{"style":276},[30250],{"type":21,"value":10073},{"type":15,"tag":252,"props":30252,"children":30253},{"style":601},[30254],{"type":21,"value":432},{"type":15,"tag":252,"props":30256,"children":30257},{"style":259},[30258],{"type":21,"value":8774},{"type":15,"tag":252,"props":30260,"children":30261},{"style":447},[30262],{"type":21,"value":814},{"type":15,"tag":252,"props":30264,"children":30265},{"class":254,"line":2222},[30266,30271],{"type":15,"tag":252,"props":30267,"children":30268},{"style":601},[30269],{"type":21,"value":30270},"                    break",{"type":15,"tag":252,"props":30272,"children":30273},{"style":447},[30274],{"type":21,"value":3325},{"type":15,"tag":252,"props":30276,"children":30277},{"class":254,"line":2270},[30278],{"type":15,"tag":252,"props":30279,"children":30280},{"style":447},[30281],{"type":21,"value":10093},{"type":15,"tag":252,"props":30283,"children":30284},{"class":254,"line":2302},[30285,30289,30293,30297,30301,30305,30309,30313,30317,30321,30325,30329,30334,30338,30342,30347,30351],{"type":15,"tag":252,"props":30286,"children":30287},{"style":259},[30288],{"type":21,"value":13392},{"type":15,"tag":252,"props":30290,"children":30291},{"style":447},[30292],{"type":21,"value":849},{"type":15,"tag":252,"props":30294,"children":30295},{"style":265},[30296],{"type":21,"value":8319},{"type":15,"tag":252,"props":30298,"children":30299},{"style":276},[30300],{"type":21,"value":8314},{"type":15,"tag":252,"props":30302,"children":30303},{"style":265},[30304],{"type":21,"value":8319},{"type":15,"tag":252,"props":30306,"children":30307},{"style":447},[30308],{"type":21,"value":4943},{"type":15,"tag":252,"props":30310,"children":30311},{"style":601},[30312],{"type":21,"value":4054},{"type":15,"tag":252,"props":30314,"children":30315},{"style":276},[30316],{"type":21,"value":7244},{"type":15,"tag":252,"props":30318,"children":30319},{"style":601},[30320],{"type":21,"value":432},{"type":15,"tag":252,"props":30322,"children":30323},{"style":259},[30324],{"type":21,"value":10203},{"type":15,"tag":252,"props":30326,"children":30327},{"style":447},[30328],{"type":21,"value":849},{"type":15,"tag":252,"props":30330,"children":30331},{"style":265},[30332],{"type":21,"value":30333},"\"Unexpected newline in string\"",{"type":15,"tag":252,"props":30335,"children":30336},{"style":601},[30337],{"type":21,"value":432},{"type":15,"tag":252,"props":30339,"children":30340},{"style":259},[30341],{"type":21,"value":12830},{"type":15,"tag":252,"props":30343,"children":30344},{"style":447},[30345],{"type":21,"value":30346},"())",{"type":15,"tag":252,"props":30348,"children":30349},{"style":601},[30350],{"type":21,"value":5468},{"type":15,"tag":252,"props":30352,"children":30353},{"style":447},[30354],{"type":21,"value":3879},{"type":15,"tag":252,"props":30356,"children":30357},{"class":254,"line":2310},[30358,30362,30366,30370],{"type":15,"tag":252,"props":30359,"children":30360},{"style":259},[30361],{"type":21,"value":13392},{"type":15,"tag":252,"props":30363,"children":30364},{"style":447},[30365],{"type":21,"value":8671},{"type":15,"tag":252,"props":30367,"children":30368},{"style":601},[30369],{"type":21,"value":4054},{"type":15,"tag":252,"props":30371,"children":30372},{"style":447},[30373],{"type":21,"value":3769},{"type":15,"tag":252,"props":30375,"children":30376},{"class":254,"line":2370},[30377,30382,30386,30390,30394,30398],{"type":15,"tag":252,"props":30378,"children":30379},{"style":447},[30380],{"type":21,"value":30381},"                    string",{"type":15,"tag":252,"props":30383,"children":30384},{"style":601},[30385],{"type":21,"value":432},{"type":15,"tag":252,"props":30387,"children":30388},{"style":259},[30389],{"type":21,"value":8743},{"type":15,"tag":252,"props":30391,"children":30392},{"style":447},[30393],{"type":21,"value":849},{"type":15,"tag":252,"props":30395,"children":30396},{"style":601},[30397],{"type":21,"value":8752},{"type":15,"tag":252,"props":30399,"children":30400},{"style":447},[30401],{"type":21,"value":8757},{"type":15,"tag":252,"props":30403,"children":30404},{"class":254,"line":2418},[30405,30409,30413,30417],{"type":15,"tag":252,"props":30406,"children":30407},{"style":276},[30408],{"type":21,"value":10073},{"type":15,"tag":252,"props":30410,"children":30411},{"style":601},[30412],{"type":21,"value":432},{"type":15,"tag":252,"props":30414,"children":30415},{"style":259},[30416],{"type":21,"value":8774},{"type":15,"tag":252,"props":30418,"children":30419},{"style":447},[30420],{"type":21,"value":814},{"type":15,"tag":252,"props":30422,"children":30423},{"class":254,"line":2426},[30424],{"type":15,"tag":252,"props":30425,"children":30426},{"style":447},[30427],{"type":21,"value":10093},{"type":15,"tag":252,"props":30429,"children":30430},{"class":254,"line":2474},[30431,30436,30440,30444,30448,30452,30456,30460,30465,30469,30473,30477,30481],{"type":15,"tag":252,"props":30432,"children":30433},{"style":259},[30434],{"type":21,"value":30435},"                Err",{"type":15,"tag":252,"props":30437,"children":30438},{"style":447},[30439],{"type":21,"value":12975},{"type":15,"tag":252,"props":30441,"children":30442},{"style":601},[30443],{"type":21,"value":4054},{"type":15,"tag":252,"props":30445,"children":30446},{"style":276},[30447],{"type":21,"value":7244},{"type":15,"tag":252,"props":30449,"children":30450},{"style":601},[30451],{"type":21,"value":432},{"type":15,"tag":252,"props":30453,"children":30454},{"style":259},[30455],{"type":21,"value":10203},{"type":15,"tag":252,"props":30457,"children":30458},{"style":447},[30459],{"type":21,"value":849},{"type":15,"tag":252,"props":30461,"children":30462},{"style":265},[30463],{"type":21,"value":30464},"\"Unexpected end of file\"",{"type":15,"tag":252,"props":30466,"children":30467},{"style":601},[30468],{"type":21,"value":432},{"type":15,"tag":252,"props":30470,"children":30471},{"style":259},[30472],{"type":21,"value":12830},{"type":15,"tag":252,"props":30474,"children":30475},{"style":447},[30476],{"type":21,"value":30346},{"type":15,"tag":252,"props":30478,"children":30479},{"style":601},[30480],{"type":21,"value":5468},{"type":15,"tag":252,"props":30482,"children":30483},{"style":447},[30484],{"type":21,"value":3879},{"type":15,"tag":252,"props":30486,"children":30487},{"class":254,"line":2522},[30488],{"type":15,"tag":252,"props":30489,"children":30490},{"style":447},[30491],{"type":21,"value":8814},{"type":15,"tag":252,"props":30493,"children":30494},{"class":254,"line":2530},[30495],{"type":15,"tag":252,"props":30496,"children":30497},{"style":447},[30498],{"type":21,"value":4087},{"type":15,"tag":252,"props":30500,"children":30501},{"class":254,"line":2570},[30502,30506,30510,30514,30518,30522,30526,30530,30534,30538],{"type":15,"tag":252,"props":30503,"children":30504},{"style":259},[30505],{"type":21,"value":10316},{"type":15,"tag":252,"props":30507,"children":30508},{"style":447},[30509],{"type":21,"value":849},{"type":15,"tag":252,"props":30511,"children":30512},{"style":276},[30513],{"type":21,"value":7432},{"type":15,"tag":252,"props":30515,"children":30516},{"style":601},[30517],{"type":21,"value":432},{"type":15,"tag":252,"props":30519,"children":30520},{"style":259},[30521],{"type":21,"value":8837},{"type":15,"tag":252,"props":30523,"children":30524},{"style":447},[30525],{"type":21,"value":849},{"type":15,"tag":252,"props":30527,"children":30528},{"style":259},[30529],{"type":21,"value":8846},{"type":15,"tag":252,"props":30531,"children":30532},{"style":601},[30533],{"type":21,"value":804},{"type":15,"tag":252,"props":30535,"children":30536},{"style":259},[30537],{"type":21,"value":6503},{"type":15,"tag":252,"props":30539,"children":30540},{"style":447},[30541],{"type":21,"value":30542},"(string)))\n",{"type":15,"tag":252,"props":30544,"children":30545},{"class":254,"line":2591},[30546],{"type":15,"tag":252,"props":30547,"children":30548},{"style":447},[30549],{"type":21,"value":4095},{"type":15,"tag":252,"props":30551,"children":30552},{"class":254,"line":2599},[30553],{"type":15,"tag":252,"props":30554,"children":30555},{"emptyLinePlaceholder":2053},[30556],{"type":21,"value":2056},{"type":15,"tag":252,"props":30558,"children":30559},{"class":254,"line":2647},[30560,30564,30568,30572,30576,30580,30584,30588,30592,30596,30600,30604,30608,30612,30616,30620],{"type":15,"tag":252,"props":30561,"children":30562},{"style":601},[30563],{"type":21,"value":4762},{"type":15,"tag":252,"props":30565,"children":30566},{"style":601},[30567],{"type":21,"value":4901},{"type":15,"tag":252,"props":30569,"children":30570},{"style":259},[30571],{"type":21,"value":9704},{"type":15,"tag":252,"props":30573,"children":30574},{"style":447},[30575],{"type":21,"value":849},{"type":15,"tag":252,"props":30577,"children":30578},{"style":601},[30579],{"type":21,"value":9713},{"type":15,"tag":252,"props":30581,"children":30582},{"style":276},[30583],{"type":21,"value":7244},{"type":15,"tag":252,"props":30585,"children":30586},{"style":447},[30587],{"type":21,"value":4943},{"type":15,"tag":252,"props":30589,"children":30590},{"style":601},[30591],{"type":21,"value":3947},{"type":15,"tag":252,"props":30593,"children":30594},{"style":259},[30595],{"type":21,"value":7257},{"type":15,"tag":252,"props":30597,"children":30598},{"style":447},[30599],{"type":21,"value":5826},{"type":15,"tag":252,"props":30601,"children":30602},{"style":259},[30603],{"type":21,"value":9738},{"type":15,"tag":252,"props":30605,"children":30606},{"style":447},[30607],{"type":21,"value":5826},{"type":15,"tag":252,"props":30609,"children":30610},{"style":259},[30611],{"type":21,"value":9747},{"type":15,"tag":252,"props":30613,"children":30614},{"style":447},[30615],{"type":21,"value":9752},{"type":15,"tag":252,"props":30617,"children":30618},{"style":259},[30619],{"type":21,"value":7913},{"type":15,"tag":252,"props":30621,"children":30622},{"style":447},[30623],{"type":21,"value":7138},{"type":15,"tag":252,"props":30625,"children":30626},{"class":254,"line":2679},[30627,30631,30635,30639,30643,30647,30651,30655],{"type":15,"tag":252,"props":30628,"children":30629},{"style":601},[30630],{"type":21,"value":8231},{"type":15,"tag":252,"props":30632,"children":30633},{"style":601},[30634],{"type":21,"value":8623},{"type":15,"tag":252,"props":30636,"children":30637},{"style":447},[30638],{"type":21,"value":9776},{"type":15,"tag":252,"props":30640,"children":30641},{"style":601},[30642],{"type":21,"value":614},{"type":15,"tag":252,"props":30644,"children":30645},{"style":259},[30646],{"type":21,"value":5821},{"type":15,"tag":252,"props":30648,"children":30649},{"style":601},[30650],{"type":21,"value":804},{"type":15,"tag":252,"props":30652,"children":30653},{"style":259},[30654],{"type":21,"value":7761},{"type":15,"tag":252,"props":30656,"children":30657},{"style":447},[30658],{"type":21,"value":814},{"type":15,"tag":252,"props":30660,"children":30661},{"class":254,"line":2727},[30662,30666,30670,30674,30678,30682,30686,30690,30694,30698,30702,30706,30710],{"type":15,"tag":252,"props":30663,"children":30664},{"style":601},[30665],{"type":21,"value":8656},{"type":15,"tag":252,"props":30667,"children":30668},{"style":601},[30669],{"type":21,"value":8661},{"type":15,"tag":252,"props":30671,"children":30672},{"style":259},[30673],{"type":21,"value":8666},{"type":15,"tag":252,"props":30675,"children":30676},{"style":447},[30677],{"type":21,"value":849},{"type":15,"tag":252,"props":30679,"children":30680},{"style":601},[30681],{"type":21,"value":1171},{"type":15,"tag":252,"props":30683,"children":30684},{"style":447},[30685],{"type":21,"value":9824},{"type":15,"tag":252,"props":30687,"children":30688},{"style":601},[30689],{"type":21,"value":614},{"type":15,"tag":252,"props":30691,"children":30692},{"style":276},[30693],{"type":21,"value":7244},{"type":15,"tag":252,"props":30695,"children":30696},{"style":601},[30697],{"type":21,"value":432},{"type":15,"tag":252,"props":30699,"children":30700},{"style":447},[30701],{"type":21,"value":81},{"type":15,"tag":252,"props":30703,"children":30704},{"style":601},[30705],{"type":21,"value":432},{"type":15,"tag":252,"props":30707,"children":30708},{"style":259},[30709],{"type":21,"value":8696},{"type":15,"tag":252,"props":30711,"children":30712},{"style":447},[30713],{"type":21,"value":2074},{"type":15,"tag":252,"props":30715,"children":30716},{"class":254,"line":2735},[30717,30721],{"type":15,"tag":252,"props":30718,"children":30719},{"style":601},[30720],{"type":21,"value":9860},{"type":15,"tag":252,"props":30722,"children":30723},{"style":447},[30724],{"type":21,"value":9865},{"type":15,"tag":252,"props":30726,"children":30727},{"class":254,"line":2799},[30728,30733,30737,30741,30745,30749,30753,30757,30761,30766,30770,30774],{"type":15,"tag":252,"props":30729,"children":30730},{"style":265},[30731],{"type":21,"value":30732},"                '\"'",{"type":15,"tag":252,"props":30734,"children":30735},{"style":601},[30736],{"type":21,"value":9226},{"type":15,"tag":252,"props":30738,"children":30739},{"style":447},[30740],{"type":21,"value":6977},{"type":15,"tag":252,"props":30742,"children":30743},{"style":601},[30744],{"type":21,"value":432},{"type":15,"tag":252,"props":30746,"children":30747},{"style":259},[30748],{"type":21,"value":8743},{"type":15,"tag":252,"props":30750,"children":30751},{"style":447},[30752],{"type":21,"value":849},{"type":15,"tag":252,"props":30754,"children":30755},{"style":276},[30756],{"type":21,"value":7432},{"type":15,"tag":252,"props":30758,"children":30759},{"style":601},[30760],{"type":21,"value":432},{"type":15,"tag":252,"props":30762,"children":30763},{"style":259},[30764],{"type":21,"value":30765},"consume_string",{"type":15,"tag":252,"props":30767,"children":30768},{"style":447},[30769],{"type":21,"value":7305},{"type":15,"tag":252,"props":30771,"children":30772},{"style":601},[30773],{"type":21,"value":5468},{"type":15,"tag":252,"props":30775,"children":30776},{"style":447},[30777],{"type":21,"value":5899},{"type":15,"tag":252,"props":30779,"children":30780},{"class":254,"line":2807},[30781],{"type":15,"tag":252,"props":30782,"children":30783},{"style":3287},[30784],{"type":21,"value":30785},"                // ...\n",{"type":15,"tag":252,"props":30787,"children":30788},{"class":254,"line":2848},[30789],{"type":15,"tag":252,"props":30790,"children":30791},{"style":447},[30792],{"type":21,"value":8814},{"type":15,"tag":252,"props":30794,"children":30795},{"class":254,"line":4645},[30796],{"type":15,"tag":252,"props":30797,"children":30798},{"style":447},[30799],{"type":21,"value":4087},{"type":15,"tag":252,"props":30801,"children":30802},{"class":254,"line":4654},[30803,30807,30811,30815,30819,30823,30827,30831,30835,30839,30843,30847],{"type":15,"tag":252,"props":30804,"children":30805},{"style":447},[30806],{"type":21,"value":10263},{"type":15,"tag":252,"props":30808,"children":30809},{"style":601},[30810],{"type":21,"value":432},{"type":15,"tag":252,"props":30812,"children":30813},{"style":259},[30814],{"type":21,"value":8743},{"type":15,"tag":252,"props":30816,"children":30817},{"style":447},[30818],{"type":21,"value":849},{"type":15,"tag":252,"props":30820,"children":30821},{"style":276},[30822],{"type":21,"value":7432},{"type":15,"tag":252,"props":30824,"children":30825},{"style":601},[30826],{"type":21,"value":432},{"type":15,"tag":252,"props":30828,"children":30829},{"style":259},[30830],{"type":21,"value":8837},{"type":15,"tag":252,"props":30832,"children":30833},{"style":447},[30834],{"type":21,"value":849},{"type":15,"tag":252,"props":30836,"children":30837},{"style":259},[30838],{"type":21,"value":8846},{"type":15,"tag":252,"props":30840,"children":30841},{"style":601},[30842],{"type":21,"value":804},{"type":15,"tag":252,"props":30844,"children":30845},{"style":259},[30846],{"type":21,"value":10304},{"type":15,"tag":252,"props":30848,"children":30849},{"style":447},[30850],{"type":21,"value":10065},{"type":15,"tag":252,"props":30852,"children":30853},{"class":254,"line":4675},[30854,30858],{"type":15,"tag":252,"props":30855,"children":30856},{"style":259},[30857],{"type":21,"value":10316},{"type":15,"tag":252,"props":30859,"children":30860},{"style":447},[30861],{"type":21,"value":10321},{"type":15,"tag":252,"props":30863,"children":30864},{"class":254,"line":8160},[30865],{"type":15,"tag":252,"props":30866,"children":30867},{"style":447},[30868],{"type":21,"value":4095},{"type":15,"tag":23,"props":30870,"children":30871},{},[30872,30874,30879,30881,30886,30888,30894,30896,30901],{"type":21,"value":30873},"We also add an ",{"type":15,"tag":81,"props":30875,"children":30877},{"className":30876},[],[30878],{"type":21,"value":29936},{"type":21,"value":30880}," token (matching ",{"type":15,"tag":81,"props":30882,"children":30884},{"className":30883},[],[30885],{"type":21,"value":86},{"type":21,"value":30887},"), and a ",{"type":15,"tag":81,"props":30889,"children":30891},{"className":30890},[],[30892],{"type":21,"value":30893},"Comma",{"type":21,"value":30895}," one, matching ",{"type":15,"tag":81,"props":30897,"children":30899},{"className":30898},[],[30900],{"type":21,"value":29586},{"type":21,"value":30902},". But you should understand how to add those now!",{"type":15,"tag":23,"props":30904,"children":30905},{},[30906,30908,30913],{"type":21,"value":30907},"And then we add a new ",{"type":15,"tag":81,"props":30909,"children":30911},{"className":30910},[],[30912],{"type":21,"value":29936},{"type":21,"value":30914}," statement to our AST",{"type":15,"tag":95,"props":30916,"children":30918},{"code":30917,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub enum Statement {\n    Print(Expression),\n    Assert(Expression, Option\u003CString>),\n}\n",[30919],{"type":15,"tag":81,"props":30920,"children":30921},{"__ignoreMap":8},[30922,30929,30944,30963,30982,31019],{"type":15,"tag":252,"props":30923,"children":30924},{"class":254,"line":255},[30925],{"type":15,"tag":252,"props":30926,"children":30927},{"style":3287},[30928],{"type":21,"value":24319},{"type":15,"tag":252,"props":30930,"children":30931},{"class":254,"line":334},[30932,30936,30940],{"type":15,"tag":252,"props":30933,"children":30934},{"style":447},[30935],{"type":21,"value":3742},{"type":15,"tag":252,"props":30937,"children":30938},{"style":259},[30939],{"type":21,"value":5788},{"type":15,"tag":252,"props":30941,"children":30942},{"style":447},[30943],{"type":21,"value":3751},{"type":15,"tag":252,"props":30945,"children":30946},{"class":254,"line":390},[30947,30951,30955,30959],{"type":15,"tag":252,"props":30948,"children":30949},{"style":601},[30950],{"type":21,"value":4740},{"type":15,"tag":252,"props":30952,"children":30953},{"style":601},[30954],{"type":21,"value":5869},{"type":15,"tag":252,"props":30956,"children":30957},{"style":259},[30958],{"type":21,"value":5874},{"type":15,"tag":252,"props":30960,"children":30961},{"style":447},[30962],{"type":21,"value":3769},{"type":15,"tag":252,"props":30964,"children":30965},{"class":254,"line":2077},[30966,30970,30974,30978],{"type":15,"tag":252,"props":30967,"children":30968},{"style":259},[30969],{"type":21,"value":5886},{"type":15,"tag":252,"props":30971,"children":30972},{"style":447},[30973],{"type":21,"value":849},{"type":15,"tag":252,"props":30975,"children":30976},{"style":259},[30977],{"type":21,"value":5716},{"type":15,"tag":252,"props":30979,"children":30980},{"style":447},[30981],{"type":21,"value":5899},{"type":15,"tag":252,"props":30983,"children":30984},{"class":254,"line":2110},[30985,30990,30994,30998,31002,31007,31011,31015],{"type":15,"tag":252,"props":30986,"children":30987},{"style":259},[30988],{"type":21,"value":30989},"    Assert",{"type":15,"tag":252,"props":30991,"children":30992},{"style":447},[30993],{"type":21,"value":849},{"type":15,"tag":252,"props":30995,"children":30996},{"style":259},[30997],{"type":21,"value":5716},{"type":15,"tag":252,"props":30999,"children":31000},{"style":447},[31001],{"type":21,"value":1076},{"type":15,"tag":252,"props":31003,"children":31004},{"style":259},[31005],{"type":21,"value":31006},"Option",{"type":15,"tag":252,"props":31008,"children":31009},{"style":447},[31010],{"type":21,"value":5826},{"type":15,"tag":252,"props":31012,"children":31013},{"style":259},[31014],{"type":21,"value":6503},{"type":15,"tag":252,"props":31016,"children":31017},{"style":447},[31018],{"type":21,"value":24445},{"type":15,"tag":252,"props":31020,"children":31021},{"class":254,"line":2150},[31022],{"type":15,"tag":252,"props":31023,"children":31024},{"style":447},[31025],{"type":21,"value":2854},{"type":15,"tag":23,"props":31027,"children":31028},{},[31029],{"type":21,"value":31030},"And then we do the parsing while handling the optional message.",{"type":15,"tag":95,"props":31032,"children":31034},{"code":31033,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\n    fn statement(&mut self) -> anyhow::Result\u003Cast::Statement> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Print => {\n                // ...\n            }\n            TokenType::Assert => {\n                let expression = self.expression()?;\n                let message = match self.peek()? {\n                    TokenType::Comma => {\n                        self.0.void();\n                        let should_be_string = self.advance()?;\n                        match should_be_string._type {\n                            TokenType::String(msg) => Some(msg),\n                            _ => Err(error(should_be_string, \"String\".to_string()))?,\n                        }\n                    }\n                    _ => None,\n                };\n\n                self.expect(TokenType::SemiColon)?;\n\n                Ok(ast::Statement::Assert(expression, message))\n            }\n            _ => Err(error(token, \"Statement\".to_string()))?,\n        }\n",[31035],{"type":15,"tag":81,"props":31036,"children":31037},{"__ignoreMap":8},[31038,31045,31104,31143,31162,31185,31192,31199,31222,31262,31306,31330,31354,31395,31416,31450,31504,31512,31519,31540,31548,31555,31598,31605,31641,31648,31699],{"type":15,"tag":252,"props":31039,"children":31040},{"class":254,"line":255},[31041],{"type":15,"tag":252,"props":31042,"children":31043},{"style":3287},[31044],{"type":21,"value":11380},{"type":15,"tag":252,"props":31046,"children":31047},{"class":254,"line":334},[31048,31052,31056,31060,31064,31068,31072,31076,31080,31084,31088,31092,31096,31100],{"type":15,"tag":252,"props":31049,"children":31050},{"style":601},[31051],{"type":21,"value":7146},{"type":15,"tag":252,"props":31053,"children":31054},{"style":259},[31055],{"type":21,"value":13146},{"type":15,"tag":252,"props":31057,"children":31058},{"style":447},[31059],{"type":21,"value":849},{"type":15,"tag":252,"props":31061,"children":31062},{"style":601},[31063],{"type":21,"value":7239},{"type":15,"tag":252,"props":31065,"children":31066},{"style":276},[31067],{"type":21,"value":7244},{"type":15,"tag":252,"props":31069,"children":31070},{"style":447},[31071],{"type":21,"value":4943},{"type":15,"tag":252,"props":31073,"children":31074},{"style":601},[31075],{"type":21,"value":3947},{"type":15,"tag":252,"props":31077,"children":31078},{"style":259},[31079],{"type":21,"value":3952},{"type":15,"tag":252,"props":31081,"children":31082},{"style":601},[31083],{"type":21,"value":804},{"type":15,"tag":252,"props":31085,"children":31086},{"style":259},[31087],{"type":21,"value":3961},{"type":15,"tag":252,"props":31089,"children":31090},{"style":447},[31091],{"type":21,"value":10502},{"type":15,"tag":252,"props":31093,"children":31094},{"style":601},[31095],{"type":21,"value":804},{"type":15,"tag":252,"props":31097,"children":31098},{"style":259},[31099],{"type":21,"value":5709},{"type":15,"tag":252,"props":31101,"children":31102},{"style":447},[31103],{"type":21,"value":7138},{"type":15,"tag":252,"props":31105,"children":31106},{"class":254,"line":390},[31107,31111,31115,31119,31123,31127,31131,31135,31139],{"type":15,"tag":252,"props":31108,"children":31109},{"style":601},[31110],{"type":21,"value":8231},{"type":15,"tag":252,"props":31112,"children":31113},{"style":447},[31114],{"type":21,"value":12420},{"type":15,"tag":252,"props":31116,"children":31117},{"style":601},[31118],{"type":21,"value":614},{"type":15,"tag":252,"props":31120,"children":31121},{"style":276},[31122],{"type":21,"value":7244},{"type":15,"tag":252,"props":31124,"children":31125},{"style":601},[31126],{"type":21,"value":432},{"type":15,"tag":252,"props":31128,"children":31129},{"style":259},[31130],{"type":21,"value":8261},{"type":15,"tag":252,"props":31132,"children":31133},{"style":447},[31134],{"type":21,"value":7305},{"type":15,"tag":252,"props":31136,"children":31137},{"style":601},[31138],{"type":21,"value":5468},{"type":15,"tag":252,"props":31140,"children":31141},{"style":447},[31142],{"type":21,"value":3325},{"type":15,"tag":252,"props":31144,"children":31145},{"class":254,"line":2077},[31146,31150,31154,31158],{"type":15,"tag":252,"props":31147,"children":31148},{"style":601},[31149],{"type":21,"value":12717},{"type":15,"tag":252,"props":31151,"children":31152},{"style":447},[31153],{"type":21,"value":8039},{"type":15,"tag":252,"props":31155,"children":31156},{"style":601},[31157],{"type":21,"value":432},{"type":15,"tag":252,"props":31159,"children":31160},{"style":447},[31161],{"type":21,"value":12730},{"type":15,"tag":252,"props":31163,"children":31164},{"class":254,"line":2110},[31165,31169,31173,31177,31181],{"type":15,"tag":252,"props":31166,"children":31167},{"style":259},[31168],{"type":21,"value":12738},{"type":15,"tag":252,"props":31170,"children":31171},{"style":601},[31172],{"type":21,"value":804},{"type":15,"tag":252,"props":31174,"children":31175},{"style":259},[31176],{"type":21,"value":5693},{"type":15,"tag":252,"props":31178,"children":31179},{"style":601},[31180],{"type":21,"value":9226},{"type":15,"tag":252,"props":31182,"children":31183},{"style":447},[31184],{"type":21,"value":3769},{"type":15,"tag":252,"props":31186,"children":31187},{"class":254,"line":2150},[31188],{"type":15,"tag":252,"props":31189,"children":31190},{"style":3287},[31191],{"type":21,"value":30785},{"type":15,"tag":252,"props":31193,"children":31194},{"class":254,"line":2182},[31195],{"type":15,"tag":252,"props":31196,"children":31197},{"style":447},[31198],{"type":21,"value":8814},{"type":15,"tag":252,"props":31200,"children":31201},{"class":254,"line":2190},[31202,31206,31210,31214,31218],{"type":15,"tag":252,"props":31203,"children":31204},{"style":259},[31205],{"type":21,"value":12738},{"type":15,"tag":252,"props":31207,"children":31208},{"style":601},[31209],{"type":21,"value":804},{"type":15,"tag":252,"props":31211,"children":31212},{"style":259},[31213],{"type":21,"value":29936},{"type":15,"tag":252,"props":31215,"children":31216},{"style":601},[31217],{"type":21,"value":9226},{"type":15,"tag":252,"props":31219,"children":31220},{"style":447},[31221],{"type":21,"value":3769},{"type":15,"tag":252,"props":31223,"children":31224},{"class":254,"line":2222},[31225,31229,31234,31238,31242,31246,31250,31254,31258],{"type":15,"tag":252,"props":31226,"children":31227},{"style":601},[31228],{"type":21,"value":13283},{"type":15,"tag":252,"props":31230,"children":31231},{"style":447},[31232],{"type":21,"value":31233}," expression ",{"type":15,"tag":252,"props":31235,"children":31236},{"style":601},[31237],{"type":21,"value":614},{"type":15,"tag":252,"props":31239,"children":31240},{"style":276},[31241],{"type":21,"value":7244},{"type":15,"tag":252,"props":31243,"children":31244},{"style":601},[31245],{"type":21,"value":432},{"type":15,"tag":252,"props":31247,"children":31248},{"style":259},[31249],{"type":21,"value":13329},{"type":15,"tag":252,"props":31251,"children":31252},{"style":447},[31253],{"type":21,"value":7305},{"type":15,"tag":252,"props":31255,"children":31256},{"style":601},[31257],{"type":21,"value":5468},{"type":15,"tag":252,"props":31259,"children":31260},{"style":447},[31261],{"type":21,"value":3325},{"type":15,"tag":252,"props":31263,"children":31264},{"class":254,"line":2270},[31265,31269,31274,31278,31282,31286,31290,31294,31298,31302],{"type":15,"tag":252,"props":31266,"children":31267},{"style":601},[31268],{"type":21,"value":13283},{"type":15,"tag":252,"props":31270,"children":31271},{"style":447},[31272],{"type":21,"value":31273}," message ",{"type":15,"tag":252,"props":31275,"children":31276},{"style":601},[31277],{"type":21,"value":614},{"type":15,"tag":252,"props":31279,"children":31280},{"style":601},[31281],{"type":21,"value":18821},{"type":15,"tag":252,"props":31283,"children":31284},{"style":276},[31285],{"type":21,"value":7244},{"type":15,"tag":252,"props":31287,"children":31288},{"style":601},[31289],{"type":21,"value":432},{"type":15,"tag":252,"props":31291,"children":31292},{"style":259},[31293],{"type":21,"value":8696},{"type":15,"tag":252,"props":31295,"children":31296},{"style":447},[31297],{"type":21,"value":7305},{"type":15,"tag":252,"props":31299,"children":31300},{"style":601},[31301],{"type":21,"value":5468},{"type":15,"tag":252,"props":31303,"children":31304},{"style":447},[31305],{"type":21,"value":3769},{"type":15,"tag":252,"props":31307,"children":31308},{"class":254,"line":2302},[31309,31314,31318,31322,31326],{"type":15,"tag":252,"props":31310,"children":31311},{"style":259},[31312],{"type":21,"value":31313},"                    TokenType",{"type":15,"tag":252,"props":31315,"children":31316},{"style":601},[31317],{"type":21,"value":804},{"type":15,"tag":252,"props":31319,"children":31320},{"style":259},[31321],{"type":21,"value":30893},{"type":15,"tag":252,"props":31323,"children":31324},{"style":601},[31325],{"type":21,"value":9226},{"type":15,"tag":252,"props":31327,"children":31328},{"style":447},[31329],{"type":21,"value":3769},{"type":15,"tag":252,"props":31331,"children":31332},{"class":254,"line":2310},[31333,31338,31342,31346,31350],{"type":15,"tag":252,"props":31334,"children":31335},{"style":276},[31336],{"type":21,"value":31337},"                        self",{"type":15,"tag":252,"props":31339,"children":31340},{"style":601},[31341],{"type":21,"value":432},{"type":15,"tag":252,"props":31343,"children":31344},{"style":276},[31345],{"type":21,"value":7295},{"type":15,"tag":252,"props":31347,"children":31348},{"style":259},[31349],{"type":21,"value":8774},{"type":15,"tag":252,"props":31351,"children":31352},{"style":447},[31353],{"type":21,"value":814},{"type":15,"tag":252,"props":31355,"children":31356},{"class":254,"line":2370},[31357,31362,31367,31371,31375,31379,31383,31387,31391],{"type":15,"tag":252,"props":31358,"children":31359},{"style":601},[31360],{"type":21,"value":31361},"                        let",{"type":15,"tag":252,"props":31363,"children":31364},{"style":447},[31365],{"type":21,"value":31366}," should_be_string ",{"type":15,"tag":252,"props":31368,"children":31369},{"style":601},[31370],{"type":21,"value":614},{"type":15,"tag":252,"props":31372,"children":31373},{"style":276},[31374],{"type":21,"value":7244},{"type":15,"tag":252,"props":31376,"children":31377},{"style":601},[31378],{"type":21,"value":432},{"type":15,"tag":252,"props":31380,"children":31381},{"style":259},[31382],{"type":21,"value":8261},{"type":15,"tag":252,"props":31384,"children":31385},{"style":447},[31386],{"type":21,"value":7305},{"type":15,"tag":252,"props":31388,"children":31389},{"style":601},[31390],{"type":21,"value":5468},{"type":15,"tag":252,"props":31392,"children":31393},{"style":447},[31394],{"type":21,"value":3325},{"type":15,"tag":252,"props":31396,"children":31397},{"class":254,"line":2418},[31398,31403,31408,31412],{"type":15,"tag":252,"props":31399,"children":31400},{"style":601},[31401],{"type":21,"value":31402},"                        match",{"type":15,"tag":252,"props":31404,"children":31405},{"style":447},[31406],{"type":21,"value":31407}," should_be_string",{"type":15,"tag":252,"props":31409,"children":31410},{"style":601},[31411],{"type":21,"value":432},{"type":15,"tag":252,"props":31413,"children":31414},{"style":447},[31415],{"type":21,"value":12730},{"type":15,"tag":252,"props":31417,"children":31418},{"class":254,"line":2426},[31419,31424,31428,31432,31437,31441,31445],{"type":15,"tag":252,"props":31420,"children":31421},{"style":259},[31422],{"type":21,"value":31423},"                            TokenType",{"type":15,"tag":252,"props":31425,"children":31426},{"style":601},[31427],{"type":21,"value":804},{"type":15,"tag":252,"props":31429,"children":31430},{"style":259},[31431],{"type":21,"value":6503},{"type":15,"tag":252,"props":31433,"children":31434},{"style":447},[31435],{"type":21,"value":31436},"(msg) ",{"type":15,"tag":252,"props":31438,"children":31439},{"style":601},[31440],{"type":21,"value":4054},{"type":15,"tag":252,"props":31442,"children":31443},{"style":259},[31444],{"type":21,"value":20696},{"type":15,"tag":252,"props":31446,"children":31447},{"style":447},[31448],{"type":21,"value":31449},"(msg),\n",{"type":15,"tag":252,"props":31451,"children":31452},{"class":254,"line":2474},[31453,31458,31462,31466,31470,31474,31479,31484,31488,31492,31496,31500],{"type":15,"tag":252,"props":31454,"children":31455},{"style":447},[31456],{"type":21,"value":31457},"                            _ ",{"type":15,"tag":252,"props":31459,"children":31460},{"style":601},[31461],{"type":21,"value":4054},{"type":15,"tag":252,"props":31463,"children":31464},{"style":259},[31465],{"type":21,"value":12804},{"type":15,"tag":252,"props":31467,"children":31468},{"style":447},[31469],{"type":21,"value":849},{"type":15,"tag":252,"props":31471,"children":31472},{"style":259},[31473],{"type":21,"value":10203},{"type":15,"tag":252,"props":31475,"children":31476},{"style":447},[31477],{"type":21,"value":31478},"(should_be_string, ",{"type":15,"tag":252,"props":31480,"children":31481},{"style":265},[31482],{"type":21,"value":31483},"\"String\"",{"type":15,"tag":252,"props":31485,"children":31486},{"style":601},[31487],{"type":21,"value":432},{"type":15,"tag":252,"props":31489,"children":31490},{"style":259},[31491],{"type":21,"value":12830},{"type":15,"tag":252,"props":31493,"children":31494},{"style":447},[31495],{"type":21,"value":12835},{"type":15,"tag":252,"props":31497,"children":31498},{"style":601},[31499],{"type":21,"value":5468},{"type":15,"tag":252,"props":31501,"children":31502},{"style":447},[31503],{"type":21,"value":3879},{"type":15,"tag":252,"props":31505,"children":31506},{"class":254,"line":2522},[31507],{"type":15,"tag":252,"props":31508,"children":31509},{"style":447},[31510],{"type":21,"value":31511},"                        }\n",{"type":15,"tag":252,"props":31513,"children":31514},{"class":254,"line":2530},[31515],{"type":15,"tag":252,"props":31516,"children":31517},{"style":447},[31518],{"type":21,"value":24209},{"type":15,"tag":252,"props":31520,"children":31521},{"class":254,"line":2570},[31522,31527,31531,31536],{"type":15,"tag":252,"props":31523,"children":31524},{"style":447},[31525],{"type":21,"value":31526},"                    _ ",{"type":15,"tag":252,"props":31528,"children":31529},{"style":601},[31530],{"type":21,"value":4054},{"type":15,"tag":252,"props":31532,"children":31533},{"style":259},[31534],{"type":21,"value":31535}," None",{"type":15,"tag":252,"props":31537,"children":31538},{"style":447},[31539],{"type":21,"value":3879},{"type":15,"tag":252,"props":31541,"children":31542},{"class":254,"line":2591},[31543],{"type":15,"tag":252,"props":31544,"children":31545},{"style":447},[31546],{"type":21,"value":31547},"                };\n",{"type":15,"tag":252,"props":31549,"children":31550},{"class":254,"line":2599},[31551],{"type":15,"tag":252,"props":31552,"children":31553},{"emptyLinePlaceholder":2053},[31554],{"type":21,"value":2056},{"type":15,"tag":252,"props":31556,"children":31557},{"class":254,"line":2647},[31558,31562,31566,31570,31574,31578,31582,31586,31590,31594],{"type":15,"tag":252,"props":31559,"children":31560},{"style":276},[31561],{"type":21,"value":8765},{"type":15,"tag":252,"props":31563,"children":31564},{"style":601},[31565],{"type":21,"value":432},{"type":15,"tag":252,"props":31567,"children":31568},{"style":259},[31569],{"type":21,"value":12596},{"type":15,"tag":252,"props":31571,"children":31572},{"style":447},[31573],{"type":21,"value":849},{"type":15,"tag":252,"props":31575,"children":31576},{"style":259},[31577],{"type":21,"value":8846},{"type":15,"tag":252,"props":31579,"children":31580},{"style":601},[31581],{"type":21,"value":804},{"type":15,"tag":252,"props":31583,"children":31584},{"style":259},[31585],{"type":21,"value":10060},{"type":15,"tag":252,"props":31587,"children":31588},{"style":447},[31589],{"type":21,"value":1975},{"type":15,"tag":252,"props":31591,"children":31592},{"style":601},[31593],{"type":21,"value":5468},{"type":15,"tag":252,"props":31595,"children":31596},{"style":447},[31597],{"type":21,"value":3325},{"type":15,"tag":252,"props":31599,"children":31600},{"class":254,"line":2679},[31601],{"type":15,"tag":252,"props":31602,"children":31603},{"emptyLinePlaceholder":2053},[31604],{"type":21,"value":2056},{"type":15,"tag":252,"props":31606,"children":31607},{"class":254,"line":2727},[31608,31612,31616,31620,31624,31628,31632,31636],{"type":15,"tag":252,"props":31609,"children":31610},{"style":259},[31611],{"type":21,"value":13392},{"type":15,"tag":252,"props":31613,"children":31614},{"style":447},[31615],{"type":21,"value":849},{"type":15,"tag":252,"props":31617,"children":31618},{"style":259},[31619],{"type":21,"value":5623},{"type":15,"tag":252,"props":31621,"children":31622},{"style":601},[31623],{"type":21,"value":804},{"type":15,"tag":252,"props":31625,"children":31626},{"style":259},[31627],{"type":21,"value":5709},{"type":15,"tag":252,"props":31629,"children":31630},{"style":601},[31631],{"type":21,"value":804},{"type":15,"tag":252,"props":31633,"children":31634},{"style":259},[31635],{"type":21,"value":29936},{"type":15,"tag":252,"props":31637,"children":31638},{"style":447},[31639],{"type":21,"value":31640},"(expression, message))\n",{"type":15,"tag":252,"props":31642,"children":31643},{"class":254,"line":2735},[31644],{"type":15,"tag":252,"props":31645,"children":31646},{"style":447},[31647],{"type":21,"value":8814},{"type":15,"tag":252,"props":31649,"children":31650},{"class":254,"line":2799},[31651,31655,31659,31663,31667,31671,31675,31679,31683,31687,31691,31695],{"type":15,"tag":252,"props":31652,"children":31653},{"style":447},[31654],{"type":21,"value":9250},{"type":15,"tag":252,"props":31656,"children":31657},{"style":601},[31658],{"type":21,"value":4054},{"type":15,"tag":252,"props":31660,"children":31661},{"style":259},[31662],{"type":21,"value":12804},{"type":15,"tag":252,"props":31664,"children":31665},{"style":447},[31666],{"type":21,"value":849},{"type":15,"tag":252,"props":31668,"children":31669},{"style":259},[31670],{"type":21,"value":10203},{"type":15,"tag":252,"props":31672,"children":31673},{"style":447},[31674],{"type":21,"value":12541},{"type":15,"tag":252,"props":31676,"children":31677},{"style":265},[31678],{"type":21,"value":13436},{"type":15,"tag":252,"props":31680,"children":31681},{"style":601},[31682],{"type":21,"value":432},{"type":15,"tag":252,"props":31684,"children":31685},{"style":259},[31686],{"type":21,"value":12830},{"type":15,"tag":252,"props":31688,"children":31689},{"style":447},[31690],{"type":21,"value":12835},{"type":15,"tag":252,"props":31692,"children":31693},{"style":601},[31694],{"type":21,"value":5468},{"type":15,"tag":252,"props":31696,"children":31697},{"style":447},[31698],{"type":21,"value":3879},{"type":15,"tag":252,"props":31700,"children":31701},{"class":254,"line":2807},[31702],{"type":15,"tag":252,"props":31703,"children":31704},{"style":447},[31705],{"type":21,"value":4087},{"type":15,"tag":59,"props":31707,"children":31709},{"id":31708},"ir-2",[31710],{"type":21,"value":31711},"IR",{"type":15,"tag":23,"props":31713,"children":31714},{},[31715],{"type":21,"value":31716},"Lets add our Assert statement to the IR",{"type":15,"tag":95,"props":31718,"children":31722},{"code":31719,"language":31720,"meta":8,"className":31721,"style":8},"// ir.rs\n#[derive(Debug)]\npub enum Statement {\n    Print(PrintStatement),\n    Assert(BooleanExpression, Option\u003CString>),\n}\n","rs","language-rs shiki shiki-themes github-dark",[31723],{"type":15,"tag":81,"props":31724,"children":31725},{"__ignoreMap":8},[31726,31733,31748,31767,31786,31821],{"type":15,"tag":252,"props":31727,"children":31728},{"class":254,"line":255},[31729],{"type":15,"tag":252,"props":31730,"children":31731},{"style":3287},[31732],{"type":21,"value":25314},{"type":15,"tag":252,"props":31734,"children":31735},{"class":254,"line":334},[31736,31740,31744],{"type":15,"tag":252,"props":31737,"children":31738},{"style":447},[31739],{"type":21,"value":3742},{"type":15,"tag":252,"props":31741,"children":31742},{"style":259},[31743],{"type":21,"value":5788},{"type":15,"tag":252,"props":31745,"children":31746},{"style":447},[31747],{"type":21,"value":3751},{"type":15,"tag":252,"props":31749,"children":31750},{"class":254,"line":390},[31751,31755,31759,31763],{"type":15,"tag":252,"props":31752,"children":31753},{"style":601},[31754],{"type":21,"value":4740},{"type":15,"tag":252,"props":31756,"children":31757},{"style":601},[31758],{"type":21,"value":5869},{"type":15,"tag":252,"props":31760,"children":31761},{"style":259},[31762],{"type":21,"value":5874},{"type":15,"tag":252,"props":31764,"children":31765},{"style":447},[31766],{"type":21,"value":3769},{"type":15,"tag":252,"props":31768,"children":31769},{"class":254,"line":2077},[31770,31774,31778,31782],{"type":15,"tag":252,"props":31771,"children":31772},{"style":259},[31773],{"type":21,"value":5886},{"type":15,"tag":252,"props":31775,"children":31776},{"style":447},[31777],{"type":21,"value":849},{"type":15,"tag":252,"props":31779,"children":31780},{"style":259},[31781],{"type":21,"value":14728},{"type":15,"tag":252,"props":31783,"children":31784},{"style":447},[31785],{"type":21,"value":5899},{"type":15,"tag":252,"props":31787,"children":31788},{"class":254,"line":2110},[31789,31793,31797,31801,31805,31809,31813,31817],{"type":15,"tag":252,"props":31790,"children":31791},{"style":259},[31792],{"type":21,"value":30989},{"type":15,"tag":252,"props":31794,"children":31795},{"style":447},[31796],{"type":21,"value":849},{"type":15,"tag":252,"props":31798,"children":31799},{"style":259},[31800],{"type":21,"value":27991},{"type":15,"tag":252,"props":31802,"children":31803},{"style":447},[31804],{"type":21,"value":1076},{"type":15,"tag":252,"props":31806,"children":31807},{"style":259},[31808],{"type":21,"value":31006},{"type":15,"tag":252,"props":31810,"children":31811},{"style":447},[31812],{"type":21,"value":5826},{"type":15,"tag":252,"props":31814,"children":31815},{"style":259},[31816],{"type":21,"value":6503},{"type":15,"tag":252,"props":31818,"children":31819},{"style":447},[31820],{"type":21,"value":24445},{"type":15,"tag":252,"props":31822,"children":31823},{"class":254,"line":2150},[31824],{"type":15,"tag":252,"props":31825,"children":31826},{"style":447},[31827],{"type":21,"value":2854},{"type":15,"tag":23,"props":31829,"children":31830},{},[31831],{"type":21,"value":31832},"Then we add it to the type resolver!",{"type":15,"tag":95,"props":31834,"children":31836},{"code":31835,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nfn resolve_statement(statement: &ast::Statement) -> anyhow::Result\u003Cir::Statement> {\n    match statement {\n        ast::Statement::Print(expression) => {\n            let print_statement = resolve_print_statement(expression)?;\n\n            Ok(ir::Statement::Print(print_statement))\n        }\n        ast::Statement::Assert(expression, message) => {\n            let expression = resolve_expression(expression)?;\n            let expression = expression.is_boolean()?;\n\n            Ok(ir::Statement::Assert(expression, message.clone()))\n        }\n    }\n}\n",[31837],{"type":15,"tag":81,"props":31838,"children":31839},{"__ignoreMap":8},[31840,31847,31918,31929,31964,31995,32002,32037,32044,32080,32111,32151,32158,32207,32214,32221],{"type":15,"tag":252,"props":31841,"children":31842},{"class":254,"line":255},[31843],{"type":15,"tag":252,"props":31844,"children":31845},{"style":3287},[31846],{"type":21,"value":14916},{"type":15,"tag":252,"props":31848,"children":31849},{"class":254,"line":334},[31850,31854,31858,31862,31866,31870,31874,31878,31882,31886,31890,31894,31898,31902,31906,31910,31914],{"type":15,"tag":252,"props":31851,"children":31852},{"style":601},[31853],{"type":21,"value":2064},{"type":15,"tag":252,"props":31855,"children":31856},{"style":259},[31857],{"type":21,"value":15775},{"type":15,"tag":252,"props":31859,"children":31860},{"style":447},[31861],{"type":21,"value":15780},{"type":15,"tag":252,"props":31863,"children":31864},{"style":601},[31865],{"type":21,"value":3374},{"type":15,"tag":252,"props":31867,"children":31868},{"style":601},[31869],{"type":21,"value":4920},{"type":15,"tag":252,"props":31871,"children":31872},{"style":259},[31873],{"type":21,"value":5623},{"type":15,"tag":252,"props":31875,"children":31876},{"style":601},[31877],{"type":21,"value":804},{"type":15,"tag":252,"props":31879,"children":31880},{"style":259},[31881],{"type":21,"value":5709},{"type":15,"tag":252,"props":31883,"children":31884},{"style":447},[31885],{"type":21,"value":4943},{"type":15,"tag":252,"props":31887,"children":31888},{"style":601},[31889],{"type":21,"value":3947},{"type":15,"tag":252,"props":31891,"children":31892},{"style":259},[31893],{"type":21,"value":3952},{"type":15,"tag":252,"props":31895,"children":31896},{"style":601},[31897],{"type":21,"value":804},{"type":15,"tag":252,"props":31899,"children":31900},{"style":259},[31901],{"type":21,"value":3961},{"type":15,"tag":252,"props":31903,"children":31904},{"style":447},[31905],{"type":21,"value":15620},{"type":15,"tag":252,"props":31907,"children":31908},{"style":601},[31909],{"type":21,"value":804},{"type":15,"tag":252,"props":31911,"children":31912},{"style":259},[31913],{"type":21,"value":5709},{"type":15,"tag":252,"props":31915,"children":31916},{"style":447},[31917],{"type":21,"value":7138},{"type":15,"tag":252,"props":31919,"children":31920},{"class":254,"line":390},[31921,31925],{"type":15,"tag":252,"props":31922,"children":31923},{"style":601},[31924],{"type":21,"value":4014},{"type":15,"tag":252,"props":31926,"children":31927},{"style":447},[31928],{"type":21,"value":15848},{"type":15,"tag":252,"props":31930,"children":31931},{"class":254,"line":2077},[31932,31936,31940,31944,31948,31952,31956,31960],{"type":15,"tag":252,"props":31933,"children":31934},{"style":259},[31935],{"type":21,"value":15305},{"type":15,"tag":252,"props":31937,"children":31938},{"style":601},[31939],{"type":21,"value":804},{"type":15,"tag":252,"props":31941,"children":31942},{"style":259},[31943],{"type":21,"value":5709},{"type":15,"tag":252,"props":31945,"children":31946},{"style":601},[31947],{"type":21,"value":804},{"type":15,"tag":252,"props":31949,"children":31950},{"style":259},[31951],{"type":21,"value":5693},{"type":15,"tag":252,"props":31953,"children":31954},{"style":447},[31955],{"type":21,"value":15876},{"type":15,"tag":252,"props":31957,"children":31958},{"style":601},[31959],{"type":21,"value":4054},{"type":15,"tag":252,"props":31961,"children":31962},{"style":447},[31963],{"type":21,"value":3769},{"type":15,"tag":252,"props":31965,"children":31966},{"class":254,"line":2110},[31967,31971,31975,31979,31983,31987,31991],{"type":15,"tag":252,"props":31968,"children":31969},{"style":601},[31970],{"type":21,"value":15892},{"type":15,"tag":252,"props":31972,"children":31973},{"style":447},[31974],{"type":21,"value":15897},{"type":15,"tag":252,"props":31976,"children":31977},{"style":601},[31978],{"type":21,"value":614},{"type":15,"tag":252,"props":31980,"children":31981},{"style":259},[31982],{"type":21,"value":15571},{"type":15,"tag":252,"props":31984,"children":31985},{"style":447},[31986],{"type":21,"value":15657},{"type":15,"tag":252,"props":31988,"children":31989},{"style":601},[31990],{"type":21,"value":5468},{"type":15,"tag":252,"props":31992,"children":31993},{"style":447},[31994],{"type":21,"value":3325},{"type":15,"tag":252,"props":31996,"children":31997},{"class":254,"line":2150},[31998],{"type":15,"tag":252,"props":31999,"children":32000},{"emptyLinePlaceholder":2053},[32001],{"type":21,"value":2056},{"type":15,"tag":252,"props":32003,"children":32004},{"class":254,"line":2182},[32005,32009,32013,32017,32021,32025,32029,32033],{"type":15,"tag":252,"props":32006,"children":32007},{"style":259},[32008],{"type":21,"value":12492},{"type":15,"tag":252,"props":32010,"children":32011},{"style":447},[32012],{"type":21,"value":849},{"type":15,"tag":252,"props":32014,"children":32015},{"style":259},[32016],{"type":21,"value":14557},{"type":15,"tag":252,"props":32018,"children":32019},{"style":601},[32020],{"type":21,"value":804},{"type":15,"tag":252,"props":32022,"children":32023},{"style":259},[32024],{"type":21,"value":5709},{"type":15,"tag":252,"props":32026,"children":32027},{"style":601},[32028],{"type":21,"value":804},{"type":15,"tag":252,"props":32030,"children":32031},{"style":259},[32032],{"type":21,"value":5693},{"type":15,"tag":252,"props":32034,"children":32035},{"style":447},[32036],{"type":21,"value":15960},{"type":15,"tag":252,"props":32038,"children":32039},{"class":254,"line":2190},[32040],{"type":15,"tag":252,"props":32041,"children":32042},{"style":447},[32043],{"type":21,"value":4087},{"type":15,"tag":252,"props":32045,"children":32046},{"class":254,"line":2222},[32047,32051,32055,32059,32063,32067,32072,32076],{"type":15,"tag":252,"props":32048,"children":32049},{"style":259},[32050],{"type":21,"value":15305},{"type":15,"tag":252,"props":32052,"children":32053},{"style":601},[32054],{"type":21,"value":804},{"type":15,"tag":252,"props":32056,"children":32057},{"style":259},[32058],{"type":21,"value":5709},{"type":15,"tag":252,"props":32060,"children":32061},{"style":601},[32062],{"type":21,"value":804},{"type":15,"tag":252,"props":32064,"children":32065},{"style":259},[32066],{"type":21,"value":29936},{"type":15,"tag":252,"props":32068,"children":32069},{"style":447},[32070],{"type":21,"value":32071},"(expression, message) ",{"type":15,"tag":252,"props":32073,"children":32074},{"style":601},[32075],{"type":21,"value":4054},{"type":15,"tag":252,"props":32077,"children":32078},{"style":447},[32079],{"type":21,"value":3769},{"type":15,"tag":252,"props":32081,"children":32082},{"class":254,"line":2270},[32083,32087,32091,32095,32099,32103,32107],{"type":15,"tag":252,"props":32084,"children":32085},{"style":601},[32086],{"type":21,"value":15892},{"type":15,"tag":252,"props":32088,"children":32089},{"style":447},[32090],{"type":21,"value":31233},{"type":15,"tag":252,"props":32092,"children":32093},{"style":601},[32094],{"type":21,"value":614},{"type":15,"tag":252,"props":32096,"children":32097},{"style":259},[32098],{"type":21,"value":15420},{"type":15,"tag":252,"props":32100,"children":32101},{"style":447},[32102],{"type":21,"value":15657},{"type":15,"tag":252,"props":32104,"children":32105},{"style":601},[32106],{"type":21,"value":5468},{"type":15,"tag":252,"props":32108,"children":32109},{"style":447},[32110],{"type":21,"value":3325},{"type":15,"tag":252,"props":32112,"children":32113},{"class":254,"line":2302},[32114,32118,32122,32126,32130,32134,32139,32143,32147],{"type":15,"tag":252,"props":32115,"children":32116},{"style":601},[32117],{"type":21,"value":15892},{"type":15,"tag":252,"props":32119,"children":32120},{"style":447},[32121],{"type":21,"value":31233},{"type":15,"tag":252,"props":32123,"children":32124},{"style":601},[32125],{"type":21,"value":614},{"type":15,"tag":252,"props":32127,"children":32128},{"style":447},[32129],{"type":21,"value":12876},{"type":15,"tag":252,"props":32131,"children":32132},{"style":601},[32133],{"type":21,"value":432},{"type":15,"tag":252,"props":32135,"children":32136},{"style":259},[32137],{"type":21,"value":32138},"is_boolean",{"type":15,"tag":252,"props":32140,"children":32141},{"style":447},[32142],{"type":21,"value":7305},{"type":15,"tag":252,"props":32144,"children":32145},{"style":601},[32146],{"type":21,"value":5468},{"type":15,"tag":252,"props":32148,"children":32149},{"style":447},[32150],{"type":21,"value":3325},{"type":15,"tag":252,"props":32152,"children":32153},{"class":254,"line":2310},[32154],{"type":15,"tag":252,"props":32155,"children":32156},{"emptyLinePlaceholder":2053},[32157],{"type":21,"value":2056},{"type":15,"tag":252,"props":32159,"children":32160},{"class":254,"line":2370},[32161,32165,32169,32173,32177,32181,32185,32189,32194,32198,32203],{"type":15,"tag":252,"props":32162,"children":32163},{"style":259},[32164],{"type":21,"value":12492},{"type":15,"tag":252,"props":32166,"children":32167},{"style":447},[32168],{"type":21,"value":849},{"type":15,"tag":252,"props":32170,"children":32171},{"style":259},[32172],{"type":21,"value":14557},{"type":15,"tag":252,"props":32174,"children":32175},{"style":601},[32176],{"type":21,"value":804},{"type":15,"tag":252,"props":32178,"children":32179},{"style":259},[32180],{"type":21,"value":5709},{"type":15,"tag":252,"props":32182,"children":32183},{"style":601},[32184],{"type":21,"value":804},{"type":15,"tag":252,"props":32186,"children":32187},{"style":259},[32188],{"type":21,"value":29936},{"type":15,"tag":252,"props":32190,"children":32191},{"style":447},[32192],{"type":21,"value":32193},"(expression, message",{"type":15,"tag":252,"props":32195,"children":32196},{"style":601},[32197],{"type":21,"value":432},{"type":15,"tag":252,"props":32199,"children":32200},{"style":259},[32201],{"type":21,"value":32202},"clone",{"type":15,"tag":252,"props":32204,"children":32205},{"style":447},[32206],{"type":21,"value":8884},{"type":15,"tag":252,"props":32208,"children":32209},{"class":254,"line":2418},[32210],{"type":15,"tag":252,"props":32211,"children":32212},{"style":447},[32213],{"type":21,"value":4087},{"type":15,"tag":252,"props":32215,"children":32216},{"class":254,"line":2426},[32217],{"type":15,"tag":252,"props":32218,"children":32219},{"style":447},[32220],{"type":21,"value":4095},{"type":15,"tag":252,"props":32222,"children":32223},{"class":254,"line":2474},[32224],{"type":15,"tag":252,"props":32225,"children":32226},{"style":447},[32227],{"type":21,"value":2854},{"type":15,"tag":23,"props":32229,"children":32230},{},[32231,32233,32238],{"type":21,"value":32232},"Here we use our ",{"type":15,"tag":81,"props":32234,"children":32236},{"className":32235},[],[32237],{"type":21,"value":32138},{"type":21,"value":32239}," method which will produce an error if the user dares give us an int!",{"type":15,"tag":59,"props":32241,"children":32243},{"id":32242},"code-gen-2",[32244],{"type":21,"value":26061},{"type":15,"tag":23,"props":32246,"children":32247},{},[32248,32250,32255,32257,32262,32264,32270],{"type":21,"value":32249},"And now for the fun part, code gen! I mentioned that we could use blocks when doing ",{"type":15,"tag":81,"props":32251,"children":32253},{"className":32252},[],[32254],{"type":21,"value":1627},{"type":21,"value":32256},"s, well asserts are just implicit ",{"type":15,"tag":81,"props":32258,"children":32260},{"className":32259},[],[32261],{"type":21,"value":1627},{"type":21,"value":32263},"s, so we will create 2 blocks for the assert, \"Continue\" and \"Failure\". We are also going to need ",{"type":15,"tag":81,"props":32265,"children":32267},{"className":32266},[],[32268],{"type":21,"value":32269},"abort",{"type":21,"value":32271}," from libc.",{"type":15,"tag":95,"props":32273,"children":32275},{"code":32274,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n    fn compile_libc_definitions(&mut self) {\n        let i32_type = self.context.i32_type();\n        let i8_type = self.context.i8_type();\n        let i8_ptr_type = i8_type.ptr_type(inkwell::AddressSpace::default());\n        let void_type = self.context.void_type();\n\n        let printf_type = i32_type.fn_type(&[i8_ptr_type.into()], true);\n        self.module.add_function(\"printf\", printf_type, None);\n\n        let abort_type = void_type.fn_type(&[], false);\n        self.module.add_function(\"abort\", abort_type, None);\n    }\n\n    fn compile_const_printf(&self, msg: &str) {\n        let printf = self.module.get_function(\"printf\").unwrap();\n        let format_string = self\n            .builder\n            .build_global_string_ptr(msg, \"Const_Print\")\n            .as_pointer_value();\n\n        self.builder\n            .build_call(printf, &[format_string.into()], \"Const_Print\");\n    }\n\n    fn compile_assert(&self, expression: &ir::BooleanExpression, message: &Option\u003CString>) {\n        let condition_value = self.compile_bool_expression(expression);\n\n        let current_block = self.builder.get_insert_block().unwrap();\n        let fail_block = self\n            .context\n            .insert_basic_block_after(current_block, \"fail_block\");\n        let continue_block = self\n            .context\n            .insert_basic_block_after(fail_block, \"continue_block\");\n\n        self.builder\n            .build_conditional_branch(condition_value, continue_block, fail_block);\n        self.builder.position_at_end(fail_block);\n\n        if let Some(message) = message {\n            self.compile_const_printf(&format!(\"Assert failed: {message}\\n\"));\n        } else {\n            self.compile_const_printf(\"Assert failed\\n\");\n        }\n\n        let abort = self.module.get_function(\"abort\").unwrap();\n        self.builder.build_call(abort, &[], \"Assert_Fail_Exit\");\n        self.builder.build_unreachable();\n\n        self.builder.position_at_end(continue_block);\n    }\n\n    fn compile_statement(&self, statement: &ir::Statement) {\n        match statement {\n            ir::Statement::Print(print_statement) => self.compile_print_statement(print_statement),\n            ir::Statement::Assert(expression, message) => self.compile_assert(expression, message),\n        }\n    }\n",[32276],{"type":15,"tag":81,"props":32277,"children":32278},{"__ignoreMap":8},[32279,32286,32313,32352,32391,32446,32487,32494,32553,32596,32603,32652,32697,32704,32711,32755,32814,32833,32844,32869,32884,32891,32906,32949,32956,32963,33041,33074,33081,33134,33154,33166,33192,33212,33223,33248,33255,33270,33287,33315,33322,33351,33400,33415,33451,33458,33465,33525,33570,33598,33605,33633,33640,33647,33698,33709,33756,33805,33812],{"type":15,"tag":252,"props":32280,"children":32281},{"class":254,"line":255},[32282],{"type":15,"tag":252,"props":32283,"children":32284},{"style":3287},[32285],{"type":21,"value":26081},{"type":15,"tag":252,"props":32287,"children":32288},{"class":254,"line":334},[32289,32293,32297,32301,32305,32309],{"type":15,"tag":252,"props":32290,"children":32291},{"style":601},[32292],{"type":21,"value":7146},{"type":15,"tag":252,"props":32294,"children":32295},{"style":259},[32296],{"type":21,"value":18201},{"type":15,"tag":252,"props":32298,"children":32299},{"style":447},[32300],{"type":21,"value":849},{"type":15,"tag":252,"props":32302,"children":32303},{"style":601},[32304],{"type":21,"value":7239},{"type":15,"tag":252,"props":32306,"children":32307},{"style":276},[32308],{"type":21,"value":7244},{"type":15,"tag":252,"props":32310,"children":32311},{"style":447},[32312],{"type":21,"value":7370},{"type":15,"tag":252,"props":32314,"children":32315},{"class":254,"line":390},[32316,32320,32324,32328,32332,32336,32340,32344,32348],{"type":15,"tag":252,"props":32317,"children":32318},{"style":601},[32319],{"type":21,"value":8231},{"type":15,"tag":252,"props":32321,"children":32322},{"style":447},[32323],{"type":21,"value":1042},{"type":15,"tag":252,"props":32325,"children":32326},{"style":601},[32327],{"type":21,"value":614},{"type":15,"tag":252,"props":32329,"children":32330},{"style":276},[32331],{"type":21,"value":7244},{"type":15,"tag":252,"props":32333,"children":32334},{"style":601},[32335],{"type":21,"value":432},{"type":15,"tag":252,"props":32337,"children":32338},{"style":447},[32339],{"type":21,"value":908},{"type":15,"tag":252,"props":32341,"children":32342},{"style":601},[32343],{"type":21,"value":432},{"type":15,"tag":252,"props":32345,"children":32346},{"style":259},[32347],{"type":21,"value":1059},{"type":15,"tag":252,"props":32349,"children":32350},{"style":447},[32351],{"type":21,"value":814},{"type":15,"tag":252,"props":32353,"children":32354},{"class":254,"line":2077},[32355,32359,32363,32367,32371,32375,32379,32383,32387],{"type":15,"tag":252,"props":32356,"children":32357},{"style":601},[32358],{"type":21,"value":8231},{"type":15,"tag":252,"props":32360,"children":32361},{"style":447},[32362],{"type":21,"value":956},{"type":15,"tag":252,"props":32364,"children":32365},{"style":601},[32366],{"type":21,"value":614},{"type":15,"tag":252,"props":32368,"children":32369},{"style":276},[32370],{"type":21,"value":7244},{"type":15,"tag":252,"props":32372,"children":32373},{"style":601},[32374],{"type":21,"value":432},{"type":15,"tag":252,"props":32376,"children":32377},{"style":447},[32378],{"type":21,"value":908},{"type":15,"tag":252,"props":32380,"children":32381},{"style":601},[32382],{"type":21,"value":432},{"type":15,"tag":252,"props":32384,"children":32385},{"style":259},[32386],{"type":21,"value":973},{"type":15,"tag":252,"props":32388,"children":32389},{"style":447},[32390],{"type":21,"value":814},{"type":15,"tag":252,"props":32392,"children":32393},{"class":254,"line":2110},[32394,32398,32402,32406,32410,32414,32418,32422,32426,32430,32434,32438,32442],{"type":15,"tag":252,"props":32395,"children":32396},{"style":601},[32397],{"type":21,"value":8231},{"type":15,"tag":252,"props":32399,"children":32400},{"style":447},[32401],{"type":21,"value":989},{"type":15,"tag":252,"props":32403,"children":32404},{"style":601},[32405],{"type":21,"value":614},{"type":15,"tag":252,"props":32407,"children":32408},{"style":447},[32409],{"type":21,"value":998},{"type":15,"tag":252,"props":32411,"children":32412},{"style":601},[32413],{"type":21,"value":432},{"type":15,"tag":252,"props":32415,"children":32416},{"style":259},[32417],{"type":21,"value":1007},{"type":15,"tag":252,"props":32419,"children":32420},{"style":447},[32421],{"type":21,"value":849},{"type":15,"tag":252,"props":32423,"children":32424},{"style":259},[32425],{"type":21,"value":164},{"type":15,"tag":252,"props":32427,"children":32428},{"style":601},[32429],{"type":21,"value":804},{"type":15,"tag":252,"props":32431,"children":32432},{"style":259},[32433],{"type":21,"value":1016},{"type":15,"tag":252,"props":32435,"children":32436},{"style":601},[32437],{"type":21,"value":804},{"type":15,"tag":252,"props":32439,"children":32440},{"style":259},[32441],{"type":21,"value":1025},{"type":15,"tag":252,"props":32443,"children":32444},{"style":447},[32445],{"type":21,"value":1030},{"type":15,"tag":252,"props":32447,"children":32448},{"class":254,"line":2150},[32449,32453,32458,32462,32466,32470,32474,32478,32483],{"type":15,"tag":252,"props":32450,"children":32451},{"style":601},[32452],{"type":21,"value":8231},{"type":15,"tag":252,"props":32454,"children":32455},{"style":447},[32456],{"type":21,"value":32457}," void_type ",{"type":15,"tag":252,"props":32459,"children":32460},{"style":601},[32461],{"type":21,"value":614},{"type":15,"tag":252,"props":32463,"children":32464},{"style":276},[32465],{"type":21,"value":7244},{"type":15,"tag":252,"props":32467,"children":32468},{"style":601},[32469],{"type":21,"value":432},{"type":15,"tag":252,"props":32471,"children":32472},{"style":447},[32473],{"type":21,"value":908},{"type":15,"tag":252,"props":32475,"children":32476},{"style":601},[32477],{"type":21,"value":432},{"type":15,"tag":252,"props":32479,"children":32480},{"style":259},[32481],{"type":21,"value":32482},"void_type",{"type":15,"tag":252,"props":32484,"children":32485},{"style":447},[32486],{"type":21,"value":814},{"type":15,"tag":252,"props":32488,"children":32489},{"class":254,"line":2182},[32490],{"type":15,"tag":252,"props":32491,"children":32492},{"emptyLinePlaceholder":2053},[32493],{"type":21,"value":2056},{"type":15,"tag":252,"props":32495,"children":32496},{"class":254,"line":2190},[32497,32501,32505,32509,32513,32517,32521,32525,32529,32533,32537,32541,32545,32549],{"type":15,"tag":252,"props":32498,"children":32499},{"style":601},[32500],{"type":21,"value":8231},{"type":15,"tag":252,"props":32502,"children":32503},{"style":447},[32504],{"type":21,"value":1144},{"type":15,"tag":252,"props":32506,"children":32507},{"style":601},[32508],{"type":21,"value":614},{"type":15,"tag":252,"props":32510,"children":32511},{"style":447},[32512],{"type":21,"value":1153},{"type":15,"tag":252,"props":32514,"children":32515},{"style":601},[32516],{"type":21,"value":432},{"type":15,"tag":252,"props":32518,"children":32519},{"style":259},[32520],{"type":21,"value":1162},{"type":15,"tag":252,"props":32522,"children":32523},{"style":447},[32524],{"type":21,"value":849},{"type":15,"tag":252,"props":32526,"children":32527},{"style":601},[32528],{"type":21,"value":1171},{"type":15,"tag":252,"props":32530,"children":32531},{"style":447},[32532],{"type":21,"value":1176},{"type":15,"tag":252,"props":32534,"children":32535},{"style":601},[32536],{"type":21,"value":432},{"type":15,"tag":252,"props":32538,"children":32539},{"style":259},[32540],{"type":21,"value":1185},{"type":15,"tag":252,"props":32542,"children":32543},{"style":447},[32544],{"type":21,"value":1190},{"type":15,"tag":252,"props":32546,"children":32547},{"style":276},[32548],{"type":21,"value":1195},{"type":15,"tag":252,"props":32550,"children":32551},{"style":447},[32552],{"type":21,"value":859},{"type":15,"tag":252,"props":32554,"children":32555},{"class":254,"line":2222},[32556,32560,32564,32568,32572,32576,32580,32584,32588,32592],{"type":15,"tag":252,"props":32557,"children":32558},{"style":276},[32559],{"type":21,"value":7286},{"type":15,"tag":252,"props":32561,"children":32562},{"style":601},[32563],{"type":21,"value":432},{"type":15,"tag":252,"props":32565,"children":32566},{"style":447},[32567],{"type":21,"value":919},{"type":15,"tag":252,"props":32569,"children":32570},{"style":601},[32571],{"type":21,"value":432},{"type":15,"tag":252,"props":32573,"children":32574},{"style":259},[32575],{"type":21,"value":1229},{"type":15,"tag":252,"props":32577,"children":32578},{"style":447},[32579],{"type":21,"value":849},{"type":15,"tag":252,"props":32581,"children":32582},{"style":265},[32583],{"type":21,"value":1238},{"type":15,"tag":252,"props":32585,"children":32586},{"style":447},[32587],{"type":21,"value":1243},{"type":15,"tag":252,"props":32589,"children":32590},{"style":259},[32591],{"type":21,"value":1248},{"type":15,"tag":252,"props":32593,"children":32594},{"style":447},[32595],{"type":21,"value":859},{"type":15,"tag":252,"props":32597,"children":32598},{"class":254,"line":2270},[32599],{"type":15,"tag":252,"props":32600,"children":32601},{"emptyLinePlaceholder":2053},[32602],{"type":21,"value":2056},{"type":15,"tag":252,"props":32604,"children":32605},{"class":254,"line":2302},[32606,32610,32615,32619,32624,32628,32632,32636,32640,32644,32648],{"type":15,"tag":252,"props":32607,"children":32608},{"style":601},[32609],{"type":21,"value":8231},{"type":15,"tag":252,"props":32611,"children":32612},{"style":447},[32613],{"type":21,"value":32614}," abort_type ",{"type":15,"tag":252,"props":32616,"children":32617},{"style":601},[32618],{"type":21,"value":614},{"type":15,"tag":252,"props":32620,"children":32621},{"style":447},[32622],{"type":21,"value":32623}," void_type",{"type":15,"tag":252,"props":32625,"children":32626},{"style":601},[32627],{"type":21,"value":432},{"type":15,"tag":252,"props":32629,"children":32630},{"style":259},[32631],{"type":21,"value":1162},{"type":15,"tag":252,"props":32633,"children":32634},{"style":447},[32635],{"type":21,"value":849},{"type":15,"tag":252,"props":32637,"children":32638},{"style":601},[32639],{"type":21,"value":1171},{"type":15,"tag":252,"props":32641,"children":32642},{"style":447},[32643],{"type":21,"value":1451},{"type":15,"tag":252,"props":32645,"children":32646},{"style":276},[32647],{"type":21,"value":1456},{"type":15,"tag":252,"props":32649,"children":32650},{"style":447},[32651],{"type":21,"value":859},{"type":15,"tag":252,"props":32653,"children":32654},{"class":254,"line":2310},[32655,32659,32663,32667,32671,32675,32679,32684,32689,32693],{"type":15,"tag":252,"props":32656,"children":32657},{"style":276},[32658],{"type":21,"value":7286},{"type":15,"tag":252,"props":32660,"children":32661},{"style":601},[32662],{"type":21,"value":432},{"type":15,"tag":252,"props":32664,"children":32665},{"style":447},[32666],{"type":21,"value":919},{"type":15,"tag":252,"props":32668,"children":32669},{"style":601},[32670],{"type":21,"value":432},{"type":15,"tag":252,"props":32672,"children":32673},{"style":259},[32674],{"type":21,"value":1229},{"type":15,"tag":252,"props":32676,"children":32677},{"style":447},[32678],{"type":21,"value":849},{"type":15,"tag":252,"props":32680,"children":32681},{"style":265},[32682],{"type":21,"value":32683},"\"abort\"",{"type":15,"tag":252,"props":32685,"children":32686},{"style":447},[32687],{"type":21,"value":32688},", abort_type, ",{"type":15,"tag":252,"props":32690,"children":32691},{"style":259},[32692],{"type":21,"value":1248},{"type":15,"tag":252,"props":32694,"children":32695},{"style":447},[32696],{"type":21,"value":859},{"type":15,"tag":252,"props":32698,"children":32699},{"class":254,"line":2370},[32700],{"type":15,"tag":252,"props":32701,"children":32702},{"style":447},[32703],{"type":21,"value":4095},{"type":15,"tag":252,"props":32705,"children":32706},{"class":254,"line":2418},[32707],{"type":15,"tag":252,"props":32708,"children":32709},{"emptyLinePlaceholder":2053},[32710],{"type":21,"value":2056},{"type":15,"tag":252,"props":32712,"children":32713},{"class":254,"line":2426},[32714,32718,32723,32727,32731,32735,32739,32743,32747,32751],{"type":15,"tag":252,"props":32715,"children":32716},{"style":601},[32717],{"type":21,"value":7146},{"type":15,"tag":252,"props":32719,"children":32720},{"style":259},[32721],{"type":21,"value":32722}," compile_const_printf",{"type":15,"tag":252,"props":32724,"children":32725},{"style":447},[32726],{"type":21,"value":849},{"type":15,"tag":252,"props":32728,"children":32729},{"style":601},[32730],{"type":21,"value":1171},{"type":15,"tag":252,"props":32732,"children":32733},{"style":276},[32734],{"type":21,"value":7432},{"type":15,"tag":252,"props":32736,"children":32737},{"style":447},[32738],{"type":21,"value":7883},{"type":15,"tag":252,"props":32740,"children":32741},{"style":601},[32742],{"type":21,"value":3374},{"type":15,"tag":252,"props":32744,"children":32745},{"style":601},[32746],{"type":21,"value":4920},{"type":15,"tag":252,"props":32748,"children":32749},{"style":259},[32750],{"type":21,"value":4925},{"type":15,"tag":252,"props":32752,"children":32753},{"style":447},[32754],{"type":21,"value":7370},{"type":15,"tag":252,"props":32756,"children":32757},{"class":254,"line":2474},[32758,32762,32766,32770,32774,32778,32782,32786,32790,32794,32798,32802,32806,32810],{"type":15,"tag":252,"props":32759,"children":32760},{"style":601},[32761],{"type":21,"value":8231},{"type":15,"tag":252,"props":32763,"children":32764},{"style":447},[32765],{"type":21,"value":1211},{"type":15,"tag":252,"props":32767,"children":32768},{"style":601},[32769],{"type":21,"value":614},{"type":15,"tag":252,"props":32771,"children":32772},{"style":276},[32773],{"type":21,"value":7244},{"type":15,"tag":252,"props":32775,"children":32776},{"style":601},[32777],{"type":21,"value":432},{"type":15,"tag":252,"props":32779,"children":32780},{"style":447},[32781],{"type":21,"value":919},{"type":15,"tag":252,"props":32783,"children":32784},{"style":601},[32785],{"type":21,"value":432},{"type":15,"tag":252,"props":32787,"children":32788},{"style":259},[32789],{"type":21,"value":18769},{"type":15,"tag":252,"props":32791,"children":32792},{"style":447},[32793],{"type":21,"value":849},{"type":15,"tag":252,"props":32795,"children":32796},{"style":265},[32797],{"type":21,"value":1238},{"type":15,"tag":252,"props":32799,"children":32800},{"style":447},[32801],{"type":21,"value":1975},{"type":15,"tag":252,"props":32803,"children":32804},{"style":601},[32805],{"type":21,"value":432},{"type":15,"tag":252,"props":32807,"children":32808},{"style":259},[32809],{"type":21,"value":1984},{"type":15,"tag":252,"props":32811,"children":32812},{"style":447},[32813],{"type":21,"value":814},{"type":15,"tag":252,"props":32815,"children":32816},{"class":254,"line":2522},[32817,32821,32825,32829],{"type":15,"tag":252,"props":32818,"children":32819},{"style":601},[32820],{"type":21,"value":8231},{"type":15,"tag":252,"props":32822,"children":32823},{"style":447},[32824],{"type":21,"value":18812},{"type":15,"tag":252,"props":32826,"children":32827},{"style":601},[32828],{"type":21,"value":614},{"type":15,"tag":252,"props":32830,"children":32831},{"style":276},[32832],{"type":21,"value":18902},{"type":15,"tag":252,"props":32834,"children":32835},{"class":254,"line":2530},[32836,32840],{"type":15,"tag":252,"props":32837,"children":32838},{"style":601},[32839],{"type":21,"value":10662},{"type":15,"tag":252,"props":32841,"children":32842},{"style":447},[32843],{"type":21,"value":18914},{"type":15,"tag":252,"props":32845,"children":32846},{"class":254,"line":2570},[32847,32851,32855,32860,32865],{"type":15,"tag":252,"props":32848,"children":32849},{"style":601},[32850],{"type":21,"value":10662},{"type":15,"tag":252,"props":32852,"children":32853},{"style":259},[32854],{"type":21,"value":1686},{"type":15,"tag":252,"props":32856,"children":32857},{"style":447},[32858],{"type":21,"value":32859},"(msg, ",{"type":15,"tag":252,"props":32861,"children":32862},{"style":265},[32863],{"type":21,"value":32864},"\"Const_Print\"",{"type":15,"tag":252,"props":32866,"children":32867},{"style":447},[32868],{"type":21,"value":7327},{"type":15,"tag":252,"props":32870,"children":32871},{"class":254,"line":2591},[32872,32876,32880],{"type":15,"tag":252,"props":32873,"children":32874},{"style":601},[32875],{"type":21,"value":10662},{"type":15,"tag":252,"props":32877,"children":32878},{"style":259},[32879],{"type":21,"value":1737},{"type":15,"tag":252,"props":32881,"children":32882},{"style":447},[32883],{"type":21,"value":814},{"type":15,"tag":252,"props":32885,"children":32886},{"class":254,"line":2599},[32887],{"type":15,"tag":252,"props":32888,"children":32889},{"emptyLinePlaceholder":2053},[32890],{"type":21,"value":2056},{"type":15,"tag":252,"props":32892,"children":32893},{"class":254,"line":2647},[32894,32898,32902],{"type":15,"tag":252,"props":32895,"children":32896},{"style":276},[32897],{"type":21,"value":7286},{"type":15,"tag":252,"props":32899,"children":32900},{"style":601},[32901],{"type":21,"value":432},{"type":15,"tag":252,"props":32903,"children":32904},{"style":447},[32905],{"type":21,"value":18914},{"type":15,"tag":252,"props":32907,"children":32908},{"class":254,"line":2679},[32909,32913,32917,32921,32925,32929,32933,32937,32941,32945],{"type":15,"tag":252,"props":32910,"children":32911},{"style":601},[32912],{"type":21,"value":10662},{"type":15,"tag":252,"props":32914,"children":32915},{"style":259},[32916],{"type":21,"value":1792},{"type":15,"tag":252,"props":32918,"children":32919},{"style":447},[32920],{"type":21,"value":1797},{"type":15,"tag":252,"props":32922,"children":32923},{"style":601},[32924],{"type":21,"value":1171},{"type":15,"tag":252,"props":32926,"children":32927},{"style":447},[32928],{"type":21,"value":19089},{"type":15,"tag":252,"props":32930,"children":32931},{"style":601},[32932],{"type":21,"value":432},{"type":15,"tag":252,"props":32934,"children":32935},{"style":259},[32936],{"type":21,"value":1185},{"type":15,"tag":252,"props":32938,"children":32939},{"style":447},[32940],{"type":21,"value":1190},{"type":15,"tag":252,"props":32942,"children":32943},{"style":265},[32944],{"type":21,"value":32864},{"type":15,"tag":252,"props":32946,"children":32947},{"style":447},[32948],{"type":21,"value":859},{"type":15,"tag":252,"props":32950,"children":32951},{"class":254,"line":2727},[32952],{"type":15,"tag":252,"props":32953,"children":32954},{"style":447},[32955],{"type":21,"value":4095},{"type":15,"tag":252,"props":32957,"children":32958},{"class":254,"line":2735},[32959],{"type":15,"tag":252,"props":32960,"children":32961},{"emptyLinePlaceholder":2053},[32962],{"type":21,"value":2056},{"type":15,"tag":252,"props":32964,"children":32965},{"class":254,"line":2799},[32966,32970,32975,32979,32983,32987,32991,32995,32999,33003,33007,33011,33016,33020,33024,33028,33032,33036],{"type":15,"tag":252,"props":32967,"children":32968},{"style":601},[32969],{"type":21,"value":7146},{"type":15,"tag":252,"props":32971,"children":32972},{"style":259},[32973],{"type":21,"value":32974}," compile_assert",{"type":15,"tag":252,"props":32976,"children":32977},{"style":447},[32978],{"type":21,"value":849},{"type":15,"tag":252,"props":32980,"children":32981},{"style":601},[32982],{"type":21,"value":1171},{"type":15,"tag":252,"props":32984,"children":32985},{"style":276},[32986],{"type":21,"value":7432},{"type":15,"tag":252,"props":32988,"children":32989},{"style":447},[32990],{"type":21,"value":18502},{"type":15,"tag":252,"props":32992,"children":32993},{"style":601},[32994],{"type":21,"value":3374},{"type":15,"tag":252,"props":32996,"children":32997},{"style":601},[32998],{"type":21,"value":4920},{"type":15,"tag":252,"props":33000,"children":33001},{"style":259},[33002],{"type":21,"value":14557},{"type":15,"tag":252,"props":33004,"children":33005},{"style":601},[33006],{"type":21,"value":804},{"type":15,"tag":252,"props":33008,"children":33009},{"style":259},[33010],{"type":21,"value":27991},{"type":15,"tag":252,"props":33012,"children":33013},{"style":447},[33014],{"type":21,"value":33015},", message",{"type":15,"tag":252,"props":33017,"children":33018},{"style":601},[33019],{"type":21,"value":3374},{"type":15,"tag":252,"props":33021,"children":33022},{"style":601},[33023],{"type":21,"value":4920},{"type":15,"tag":252,"props":33025,"children":33026},{"style":259},[33027],{"type":21,"value":31006},{"type":15,"tag":252,"props":33029,"children":33030},{"style":447},[33031],{"type":21,"value":5826},{"type":15,"tag":252,"props":33033,"children":33034},{"style":259},[33035],{"type":21,"value":6503},{"type":15,"tag":252,"props":33037,"children":33038},{"style":447},[33039],{"type":21,"value":33040},">) {\n",{"type":15,"tag":252,"props":33042,"children":33043},{"class":254,"line":2807},[33044,33048,33053,33057,33061,33065,33069],{"type":15,"tag":252,"props":33045,"children":33046},{"style":601},[33047],{"type":21,"value":8231},{"type":15,"tag":252,"props":33049,"children":33050},{"style":447},[33051],{"type":21,"value":33052}," condition_value ",{"type":15,"tag":252,"props":33054,"children":33055},{"style":601},[33056],{"type":21,"value":614},{"type":15,"tag":252,"props":33058,"children":33059},{"style":276},[33060],{"type":21,"value":7244},{"type":15,"tag":252,"props":33062,"children":33063},{"style":601},[33064],{"type":21,"value":432},{"type":15,"tag":252,"props":33066,"children":33067},{"style":259},[33068],{"type":21,"value":29798},{"type":15,"tag":252,"props":33070,"children":33071},{"style":447},[33072],{"type":21,"value":33073},"(expression);\n",{"type":15,"tag":252,"props":33075,"children":33076},{"class":254,"line":2848},[33077],{"type":15,"tag":252,"props":33078,"children":33079},{"emptyLinePlaceholder":2053},[33080],{"type":21,"value":2056},{"type":15,"tag":252,"props":33082,"children":33083},{"class":254,"line":4645},[33084,33088,33093,33097,33101,33105,33109,33113,33118,33122,33126,33130],{"type":15,"tag":252,"props":33085,"children":33086},{"style":601},[33087],{"type":21,"value":8231},{"type":15,"tag":252,"props":33089,"children":33090},{"style":447},[33091],{"type":21,"value":33092}," current_block ",{"type":15,"tag":252,"props":33094,"children":33095},{"style":601},[33096],{"type":21,"value":614},{"type":15,"tag":252,"props":33098,"children":33099},{"style":276},[33100],{"type":21,"value":7244},{"type":15,"tag":252,"props":33102,"children":33103},{"style":601},[33104],{"type":21,"value":432},{"type":15,"tag":252,"props":33106,"children":33107},{"style":447},[33108],{"type":21,"value":930},{"type":15,"tag":252,"props":33110,"children":33111},{"style":601},[33112],{"type":21,"value":432},{"type":15,"tag":252,"props":33114,"children":33115},{"style":259},[33116],{"type":21,"value":33117},"get_insert_block",{"type":15,"tag":252,"props":33119,"children":33120},{"style":447},[33121],{"type":21,"value":7305},{"type":15,"tag":252,"props":33123,"children":33124},{"style":601},[33125],{"type":21,"value":432},{"type":15,"tag":252,"props":33127,"children":33128},{"style":259},[33129],{"type":21,"value":1984},{"type":15,"tag":252,"props":33131,"children":33132},{"style":447},[33133],{"type":21,"value":814},{"type":15,"tag":252,"props":33135,"children":33136},{"class":254,"line":4654},[33137,33141,33146,33150],{"type":15,"tag":252,"props":33138,"children":33139},{"style":601},[33140],{"type":21,"value":8231},{"type":15,"tag":252,"props":33142,"children":33143},{"style":447},[33144],{"type":21,"value":33145}," fail_block ",{"type":15,"tag":252,"props":33147,"children":33148},{"style":601},[33149],{"type":21,"value":614},{"type":15,"tag":252,"props":33151,"children":33152},{"style":276},[33153],{"type":21,"value":18902},{"type":15,"tag":252,"props":33155,"children":33156},{"class":254,"line":4675},[33157,33161],{"type":15,"tag":252,"props":33158,"children":33159},{"style":601},[33160],{"type":21,"value":10662},{"type":15,"tag":252,"props":33162,"children":33163},{"style":447},[33164],{"type":21,"value":33165},"context\n",{"type":15,"tag":252,"props":33167,"children":33168},{"class":254,"line":8160},[33169,33173,33178,33183,33188],{"type":15,"tag":252,"props":33170,"children":33171},{"style":601},[33172],{"type":21,"value":10662},{"type":15,"tag":252,"props":33174,"children":33175},{"style":259},[33176],{"type":21,"value":33177},"insert_basic_block_after",{"type":15,"tag":252,"props":33179,"children":33180},{"style":447},[33181],{"type":21,"value":33182},"(current_block, ",{"type":15,"tag":252,"props":33184,"children":33185},{"style":265},[33186],{"type":21,"value":33187},"\"fail_block\"",{"type":15,"tag":252,"props":33189,"children":33190},{"style":447},[33191],{"type":21,"value":859},{"type":15,"tag":252,"props":33193,"children":33194},{"class":254,"line":8168},[33195,33199,33204,33208],{"type":15,"tag":252,"props":33196,"children":33197},{"style":601},[33198],{"type":21,"value":8231},{"type":15,"tag":252,"props":33200,"children":33201},{"style":447},[33202],{"type":21,"value":33203}," continue_block ",{"type":15,"tag":252,"props":33205,"children":33206},{"style":601},[33207],{"type":21,"value":614},{"type":15,"tag":252,"props":33209,"children":33210},{"style":276},[33211],{"type":21,"value":18902},{"type":15,"tag":252,"props":33213,"children":33214},{"class":254,"line":8176},[33215,33219],{"type":15,"tag":252,"props":33216,"children":33217},{"style":601},[33218],{"type":21,"value":10662},{"type":15,"tag":252,"props":33220,"children":33221},{"style":447},[33222],{"type":21,"value":33165},{"type":15,"tag":252,"props":33224,"children":33225},{"class":254,"line":8225},[33226,33230,33234,33239,33244],{"type":15,"tag":252,"props":33227,"children":33228},{"style":601},[33229],{"type":21,"value":10662},{"type":15,"tag":252,"props":33231,"children":33232},{"style":259},[33233],{"type":21,"value":33177},{"type":15,"tag":252,"props":33235,"children":33236},{"style":447},[33237],{"type":21,"value":33238},"(fail_block, ",{"type":15,"tag":252,"props":33240,"children":33241},{"style":265},[33242],{"type":21,"value":33243},"\"continue_block\"",{"type":15,"tag":252,"props":33245,"children":33246},{"style":447},[33247],{"type":21,"value":859},{"type":15,"tag":252,"props":33249,"children":33250},{"class":254,"line":8289},[33251],{"type":15,"tag":252,"props":33252,"children":33253},{"emptyLinePlaceholder":2053},[33254],{"type":21,"value":2056},{"type":15,"tag":252,"props":33256,"children":33257},{"class":254,"line":8326},[33258,33262,33266],{"type":15,"tag":252,"props":33259,"children":33260},{"style":276},[33261],{"type":21,"value":7286},{"type":15,"tag":252,"props":33263,"children":33264},{"style":601},[33265],{"type":21,"value":432},{"type":15,"tag":252,"props":33267,"children":33268},{"style":447},[33269],{"type":21,"value":18914},{"type":15,"tag":252,"props":33271,"children":33272},{"class":254,"line":8357},[33273,33277,33282],{"type":15,"tag":252,"props":33274,"children":33275},{"style":601},[33276],{"type":21,"value":10662},{"type":15,"tag":252,"props":33278,"children":33279},{"style":259},[33280],{"type":21,"value":33281},"build_conditional_branch",{"type":15,"tag":252,"props":33283,"children":33284},{"style":447},[33285],{"type":21,"value":33286},"(condition_value, continue_block, fail_block);\n",{"type":15,"tag":252,"props":33288,"children":33289},{"class":254,"line":8385},[33290,33294,33298,33302,33306,33310],{"type":15,"tag":252,"props":33291,"children":33292},{"style":276},[33293],{"type":21,"value":7286},{"type":15,"tag":252,"props":33295,"children":33296},{"style":601},[33297],{"type":21,"value":432},{"type":15,"tag":252,"props":33299,"children":33300},{"style":447},[33301],{"type":21,"value":930},{"type":15,"tag":252,"props":33303,"children":33304},{"style":601},[33305],{"type":21,"value":432},{"type":15,"tag":252,"props":33307,"children":33308},{"style":259},[33309],{"type":21,"value":1595},{"type":15,"tag":252,"props":33311,"children":33312},{"style":447},[33313],{"type":21,"value":33314},"(fail_block);\n",{"type":15,"tag":252,"props":33316,"children":33317},{"class":254,"line":8403},[33318],{"type":15,"tag":252,"props":33319,"children":33320},{"emptyLinePlaceholder":2053},[33321],{"type":21,"value":2056},{"type":15,"tag":252,"props":33323,"children":33324},{"class":254,"line":8432},[33325,33329,33333,33337,33342,33346],{"type":15,"tag":252,"props":33326,"children":33327},{"style":601},[33328],{"type":21,"value":8295},{"type":15,"tag":252,"props":33330,"children":33331},{"style":601},[33332],{"type":21,"value":8661},{"type":15,"tag":252,"props":33334,"children":33335},{"style":259},[33336],{"type":21,"value":20696},{"type":15,"tag":252,"props":33338,"children":33339},{"style":447},[33340],{"type":21,"value":33341},"(message) ",{"type":15,"tag":252,"props":33343,"children":33344},{"style":601},[33345],{"type":21,"value":614},{"type":15,"tag":252,"props":33347,"children":33348},{"style":447},[33349],{"type":21,"value":33350}," message {\n",{"type":15,"tag":252,"props":33352,"children":33353},{"class":254,"line":8440},[33354,33358,33362,33367,33371,33375,33379,33383,33388,33392,33396],{"type":15,"tag":252,"props":33355,"children":33356},{"style":276},[33357],{"type":21,"value":8332},{"type":15,"tag":252,"props":33359,"children":33360},{"style":601},[33361],{"type":21,"value":432},{"type":15,"tag":252,"props":33363,"children":33364},{"style":259},[33365],{"type":21,"value":33366},"compile_const_printf",{"type":15,"tag":252,"props":33368,"children":33369},{"style":447},[33370],{"type":21,"value":849},{"type":15,"tag":252,"props":33372,"children":33373},{"style":601},[33374],{"type":21,"value":1171},{"type":15,"tag":252,"props":33376,"children":33377},{"style":259},[33378],{"type":21,"value":10212},{"type":15,"tag":252,"props":33380,"children":33381},{"style":447},[33382],{"type":21,"value":849},{"type":15,"tag":252,"props":33384,"children":33385},{"style":265},[33386],{"type":21,"value":33387},"\"Assert failed: {message}",{"type":15,"tag":252,"props":33389,"children":33390},{"style":276},[33391],{"type":21,"value":8314},{"type":15,"tag":252,"props":33393,"children":33394},{"style":265},[33395],{"type":21,"value":18870},{"type":15,"tag":252,"props":33397,"children":33398},{"style":447},[33399],{"type":21,"value":10065},{"type":15,"tag":252,"props":33401,"children":33402},{"class":254,"line":8454},[33403,33407,33411],{"type":15,"tag":252,"props":33404,"children":33405},{"style":447},[33406],{"type":21,"value":8391},{"type":15,"tag":252,"props":33408,"children":33409},{"style":601},[33410],{"type":21,"value":8396},{"type":15,"tag":252,"props":33412,"children":33413},{"style":447},[33414],{"type":21,"value":3769},{"type":15,"tag":252,"props":33416,"children":33417},{"class":254,"line":8462},[33418,33422,33426,33430,33434,33439,33443,33447],{"type":15,"tag":252,"props":33419,"children":33420},{"style":276},[33421],{"type":21,"value":8332},{"type":15,"tag":252,"props":33423,"children":33424},{"style":601},[33425],{"type":21,"value":432},{"type":15,"tag":252,"props":33427,"children":33428},{"style":259},[33429],{"type":21,"value":33366},{"type":15,"tag":252,"props":33431,"children":33432},{"style":447},[33433],{"type":21,"value":849},{"type":15,"tag":252,"props":33435,"children":33436},{"style":265},[33437],{"type":21,"value":33438},"\"Assert failed",{"type":15,"tag":252,"props":33440,"children":33441},{"style":276},[33442],{"type":21,"value":8314},{"type":15,"tag":252,"props":33444,"children":33445},{"style":265},[33446],{"type":21,"value":18870},{"type":15,"tag":252,"props":33448,"children":33449},{"style":447},[33450],{"type":21,"value":859},{"type":15,"tag":252,"props":33452,"children":33453},{"class":254,"line":8470},[33454],{"type":15,"tag":252,"props":33455,"children":33456},{"style":447},[33457],{"type":21,"value":4087},{"type":15,"tag":252,"props":33459,"children":33460},{"class":254,"line":8498},[33461],{"type":15,"tag":252,"props":33462,"children":33463},{"emptyLinePlaceholder":2053},[33464],{"type":21,"value":2056},{"type":15,"tag":252,"props":33466,"children":33467},{"class":254,"line":8518},[33468,33472,33477,33481,33485,33489,33493,33497,33501,33505,33509,33513,33517,33521],{"type":15,"tag":252,"props":33469,"children":33470},{"style":601},[33471],{"type":21,"value":8231},{"type":15,"tag":252,"props":33473,"children":33474},{"style":447},[33475],{"type":21,"value":33476}," abort ",{"type":15,"tag":252,"props":33478,"children":33479},{"style":601},[33480],{"type":21,"value":614},{"type":15,"tag":252,"props":33482,"children":33483},{"style":276},[33484],{"type":21,"value":7244},{"type":15,"tag":252,"props":33486,"children":33487},{"style":601},[33488],{"type":21,"value":432},{"type":15,"tag":252,"props":33490,"children":33491},{"style":447},[33492],{"type":21,"value":919},{"type":15,"tag":252,"props":33494,"children":33495},{"style":601},[33496],{"type":21,"value":432},{"type":15,"tag":252,"props":33498,"children":33499},{"style":259},[33500],{"type":21,"value":18769},{"type":15,"tag":252,"props":33502,"children":33503},{"style":447},[33504],{"type":21,"value":849},{"type":15,"tag":252,"props":33506,"children":33507},{"style":265},[33508],{"type":21,"value":32683},{"type":15,"tag":252,"props":33510,"children":33511},{"style":447},[33512],{"type":21,"value":1975},{"type":15,"tag":252,"props":33514,"children":33515},{"style":601},[33516],{"type":21,"value":432},{"type":15,"tag":252,"props":33518,"children":33519},{"style":259},[33520],{"type":21,"value":1984},{"type":15,"tag":252,"props":33522,"children":33523},{"style":447},[33524],{"type":21,"value":814},{"type":15,"tag":252,"props":33526,"children":33527},{"class":254,"line":8526},[33528,33532,33536,33540,33544,33548,33553,33557,33561,33566],{"type":15,"tag":252,"props":33529,"children":33530},{"style":276},[33531],{"type":21,"value":7286},{"type":15,"tag":252,"props":33533,"children":33534},{"style":601},[33535],{"type":21,"value":432},{"type":15,"tag":252,"props":33537,"children":33538},{"style":447},[33539],{"type":21,"value":930},{"type":15,"tag":252,"props":33541,"children":33542},{"style":601},[33543],{"type":21,"value":432},{"type":15,"tag":252,"props":33545,"children":33546},{"style":259},[33547],{"type":21,"value":1792},{"type":15,"tag":252,"props":33549,"children":33550},{"style":447},[33551],{"type":21,"value":33552},"(abort, ",{"type":15,"tag":252,"props":33554,"children":33555},{"style":601},[33556],{"type":21,"value":1171},{"type":15,"tag":252,"props":33558,"children":33559},{"style":447},[33560],{"type":21,"value":1451},{"type":15,"tag":252,"props":33562,"children":33563},{"style":265},[33564],{"type":21,"value":33565},"\"Assert_Fail_Exit\"",{"type":15,"tag":252,"props":33567,"children":33568},{"style":447},[33569],{"type":21,"value":859},{"type":15,"tag":252,"props":33571,"children":33572},{"class":254,"line":19392},[33573,33577,33581,33585,33589,33594],{"type":15,"tag":252,"props":33574,"children":33575},{"style":276},[33576],{"type":21,"value":7286},{"type":15,"tag":252,"props":33578,"children":33579},{"style":601},[33580],{"type":21,"value":432},{"type":15,"tag":252,"props":33582,"children":33583},{"style":447},[33584],{"type":21,"value":930},{"type":15,"tag":252,"props":33586,"children":33587},{"style":601},[33588],{"type":21,"value":432},{"type":15,"tag":252,"props":33590,"children":33591},{"style":259},[33592],{"type":21,"value":33593},"build_unreachable",{"type":15,"tag":252,"props":33595,"children":33596},{"style":447},[33597],{"type":21,"value":814},{"type":15,"tag":252,"props":33599,"children":33600},{"class":254,"line":19432},[33601],{"type":15,"tag":252,"props":33602,"children":33603},{"emptyLinePlaceholder":2053},[33604],{"type":21,"value":2056},{"type":15,"tag":252,"props":33606,"children":33607},{"class":254,"line":19481},[33608,33612,33616,33620,33624,33628],{"type":15,"tag":252,"props":33609,"children":33610},{"style":276},[33611],{"type":21,"value":7286},{"type":15,"tag":252,"props":33613,"children":33614},{"style":601},[33615],{"type":21,"value":432},{"type":15,"tag":252,"props":33617,"children":33618},{"style":447},[33619],{"type":21,"value":930},{"type":15,"tag":252,"props":33621,"children":33622},{"style":601},[33623],{"type":21,"value":432},{"type":15,"tag":252,"props":33625,"children":33626},{"style":259},[33627],{"type":21,"value":1595},{"type":15,"tag":252,"props":33629,"children":33630},{"style":447},[33631],{"type":21,"value":33632},"(continue_block);\n",{"type":15,"tag":252,"props":33634,"children":33635},{"class":254,"line":19539},[33636],{"type":15,"tag":252,"props":33637,"children":33638},{"style":447},[33639],{"type":21,"value":4095},{"type":15,"tag":252,"props":33641,"children":33642},{"class":254,"line":19588},[33643],{"type":15,"tag":252,"props":33644,"children":33645},{"emptyLinePlaceholder":2053},[33646],{"type":21,"value":2056},{"type":15,"tag":252,"props":33648,"children":33649},{"class":254,"line":19616},[33650,33654,33658,33662,33666,33670,33674,33678,33682,33686,33690,33694],{"type":15,"tag":252,"props":33651,"children":33652},{"style":601},[33653],{"type":21,"value":7146},{"type":15,"tag":252,"props":33655,"children":33656},{"style":259},[33657],{"type":21,"value":19175},{"type":15,"tag":252,"props":33659,"children":33660},{"style":447},[33661],{"type":21,"value":849},{"type":15,"tag":252,"props":33663,"children":33664},{"style":601},[33665],{"type":21,"value":1171},{"type":15,"tag":252,"props":33667,"children":33668},{"style":276},[33669],{"type":21,"value":7432},{"type":15,"tag":252,"props":33671,"children":33672},{"style":447},[33673],{"type":21,"value":18709},{"type":15,"tag":252,"props":33675,"children":33676},{"style":601},[33677],{"type":21,"value":3374},{"type":15,"tag":252,"props":33679,"children":33680},{"style":601},[33681],{"type":21,"value":4920},{"type":15,"tag":252,"props":33683,"children":33684},{"style":259},[33685],{"type":21,"value":14557},{"type":15,"tag":252,"props":33687,"children":33688},{"style":601},[33689],{"type":21,"value":804},{"type":15,"tag":252,"props":33691,"children":33692},{"style":259},[33693],{"type":21,"value":5709},{"type":15,"tag":252,"props":33695,"children":33696},{"style":447},[33697],{"type":21,"value":7370},{"type":15,"tag":252,"props":33699,"children":33700},{"class":254,"line":19624},[33701,33705],{"type":15,"tag":252,"props":33702,"children":33703},{"style":601},[33704],{"type":21,"value":12717},{"type":15,"tag":252,"props":33706,"children":33707},{"style":447},[33708],{"type":21,"value":15848},{"type":15,"tag":252,"props":33710,"children":33711},{"class":254,"line":19661},[33712,33716,33720,33724,33728,33732,33736,33740,33744,33748,33752],{"type":15,"tag":252,"props":33713,"children":33714},{"style":259},[33715],{"type":21,"value":18575},{"type":15,"tag":252,"props":33717,"children":33718},{"style":601},[33719],{"type":21,"value":804},{"type":15,"tag":252,"props":33721,"children":33722},{"style":259},[33723],{"type":21,"value":5709},{"type":15,"tag":252,"props":33725,"children":33726},{"style":601},[33727],{"type":21,"value":804},{"type":15,"tag":252,"props":33729,"children":33730},{"style":259},[33731],{"type":21,"value":5693},{"type":15,"tag":252,"props":33733,"children":33734},{"style":447},[33735],{"type":21,"value":19254},{"type":15,"tag":252,"props":33737,"children":33738},{"style":601},[33739],{"type":21,"value":4054},{"type":15,"tag":252,"props":33741,"children":33742},{"style":276},[33743],{"type":21,"value":7244},{"type":15,"tag":252,"props":33745,"children":33746},{"style":601},[33747],{"type":21,"value":432},{"type":15,"tag":252,"props":33749,"children":33750},{"style":259},[33751],{"type":21,"value":19271},{"type":15,"tag":252,"props":33753,"children":33754},{"style":447},[33755],{"type":21,"value":19276},{"type":15,"tag":252,"props":33757,"children":33758},{"class":254,"line":19683},[33759,33763,33767,33771,33775,33779,33783,33787,33791,33795,33800],{"type":15,"tag":252,"props":33760,"children":33761},{"style":259},[33762],{"type":21,"value":18575},{"type":15,"tag":252,"props":33764,"children":33765},{"style":601},[33766],{"type":21,"value":804},{"type":15,"tag":252,"props":33768,"children":33769},{"style":259},[33770],{"type":21,"value":5709},{"type":15,"tag":252,"props":33772,"children":33773},{"style":601},[33774],{"type":21,"value":804},{"type":15,"tag":252,"props":33776,"children":33777},{"style":259},[33778],{"type":21,"value":29936},{"type":15,"tag":252,"props":33780,"children":33781},{"style":447},[33782],{"type":21,"value":32071},{"type":15,"tag":252,"props":33784,"children":33785},{"style":601},[33786],{"type":21,"value":4054},{"type":15,"tag":252,"props":33788,"children":33789},{"style":276},[33790],{"type":21,"value":7244},{"type":15,"tag":252,"props":33792,"children":33793},{"style":601},[33794],{"type":21,"value":432},{"type":15,"tag":252,"props":33796,"children":33797},{"style":259},[33798],{"type":21,"value":33799},"compile_assert",{"type":15,"tag":252,"props":33801,"children":33802},{"style":447},[33803],{"type":21,"value":33804},"(expression, message),\n",{"type":15,"tag":252,"props":33806,"children":33807},{"class":254,"line":19691},[33808],{"type":15,"tag":252,"props":33809,"children":33810},{"style":447},[33811],{"type":21,"value":4087},{"type":15,"tag":252,"props":33813,"children":33814},{"class":254,"line":19699},[33815],{"type":15,"tag":252,"props":33816,"children":33817},{"style":447},[33818],{"type":21,"value":4095},{"type":15,"tag":23,"props":33820,"children":33821},{},[33822,33824,33829],{"type":21,"value":33823},"We create ourself a ",{"type":15,"tag":81,"props":33825,"children":33827},{"className":33826},[],[33828],{"type":21,"value":33366},{"type":21,"value":33830}," to make our job easier, then we create a branch. So",{"type":15,"tag":95,"props":33832,"children":33834},{"code":33833},"${\n    print 0;\n    assert true, \"oh no!\";\n    print 1;\n}\n",[33835],{"type":15,"tag":81,"props":33836,"children":33837},{"__ignoreMap":8},[33838],{"type":21,"value":33833},{"type":15,"tag":23,"props":33840,"children":33841},{},[33842,33844,33849,33850,33855,33857,33863],{"type":21,"value":33843},"If you run this you should see ",{"type":15,"tag":81,"props":33845,"children":33847},{"className":33846},[],[33848],{"type":21,"value":1901},{"type":21,"value":3071},{"type":15,"tag":81,"props":33851,"children":33853},{"className":33852},[],[33854],{"type":21,"value":6162},{"type":21,"value":33856}," printed, and if you run with ",{"type":15,"tag":81,"props":33858,"children":33860},{"className":33859},[],[33861],{"type":21,"value":33862},"--output-llvm",{"type":21,"value":33864}," you might have expected to see the assert code in there... but we dont? why?",{"type":15,"tag":23,"props":33866,"children":33867},{},[33868,33870,33876,33878,33883,33885,33890],{"type":21,"value":33869},"Optimizations! if you also run with ",{"type":15,"tag":81,"props":33871,"children":33873},{"className":33872},[],[33874],{"type":21,"value":33875},"--dont-optimize",{"type":21,"value":33877}," you now see the assert logic, but LLVM figured out that it is always True so just removed it! great for speed, but there is one downside, LLVM might remove code that weren't being used by accident. Say we had a bug that somehow caused our ",{"type":15,"tag":81,"props":33879,"children":33881},{"className":33880},[],[33882],{"type":21,"value":8304},{"type":21,"value":33884}," to give out the wrong result, llvm would just optimize away the comparison itself and just leave us with the code that would get run. oh no! that is why the ",{"type":15,"tag":81,"props":33886,"children":33888},{"className":33887},[],[33889],{"type":21,"value":33875},{"type":21,"value":33891}," flag is so important for debugging, if the llvm ir doesn't match what you would expect always try running with that first to see what we actually generated.",{"type":15,"tag":192,"props":33893,"children":33895},{"id":33894},"test-runner",[33896],{"type":21,"value":33897},"Test runner",{"type":15,"tag":23,"props":33899,"children":33900},{},[33901,33903,33909],{"type":21,"value":33902},"Well we got asserts, now lets write some tests! This is gonna be pretty simple, we will loop over all files in ",{"type":15,"tag":81,"props":33904,"children":33906},{"className":33905},[],[33907],{"type":21,"value":33908},"integration_tests/",{"type":21,"value":33910},", compile them then run them.",{"type":15,"tag":23,"props":33912,"children":33913},{},[33914],{"type":21,"value":33915},"Lets add some tests right now!",{"type":15,"tag":95,"props":33917,"children":33919},{"code":33918},"# integration_tests/assert.viv\n${\n    assert true, \"well this is awkward\";\n}\n",[33920],{"type":15,"tag":81,"props":33921,"children":33922},{"__ignoreMap":8},[33923],{"type":21,"value":33918},{"type":15,"tag":23,"props":33925,"children":33926},{},[33927],{"type":21,"value":33928},"Surely this should not fail! But you never known ",{"type":21,"value":33930},"\nWe will add a ",{"type":15,"tag":81,"props":33932,"children":33934},{"className":33933},[],[33935],{"type":21,"value":3594},{"type":21,"value":33937}," command to our CLI handler!",{"type":15,"tag":95,"props":33939,"children":33941},{"code":33940,"language":772,"meta":8,"className":773,"style":8},"#[derive(Subcommand)]\nenum CompilerCommand {\n    // ...\n    /// Compile and run all files in integration_tests/\n    Test,\n}\n\nfn run_test(file: &str) -> anyhow::Result\u003C()> {\n    print!(\"Running test: {file} ... \");\n\n    let output_file = temp_file::empty();\n    build(\n        file,\n        output_file.path().to_str().unwrap(),\n        CompilerOptions {\n            dont_optimize: false,\n            output_tokens: false,\n            output_ast: false,\n            output_ir: false,\n            output_llvm: false,\n        },\n    )?;\n    let output = std::process::Command::new(output_file.path())\n        .spawn()?\n        .wait()?;\n\n    if !output.success() {\n        println!(\"ERROR\");\n        Err(anyhow::anyhow!(\"Test failed: {}\", file))?;\n    } else {\n        println!(\"OK\");\n    }\n\n    Ok(())\n}\n\nfn run_tests() -> anyhow::Result\u003C()> {\n    for file in std::fs::read_dir(\"integration_tests\")? {\n        let file = file?;\n        let file_name = file.file_name().into_string().unwrap();\n        if file_name.ends_with(\".viv\") {\n            run_test(file.path().to_str().unwrap())?;\n        }\n    }\n\n    Ok(())\n}\n\nfn main() -> anyhow::Result\u003C()> {\n    // ...\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            // ...\n        }\n        CompilerCommand::Build {\n            input_file,\n            output_file,\n        } => {\n            // ...\n        }\n        CompilerCommand::Test => run_tests()?,  // \u003C--- here\n    }\n\n    Ok(())\n}\n",[33942],{"type":15,"tag":81,"props":33943,"children":33944},{"__ignoreMap":8},[33945,33960,33975,33982,33990,34002,34009,34016,34068,34089,34096,34127,34139,34147,34190,34202,34223,34243,34263,34283,34303,34311,34326,34385,34404,34427,34434,34462,34482,34527,34543,34563,34570,34577,34588,34595,34602,34638,34696,34724,34782,34816,34872,34879,34886,34893,34904,34911,34918,34953,34960,34967,34986,35013,35020,35027,35046,35053,35060,35075,35082,35089,35131,35139,35147,35159],{"type":15,"tag":252,"props":33946,"children":33947},{"class":254,"line":255},[33948,33952,33956],{"type":15,"tag":252,"props":33949,"children":33950},{"style":447},[33951],{"type":21,"value":3742},{"type":15,"tag":252,"props":33953,"children":33954},{"style":259},[33955],{"type":21,"value":3723},{"type":15,"tag":252,"props":33957,"children":33958},{"style":447},[33959],{"type":21,"value":3751},{"type":15,"tag":252,"props":33961,"children":33962},{"class":254,"line":334},[33963,33967,33971],{"type":15,"tag":252,"props":33964,"children":33965},{"style":601},[33966],{"type":21,"value":3759},{"type":15,"tag":252,"props":33968,"children":33969},{"style":259},[33970],{"type":21,"value":3764},{"type":15,"tag":252,"props":33972,"children":33973},{"style":447},[33974],{"type":21,"value":3769},{"type":15,"tag":252,"props":33976,"children":33977},{"class":254,"line":390},[33978],{"type":15,"tag":252,"props":33979,"children":33980},{"style":3287},[33981],{"type":21,"value":21839},{"type":15,"tag":252,"props":33983,"children":33984},{"class":254,"line":2077},[33985],{"type":15,"tag":252,"props":33986,"children":33987},{"style":3287},[33988],{"type":21,"value":33989},"    /// Compile and run all files in integration_tests/\n",{"type":15,"tag":252,"props":33991,"children":33992},{"class":254,"line":2110},[33993,33998],{"type":15,"tag":252,"props":33994,"children":33995},{"style":259},[33996],{"type":21,"value":33997},"    Test",{"type":15,"tag":252,"props":33999,"children":34000},{"style":447},[34001],{"type":21,"value":3879},{"type":15,"tag":252,"props":34003,"children":34004},{"class":254,"line":2150},[34005],{"type":15,"tag":252,"props":34006,"children":34007},{"style":447},[34008],{"type":21,"value":2854},{"type":15,"tag":252,"props":34010,"children":34011},{"class":254,"line":2182},[34012],{"type":15,"tag":252,"props":34013,"children":34014},{"emptyLinePlaceholder":2053},[34015],{"type":21,"value":2056},{"type":15,"tag":252,"props":34017,"children":34018},{"class":254,"line":2190},[34019,34023,34028,34032,34036,34040,34044,34048,34052,34056,34060,34064],{"type":15,"tag":252,"props":34020,"children":34021},{"style":601},[34022],{"type":21,"value":2064},{"type":15,"tag":252,"props":34024,"children":34025},{"style":259},[34026],{"type":21,"value":34027}," run_test",{"type":15,"tag":252,"props":34029,"children":34030},{"style":447},[34031],{"type":21,"value":4911},{"type":15,"tag":252,"props":34033,"children":34034},{"style":601},[34035],{"type":21,"value":3374},{"type":15,"tag":252,"props":34037,"children":34038},{"style":601},[34039],{"type":21,"value":4920},{"type":15,"tag":252,"props":34041,"children":34042},{"style":259},[34043],{"type":21,"value":4925},{"type":15,"tag":252,"props":34045,"children":34046},{"style":447},[34047],{"type":21,"value":4943},{"type":15,"tag":252,"props":34049,"children":34050},{"style":601},[34051],{"type":21,"value":3947},{"type":15,"tag":252,"props":34053,"children":34054},{"style":259},[34055],{"type":21,"value":3952},{"type":15,"tag":252,"props":34057,"children":34058},{"style":601},[34059],{"type":21,"value":804},{"type":15,"tag":252,"props":34061,"children":34062},{"style":259},[34063],{"type":21,"value":3961},{"type":15,"tag":252,"props":34065,"children":34066},{"style":447},[34067],{"type":21,"value":3966},{"type":15,"tag":252,"props":34069,"children":34070},{"class":254,"line":2222},[34071,34076,34080,34085],{"type":15,"tag":252,"props":34072,"children":34073},{"style":259},[34074],{"type":21,"value":34075},"    print!",{"type":15,"tag":252,"props":34077,"children":34078},{"style":447},[34079],{"type":21,"value":849},{"type":15,"tag":252,"props":34081,"children":34082},{"style":265},[34083],{"type":21,"value":34084},"\"Running test: {file} ... \"",{"type":15,"tag":252,"props":34086,"children":34087},{"style":447},[34088],{"type":21,"value":859},{"type":15,"tag":252,"props":34090,"children":34091},{"class":254,"line":2270},[34092],{"type":15,"tag":252,"props":34093,"children":34094},{"emptyLinePlaceholder":2053},[34095],{"type":21,"value":2056},{"type":15,"tag":252,"props":34097,"children":34098},{"class":254,"line":2302},[34099,34103,34107,34111,34115,34119,34123],{"type":15,"tag":252,"props":34100,"children":34101},{"style":601},[34102],{"type":21,"value":2083},{"type":15,"tag":252,"props":34104,"children":34105},{"style":447},[34106],{"type":21,"value":22232},{"type":15,"tag":252,"props":34108,"children":34109},{"style":601},[34110],{"type":21,"value":614},{"type":15,"tag":252,"props":34112,"children":34113},{"style":259},[34114],{"type":21,"value":20310},{"type":15,"tag":252,"props":34116,"children":34117},{"style":601},[34118],{"type":21,"value":804},{"type":15,"tag":252,"props":34120,"children":34121},{"style":259},[34122],{"type":21,"value":20319},{"type":15,"tag":252,"props":34124,"children":34125},{"style":447},[34126],{"type":21,"value":814},{"type":15,"tag":252,"props":34128,"children":34129},{"class":254,"line":2310},[34130,34135],{"type":15,"tag":252,"props":34131,"children":34132},{"style":259},[34133],{"type":21,"value":34134},"    build",{"type":15,"tag":252,"props":34136,"children":34137},{"style":447},[34138],{"type":21,"value":14196},{"type":15,"tag":252,"props":34140,"children":34141},{"class":254,"line":2370},[34142],{"type":15,"tag":252,"props":34143,"children":34144},{"style":447},[34145],{"type":21,"value":34146},"        file,\n",{"type":15,"tag":252,"props":34148,"children":34149},{"class":254,"line":2418},[34150,34154,34158,34162,34166,34170,34174,34178,34182,34186],{"type":15,"tag":252,"props":34151,"children":34152},{"style":447},[34153],{"type":21,"value":22740},{"type":15,"tag":252,"props":34155,"children":34156},{"style":601},[34157],{"type":21,"value":432},{"type":15,"tag":252,"props":34159,"children":34160},{"style":259},[34161],{"type":21,"value":19864},{"type":15,"tag":252,"props":34163,"children":34164},{"style":447},[34165],{"type":21,"value":7305},{"type":15,"tag":252,"props":34167,"children":34168},{"style":601},[34169],{"type":21,"value":432},{"type":15,"tag":252,"props":34171,"children":34172},{"style":259},[34173],{"type":21,"value":21996},{"type":15,"tag":252,"props":34175,"children":34176},{"style":447},[34177],{"type":21,"value":7305},{"type":15,"tag":252,"props":34179,"children":34180},{"style":601},[34181],{"type":21,"value":432},{"type":15,"tag":252,"props":34183,"children":34184},{"style":259},[34185],{"type":21,"value":1984},{"type":15,"tag":252,"props":34187,"children":34188},{"style":447},[34189],{"type":21,"value":10142},{"type":15,"tag":252,"props":34191,"children":34192},{"class":254,"line":2426},[34193,34198],{"type":15,"tag":252,"props":34194,"children":34195},{"style":259},[34196],{"type":21,"value":34197},"        CompilerOptions",{"type":15,"tag":252,"props":34199,"children":34200},{"style":447},[34201],{"type":21,"value":3769},{"type":15,"tag":252,"props":34203,"children":34204},{"class":254,"line":2474},[34205,34210,34214,34219],{"type":15,"tag":252,"props":34206,"children":34207},{"style":447},[34208],{"type":21,"value":34209},"            dont_optimize",{"type":15,"tag":252,"props":34211,"children":34212},{"style":601},[34213],{"type":21,"value":3374},{"type":15,"tag":252,"props":34215,"children":34216},{"style":276},[34217],{"type":21,"value":34218}," false",{"type":15,"tag":252,"props":34220,"children":34221},{"style":447},[34222],{"type":21,"value":3879},{"type":15,"tag":252,"props":34224,"children":34225},{"class":254,"line":2522},[34226,34231,34235,34239],{"type":15,"tag":252,"props":34227,"children":34228},{"style":447},[34229],{"type":21,"value":34230},"            output_tokens",{"type":15,"tag":252,"props":34232,"children":34233},{"style":601},[34234],{"type":21,"value":3374},{"type":15,"tag":252,"props":34236,"children":34237},{"style":276},[34238],{"type":21,"value":34218},{"type":15,"tag":252,"props":34240,"children":34241},{"style":447},[34242],{"type":21,"value":3879},{"type":15,"tag":252,"props":34244,"children":34245},{"class":254,"line":2530},[34246,34251,34255,34259],{"type":15,"tag":252,"props":34247,"children":34248},{"style":447},[34249],{"type":21,"value":34250},"            output_ast",{"type":15,"tag":252,"props":34252,"children":34253},{"style":601},[34254],{"type":21,"value":3374},{"type":15,"tag":252,"props":34256,"children":34257},{"style":276},[34258],{"type":21,"value":34218},{"type":15,"tag":252,"props":34260,"children":34261},{"style":447},[34262],{"type":21,"value":3879},{"type":15,"tag":252,"props":34264,"children":34265},{"class":254,"line":2570},[34266,34271,34275,34279],{"type":15,"tag":252,"props":34267,"children":34268},{"style":447},[34269],{"type":21,"value":34270},"            output_ir",{"type":15,"tag":252,"props":34272,"children":34273},{"style":601},[34274],{"type":21,"value":3374},{"type":15,"tag":252,"props":34276,"children":34277},{"style":276},[34278],{"type":21,"value":34218},{"type":15,"tag":252,"props":34280,"children":34281},{"style":447},[34282],{"type":21,"value":3879},{"type":15,"tag":252,"props":34284,"children":34285},{"class":254,"line":2591},[34286,34291,34295,34299],{"type":15,"tag":252,"props":34287,"children":34288},{"style":447},[34289],{"type":21,"value":34290},"            output_llvm",{"type":15,"tag":252,"props":34292,"children":34293},{"style":601},[34294],{"type":21,"value":3374},{"type":15,"tag":252,"props":34296,"children":34297},{"style":276},[34298],{"type":21,"value":34218},{"type":15,"tag":252,"props":34300,"children":34301},{"style":447},[34302],{"type":21,"value":3879},{"type":15,"tag":252,"props":34304,"children":34305},{"class":254,"line":2599},[34306],{"type":15,"tag":252,"props":34307,"children":34308},{"style":447},[34309],{"type":21,"value":34310},"        },\n",{"type":15,"tag":252,"props":34312,"children":34313},{"class":254,"line":2647},[34314,34318,34322],{"type":15,"tag":252,"props":34315,"children":34316},{"style":447},[34317],{"type":21,"value":22064},{"type":15,"tag":252,"props":34319,"children":34320},{"style":601},[34321],{"type":21,"value":5468},{"type":15,"tag":252,"props":34323,"children":34324},{"style":447},[34325],{"type":21,"value":3325},{"type":15,"tag":252,"props":34327,"children":34328},{"class":254,"line":2679},[34329,34333,34337,34341,34345,34349,34353,34357,34361,34365,34369,34373,34377,34381],{"type":15,"tag":252,"props":34330,"children":34331},{"style":601},[34332],{"type":21,"value":2083},{"type":15,"tag":252,"props":34334,"children":34335},{"style":447},[34336],{"type":21,"value":22387},{"type":15,"tag":252,"props":34338,"children":34339},{"style":601},[34340],{"type":21,"value":614},{"type":15,"tag":252,"props":34342,"children":34343},{"style":259},[34344],{"type":21,"value":6894},{"type":15,"tag":252,"props":34346,"children":34347},{"style":601},[34348],{"type":21,"value":804},{"type":15,"tag":252,"props":34350,"children":34351},{"style":259},[34352],{"type":21,"value":21114},{"type":15,"tag":252,"props":34354,"children":34355},{"style":601},[34356],{"type":21,"value":804},{"type":15,"tag":252,"props":34358,"children":34359},{"style":259},[34360],{"type":21,"value":21123},{"type":15,"tag":252,"props":34362,"children":34363},{"style":601},[34364],{"type":21,"value":804},{"type":15,"tag":252,"props":34366,"children":34367},{"style":259},[34368],{"type":21,"value":7761},{"type":15,"tag":252,"props":34370,"children":34371},{"style":447},[34372],{"type":21,"value":22424},{"type":15,"tag":252,"props":34374,"children":34375},{"style":601},[34376],{"type":21,"value":432},{"type":15,"tag":252,"props":34378,"children":34379},{"style":259},[34380],{"type":21,"value":19864},{"type":15,"tag":252,"props":34382,"children":34383},{"style":447},[34384],{"type":21,"value":22437},{"type":15,"tag":252,"props":34386,"children":34387},{"class":254,"line":2727},[34388,34392,34396,34400],{"type":15,"tag":252,"props":34389,"children":34390},{"style":601},[34391],{"type":21,"value":21144},{"type":15,"tag":252,"props":34393,"children":34394},{"style":259},[34395],{"type":21,"value":21185},{"type":15,"tag":252,"props":34397,"children":34398},{"style":447},[34399],{"type":21,"value":7305},{"type":15,"tag":252,"props":34401,"children":34402},{"style":601},[34403],{"type":21,"value":12564},{"type":15,"tag":252,"props":34405,"children":34406},{"class":254,"line":2735},[34407,34411,34415,34419,34423],{"type":15,"tag":252,"props":34408,"children":34409},{"style":601},[34410],{"type":21,"value":21144},{"type":15,"tag":252,"props":34412,"children":34413},{"style":259},[34414],{"type":21,"value":21205},{"type":15,"tag":252,"props":34416,"children":34417},{"style":447},[34418],{"type":21,"value":7305},{"type":15,"tag":252,"props":34420,"children":34421},{"style":601},[34422],{"type":21,"value":5468},{"type":15,"tag":252,"props":34424,"children":34425},{"style":447},[34426],{"type":21,"value":3325},{"type":15,"tag":252,"props":34428,"children":34429},{"class":254,"line":2799},[34430],{"type":15,"tag":252,"props":34431,"children":34432},{"emptyLinePlaceholder":2053},[34433],{"type":21,"value":2056},{"type":15,"tag":252,"props":34435,"children":34436},{"class":254,"line":2807},[34437,34441,34445,34450,34454,34458],{"type":15,"tag":252,"props":34438,"children":34439},{"style":601},[34440],{"type":21,"value":10611},{"type":15,"tag":252,"props":34442,"children":34443},{"style":601},[34444],{"type":21,"value":19905},{"type":15,"tag":252,"props":34446,"children":34447},{"style":447},[34448],{"type":21,"value":34449},"output",{"type":15,"tag":252,"props":34451,"children":34452},{"style":601},[34453],{"type":21,"value":432},{"type":15,"tag":252,"props":34455,"children":34456},{"style":259},[34457],{"type":21,"value":21225},{"type":15,"tag":252,"props":34459,"children":34460},{"style":447},[34461],{"type":21,"value":2074},{"type":15,"tag":252,"props":34463,"children":34464},{"class":254,"line":2848},[34465,34469,34473,34478],{"type":15,"tag":252,"props":34466,"children":34467},{"style":259},[34468],{"type":21,"value":10822},{"type":15,"tag":252,"props":34470,"children":34471},{"style":447},[34472],{"type":21,"value":849},{"type":15,"tag":252,"props":34474,"children":34475},{"style":265},[34476],{"type":21,"value":34477},"\"ERROR\"",{"type":15,"tag":252,"props":34479,"children":34480},{"style":447},[34481],{"type":21,"value":859},{"type":15,"tag":252,"props":34483,"children":34484},{"class":254,"line":4645},[34485,34489,34493,34497,34501,34505,34509,34514,34519,34523],{"type":15,"tag":252,"props":34486,"children":34487},{"style":259},[34488],{"type":21,"value":7925},{"type":15,"tag":252,"props":34490,"children":34491},{"style":447},[34492],{"type":21,"value":849},{"type":15,"tag":252,"props":34494,"children":34495},{"style":259},[34496],{"type":21,"value":3472},{"type":15,"tag":252,"props":34498,"children":34499},{"style":601},[34500],{"type":21,"value":804},{"type":15,"tag":252,"props":34502,"children":34503},{"style":259},[34504],{"type":21,"value":21075},{"type":15,"tag":252,"props":34506,"children":34507},{"style":447},[34508],{"type":21,"value":849},{"type":15,"tag":252,"props":34510,"children":34511},{"style":265},[34512],{"type":21,"value":34513},"\"Test failed: {}\"",{"type":15,"tag":252,"props":34515,"children":34516},{"style":447},[34517],{"type":21,"value":34518},", file))",{"type":15,"tag":252,"props":34520,"children":34521},{"style":601},[34522],{"type":21,"value":5468},{"type":15,"tag":252,"props":34524,"children":34525},{"style":447},[34526],{"type":21,"value":3325},{"type":15,"tag":252,"props":34528,"children":34529},{"class":254,"line":4654},[34530,34535,34539],{"type":15,"tag":252,"props":34531,"children":34532},{"style":447},[34533],{"type":21,"value":34534},"    } ",{"type":15,"tag":252,"props":34536,"children":34537},{"style":601},[34538],{"type":21,"value":8396},{"type":15,"tag":252,"props":34540,"children":34541},{"style":447},[34542],{"type":21,"value":3769},{"type":15,"tag":252,"props":34544,"children":34545},{"class":254,"line":4675},[34546,34550,34554,34559],{"type":15,"tag":252,"props":34547,"children":34548},{"style":259},[34549],{"type":21,"value":10822},{"type":15,"tag":252,"props":34551,"children":34552},{"style":447},[34553],{"type":21,"value":849},{"type":15,"tag":252,"props":34555,"children":34556},{"style":265},[34557],{"type":21,"value":34558},"\"OK\"",{"type":15,"tag":252,"props":34560,"children":34561},{"style":447},[34562],{"type":21,"value":859},{"type":15,"tag":252,"props":34564,"children":34565},{"class":254,"line":8160},[34566],{"type":15,"tag":252,"props":34567,"children":34568},{"style":447},[34569],{"type":21,"value":4095},{"type":15,"tag":252,"props":34571,"children":34572},{"class":254,"line":8168},[34573],{"type":15,"tag":252,"props":34574,"children":34575},{"emptyLinePlaceholder":2053},[34576],{"type":21,"value":2056},{"type":15,"tag":252,"props":34578,"children":34579},{"class":254,"line":8176},[34580,34584],{"type":15,"tag":252,"props":34581,"children":34582},{"style":259},[34583],{"type":21,"value":4110},{"type":15,"tag":252,"props":34585,"children":34586},{"style":447},[34587],{"type":21,"value":4115},{"type":15,"tag":252,"props":34589,"children":34590},{"class":254,"line":8225},[34591],{"type":15,"tag":252,"props":34592,"children":34593},{"style":447},[34594],{"type":21,"value":2854},{"type":15,"tag":252,"props":34596,"children":34597},{"class":254,"line":8289},[34598],{"type":15,"tag":252,"props":34599,"children":34600},{"emptyLinePlaceholder":2053},[34601],{"type":21,"value":2056},{"type":15,"tag":252,"props":34603,"children":34604},{"class":254,"line":8326},[34605,34609,34614,34618,34622,34626,34630,34634],{"type":15,"tag":252,"props":34606,"children":34607},{"style":601},[34608],{"type":21,"value":2064},{"type":15,"tag":252,"props":34610,"children":34611},{"style":259},[34612],{"type":21,"value":34613}," run_tests",{"type":15,"tag":252,"props":34615,"children":34616},{"style":447},[34617],{"type":21,"value":3942},{"type":15,"tag":252,"props":34619,"children":34620},{"style":601},[34621],{"type":21,"value":3947},{"type":15,"tag":252,"props":34623,"children":34624},{"style":259},[34625],{"type":21,"value":3952},{"type":15,"tag":252,"props":34627,"children":34628},{"style":601},[34629],{"type":21,"value":804},{"type":15,"tag":252,"props":34631,"children":34632},{"style":259},[34633],{"type":21,"value":3961},{"type":15,"tag":252,"props":34635,"children":34636},{"style":447},[34637],{"type":21,"value":3966},{"type":15,"tag":252,"props":34639,"children":34640},{"class":254,"line":8357},[34641,34645,34650,34654,34658,34662,34666,34670,34675,34679,34684,34688,34692],{"type":15,"tag":252,"props":34642,"children":34643},{"style":601},[34644],{"type":21,"value":16116},{"type":15,"tag":252,"props":34646,"children":34647},{"style":447},[34648],{"type":21,"value":34649}," file ",{"type":15,"tag":252,"props":34651,"children":34652},{"style":601},[34653],{"type":21,"value":16126},{"type":15,"tag":252,"props":34655,"children":34656},{"style":259},[34657],{"type":21,"value":6894},{"type":15,"tag":252,"props":34659,"children":34660},{"style":601},[34661],{"type":21,"value":804},{"type":15,"tag":252,"props":34663,"children":34664},{"style":259},[34665],{"type":21,"value":16379},{"type":15,"tag":252,"props":34667,"children":34668},{"style":601},[34669],{"type":21,"value":804},{"type":15,"tag":252,"props":34671,"children":34672},{"style":259},[34673],{"type":21,"value":34674},"read_dir",{"type":15,"tag":252,"props":34676,"children":34677},{"style":447},[34678],{"type":21,"value":849},{"type":15,"tag":252,"props":34680,"children":34681},{"style":265},[34682],{"type":21,"value":34683},"\"integration_tests\"",{"type":15,"tag":252,"props":34685,"children":34686},{"style":447},[34687],{"type":21,"value":1975},{"type":15,"tag":252,"props":34689,"children":34690},{"style":601},[34691],{"type":21,"value":5468},{"type":15,"tag":252,"props":34693,"children":34694},{"style":447},[34695],{"type":21,"value":3769},{"type":15,"tag":252,"props":34697,"children":34698},{"class":254,"line":8385},[34699,34703,34707,34711,34716,34720],{"type":15,"tag":252,"props":34700,"children":34701},{"style":601},[34702],{"type":21,"value":8231},{"type":15,"tag":252,"props":34704,"children":34705},{"style":447},[34706],{"type":21,"value":34649},{"type":15,"tag":252,"props":34708,"children":34709},{"style":601},[34710],{"type":21,"value":614},{"type":15,"tag":252,"props":34712,"children":34713},{"style":447},[34714],{"type":21,"value":34715}," file",{"type":15,"tag":252,"props":34717,"children":34718},{"style":601},[34719],{"type":21,"value":5468},{"type":15,"tag":252,"props":34721,"children":34722},{"style":447},[34723],{"type":21,"value":3325},{"type":15,"tag":252,"props":34725,"children":34726},{"class":254,"line":8403},[34727,34731,34736,34740,34744,34748,34753,34757,34761,34766,34770,34774,34778],{"type":15,"tag":252,"props":34728,"children":34729},{"style":601},[34730],{"type":21,"value":8231},{"type":15,"tag":252,"props":34732,"children":34733},{"style":447},[34734],{"type":21,"value":34735}," file_name ",{"type":15,"tag":252,"props":34737,"children":34738},{"style":601},[34739],{"type":21,"value":614},{"type":15,"tag":252,"props":34741,"children":34742},{"style":447},[34743],{"type":21,"value":34715},{"type":15,"tag":252,"props":34745,"children":34746},{"style":601},[34747],{"type":21,"value":432},{"type":15,"tag":252,"props":34749,"children":34750},{"style":259},[34751],{"type":21,"value":34752},"file_name",{"type":15,"tag":252,"props":34754,"children":34755},{"style":447},[34756],{"type":21,"value":7305},{"type":15,"tag":252,"props":34758,"children":34759},{"style":601},[34760],{"type":21,"value":432},{"type":15,"tag":252,"props":34762,"children":34763},{"style":259},[34764],{"type":21,"value":34765},"into_string",{"type":15,"tag":252,"props":34767,"children":34768},{"style":447},[34769],{"type":21,"value":7305},{"type":15,"tag":252,"props":34771,"children":34772},{"style":601},[34773],{"type":21,"value":432},{"type":15,"tag":252,"props":34775,"children":34776},{"style":259},[34777],{"type":21,"value":1984},{"type":15,"tag":252,"props":34779,"children":34780},{"style":447},[34781],{"type":21,"value":814},{"type":15,"tag":252,"props":34783,"children":34784},{"class":254,"line":8432},[34785,34789,34794,34798,34803,34807,34812],{"type":15,"tag":252,"props":34786,"children":34787},{"style":601},[34788],{"type":21,"value":8295},{"type":15,"tag":252,"props":34790,"children":34791},{"style":447},[34792],{"type":21,"value":34793}," file_name",{"type":15,"tag":252,"props":34795,"children":34796},{"style":601},[34797],{"type":21,"value":432},{"type":15,"tag":252,"props":34799,"children":34800},{"style":259},[34801],{"type":21,"value":34802},"ends_with",{"type":15,"tag":252,"props":34804,"children":34805},{"style":447},[34806],{"type":21,"value":849},{"type":15,"tag":252,"props":34808,"children":34809},{"style":265},[34810],{"type":21,"value":34811},"\".viv\"",{"type":15,"tag":252,"props":34813,"children":34814},{"style":447},[34815],{"type":21,"value":7370},{"type":15,"tag":252,"props":34817,"children":34818},{"class":254,"line":8440},[34819,34824,34828,34832,34836,34840,34844,34848,34852,34856,34860,34864,34868],{"type":15,"tag":252,"props":34820,"children":34821},{"style":259},[34822],{"type":21,"value":34823},"            run_test",{"type":15,"tag":252,"props":34825,"children":34826},{"style":447},[34827],{"type":21,"value":4911},{"type":15,"tag":252,"props":34829,"children":34830},{"style":601},[34831],{"type":21,"value":432},{"type":15,"tag":252,"props":34833,"children":34834},{"style":259},[34835],{"type":21,"value":19864},{"type":15,"tag":252,"props":34837,"children":34838},{"style":447},[34839],{"type":21,"value":7305},{"type":15,"tag":252,"props":34841,"children":34842},{"style":601},[34843],{"type":21,"value":432},{"type":15,"tag":252,"props":34845,"children":34846},{"style":259},[34847],{"type":21,"value":21996},{"type":15,"tag":252,"props":34849,"children":34850},{"style":447},[34851],{"type":21,"value":7305},{"type":15,"tag":252,"props":34853,"children":34854},{"style":601},[34855],{"type":21,"value":432},{"type":15,"tag":252,"props":34857,"children":34858},{"style":259},[34859],{"type":21,"value":1984},{"type":15,"tag":252,"props":34861,"children":34862},{"style":447},[34863],{"type":21,"value":30346},{"type":15,"tag":252,"props":34865,"children":34866},{"style":601},[34867],{"type":21,"value":5468},{"type":15,"tag":252,"props":34869,"children":34870},{"style":447},[34871],{"type":21,"value":3325},{"type":15,"tag":252,"props":34873,"children":34874},{"class":254,"line":8454},[34875],{"type":15,"tag":252,"props":34876,"children":34877},{"style":447},[34878],{"type":21,"value":4087},{"type":15,"tag":252,"props":34880,"children":34881},{"class":254,"line":8462},[34882],{"type":15,"tag":252,"props":34883,"children":34884},{"style":447},[34885],{"type":21,"value":4095},{"type":15,"tag":252,"props":34887,"children":34888},{"class":254,"line":8470},[34889],{"type":15,"tag":252,"props":34890,"children":34891},{"emptyLinePlaceholder":2053},[34892],{"type":21,"value":2056},{"type":15,"tag":252,"props":34894,"children":34895},{"class":254,"line":8498},[34896,34900],{"type":15,"tag":252,"props":34897,"children":34898},{"style":259},[34899],{"type":21,"value":4110},{"type":15,"tag":252,"props":34901,"children":34902},{"style":447},[34903],{"type":21,"value":4115},{"type":15,"tag":252,"props":34905,"children":34906},{"class":254,"line":8518},[34907],{"type":15,"tag":252,"props":34908,"children":34909},{"style":447},[34910],{"type":21,"value":2854},{"type":15,"tag":252,"props":34912,"children":34913},{"class":254,"line":8526},[34914],{"type":15,"tag":252,"props":34915,"children":34916},{"emptyLinePlaceholder":2053},[34917],{"type":21,"value":2056},{"type":15,"tag":252,"props":34919,"children":34920},{"class":254,"line":19392},[34921,34925,34929,34933,34937,34941,34945,34949],{"type":15,"tag":252,"props":34922,"children":34923},{"style":601},[34924],{"type":21,"value":2064},{"type":15,"tag":252,"props":34926,"children":34927},{"style":259},[34928],{"type":21,"value":2069},{"type":15,"tag":252,"props":34930,"children":34931},{"style":447},[34932],{"type":21,"value":3942},{"type":15,"tag":252,"props":34934,"children":34935},{"style":601},[34936],{"type":21,"value":3947},{"type":15,"tag":252,"props":34938,"children":34939},{"style":259},[34940],{"type":21,"value":3952},{"type":15,"tag":252,"props":34942,"children":34943},{"style":601},[34944],{"type":21,"value":804},{"type":15,"tag":252,"props":34946,"children":34947},{"style":259},[34948],{"type":21,"value":3961},{"type":15,"tag":252,"props":34950,"children":34951},{"style":447},[34952],{"type":21,"value":3966},{"type":15,"tag":252,"props":34954,"children":34955},{"class":254,"line":19432},[34956],{"type":15,"tag":252,"props":34957,"children":34958},{"style":3287},[34959],{"type":21,"value":21839},{"type":15,"tag":252,"props":34961,"children":34962},{"class":254,"line":19481},[34963],{"type":15,"tag":252,"props":34964,"children":34965},{"emptyLinePlaceholder":2053},[34966],{"type":21,"value":2056},{"type":15,"tag":252,"props":34968,"children":34969},{"class":254,"line":19539},[34970,34974,34978,34982],{"type":15,"tag":252,"props":34971,"children":34972},{"style":601},[34973],{"type":21,"value":4014},{"type":15,"tag":252,"props":34975,"children":34976},{"style":447},[34977],{"type":21,"value":4019},{"type":15,"tag":252,"props":34979,"children":34980},{"style":601},[34981],{"type":21,"value":432},{"type":15,"tag":252,"props":34983,"children":34984},{"style":447},[34985],{"type":21,"value":4028},{"type":15,"tag":252,"props":34987,"children":34988},{"class":254,"line":19588},[34989,34993,34997,35001,35005,35009],{"type":15,"tag":252,"props":34990,"children":34991},{"style":259},[34992],{"type":21,"value":4036},{"type":15,"tag":252,"props":34994,"children":34995},{"style":601},[34996],{"type":21,"value":804},{"type":15,"tag":252,"props":34998,"children":34999},{"style":259},[35000],{"type":21,"value":3576},{"type":15,"tag":252,"props":35002,"children":35003},{"style":447},[35004],{"type":21,"value":4049},{"type":15,"tag":252,"props":35006,"children":35007},{"style":601},[35008],{"type":21,"value":4054},{"type":15,"tag":252,"props":35010,"children":35011},{"style":447},[35012],{"type":21,"value":3769},{"type":15,"tag":252,"props":35014,"children":35015},{"class":254,"line":19616},[35016],{"type":15,"tag":252,"props":35017,"children":35018},{"style":3287},[35019],{"type":21,"value":22842},{"type":15,"tag":252,"props":35021,"children":35022},{"class":254,"line":19624},[35023],{"type":15,"tag":252,"props":35024,"children":35025},{"style":447},[35026],{"type":21,"value":4087},{"type":15,"tag":252,"props":35028,"children":35029},{"class":254,"line":19661},[35030,35034,35038,35042],{"type":15,"tag":252,"props":35031,"children":35032},{"style":259},[35033],{"type":21,"value":4036},{"type":15,"tag":252,"props":35035,"children":35036},{"style":601},[35037],{"type":21,"value":804},{"type":15,"tag":252,"props":35039,"children":35040},{"style":259},[35041],{"type":21,"value":22865},{"type":15,"tag":252,"props":35043,"children":35044},{"style":447},[35045],{"type":21,"value":3769},{"type":15,"tag":252,"props":35047,"children":35048},{"class":254,"line":19683},[35049],{"type":15,"tag":252,"props":35050,"children":35051},{"style":447},[35052],{"type":21,"value":22877},{"type":15,"tag":252,"props":35054,"children":35055},{"class":254,"line":19691},[35056],{"type":15,"tag":252,"props":35057,"children":35058},{"style":447},[35059],{"type":21,"value":22885},{"type":15,"tag":252,"props":35061,"children":35062},{"class":254,"line":19699},[35063,35067,35071],{"type":15,"tag":252,"props":35064,"children":35065},{"style":447},[35066],{"type":21,"value":8391},{"type":15,"tag":252,"props":35068,"children":35069},{"style":601},[35070],{"type":21,"value":4054},{"type":15,"tag":252,"props":35072,"children":35073},{"style":447},[35074],{"type":21,"value":3769},{"type":15,"tag":252,"props":35076,"children":35077},{"class":254,"line":19715},[35078],{"type":15,"tag":252,"props":35079,"children":35080},{"style":3287},[35081],{"type":21,"value":22842},{"type":15,"tag":252,"props":35083,"children":35084},{"class":254,"line":19775},[35085],{"type":15,"tag":252,"props":35086,"children":35087},{"style":447},[35088],{"type":21,"value":4087},{"type":15,"tag":252,"props":35090,"children":35092},{"class":254,"line":35091},62,[35093,35097,35101,35106,35110,35114,35118,35122,35126],{"type":15,"tag":252,"props":35094,"children":35095},{"style":259},[35096],{"type":21,"value":4036},{"type":15,"tag":252,"props":35098,"children":35099},{"style":601},[35100],{"type":21,"value":804},{"type":15,"tag":252,"props":35102,"children":35103},{"style":259},[35104],{"type":21,"value":35105},"Test",{"type":15,"tag":252,"props":35107,"children":35108},{"style":601},[35109],{"type":21,"value":9226},{"type":15,"tag":252,"props":35111,"children":35112},{"style":259},[35113],{"type":21,"value":34613},{"type":15,"tag":252,"props":35115,"children":35116},{"style":447},[35117],{"type":21,"value":7305},{"type":15,"tag":252,"props":35119,"children":35120},{"style":601},[35121],{"type":21,"value":5468},{"type":15,"tag":252,"props":35123,"children":35124},{"style":447},[35125],{"type":21,"value":29586},{"type":15,"tag":252,"props":35127,"children":35128},{"style":3287},[35129],{"type":21,"value":35130},"  // \u003C--- here\n",{"type":15,"tag":252,"props":35132,"children":35134},{"class":254,"line":35133},63,[35135],{"type":15,"tag":252,"props":35136,"children":35137},{"style":447},[35138],{"type":21,"value":4095},{"type":15,"tag":252,"props":35140,"children":35142},{"class":254,"line":35141},64,[35143],{"type":15,"tag":252,"props":35144,"children":35145},{"emptyLinePlaceholder":2053},[35146],{"type":21,"value":2056},{"type":15,"tag":252,"props":35148,"children":35150},{"class":254,"line":35149},65,[35151,35155],{"type":15,"tag":252,"props":35152,"children":35153},{"style":259},[35154],{"type":21,"value":4110},{"type":15,"tag":252,"props":35156,"children":35157},{"style":447},[35158],{"type":21,"value":4115},{"type":15,"tag":252,"props":35160,"children":35162},{"class":254,"line":35161},66,[35163],{"type":15,"tag":252,"props":35164,"children":35165},{"style":447},[35166],{"type":21,"value":2854},{"type":15,"tag":23,"props":35168,"children":35169},{},[35170,35172,35178],{"type":21,"value":35171},"Now you can run ",{"type":15,"tag":81,"props":35173,"children":35175},{"className":35174},[],[35176],{"type":21,"value":35177},"cargo run -- test",{"type":21,"value":35179}," and it should run the test.",{"type":15,"tag":192,"props":35181,"children":35183},{"id":35182},"comparison",[35184],{"type":21,"value":35185},"Comparison",{"type":15,"tag":23,"props":35187,"children":35188},{},[35189,35191,35196],{"type":21,"value":35190},"Okay time to implement ",{"type":15,"tag":81,"props":35192,"children":35194},{"className":35193},[],[35195],{"type":21,"value":8304},{"type":21,"value":35197}," so we can actually test stuff! We will implement this for numbers, then in the next blog post we will add other comparisons, logic operators and binary ops.",{"type":15,"tag":59,"props":35199,"children":35201},{"id":35200},"tests",[35202],{"type":21,"value":35203},"Tests",{"type":15,"tag":23,"props":35205,"children":35206},{},[35207],{"type":21,"value":35208},"Now we are going to start doing some TTD, so lets write some tests first!",{"type":15,"tag":95,"props":35210,"children":35212},{"code":35211},"# integration_tests/comparison.viv\n${\n    assert 1 == 1, \"1 should be equal to itself\";\n}\n",[35213],{"type":15,"tag":81,"props":35214,"children":35215},{"__ignoreMap":8},[35216],{"type":21,"value":35211},{"type":15,"tag":59,"props":35218,"children":35220},{"id":35219},"parsing-3",[35221],{"type":21,"value":5541},{"type":15,"tag":23,"props":35223,"children":35224},{},[35225,35227,35232,35234,35240,35242,35247],{"type":21,"value":35226},"Now we are getting into double symbols, we could have just a ",{"type":15,"tag":81,"props":35228,"children":35230},{"className":35229},[],[35231],{"type":21,"value":6443},{"type":21,"value":35233}," symbol, but, we will have a ",{"type":15,"tag":81,"props":35235,"children":35237},{"className":35236},[],[35238],{"type":21,"value":35239},"EqEq",{"type":21,"value":35241}," token, we will also add ",{"type":15,"tag":81,"props":35243,"children":35245},{"className":35244},[],[35246],{"type":21,"value":6443},{"type":21,"value":35248}," at this time even though we wont use it yet.",{"type":15,"tag":95,"props":35250,"children":35252},{"code":35251,"language":772,"meta":8,"className":773,"style":8},"// parsing/tokens.rs\n#[derive(Debug, PartialEq, Eq)]\npub enum TokenType {\n    // ...\n    Eq,\n    EqEq,\n}\n",[35253],{"type":15,"tag":81,"props":35254,"children":35255},{"__ignoreMap":8},[35256,35263,35294,35313,35320,35332,35344],{"type":15,"tag":252,"props":35257,"children":35258},{"class":254,"line":255},[35259],{"type":15,"tag":252,"props":35260,"children":35261},{"style":3287},[35262],{"type":21,"value":7551},{"type":15,"tag":252,"props":35264,"children":35265},{"class":254,"line":334},[35266,35270,35274,35278,35282,35286,35290],{"type":15,"tag":252,"props":35267,"children":35268},{"style":447},[35269],{"type":21,"value":3742},{"type":15,"tag":252,"props":35271,"children":35272},{"style":259},[35273],{"type":21,"value":5788},{"type":15,"tag":252,"props":35275,"children":35276},{"style":447},[35277],{"type":21,"value":1076},{"type":15,"tag":252,"props":35279,"children":35280},{"style":259},[35281],{"type":21,"value":6434},{"type":15,"tag":252,"props":35283,"children":35284},{"style":447},[35285],{"type":21,"value":1076},{"type":15,"tag":252,"props":35287,"children":35288},{"style":259},[35289],{"type":21,"value":6443},{"type":15,"tag":252,"props":35291,"children":35292},{"style":447},[35293],{"type":21,"value":3751},{"type":15,"tag":252,"props":35295,"children":35296},{"class":254,"line":390},[35297,35301,35305,35309],{"type":15,"tag":252,"props":35298,"children":35299},{"style":601},[35300],{"type":21,"value":4740},{"type":15,"tag":252,"props":35302,"children":35303},{"style":601},[35304],{"type":21,"value":5869},{"type":15,"tag":252,"props":35306,"children":35307},{"style":259},[35308],{"type":21,"value":6463},{"type":15,"tag":252,"props":35310,"children":35311},{"style":447},[35312],{"type":21,"value":3769},{"type":15,"tag":252,"props":35314,"children":35315},{"class":254,"line":2077},[35316],{"type":15,"tag":252,"props":35317,"children":35318},{"style":3287},[35319],{"type":21,"value":21839},{"type":15,"tag":252,"props":35321,"children":35322},{"class":254,"line":2110},[35323,35328],{"type":15,"tag":252,"props":35324,"children":35325},{"style":259},[35326],{"type":21,"value":35327},"    Eq",{"type":15,"tag":252,"props":35329,"children":35330},{"style":447},[35331],{"type":21,"value":3879},{"type":15,"tag":252,"props":35333,"children":35334},{"class":254,"line":2150},[35335,35340],{"type":15,"tag":252,"props":35336,"children":35337},{"style":259},[35338],{"type":21,"value":35339},"    EqEq",{"type":15,"tag":252,"props":35341,"children":35342},{"style":447},[35343],{"type":21,"value":3879},{"type":15,"tag":252,"props":35345,"children":35346},{"class":254,"line":2182},[35347],{"type":15,"tag":252,"props":35348,"children":35349},{"style":447},[35350],{"type":21,"value":2854},{"type":15,"tag":23,"props":35352,"children":35353},{},[35354],{"type":21,"value":35355},"We will add a function to help us eat these double symbols",{"type":15,"tag":95,"props":35357,"children":35359},{"code":35358,"language":772,"meta":8,"className":773,"style":8},"    fn consume_double_symbol(\n        &mut self,\n        next_char: char,\n        single_token: TokenType,\n        double_token: TokenType,\n    ) -> Token {\n        self.void();\n        if let Ok(c) = self.code.peek() {\n            if c == &next_char {\n                self.void();\n                self.token(double_token)\n            } else {\n                self.token(single_token)\n            }\n        } else {\n            self.token(single_token)\n        }\n    }\n\n    pub fn tokenize(mut self) -> Result\u003CVec\u003CToken>, TokenizerError> {\n        let mut tokens = Vec::new();\n        while let Ok(&c) = self.code.peek() {\n            match c {\n                // ..\n                '=' => tokens.push(self.consume_double_symbol('=', TokenType::Eq, TokenType::EqEq)),\n                _ => {\n                    // ...\n                }\n            }\n        }\n        tokens.push(self.token(TokenType::Eof));\n        Ok(tokens)\n    }\n",[35360],{"type":15,"tag":81,"props":35361,"children":35362},{"__ignoreMap":8},[35363,35379,35395,35415,35435,35455,35474,35493,35540,35564,35583,35603,35618,35638,35645,35660,35679,35686,35693,35700,35767,35802,35857,35868,35876,35962,35977,35985,35992,35999,36006,36057,36068],{"type":15,"tag":252,"props":35364,"children":35365},{"class":254,"line":255},[35366,35370,35375],{"type":15,"tag":252,"props":35367,"children":35368},{"style":601},[35369],{"type":21,"value":7146},{"type":15,"tag":252,"props":35371,"children":35372},{"style":259},[35373],{"type":21,"value":35374}," consume_double_symbol",{"type":15,"tag":252,"props":35376,"children":35377},{"style":447},[35378],{"type":21,"value":14196},{"type":15,"tag":252,"props":35380,"children":35381},{"class":254,"line":334},[35382,35387,35391],{"type":15,"tag":252,"props":35383,"children":35384},{"style":601},[35385],{"type":21,"value":35386},"        &mut",{"type":15,"tag":252,"props":35388,"children":35389},{"style":276},[35390],{"type":21,"value":7244},{"type":15,"tag":252,"props":35392,"children":35393},{"style":447},[35394],{"type":21,"value":3879},{"type":15,"tag":252,"props":35396,"children":35397},{"class":254,"line":390},[35398,35403,35407,35411],{"type":15,"tag":252,"props":35399,"children":35400},{"style":447},[35401],{"type":21,"value":35402},"        next_char",{"type":15,"tag":252,"props":35404,"children":35405},{"style":601},[35406],{"type":21,"value":3374},{"type":15,"tag":252,"props":35408,"children":35409},{"style":259},[35410],{"type":21,"value":6636},{"type":15,"tag":252,"props":35412,"children":35413},{"style":447},[35414],{"type":21,"value":3879},{"type":15,"tag":252,"props":35416,"children":35417},{"class":254,"line":2077},[35418,35423,35427,35431],{"type":15,"tag":252,"props":35419,"children":35420},{"style":447},[35421],{"type":21,"value":35422},"        single_token",{"type":15,"tag":252,"props":35424,"children":35425},{"style":601},[35426],{"type":21,"value":3374},{"type":15,"tag":252,"props":35428,"children":35429},{"style":259},[35430],{"type":21,"value":6463},{"type":15,"tag":252,"props":35432,"children":35433},{"style":447},[35434],{"type":21,"value":3879},{"type":15,"tag":252,"props":35436,"children":35437},{"class":254,"line":2110},[35438,35443,35447,35451],{"type":15,"tag":252,"props":35439,"children":35440},{"style":447},[35441],{"type":21,"value":35442},"        double_token",{"type":15,"tag":252,"props":35444,"children":35445},{"style":601},[35446],{"type":21,"value":3374},{"type":15,"tag":252,"props":35448,"children":35449},{"style":259},[35450],{"type":21,"value":6463},{"type":15,"tag":252,"props":35452,"children":35453},{"style":447},[35454],{"type":21,"value":3879},{"type":15,"tag":252,"props":35456,"children":35457},{"class":254,"line":2150},[35458,35462,35466,35470],{"type":15,"tag":252,"props":35459,"children":35460},{"style":447},[35461],{"type":21,"value":29188},{"type":15,"tag":252,"props":35463,"children":35464},{"style":601},[35465],{"type":21,"value":3947},{"type":15,"tag":252,"props":35467,"children":35468},{"style":259},[35469],{"type":21,"value":6572},{"type":15,"tag":252,"props":35471,"children":35472},{"style":447},[35473],{"type":21,"value":3769},{"type":15,"tag":252,"props":35475,"children":35476},{"class":254,"line":2182},[35477,35481,35485,35489],{"type":15,"tag":252,"props":35478,"children":35479},{"style":276},[35480],{"type":21,"value":7286},{"type":15,"tag":252,"props":35482,"children":35483},{"style":601},[35484],{"type":21,"value":432},{"type":15,"tag":252,"props":35486,"children":35487},{"style":259},[35488],{"type":21,"value":8774},{"type":15,"tag":252,"props":35490,"children":35491},{"style":447},[35492],{"type":21,"value":814},{"type":15,"tag":252,"props":35494,"children":35495},{"class":254,"line":2190},[35496,35500,35504,35508,35512,35516,35520,35524,35528,35532,35536],{"type":15,"tag":252,"props":35497,"children":35498},{"style":601},[35499],{"type":21,"value":8295},{"type":15,"tag":252,"props":35501,"children":35502},{"style":601},[35503],{"type":21,"value":8661},{"type":15,"tag":252,"props":35505,"children":35506},{"style":259},[35507],{"type":21,"value":8666},{"type":15,"tag":252,"props":35509,"children":35510},{"style":447},[35511],{"type":21,"value":8671},{"type":15,"tag":252,"props":35513,"children":35514},{"style":601},[35515],{"type":21,"value":614},{"type":15,"tag":252,"props":35517,"children":35518},{"style":276},[35519],{"type":21,"value":7244},{"type":15,"tag":252,"props":35521,"children":35522},{"style":601},[35523],{"type":21,"value":432},{"type":15,"tag":252,"props":35525,"children":35526},{"style":447},[35527],{"type":21,"value":81},{"type":15,"tag":252,"props":35529,"children":35530},{"style":601},[35531],{"type":21,"value":432},{"type":15,"tag":252,"props":35533,"children":35534},{"style":259},[35535],{"type":21,"value":8696},{"type":15,"tag":252,"props":35537,"children":35538},{"style":447},[35539],{"type":21,"value":2074},{"type":15,"tag":252,"props":35541,"children":35542},{"class":254,"line":2222},[35543,35547,35551,35555,35559],{"type":15,"tag":252,"props":35544,"children":35545},{"style":601},[35546],{"type":21,"value":8708},{"type":15,"tag":252,"props":35548,"children":35549},{"style":447},[35550],{"type":21,"value":8236},{"type":15,"tag":252,"props":35552,"children":35553},{"style":601},[35554],{"type":21,"value":8304},{"type":15,"tag":252,"props":35556,"children":35557},{"style":601},[35558],{"type":21,"value":4920},{"type":15,"tag":252,"props":35560,"children":35561},{"style":447},[35562],{"type":21,"value":35563},"next_char {\n",{"type":15,"tag":252,"props":35565,"children":35566},{"class":254,"line":2270},[35567,35571,35575,35579],{"type":15,"tag":252,"props":35568,"children":35569},{"style":276},[35570],{"type":21,"value":8765},{"type":15,"tag":252,"props":35572,"children":35573},{"style":601},[35574],{"type":21,"value":432},{"type":15,"tag":252,"props":35576,"children":35577},{"style":259},[35578],{"type":21,"value":8774},{"type":15,"tag":252,"props":35580,"children":35581},{"style":447},[35582],{"type":21,"value":814},{"type":15,"tag":252,"props":35584,"children":35585},{"class":254,"line":2302},[35586,35590,35594,35598],{"type":15,"tag":252,"props":35587,"children":35588},{"style":276},[35589],{"type":21,"value":8765},{"type":15,"tag":252,"props":35591,"children":35592},{"style":601},[35593],{"type":21,"value":432},{"type":15,"tag":252,"props":35595,"children":35596},{"style":259},[35597],{"type":21,"value":8837},{"type":15,"tag":252,"props":35599,"children":35600},{"style":447},[35601],{"type":21,"value":35602},"(double_token)\n",{"type":15,"tag":252,"props":35604,"children":35605},{"class":254,"line":2310},[35606,35610,35614],{"type":15,"tag":252,"props":35607,"children":35608},{"style":447},[35609],{"type":21,"value":8786},{"type":15,"tag":252,"props":35611,"children":35612},{"style":601},[35613],{"type":21,"value":8396},{"type":15,"tag":252,"props":35615,"children":35616},{"style":447},[35617],{"type":21,"value":3769},{"type":15,"tag":252,"props":35619,"children":35620},{"class":254,"line":2370},[35621,35625,35629,35633],{"type":15,"tag":252,"props":35622,"children":35623},{"style":276},[35624],{"type":21,"value":8765},{"type":15,"tag":252,"props":35626,"children":35627},{"style":601},[35628],{"type":21,"value":432},{"type":15,"tag":252,"props":35630,"children":35631},{"style":259},[35632],{"type":21,"value":8837},{"type":15,"tag":252,"props":35634,"children":35635},{"style":447},[35636],{"type":21,"value":35637},"(single_token)\n",{"type":15,"tag":252,"props":35639,"children":35640},{"class":254,"line":2418},[35641],{"type":15,"tag":252,"props":35642,"children":35643},{"style":447},[35644],{"type":21,"value":8814},{"type":15,"tag":252,"props":35646,"children":35647},{"class":254,"line":2426},[35648,35652,35656],{"type":15,"tag":252,"props":35649,"children":35650},{"style":447},[35651],{"type":21,"value":8391},{"type":15,"tag":252,"props":35653,"children":35654},{"style":601},[35655],{"type":21,"value":8396},{"type":15,"tag":252,"props":35657,"children":35658},{"style":447},[35659],{"type":21,"value":3769},{"type":15,"tag":252,"props":35661,"children":35662},{"class":254,"line":2474},[35663,35667,35671,35675],{"type":15,"tag":252,"props":35664,"children":35665},{"style":276},[35666],{"type":21,"value":8332},{"type":15,"tag":252,"props":35668,"children":35669},{"style":601},[35670],{"type":21,"value":432},{"type":15,"tag":252,"props":35672,"children":35673},{"style":259},[35674],{"type":21,"value":8837},{"type":15,"tag":252,"props":35676,"children":35677},{"style":447},[35678],{"type":21,"value":35637},{"type":15,"tag":252,"props":35680,"children":35681},{"class":254,"line":2522},[35682],{"type":15,"tag":252,"props":35683,"children":35684},{"style":447},[35685],{"type":21,"value":4087},{"type":15,"tag":252,"props":35687,"children":35688},{"class":254,"line":2530},[35689],{"type":15,"tag":252,"props":35690,"children":35691},{"style":447},[35692],{"type":21,"value":4095},{"type":15,"tag":252,"props":35694,"children":35695},{"class":254,"line":2570},[35696],{"type":15,"tag":252,"props":35697,"children":35698},{"emptyLinePlaceholder":2053},[35699],{"type":21,"value":2056},{"type":15,"tag":252,"props":35701,"children":35702},{"class":254,"line":2591},[35703,35707,35711,35715,35719,35723,35727,35731,35735,35739,35743,35747,35751,35755,35759,35763],{"type":15,"tag":252,"props":35704,"children":35705},{"style":601},[35706],{"type":21,"value":4762},{"type":15,"tag":252,"props":35708,"children":35709},{"style":601},[35710],{"type":21,"value":4901},{"type":15,"tag":252,"props":35712,"children":35713},{"style":259},[35714],{"type":21,"value":9704},{"type":15,"tag":252,"props":35716,"children":35717},{"style":447},[35718],{"type":21,"value":849},{"type":15,"tag":252,"props":35720,"children":35721},{"style":601},[35722],{"type":21,"value":9713},{"type":15,"tag":252,"props":35724,"children":35725},{"style":276},[35726],{"type":21,"value":7244},{"type":15,"tag":252,"props":35728,"children":35729},{"style":447},[35730],{"type":21,"value":4943},{"type":15,"tag":252,"props":35732,"children":35733},{"style":601},[35734],{"type":21,"value":3947},{"type":15,"tag":252,"props":35736,"children":35737},{"style":259},[35738],{"type":21,"value":7257},{"type":15,"tag":252,"props":35740,"children":35741},{"style":447},[35742],{"type":21,"value":5826},{"type":15,"tag":252,"props":35744,"children":35745},{"style":259},[35746],{"type":21,"value":9738},{"type":15,"tag":252,"props":35748,"children":35749},{"style":447},[35750],{"type":21,"value":5826},{"type":15,"tag":252,"props":35752,"children":35753},{"style":259},[35754],{"type":21,"value":9747},{"type":15,"tag":252,"props":35756,"children":35757},{"style":447},[35758],{"type":21,"value":9752},{"type":15,"tag":252,"props":35760,"children":35761},{"style":259},[35762],{"type":21,"value":7913},{"type":15,"tag":252,"props":35764,"children":35765},{"style":447},[35766],{"type":21,"value":7138},{"type":15,"tag":252,"props":35768,"children":35769},{"class":254,"line":2599},[35770,35774,35778,35782,35786,35790,35794,35798],{"type":15,"tag":252,"props":35771,"children":35772},{"style":601},[35773],{"type":21,"value":8231},{"type":15,"tag":252,"props":35775,"children":35776},{"style":601},[35777],{"type":21,"value":8623},{"type":15,"tag":252,"props":35779,"children":35780},{"style":447},[35781],{"type":21,"value":9776},{"type":15,"tag":252,"props":35783,"children":35784},{"style":601},[35785],{"type":21,"value":614},{"type":15,"tag":252,"props":35787,"children":35788},{"style":259},[35789],{"type":21,"value":5821},{"type":15,"tag":252,"props":35791,"children":35792},{"style":601},[35793],{"type":21,"value":804},{"type":15,"tag":252,"props":35795,"children":35796},{"style":259},[35797],{"type":21,"value":7761},{"type":15,"tag":252,"props":35799,"children":35800},{"style":447},[35801],{"type":21,"value":814},{"type":15,"tag":252,"props":35803,"children":35804},{"class":254,"line":2647},[35805,35809,35813,35817,35821,35825,35829,35833,35837,35841,35845,35849,35853],{"type":15,"tag":252,"props":35806,"children":35807},{"style":601},[35808],{"type":21,"value":8656},{"type":15,"tag":252,"props":35810,"children":35811},{"style":601},[35812],{"type":21,"value":8661},{"type":15,"tag":252,"props":35814,"children":35815},{"style":259},[35816],{"type":21,"value":8666},{"type":15,"tag":252,"props":35818,"children":35819},{"style":447},[35820],{"type":21,"value":849},{"type":15,"tag":252,"props":35822,"children":35823},{"style":601},[35824],{"type":21,"value":1171},{"type":15,"tag":252,"props":35826,"children":35827},{"style":447},[35828],{"type":21,"value":9824},{"type":15,"tag":252,"props":35830,"children":35831},{"style":601},[35832],{"type":21,"value":614},{"type":15,"tag":252,"props":35834,"children":35835},{"style":276},[35836],{"type":21,"value":7244},{"type":15,"tag":252,"props":35838,"children":35839},{"style":601},[35840],{"type":21,"value":432},{"type":15,"tag":252,"props":35842,"children":35843},{"style":447},[35844],{"type":21,"value":81},{"type":15,"tag":252,"props":35846,"children":35847},{"style":601},[35848],{"type":21,"value":432},{"type":15,"tag":252,"props":35850,"children":35851},{"style":259},[35852],{"type":21,"value":8696},{"type":15,"tag":252,"props":35854,"children":35855},{"style":447},[35856],{"type":21,"value":2074},{"type":15,"tag":252,"props":35858,"children":35859},{"class":254,"line":2679},[35860,35864],{"type":15,"tag":252,"props":35861,"children":35862},{"style":601},[35863],{"type":21,"value":9860},{"type":15,"tag":252,"props":35865,"children":35866},{"style":447},[35867],{"type":21,"value":9865},{"type":15,"tag":252,"props":35869,"children":35870},{"class":254,"line":2727},[35871],{"type":15,"tag":252,"props":35872,"children":35873},{"style":3287},[35874],{"type":21,"value":35875},"                // ..\n",{"type":15,"tag":252,"props":35877,"children":35878},{"class":254,"line":2735},[35879,35884,35888,35892,35896,35900,35904,35908,35912,35917,35921,35926,35930,35934,35938,35942,35946,35950,35954,35958],{"type":15,"tag":252,"props":35880,"children":35881},{"style":265},[35882],{"type":21,"value":35883},"                '='",{"type":15,"tag":252,"props":35885,"children":35886},{"style":601},[35887],{"type":21,"value":9226},{"type":15,"tag":252,"props":35889,"children":35890},{"style":447},[35891],{"type":21,"value":6977},{"type":15,"tag":252,"props":35893,"children":35894},{"style":601},[35895],{"type":21,"value":432},{"type":15,"tag":252,"props":35897,"children":35898},{"style":259},[35899],{"type":21,"value":8743},{"type":15,"tag":252,"props":35901,"children":35902},{"style":447},[35903],{"type":21,"value":849},{"type":15,"tag":252,"props":35905,"children":35906},{"style":276},[35907],{"type":21,"value":7432},{"type":15,"tag":252,"props":35909,"children":35910},{"style":601},[35911],{"type":21,"value":432},{"type":15,"tag":252,"props":35913,"children":35914},{"style":259},[35915],{"type":21,"value":35916},"consume_double_symbol",{"type":15,"tag":252,"props":35918,"children":35919},{"style":447},[35920],{"type":21,"value":849},{"type":15,"tag":252,"props":35922,"children":35923},{"style":265},[35924],{"type":21,"value":35925},"'='",{"type":15,"tag":252,"props":35927,"children":35928},{"style":447},[35929],{"type":21,"value":1076},{"type":15,"tag":252,"props":35931,"children":35932},{"style":259},[35933],{"type":21,"value":8846},{"type":15,"tag":252,"props":35935,"children":35936},{"style":601},[35937],{"type":21,"value":804},{"type":15,"tag":252,"props":35939,"children":35940},{"style":259},[35941],{"type":21,"value":6443},{"type":15,"tag":252,"props":35943,"children":35944},{"style":447},[35945],{"type":21,"value":1076},{"type":15,"tag":252,"props":35947,"children":35948},{"style":259},[35949],{"type":21,"value":8846},{"type":15,"tag":252,"props":35951,"children":35952},{"style":601},[35953],{"type":21,"value":804},{"type":15,"tag":252,"props":35955,"children":35956},{"style":259},[35957],{"type":21,"value":35239},{"type":15,"tag":252,"props":35959,"children":35960},{"style":447},[35961],{"type":21,"value":13037},{"type":15,"tag":252,"props":35963,"children":35964},{"class":254,"line":2799},[35965,35969,35973],{"type":15,"tag":252,"props":35966,"children":35967},{"style":447},[35968],{"type":21,"value":10179},{"type":15,"tag":252,"props":35970,"children":35971},{"style":601},[35972],{"type":21,"value":4054},{"type":15,"tag":252,"props":35974,"children":35975},{"style":447},[35976],{"type":21,"value":3769},{"type":15,"tag":252,"props":35978,"children":35979},{"class":254,"line":2807},[35980],{"type":15,"tag":252,"props":35981,"children":35982},{"style":3287},[35983],{"type":21,"value":35984},"                    // ...\n",{"type":15,"tag":252,"props":35986,"children":35987},{"class":254,"line":2848},[35988],{"type":15,"tag":252,"props":35989,"children":35990},{"style":447},[35991],{"type":21,"value":10093},{"type":15,"tag":252,"props":35993,"children":35994},{"class":254,"line":4645},[35995],{"type":15,"tag":252,"props":35996,"children":35997},{"style":447},[35998],{"type":21,"value":8814},{"type":15,"tag":252,"props":36000,"children":36001},{"class":254,"line":4654},[36002],{"type":15,"tag":252,"props":36003,"children":36004},{"style":447},[36005],{"type":21,"value":4087},{"type":15,"tag":252,"props":36007,"children":36008},{"class":254,"line":4675},[36009,36013,36017,36021,36025,36029,36033,36037,36041,36045,36049,36053],{"type":15,"tag":252,"props":36010,"children":36011},{"style":447},[36012],{"type":21,"value":10263},{"type":15,"tag":252,"props":36014,"children":36015},{"style":601},[36016],{"type":21,"value":432},{"type":15,"tag":252,"props":36018,"children":36019},{"style":259},[36020],{"type":21,"value":8743},{"type":15,"tag":252,"props":36022,"children":36023},{"style":447},[36024],{"type":21,"value":849},{"type":15,"tag":252,"props":36026,"children":36027},{"style":276},[36028],{"type":21,"value":7432},{"type":15,"tag":252,"props":36030,"children":36031},{"style":601},[36032],{"type":21,"value":432},{"type":15,"tag":252,"props":36034,"children":36035},{"style":259},[36036],{"type":21,"value":8837},{"type":15,"tag":252,"props":36038,"children":36039},{"style":447},[36040],{"type":21,"value":849},{"type":15,"tag":252,"props":36042,"children":36043},{"style":259},[36044],{"type":21,"value":8846},{"type":15,"tag":252,"props":36046,"children":36047},{"style":601},[36048],{"type":21,"value":804},{"type":15,"tag":252,"props":36050,"children":36051},{"style":259},[36052],{"type":21,"value":10304},{"type":15,"tag":252,"props":36054,"children":36055},{"style":447},[36056],{"type":21,"value":10065},{"type":15,"tag":252,"props":36058,"children":36059},{"class":254,"line":8160},[36060,36064],{"type":15,"tag":252,"props":36061,"children":36062},{"style":259},[36063],{"type":21,"value":10316},{"type":15,"tag":252,"props":36065,"children":36066},{"style":447},[36067],{"type":21,"value":10321},{"type":15,"tag":252,"props":36069,"children":36070},{"class":254,"line":8168},[36071],{"type":15,"tag":252,"props":36072,"children":36073},{"style":447},[36074],{"type":21,"value":4095},{"type":15,"tag":23,"props":36076,"children":36077},{},[36078],{"type":21,"value":36079},"Then we will add comparisons to our AST!",{"type":15,"tag":95,"props":36081,"children":36083},{"code":36082,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub enum Expression {\n    Literal(Literal),\n    BinaryOp(Box\u003CExpression>, BinaryOp, Box\u003CExpression>),\n}\n\n#[derive(Debug)]\npub enum BinaryOp {\n    Equals,\n}\n",[36084],{"type":15,"tag":81,"props":36085,"children":36086},{"__ignoreMap":8},[36087,36094,36109,36128,36147,36201,36208,36215,36230,36250,36262],{"type":15,"tag":252,"props":36088,"children":36089},{"class":254,"line":255},[36090],{"type":15,"tag":252,"props":36091,"children":36092},{"style":3287},[36093],{"type":21,"value":24319},{"type":15,"tag":252,"props":36095,"children":36096},{"class":254,"line":334},[36097,36101,36105],{"type":15,"tag":252,"props":36098,"children":36099},{"style":447},[36100],{"type":21,"value":3742},{"type":15,"tag":252,"props":36102,"children":36103},{"style":259},[36104],{"type":21,"value":5788},{"type":15,"tag":252,"props":36106,"children":36107},{"style":447},[36108],{"type":21,"value":3751},{"type":15,"tag":252,"props":36110,"children":36111},{"class":254,"line":390},[36112,36116,36120,36124],{"type":15,"tag":252,"props":36113,"children":36114},{"style":601},[36115],{"type":21,"value":4740},{"type":15,"tag":252,"props":36117,"children":36118},{"style":601},[36119],{"type":21,"value":5869},{"type":15,"tag":252,"props":36121,"children":36122},{"style":259},[36123],{"type":21,"value":5944},{"type":15,"tag":252,"props":36125,"children":36126},{"style":447},[36127],{"type":21,"value":3769},{"type":15,"tag":252,"props":36129,"children":36130},{"class":254,"line":2077},[36131,36135,36139,36143],{"type":15,"tag":252,"props":36132,"children":36133},{"style":259},[36134],{"type":21,"value":5956},{"type":15,"tag":252,"props":36136,"children":36137},{"style":447},[36138],{"type":21,"value":849},{"type":15,"tag":252,"props":36140,"children":36141},{"style":259},[36142],{"type":21,"value":5724},{"type":15,"tag":252,"props":36144,"children":36145},{"style":447},[36146],{"type":21,"value":5899},{"type":15,"tag":252,"props":36148,"children":36149},{"class":254,"line":2110},[36150,36155,36159,36164,36168,36172,36176,36181,36185,36189,36193,36197],{"type":15,"tag":252,"props":36151,"children":36152},{"style":259},[36153],{"type":21,"value":36154},"    BinaryOp",{"type":15,"tag":252,"props":36156,"children":36157},{"style":447},[36158],{"type":21,"value":849},{"type":15,"tag":252,"props":36160,"children":36161},{"style":259},[36162],{"type":21,"value":36163},"Box",{"type":15,"tag":252,"props":36165,"children":36166},{"style":447},[36167],{"type":21,"value":5826},{"type":15,"tag":252,"props":36169,"children":36170},{"style":259},[36171],{"type":21,"value":5716},{"type":15,"tag":252,"props":36173,"children":36174},{"style":447},[36175],{"type":21,"value":9752},{"type":15,"tag":252,"props":36177,"children":36178},{"style":259},[36179],{"type":21,"value":36180},"BinaryOp",{"type":15,"tag":252,"props":36182,"children":36183},{"style":447},[36184],{"type":21,"value":1076},{"type":15,"tag":252,"props":36186,"children":36187},{"style":259},[36188],{"type":21,"value":36163},{"type":15,"tag":252,"props":36190,"children":36191},{"style":447},[36192],{"type":21,"value":5826},{"type":15,"tag":252,"props":36194,"children":36195},{"style":259},[36196],{"type":21,"value":5716},{"type":15,"tag":252,"props":36198,"children":36199},{"style":447},[36200],{"type":21,"value":24445},{"type":15,"tag":252,"props":36202,"children":36203},{"class":254,"line":2150},[36204],{"type":15,"tag":252,"props":36205,"children":36206},{"style":447},[36207],{"type":21,"value":2854},{"type":15,"tag":252,"props":36209,"children":36210},{"class":254,"line":2182},[36211],{"type":15,"tag":252,"props":36212,"children":36213},{"emptyLinePlaceholder":2053},[36214],{"type":21,"value":2056},{"type":15,"tag":252,"props":36216,"children":36217},{"class":254,"line":2190},[36218,36222,36226],{"type":15,"tag":252,"props":36219,"children":36220},{"style":447},[36221],{"type":21,"value":3742},{"type":15,"tag":252,"props":36223,"children":36224},{"style":259},[36225],{"type":21,"value":5788},{"type":15,"tag":252,"props":36227,"children":36228},{"style":447},[36229],{"type":21,"value":3751},{"type":15,"tag":252,"props":36231,"children":36232},{"class":254,"line":2222},[36233,36237,36241,36246],{"type":15,"tag":252,"props":36234,"children":36235},{"style":601},[36236],{"type":21,"value":4740},{"type":15,"tag":252,"props":36238,"children":36239},{"style":601},[36240],{"type":21,"value":5869},{"type":15,"tag":252,"props":36242,"children":36243},{"style":259},[36244],{"type":21,"value":36245}," BinaryOp",{"type":15,"tag":252,"props":36247,"children":36248},{"style":447},[36249],{"type":21,"value":3769},{"type":15,"tag":252,"props":36251,"children":36252},{"class":254,"line":2270},[36253,36258],{"type":15,"tag":252,"props":36254,"children":36255},{"style":259},[36256],{"type":21,"value":36257},"    Equals",{"type":15,"tag":252,"props":36259,"children":36260},{"style":447},[36261],{"type":21,"value":3879},{"type":15,"tag":252,"props":36263,"children":36264},{"class":254,"line":2302},[36265],{"type":15,"tag":252,"props":36266,"children":36267},{"style":447},[36268],{"type":21,"value":2854},{"type":15,"tag":23,"props":36270,"children":36271},{},[36272,36274,36279,36281,36286],{"type":21,"value":36273},"We use ",{"type":15,"tag":81,"props":36275,"children":36277},{"className":36276},[],[36278],{"type":21,"value":36163},{"type":21,"value":36280}," because we cant have recursive types, because it would be infinitely large, but ",{"type":15,"tag":81,"props":36282,"children":36284},{"className":36283},[],[36285],{"type":21,"value":36163},{"type":21,"value":36287}," puts the object on the heap, meaning we it isnt a problem!",{"type":15,"tag":23,"props":36289,"children":36290},{},[36291,36293,36299,36301,36307,36309,36315,36317,36323],{"type":21,"value":36292},"Now parsing binary ops is actually a good amount of work, at least when we have multiple. Why you ask? Order of operations! We might parse ",{"type":15,"tag":81,"props":36294,"children":36296},{"className":36295},[],[36297],{"type":21,"value":36298},"1 + 2 * 3",{"type":21,"value":36300}," as ",{"type":15,"tag":81,"props":36302,"children":36304},{"className":36303},[],[36305],{"type":21,"value":36306},"1 + (2 * 3)",{"type":21,"value":36308}," if we just go right to left, which is fine, but ",{"type":15,"tag":81,"props":36310,"children":36312},{"className":36311},[],[36313],{"type":21,"value":36314},"2 * 3 + 1",{"type":21,"value":36316}," would be parsed as ",{"type":15,"tag":81,"props":36318,"children":36320},{"className":36319},[],[36321],{"type":21,"value":36322},"2 * (3 + 1)",{"type":21,"value":36324},", which is not good. So we need to parse them in the correct order, and we need to do it in a way that is easy to add more operators later.",{"type":15,"tag":23,"props":36326,"children":36327},{},[36328],{"type":21,"value":36329},"So how are we gonna do that? We aren't! ... what? Well it is a bit of work, and not the focus of this blog post. And we only have one operator so far so it wont be an issue, but we will get back to this in the next post!",{"type":15,"tag":95,"props":36331,"children":36333},{"code":36332,"language":772,"meta":8,"className":773,"style":8},"    fn prefix(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        match self.peek()? {\n            _ => Ok(ast::Expression::Literal(self.literal()?)),\n        }\n    }\n\n    fn expression(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        let left_side = self.prefix()?;\n\n        match self.peek()? {\n            TokenType::EqEq => {\n                self.0.void();\n                let right_side = self.prefix()?;\n                Ok(ast::Expression::BinaryOp(\n                    Box::new(left_side),\n                    ast::BinaryOp::Equals,\n                    Box::new(right_side),\n                ))\n            }\n            _ => Ok(left_side),\n        }\n    }\n",[36334],{"type":15,"tag":81,"props":36335,"children":36336},{"__ignoreMap":8},[36337,36397,36428,36495,36502,36509,36516,36575,36616,36623,36654,36677,36700,36740,36775,36796,36825,36845,36853,36860,36879,36886],{"type":15,"tag":252,"props":36338,"children":36339},{"class":254,"line":255},[36340,36344,36349,36353,36357,36361,36365,36369,36373,36377,36381,36385,36389,36393],{"type":15,"tag":252,"props":36341,"children":36342},{"style":601},[36343],{"type":21,"value":7146},{"type":15,"tag":252,"props":36345,"children":36346},{"style":259},[36347],{"type":21,"value":36348}," prefix",{"type":15,"tag":252,"props":36350,"children":36351},{"style":447},[36352],{"type":21,"value":849},{"type":15,"tag":252,"props":36354,"children":36355},{"style":601},[36356],{"type":21,"value":7239},{"type":15,"tag":252,"props":36358,"children":36359},{"style":276},[36360],{"type":21,"value":7244},{"type":15,"tag":252,"props":36362,"children":36363},{"style":447},[36364],{"type":21,"value":4943},{"type":15,"tag":252,"props":36366,"children":36367},{"style":601},[36368],{"type":21,"value":3947},{"type":15,"tag":252,"props":36370,"children":36371},{"style":259},[36372],{"type":21,"value":3952},{"type":15,"tag":252,"props":36374,"children":36375},{"style":601},[36376],{"type":21,"value":804},{"type":15,"tag":252,"props":36378,"children":36379},{"style":259},[36380],{"type":21,"value":3961},{"type":15,"tag":252,"props":36382,"children":36383},{"style":447},[36384],{"type":21,"value":10502},{"type":15,"tag":252,"props":36386,"children":36387},{"style":601},[36388],{"type":21,"value":804},{"type":15,"tag":252,"props":36390,"children":36391},{"style":259},[36392],{"type":21,"value":5716},{"type":15,"tag":252,"props":36394,"children":36395},{"style":447},[36396],{"type":21,"value":7138},{"type":15,"tag":252,"props":36398,"children":36399},{"class":254,"line":334},[36400,36404,36408,36412,36416,36420,36424],{"type":15,"tag":252,"props":36401,"children":36402},{"style":601},[36403],{"type":21,"value":12717},{"type":15,"tag":252,"props":36405,"children":36406},{"style":276},[36407],{"type":21,"value":7244},{"type":15,"tag":252,"props":36409,"children":36410},{"style":601},[36411],{"type":21,"value":432},{"type":15,"tag":252,"props":36413,"children":36414},{"style":259},[36415],{"type":21,"value":8696},{"type":15,"tag":252,"props":36417,"children":36418},{"style":447},[36419],{"type":21,"value":7305},{"type":15,"tag":252,"props":36421,"children":36422},{"style":601},[36423],{"type":21,"value":5468},{"type":15,"tag":252,"props":36425,"children":36426},{"style":447},[36427],{"type":21,"value":3769},{"type":15,"tag":252,"props":36429,"children":36430},{"class":254,"line":390},[36431,36435,36439,36443,36447,36451,36455,36459,36463,36467,36471,36475,36479,36483,36487,36491],{"type":15,"tag":252,"props":36432,"children":36433},{"style":447},[36434],{"type":21,"value":9250},{"type":15,"tag":252,"props":36436,"children":36437},{"style":601},[36438],{"type":21,"value":4054},{"type":15,"tag":252,"props":36440,"children":36441},{"style":259},[36442],{"type":21,"value":8666},{"type":15,"tag":252,"props":36444,"children":36445},{"style":447},[36446],{"type":21,"value":849},{"type":15,"tag":252,"props":36448,"children":36449},{"style":259},[36450],{"type":21,"value":5623},{"type":15,"tag":252,"props":36452,"children":36453},{"style":601},[36454],{"type":21,"value":804},{"type":15,"tag":252,"props":36456,"children":36457},{"style":259},[36458],{"type":21,"value":5716},{"type":15,"tag":252,"props":36460,"children":36461},{"style":601},[36462],{"type":21,"value":804},{"type":15,"tag":252,"props":36464,"children":36465},{"style":259},[36466],{"type":21,"value":5724},{"type":15,"tag":252,"props":36468,"children":36469},{"style":447},[36470],{"type":21,"value":849},{"type":15,"tag":252,"props":36472,"children":36473},{"style":276},[36474],{"type":21,"value":7432},{"type":15,"tag":252,"props":36476,"children":36477},{"style":601},[36478],{"type":21,"value":432},{"type":15,"tag":252,"props":36480,"children":36481},{"style":259},[36482],{"type":21,"value":13024},{"type":15,"tag":252,"props":36484,"children":36485},{"style":447},[36486],{"type":21,"value":7305},{"type":15,"tag":252,"props":36488,"children":36489},{"style":601},[36490],{"type":21,"value":5468},{"type":15,"tag":252,"props":36492,"children":36493},{"style":447},[36494],{"type":21,"value":13037},{"type":15,"tag":252,"props":36496,"children":36497},{"class":254,"line":2077},[36498],{"type":15,"tag":252,"props":36499,"children":36500},{"style":447},[36501],{"type":21,"value":4087},{"type":15,"tag":252,"props":36503,"children":36504},{"class":254,"line":2110},[36505],{"type":15,"tag":252,"props":36506,"children":36507},{"style":447},[36508],{"type":21,"value":4095},{"type":15,"tag":252,"props":36510,"children":36511},{"class":254,"line":2150},[36512],{"type":15,"tag":252,"props":36513,"children":36514},{"emptyLinePlaceholder":2053},[36515],{"type":21,"value":2056},{"type":15,"tag":252,"props":36517,"children":36518},{"class":254,"line":2182},[36519,36523,36527,36531,36535,36539,36543,36547,36551,36555,36559,36563,36567,36571],{"type":15,"tag":252,"props":36520,"children":36521},{"style":601},[36522],{"type":21,"value":7146},{"type":15,"tag":252,"props":36524,"children":36525},{"style":259},[36526],{"type":21,"value":12876},{"type":15,"tag":252,"props":36528,"children":36529},{"style":447},[36530],{"type":21,"value":849},{"type":15,"tag":252,"props":36532,"children":36533},{"style":601},[36534],{"type":21,"value":7239},{"type":15,"tag":252,"props":36536,"children":36537},{"style":276},[36538],{"type":21,"value":7244},{"type":15,"tag":252,"props":36540,"children":36541},{"style":447},[36542],{"type":21,"value":4943},{"type":15,"tag":252,"props":36544,"children":36545},{"style":601},[36546],{"type":21,"value":3947},{"type":15,"tag":252,"props":36548,"children":36549},{"style":259},[36550],{"type":21,"value":3952},{"type":15,"tag":252,"props":36552,"children":36553},{"style":601},[36554],{"type":21,"value":804},{"type":15,"tag":252,"props":36556,"children":36557},{"style":259},[36558],{"type":21,"value":3961},{"type":15,"tag":252,"props":36560,"children":36561},{"style":447},[36562],{"type":21,"value":10502},{"type":15,"tag":252,"props":36564,"children":36565},{"style":601},[36566],{"type":21,"value":804},{"type":15,"tag":252,"props":36568,"children":36569},{"style":259},[36570],{"type":21,"value":5716},{"type":15,"tag":252,"props":36572,"children":36573},{"style":447},[36574],{"type":21,"value":7138},{"type":15,"tag":252,"props":36576,"children":36577},{"class":254,"line":2190},[36578,36582,36587,36591,36595,36599,36604,36608,36612],{"type":15,"tag":252,"props":36579,"children":36580},{"style":601},[36581],{"type":21,"value":8231},{"type":15,"tag":252,"props":36583,"children":36584},{"style":447},[36585],{"type":21,"value":36586}," left_side ",{"type":15,"tag":252,"props":36588,"children":36589},{"style":601},[36590],{"type":21,"value":614},{"type":15,"tag":252,"props":36592,"children":36593},{"style":276},[36594],{"type":21,"value":7244},{"type":15,"tag":252,"props":36596,"children":36597},{"style":601},[36598],{"type":21,"value":432},{"type":15,"tag":252,"props":36600,"children":36601},{"style":259},[36602],{"type":21,"value":36603},"prefix",{"type":15,"tag":252,"props":36605,"children":36606},{"style":447},[36607],{"type":21,"value":7305},{"type":15,"tag":252,"props":36609,"children":36610},{"style":601},[36611],{"type":21,"value":5468},{"type":15,"tag":252,"props":36613,"children":36614},{"style":447},[36615],{"type":21,"value":3325},{"type":15,"tag":252,"props":36617,"children":36618},{"class":254,"line":2222},[36619],{"type":15,"tag":252,"props":36620,"children":36621},{"emptyLinePlaceholder":2053},[36622],{"type":21,"value":2056},{"type":15,"tag":252,"props":36624,"children":36625},{"class":254,"line":2270},[36626,36630,36634,36638,36642,36646,36650],{"type":15,"tag":252,"props":36627,"children":36628},{"style":601},[36629],{"type":21,"value":12717},{"type":15,"tag":252,"props":36631,"children":36632},{"style":276},[36633],{"type":21,"value":7244},{"type":15,"tag":252,"props":36635,"children":36636},{"style":601},[36637],{"type":21,"value":432},{"type":15,"tag":252,"props":36639,"children":36640},{"style":259},[36641],{"type":21,"value":8696},{"type":15,"tag":252,"props":36643,"children":36644},{"style":447},[36645],{"type":21,"value":7305},{"type":15,"tag":252,"props":36647,"children":36648},{"style":601},[36649],{"type":21,"value":5468},{"type":15,"tag":252,"props":36651,"children":36652},{"style":447},[36653],{"type":21,"value":3769},{"type":15,"tag":252,"props":36655,"children":36656},{"class":254,"line":2302},[36657,36661,36665,36669,36673],{"type":15,"tag":252,"props":36658,"children":36659},{"style":259},[36660],{"type":21,"value":12738},{"type":15,"tag":252,"props":36662,"children":36663},{"style":601},[36664],{"type":21,"value":804},{"type":15,"tag":252,"props":36666,"children":36667},{"style":259},[36668],{"type":21,"value":35239},{"type":15,"tag":252,"props":36670,"children":36671},{"style":601},[36672],{"type":21,"value":9226},{"type":15,"tag":252,"props":36674,"children":36675},{"style":447},[36676],{"type":21,"value":3769},{"type":15,"tag":252,"props":36678,"children":36679},{"class":254,"line":2310},[36680,36684,36688,36692,36696],{"type":15,"tag":252,"props":36681,"children":36682},{"style":276},[36683],{"type":21,"value":8765},{"type":15,"tag":252,"props":36685,"children":36686},{"style":601},[36687],{"type":21,"value":432},{"type":15,"tag":252,"props":36689,"children":36690},{"style":276},[36691],{"type":21,"value":7295},{"type":15,"tag":252,"props":36693,"children":36694},{"style":259},[36695],{"type":21,"value":8774},{"type":15,"tag":252,"props":36697,"children":36698},{"style":447},[36699],{"type":21,"value":814},{"type":15,"tag":252,"props":36701,"children":36702},{"class":254,"line":2370},[36703,36707,36712,36716,36720,36724,36728,36732,36736],{"type":15,"tag":252,"props":36704,"children":36705},{"style":601},[36706],{"type":21,"value":13283},{"type":15,"tag":252,"props":36708,"children":36709},{"style":447},[36710],{"type":21,"value":36711}," right_side ",{"type":15,"tag":252,"props":36713,"children":36714},{"style":601},[36715],{"type":21,"value":614},{"type":15,"tag":252,"props":36717,"children":36718},{"style":276},[36719],{"type":21,"value":7244},{"type":15,"tag":252,"props":36721,"children":36722},{"style":601},[36723],{"type":21,"value":432},{"type":15,"tag":252,"props":36725,"children":36726},{"style":259},[36727],{"type":21,"value":36603},{"type":15,"tag":252,"props":36729,"children":36730},{"style":447},[36731],{"type":21,"value":7305},{"type":15,"tag":252,"props":36733,"children":36734},{"style":601},[36735],{"type":21,"value":5468},{"type":15,"tag":252,"props":36737,"children":36738},{"style":447},[36739],{"type":21,"value":3325},{"type":15,"tag":252,"props":36741,"children":36742},{"class":254,"line":2418},[36743,36747,36751,36755,36759,36763,36767,36771],{"type":15,"tag":252,"props":36744,"children":36745},{"style":259},[36746],{"type":21,"value":13392},{"type":15,"tag":252,"props":36748,"children":36749},{"style":447},[36750],{"type":21,"value":849},{"type":15,"tag":252,"props":36752,"children":36753},{"style":259},[36754],{"type":21,"value":5623},{"type":15,"tag":252,"props":36756,"children":36757},{"style":601},[36758],{"type":21,"value":804},{"type":15,"tag":252,"props":36760,"children":36761},{"style":259},[36762],{"type":21,"value":5716},{"type":15,"tag":252,"props":36764,"children":36765},{"style":601},[36766],{"type":21,"value":804},{"type":15,"tag":252,"props":36768,"children":36769},{"style":259},[36770],{"type":21,"value":36180},{"type":15,"tag":252,"props":36772,"children":36773},{"style":447},[36774],{"type":21,"value":14196},{"type":15,"tag":252,"props":36776,"children":36777},{"class":254,"line":2426},[36778,36783,36787,36791],{"type":15,"tag":252,"props":36779,"children":36780},{"style":259},[36781],{"type":21,"value":36782},"                    Box",{"type":15,"tag":252,"props":36784,"children":36785},{"style":601},[36786],{"type":21,"value":804},{"type":15,"tag":252,"props":36788,"children":36789},{"style":259},[36790],{"type":21,"value":7761},{"type":15,"tag":252,"props":36792,"children":36793},{"style":447},[36794],{"type":21,"value":36795},"(left_side),\n",{"type":15,"tag":252,"props":36797,"children":36798},{"class":254,"line":2474},[36799,36804,36808,36812,36816,36821],{"type":15,"tag":252,"props":36800,"children":36801},{"style":259},[36802],{"type":21,"value":36803},"                    ast",{"type":15,"tag":252,"props":36805,"children":36806},{"style":601},[36807],{"type":21,"value":804},{"type":15,"tag":252,"props":36809,"children":36810},{"style":259},[36811],{"type":21,"value":36180},{"type":15,"tag":252,"props":36813,"children":36814},{"style":601},[36815],{"type":21,"value":804},{"type":15,"tag":252,"props":36817,"children":36818},{"style":259},[36819],{"type":21,"value":36820},"Equals",{"type":15,"tag":252,"props":36822,"children":36823},{"style":447},[36824],{"type":21,"value":3879},{"type":15,"tag":252,"props":36826,"children":36827},{"class":254,"line":2522},[36828,36832,36836,36840],{"type":15,"tag":252,"props":36829,"children":36830},{"style":259},[36831],{"type":21,"value":36782},{"type":15,"tag":252,"props":36833,"children":36834},{"style":601},[36835],{"type":21,"value":804},{"type":15,"tag":252,"props":36837,"children":36838},{"style":259},[36839],{"type":21,"value":7761},{"type":15,"tag":252,"props":36841,"children":36842},{"style":447},[36843],{"type":21,"value":36844},"(right_side),\n",{"type":15,"tag":252,"props":36846,"children":36847},{"class":254,"line":2530},[36848],{"type":15,"tag":252,"props":36849,"children":36850},{"style":447},[36851],{"type":21,"value":36852},"                ))\n",{"type":15,"tag":252,"props":36854,"children":36855},{"class":254,"line":2570},[36856],{"type":15,"tag":252,"props":36857,"children":36858},{"style":447},[36859],{"type":21,"value":8814},{"type":15,"tag":252,"props":36861,"children":36862},{"class":254,"line":2591},[36863,36867,36871,36875],{"type":15,"tag":252,"props":36864,"children":36865},{"style":447},[36866],{"type":21,"value":9250},{"type":15,"tag":252,"props":36868,"children":36869},{"style":601},[36870],{"type":21,"value":4054},{"type":15,"tag":252,"props":36872,"children":36873},{"style":259},[36874],{"type":21,"value":8666},{"type":15,"tag":252,"props":36876,"children":36877},{"style":447},[36878],{"type":21,"value":36795},{"type":15,"tag":252,"props":36880,"children":36881},{"class":254,"line":2599},[36882],{"type":15,"tag":252,"props":36883,"children":36884},{"style":447},[36885],{"type":21,"value":4087},{"type":15,"tag":252,"props":36887,"children":36888},{"class":254,"line":2647},[36889],{"type":15,"tag":252,"props":36890,"children":36891},{"style":447},[36892],{"type":21,"value":4095},{"type":15,"tag":23,"props":36894,"children":36895},{},[36896],{"type":21,"value":36897},"This is just very simple.",{"type":15,"tag":59,"props":36899,"children":36901},{"id":36900},"ir-3",[36902],{"type":21,"value":31711},{"type":15,"tag":23,"props":36904,"children":36905},{},[36906],{"type":21,"value":36907},"Now we add the IR for the binary op",{"type":15,"tag":95,"props":36909,"children":36911},{"code":36910,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n\n#[derive(Debug)]\npub enum BooleanExpression {\n    Literal(bool),\n    Comparison(ComparisonExpression),\n}\n\n#[derive(Debug)]\npub enum ComparisonExpression {\n    IntComparison(Box\u003CIntExpression>, IntComparisonOp, Box\u003CIntExpression>),\n}\n\n#[derive(Debug)]\npub enum IntComparisonOp {\n    Equal,\n}\n",[36912],{"type":15,"tag":81,"props":36913,"children":36914},{"__ignoreMap":8},[36915,36922,36929,36944,36963,36982,37003,37010,37017,37032,37052,37105,37112,37119,37134,37154,37166],{"type":15,"tag":252,"props":36916,"children":36917},{"class":254,"line":255},[36918],{"type":15,"tag":252,"props":36919,"children":36920},{"style":3287},[36921],{"type":21,"value":25314},{"type":15,"tag":252,"props":36923,"children":36924},{"class":254,"line":334},[36925],{"type":15,"tag":252,"props":36926,"children":36927},{"emptyLinePlaceholder":2053},[36928],{"type":21,"value":2056},{"type":15,"tag":252,"props":36930,"children":36931},{"class":254,"line":390},[36932,36936,36940],{"type":15,"tag":252,"props":36933,"children":36934},{"style":447},[36935],{"type":21,"value":3742},{"type":15,"tag":252,"props":36937,"children":36938},{"style":259},[36939],{"type":21,"value":5788},{"type":15,"tag":252,"props":36941,"children":36942},{"style":447},[36943],{"type":21,"value":3751},{"type":15,"tag":252,"props":36945,"children":36946},{"class":254,"line":2077},[36947,36951,36955,36959],{"type":15,"tag":252,"props":36948,"children":36949},{"style":601},[36950],{"type":21,"value":4740},{"type":15,"tag":252,"props":36952,"children":36953},{"style":601},[36954],{"type":21,"value":5869},{"type":15,"tag":252,"props":36956,"children":36957},{"style":259},[36958],{"type":21,"value":28040},{"type":15,"tag":252,"props":36960,"children":36961},{"style":447},[36962],{"type":21,"value":3769},{"type":15,"tag":252,"props":36964,"children":36965},{"class":254,"line":2110},[36966,36970,36974,36978],{"type":15,"tag":252,"props":36967,"children":36968},{"style":259},[36969],{"type":21,"value":5956},{"type":15,"tag":252,"props":36971,"children":36972},{"style":447},[36973],{"type":21,"value":849},{"type":15,"tag":252,"props":36975,"children":36976},{"style":259},[36977],{"type":21,"value":27199},{"type":15,"tag":252,"props":36979,"children":36980},{"style":447},[36981],{"type":21,"value":5899},{"type":15,"tag":252,"props":36983,"children":36984},{"class":254,"line":2150},[36985,36990,36994,36999],{"type":15,"tag":252,"props":36986,"children":36987},{"style":259},[36988],{"type":21,"value":36989},"    Comparison",{"type":15,"tag":252,"props":36991,"children":36992},{"style":447},[36993],{"type":21,"value":849},{"type":15,"tag":252,"props":36995,"children":36996},{"style":259},[36997],{"type":21,"value":36998},"ComparisonExpression",{"type":15,"tag":252,"props":37000,"children":37001},{"style":447},[37002],{"type":21,"value":5899},{"type":15,"tag":252,"props":37004,"children":37005},{"class":254,"line":2182},[37006],{"type":15,"tag":252,"props":37007,"children":37008},{"style":447},[37009],{"type":21,"value":2854},{"type":15,"tag":252,"props":37011,"children":37012},{"class":254,"line":2190},[37013],{"type":15,"tag":252,"props":37014,"children":37015},{"emptyLinePlaceholder":2053},[37016],{"type":21,"value":2056},{"type":15,"tag":252,"props":37018,"children":37019},{"class":254,"line":2222},[37020,37024,37028],{"type":15,"tag":252,"props":37021,"children":37022},{"style":447},[37023],{"type":21,"value":3742},{"type":15,"tag":252,"props":37025,"children":37026},{"style":259},[37027],{"type":21,"value":5788},{"type":15,"tag":252,"props":37029,"children":37030},{"style":447},[37031],{"type":21,"value":3751},{"type":15,"tag":252,"props":37033,"children":37034},{"class":254,"line":2270},[37035,37039,37043,37048],{"type":15,"tag":252,"props":37036,"children":37037},{"style":601},[37038],{"type":21,"value":4740},{"type":15,"tag":252,"props":37040,"children":37041},{"style":601},[37042],{"type":21,"value":5869},{"type":15,"tag":252,"props":37044,"children":37045},{"style":259},[37046],{"type":21,"value":37047}," ComparisonExpression",{"type":15,"tag":252,"props":37049,"children":37050},{"style":447},[37051],{"type":21,"value":3769},{"type":15,"tag":252,"props":37053,"children":37054},{"class":254,"line":2302},[37055,37060,37064,37068,37072,37076,37080,37085,37089,37093,37097,37101],{"type":15,"tag":252,"props":37056,"children":37057},{"style":259},[37058],{"type":21,"value":37059},"    IntComparison",{"type":15,"tag":252,"props":37061,"children":37062},{"style":447},[37063],{"type":21,"value":849},{"type":15,"tag":252,"props":37065,"children":37066},{"style":259},[37067],{"type":21,"value":36163},{"type":15,"tag":252,"props":37069,"children":37070},{"style":447},[37071],{"type":21,"value":5826},{"type":15,"tag":252,"props":37073,"children":37074},{"style":259},[37075],{"type":21,"value":14798},{"type":15,"tag":252,"props":37077,"children":37078},{"style":447},[37079],{"type":21,"value":9752},{"type":15,"tag":252,"props":37081,"children":37082},{"style":259},[37083],{"type":21,"value":37084},"IntComparisonOp",{"type":15,"tag":252,"props":37086,"children":37087},{"style":447},[37088],{"type":21,"value":1076},{"type":15,"tag":252,"props":37090,"children":37091},{"style":259},[37092],{"type":21,"value":36163},{"type":15,"tag":252,"props":37094,"children":37095},{"style":447},[37096],{"type":21,"value":5826},{"type":15,"tag":252,"props":37098,"children":37099},{"style":259},[37100],{"type":21,"value":14798},{"type":15,"tag":252,"props":37102,"children":37103},{"style":447},[37104],{"type":21,"value":24445},{"type":15,"tag":252,"props":37106,"children":37107},{"class":254,"line":2310},[37108],{"type":15,"tag":252,"props":37109,"children":37110},{"style":447},[37111],{"type":21,"value":2854},{"type":15,"tag":252,"props":37113,"children":37114},{"class":254,"line":2370},[37115],{"type":15,"tag":252,"props":37116,"children":37117},{"emptyLinePlaceholder":2053},[37118],{"type":21,"value":2056},{"type":15,"tag":252,"props":37120,"children":37121},{"class":254,"line":2418},[37122,37126,37130],{"type":15,"tag":252,"props":37123,"children":37124},{"style":447},[37125],{"type":21,"value":3742},{"type":15,"tag":252,"props":37127,"children":37128},{"style":259},[37129],{"type":21,"value":5788},{"type":15,"tag":252,"props":37131,"children":37132},{"style":447},[37133],{"type":21,"value":3751},{"type":15,"tag":252,"props":37135,"children":37136},{"class":254,"line":2426},[37137,37141,37145,37150],{"type":15,"tag":252,"props":37138,"children":37139},{"style":601},[37140],{"type":21,"value":4740},{"type":15,"tag":252,"props":37142,"children":37143},{"style":601},[37144],{"type":21,"value":5869},{"type":15,"tag":252,"props":37146,"children":37147},{"style":259},[37148],{"type":21,"value":37149}," IntComparisonOp",{"type":15,"tag":252,"props":37151,"children":37152},{"style":447},[37153],{"type":21,"value":3769},{"type":15,"tag":252,"props":37155,"children":37156},{"class":254,"line":2474},[37157,37162],{"type":15,"tag":252,"props":37158,"children":37159},{"style":259},[37160],{"type":21,"value":37161},"    Equal",{"type":15,"tag":252,"props":37163,"children":37164},{"style":447},[37165],{"type":21,"value":3879},{"type":15,"tag":252,"props":37167,"children":37168},{"class":254,"line":2522},[37169],{"type":15,"tag":252,"props":37170,"children":37171},{"style":447},[37172],{"type":21,"value":2854},{"type":15,"tag":23,"props":37174,"children":37175},{},[37176,37178],{"type":21,"value":37177},"This is a bit more complex than the AST, but again type info! So all these types are needed to make code gen easy ",{"type":15,"tag":234,"props":37179,"children":37180},{},[],{"type":15,"tag":59,"props":37182,"children":37184},{"id":37183},"code-gen-3",[37185],{"type":21,"value":26061},{"type":15,"tag":95,"props":37187,"children":37189},{"code":37188,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\n\nfn resolve_expression(expression: &ast::Expression) -> anyhow::Result\u003CTypedExpression> {\n    match expression {\n        ast::Expression::Literal(literal) => resolve_literal(literal),\n        ast::Expression::BinaryOp(left, op, right) => {\n            let left = resolve_expression(left)?;\n            let right = resolve_expression(right)?;\n\n            match op {\n                ast::BinaryOp::Equals => {\n                    let left = left.is_int()?;\n                    let right = right.is_int()?;\n\n                    Ok(TypedExpression::Boolean(ir::BooleanExpression::Comparison(\n                        ir::ComparisonExpression::IntComparison(\n                            Box::new(left),\n                            ir::IntComparisonOp::Equal,\n                            Box::new(right),\n                        ),\n                    )))\n                }\n            }\n        }\n    }\n}\n",[37190],{"type":15,"tag":81,"props":37191,"children":37192},{"__ignoreMap":8},[37193,37200,37207,37274,37285,37324,37360,37393,37426,37433,37445,37477,37519,37559,37566,37618,37647,37668,37697,37717,37725,37733,37740,37747,37754,37761],{"type":15,"tag":252,"props":37194,"children":37195},{"class":254,"line":255},[37196],{"type":15,"tag":252,"props":37197,"children":37198},{"style":3287},[37199],{"type":21,"value":14916},{"type":15,"tag":252,"props":37201,"children":37202},{"class":254,"line":334},[37203],{"type":15,"tag":252,"props":37204,"children":37205},{"emptyLinePlaceholder":2053},[37206],{"type":21,"value":2056},{"type":15,"tag":252,"props":37208,"children":37209},{"class":254,"line":390},[37210,37214,37218,37222,37226,37230,37234,37238,37242,37246,37250,37254,37258,37262,37266,37270],{"type":15,"tag":252,"props":37211,"children":37212},{"style":601},[37213],{"type":21,"value":2064},{"type":15,"tag":252,"props":37215,"children":37216},{"style":259},[37217],{"type":21,"value":15420},{"type":15,"tag":252,"props":37219,"children":37220},{"style":447},[37221],{"type":21,"value":15425},{"type":15,"tag":252,"props":37223,"children":37224},{"style":601},[37225],{"type":21,"value":3374},{"type":15,"tag":252,"props":37227,"children":37228},{"style":601},[37229],{"type":21,"value":4920},{"type":15,"tag":252,"props":37231,"children":37232},{"style":259},[37233],{"type":21,"value":5623},{"type":15,"tag":252,"props":37235,"children":37236},{"style":601},[37237],{"type":21,"value":804},{"type":15,"tag":252,"props":37239,"children":37240},{"style":259},[37241],{"type":21,"value":5716},{"type":15,"tag":252,"props":37243,"children":37244},{"style":447},[37245],{"type":21,"value":4943},{"type":15,"tag":252,"props":37247,"children":37248},{"style":601},[37249],{"type":21,"value":3947},{"type":15,"tag":252,"props":37251,"children":37252},{"style":259},[37253],{"type":21,"value":3952},{"type":15,"tag":252,"props":37255,"children":37256},{"style":601},[37257],{"type":21,"value":804},{"type":15,"tag":252,"props":37259,"children":37260},{"style":259},[37261],{"type":21,"value":3961},{"type":15,"tag":252,"props":37263,"children":37264},{"style":447},[37265],{"type":21,"value":5826},{"type":15,"tag":252,"props":37267,"children":37268},{"style":259},[37269],{"type":21,"value":15281},{"type":15,"tag":252,"props":37271,"children":37272},{"style":447},[37273],{"type":21,"value":7138},{"type":15,"tag":252,"props":37275,"children":37276},{"class":254,"line":2077},[37277,37281],{"type":15,"tag":252,"props":37278,"children":37279},{"style":601},[37280],{"type":21,"value":4014},{"type":15,"tag":252,"props":37282,"children":37283},{"style":447},[37284],{"type":21,"value":15489},{"type":15,"tag":252,"props":37286,"children":37287},{"class":254,"line":2110},[37288,37292,37296,37300,37304,37308,37312,37316,37320],{"type":15,"tag":252,"props":37289,"children":37290},{"style":259},[37291],{"type":21,"value":15305},{"type":15,"tag":252,"props":37293,"children":37294},{"style":601},[37295],{"type":21,"value":804},{"type":15,"tag":252,"props":37297,"children":37298},{"style":259},[37299],{"type":21,"value":5716},{"type":15,"tag":252,"props":37301,"children":37302},{"style":601},[37303],{"type":21,"value":804},{"type":15,"tag":252,"props":37305,"children":37306},{"style":259},[37307],{"type":21,"value":5724},{"type":15,"tag":252,"props":37309,"children":37310},{"style":447},[37311],{"type":21,"value":15517},{"type":15,"tag":252,"props":37313,"children":37314},{"style":601},[37315],{"type":21,"value":4054},{"type":15,"tag":252,"props":37317,"children":37318},{"style":259},[37319],{"type":21,"value":15227},{"type":15,"tag":252,"props":37321,"children":37322},{"style":447},[37323],{"type":21,"value":15530},{"type":15,"tag":252,"props":37325,"children":37326},{"class":254,"line":2150},[37327,37331,37335,37339,37343,37347,37352,37356],{"type":15,"tag":252,"props":37328,"children":37329},{"style":259},[37330],{"type":21,"value":15305},{"type":15,"tag":252,"props":37332,"children":37333},{"style":601},[37334],{"type":21,"value":804},{"type":15,"tag":252,"props":37336,"children":37337},{"style":259},[37338],{"type":21,"value":5716},{"type":15,"tag":252,"props":37340,"children":37341},{"style":601},[37342],{"type":21,"value":804},{"type":15,"tag":252,"props":37344,"children":37345},{"style":259},[37346],{"type":21,"value":36180},{"type":15,"tag":252,"props":37348,"children":37349},{"style":447},[37350],{"type":21,"value":37351},"(left, op, right) ",{"type":15,"tag":252,"props":37353,"children":37354},{"style":601},[37355],{"type":21,"value":4054},{"type":15,"tag":252,"props":37357,"children":37358},{"style":447},[37359],{"type":21,"value":3769},{"type":15,"tag":252,"props":37361,"children":37362},{"class":254,"line":2182},[37363,37367,37372,37376,37380,37385,37389],{"type":15,"tag":252,"props":37364,"children":37365},{"style":601},[37366],{"type":21,"value":15892},{"type":15,"tag":252,"props":37368,"children":37369},{"style":447},[37370],{"type":21,"value":37371}," left ",{"type":15,"tag":252,"props":37373,"children":37374},{"style":601},[37375],{"type":21,"value":614},{"type":15,"tag":252,"props":37377,"children":37378},{"style":259},[37379],{"type":21,"value":15420},{"type":15,"tag":252,"props":37381,"children":37382},{"style":447},[37383],{"type":21,"value":37384},"(left)",{"type":15,"tag":252,"props":37386,"children":37387},{"style":601},[37388],{"type":21,"value":5468},{"type":15,"tag":252,"props":37390,"children":37391},{"style":447},[37392],{"type":21,"value":3325},{"type":15,"tag":252,"props":37394,"children":37395},{"class":254,"line":2190},[37396,37400,37405,37409,37413,37418,37422],{"type":15,"tag":252,"props":37397,"children":37398},{"style":601},[37399],{"type":21,"value":15892},{"type":15,"tag":252,"props":37401,"children":37402},{"style":447},[37403],{"type":21,"value":37404}," right ",{"type":15,"tag":252,"props":37406,"children":37407},{"style":601},[37408],{"type":21,"value":614},{"type":15,"tag":252,"props":37410,"children":37411},{"style":259},[37412],{"type":21,"value":15420},{"type":15,"tag":252,"props":37414,"children":37415},{"style":447},[37416],{"type":21,"value":37417},"(right)",{"type":15,"tag":252,"props":37419,"children":37420},{"style":601},[37421],{"type":21,"value":5468},{"type":15,"tag":252,"props":37423,"children":37424},{"style":447},[37425],{"type":21,"value":3325},{"type":15,"tag":252,"props":37427,"children":37428},{"class":254,"line":2222},[37429],{"type":15,"tag":252,"props":37430,"children":37431},{"emptyLinePlaceholder":2053},[37432],{"type":21,"value":2056},{"type":15,"tag":252,"props":37434,"children":37435},{"class":254,"line":2270},[37436,37440],{"type":15,"tag":252,"props":37437,"children":37438},{"style":601},[37439],{"type":21,"value":9860},{"type":15,"tag":252,"props":37441,"children":37442},{"style":447},[37443],{"type":21,"value":37444}," op {\n",{"type":15,"tag":252,"props":37446,"children":37447},{"class":254,"line":2302},[37448,37453,37457,37461,37465,37469,37473],{"type":15,"tag":252,"props":37449,"children":37450},{"style":259},[37451],{"type":21,"value":37452},"                ast",{"type":15,"tag":252,"props":37454,"children":37455},{"style":601},[37456],{"type":21,"value":804},{"type":15,"tag":252,"props":37458,"children":37459},{"style":259},[37460],{"type":21,"value":36180},{"type":15,"tag":252,"props":37462,"children":37463},{"style":601},[37464],{"type":21,"value":804},{"type":15,"tag":252,"props":37466,"children":37467},{"style":259},[37468],{"type":21,"value":36820},{"type":15,"tag":252,"props":37470,"children":37471},{"style":601},[37472],{"type":21,"value":9226},{"type":15,"tag":252,"props":37474,"children":37475},{"style":447},[37476],{"type":21,"value":3769},{"type":15,"tag":252,"props":37478,"children":37479},{"class":254,"line":2310},[37480,37485,37489,37493,37498,37502,37507,37511,37515],{"type":15,"tag":252,"props":37481,"children":37482},{"style":601},[37483],{"type":21,"value":37484},"                    let",{"type":15,"tag":252,"props":37486,"children":37487},{"style":447},[37488],{"type":21,"value":37371},{"type":15,"tag":252,"props":37490,"children":37491},{"style":601},[37492],{"type":21,"value":614},{"type":15,"tag":252,"props":37494,"children":37495},{"style":447},[37496],{"type":21,"value":37497}," left",{"type":15,"tag":252,"props":37499,"children":37500},{"style":601},[37501],{"type":21,"value":432},{"type":15,"tag":252,"props":37503,"children":37504},{"style":259},[37505],{"type":21,"value":37506},"is_int",{"type":15,"tag":252,"props":37508,"children":37509},{"style":447},[37510],{"type":21,"value":7305},{"type":15,"tag":252,"props":37512,"children":37513},{"style":601},[37514],{"type":21,"value":5468},{"type":15,"tag":252,"props":37516,"children":37517},{"style":447},[37518],{"type":21,"value":3325},{"type":15,"tag":252,"props":37520,"children":37521},{"class":254,"line":2370},[37522,37526,37530,37534,37539,37543,37547,37551,37555],{"type":15,"tag":252,"props":37523,"children":37524},{"style":601},[37525],{"type":21,"value":37484},{"type":15,"tag":252,"props":37527,"children":37528},{"style":447},[37529],{"type":21,"value":37404},{"type":15,"tag":252,"props":37531,"children":37532},{"style":601},[37533],{"type":21,"value":614},{"type":15,"tag":252,"props":37535,"children":37536},{"style":447},[37537],{"type":21,"value":37538}," right",{"type":15,"tag":252,"props":37540,"children":37541},{"style":601},[37542],{"type":21,"value":432},{"type":15,"tag":252,"props":37544,"children":37545},{"style":259},[37546],{"type":21,"value":37506},{"type":15,"tag":252,"props":37548,"children":37549},{"style":447},[37550],{"type":21,"value":7305},{"type":15,"tag":252,"props":37552,"children":37553},{"style":601},[37554],{"type":21,"value":5468},{"type":15,"tag":252,"props":37556,"children":37557},{"style":447},[37558],{"type":21,"value":3325},{"type":15,"tag":252,"props":37560,"children":37561},{"class":254,"line":2418},[37562],{"type":15,"tag":252,"props":37563,"children":37564},{"emptyLinePlaceholder":2053},[37565],{"type":21,"value":2056},{"type":15,"tag":252,"props":37567,"children":37568},{"class":254,"line":2426},[37569,37574,37578,37582,37586,37590,37594,37598,37602,37606,37610,37614],{"type":15,"tag":252,"props":37570,"children":37571},{"style":259},[37572],{"type":21,"value":37573},"                    Ok",{"type":15,"tag":252,"props":37575,"children":37576},{"style":447},[37577],{"type":21,"value":849},{"type":15,"tag":252,"props":37579,"children":37580},{"style":259},[37581],{"type":21,"value":15281},{"type":15,"tag":252,"props":37583,"children":37584},{"style":601},[37585],{"type":21,"value":804},{"type":15,"tag":252,"props":37587,"children":37588},{"style":259},[37589],{"type":21,"value":27449},{"type":15,"tag":252,"props":37591,"children":37592},{"style":447},[37593],{"type":21,"value":849},{"type":15,"tag":252,"props":37595,"children":37596},{"style":259},[37597],{"type":21,"value":14557},{"type":15,"tag":252,"props":37599,"children":37600},{"style":601},[37601],{"type":21,"value":804},{"type":15,"tag":252,"props":37603,"children":37604},{"style":259},[37605],{"type":21,"value":27991},{"type":15,"tag":252,"props":37607,"children":37608},{"style":601},[37609],{"type":21,"value":804},{"type":15,"tag":252,"props":37611,"children":37612},{"style":259},[37613],{"type":21,"value":35185},{"type":15,"tag":252,"props":37615,"children":37616},{"style":447},[37617],{"type":21,"value":14196},{"type":15,"tag":252,"props":37619,"children":37620},{"class":254,"line":2474},[37621,37626,37630,37634,37638,37643],{"type":15,"tag":252,"props":37622,"children":37623},{"style":259},[37624],{"type":21,"value":37625},"                        ir",{"type":15,"tag":252,"props":37627,"children":37628},{"style":601},[37629],{"type":21,"value":804},{"type":15,"tag":252,"props":37631,"children":37632},{"style":259},[37633],{"type":21,"value":36998},{"type":15,"tag":252,"props":37635,"children":37636},{"style":601},[37637],{"type":21,"value":804},{"type":15,"tag":252,"props":37639,"children":37640},{"style":259},[37641],{"type":21,"value":37642},"IntComparison",{"type":15,"tag":252,"props":37644,"children":37645},{"style":447},[37646],{"type":21,"value":14196},{"type":15,"tag":252,"props":37648,"children":37649},{"class":254,"line":2522},[37650,37655,37659,37663],{"type":15,"tag":252,"props":37651,"children":37652},{"style":259},[37653],{"type":21,"value":37654},"                            Box",{"type":15,"tag":252,"props":37656,"children":37657},{"style":601},[37658],{"type":21,"value":804},{"type":15,"tag":252,"props":37660,"children":37661},{"style":259},[37662],{"type":21,"value":7761},{"type":15,"tag":252,"props":37664,"children":37665},{"style":447},[37666],{"type":21,"value":37667},"(left),\n",{"type":15,"tag":252,"props":37669,"children":37670},{"class":254,"line":2530},[37671,37676,37680,37684,37688,37693],{"type":15,"tag":252,"props":37672,"children":37673},{"style":259},[37674],{"type":21,"value":37675},"                            ir",{"type":15,"tag":252,"props":37677,"children":37678},{"style":601},[37679],{"type":21,"value":804},{"type":15,"tag":252,"props":37681,"children":37682},{"style":259},[37683],{"type":21,"value":37084},{"type":15,"tag":252,"props":37685,"children":37686},{"style":601},[37687],{"type":21,"value":804},{"type":15,"tag":252,"props":37689,"children":37690},{"style":259},[37691],{"type":21,"value":37692},"Equal",{"type":15,"tag":252,"props":37694,"children":37695},{"style":447},[37696],{"type":21,"value":3879},{"type":15,"tag":252,"props":37698,"children":37699},{"class":254,"line":2570},[37700,37704,37708,37712],{"type":15,"tag":252,"props":37701,"children":37702},{"style":259},[37703],{"type":21,"value":37654},{"type":15,"tag":252,"props":37705,"children":37706},{"style":601},[37707],{"type":21,"value":804},{"type":15,"tag":252,"props":37709,"children":37710},{"style":259},[37711],{"type":21,"value":7761},{"type":15,"tag":252,"props":37713,"children":37714},{"style":447},[37715],{"type":21,"value":37716},"(right),\n",{"type":15,"tag":252,"props":37718,"children":37719},{"class":254,"line":2591},[37720],{"type":15,"tag":252,"props":37721,"children":37722},{"style":447},[37723],{"type":21,"value":37724},"                        ),\n",{"type":15,"tag":252,"props":37726,"children":37727},{"class":254,"line":2599},[37728],{"type":15,"tag":252,"props":37729,"children":37730},{"style":447},[37731],{"type":21,"value":37732},"                    )))\n",{"type":15,"tag":252,"props":37734,"children":37735},{"class":254,"line":2647},[37736],{"type":15,"tag":252,"props":37737,"children":37738},{"style":447},[37739],{"type":21,"value":10093},{"type":15,"tag":252,"props":37741,"children":37742},{"class":254,"line":2679},[37743],{"type":15,"tag":252,"props":37744,"children":37745},{"style":447},[37746],{"type":21,"value":8814},{"type":15,"tag":252,"props":37748,"children":37749},{"class":254,"line":2727},[37750],{"type":15,"tag":252,"props":37751,"children":37752},{"style":447},[37753],{"type":21,"value":4087},{"type":15,"tag":252,"props":37755,"children":37756},{"class":254,"line":2735},[37757],{"type":15,"tag":252,"props":37758,"children":37759},{"style":447},[37760],{"type":21,"value":4095},{"type":15,"tag":252,"props":37762,"children":37763},{"class":254,"line":2799},[37764],{"type":15,"tag":252,"props":37765,"children":37766},{"style":447},[37767],{"type":21,"value":2854},{"type":15,"tag":23,"props":37769,"children":37770},{},[37771],{"type":21,"value":37772},"In the next post we will make this proper, but for now it is pretty hardcoded.",{"type":15,"tag":23,"props":37774,"children":37775},{},[37776],{"type":21,"value":37777},"And now the fun part begins, code gen!",{"type":15,"tag":95,"props":37779,"children":37781},{"code":37780,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n\n    fn compile_comparison(\n        &self,\n        comparison: &ir::ComparisonExpression,\n    ) -> inkwell::values::IntValue {\n        match comparison {\n            ir::ComparisonExpression::IntComparison(left, op, right) => {\n                let left = self.compile_int_expression(left);\n                let right = self.compile_int_expression(right);\n\n                let op = match op {\n                    ir::IntComparisonOp::Equal => IntPredicate::EQ,\n                };\n\n                self.builder\n                    .build_int_compare(op, left, right, \"Comparison\")\n            }\n        }\n    }\n\n    fn compile_bool_expression(\n        &self,\n        expression: &ir::BooleanExpression,\n    ) -> inkwell::values::IntValue {\n        match expression {\n            ir::BooleanExpression::Literal(boolean) => {\n                self.context.bool_type().const_int(*boolean as u64, false)\n            }\n            ir::BooleanExpression::Comparison(comparison) => self.compile_comparison(comparison),\n        }\n    }\n",[37782],{"type":15,"tag":81,"props":37783,"children":37784},{"__ignoreMap":8},[37785,37792,37799,37815,37830,37862,37897,37909,37944,37976,38008,38015,38039,38085,38092,38099,38114,38140,38147,38154,38161,38168,38183,38198,38229,38264,38275,38310,38378,38385,38435,38442],{"type":15,"tag":252,"props":37786,"children":37787},{"class":254,"line":255},[37788],{"type":15,"tag":252,"props":37789,"children":37790},{"style":3287},[37791],{"type":21,"value":26081},{"type":15,"tag":252,"props":37793,"children":37794},{"class":254,"line":334},[37795],{"type":15,"tag":252,"props":37796,"children":37797},{"emptyLinePlaceholder":2053},[37798],{"type":21,"value":2056},{"type":15,"tag":252,"props":37800,"children":37801},{"class":254,"line":390},[37802,37806,37811],{"type":15,"tag":252,"props":37803,"children":37804},{"style":601},[37805],{"type":21,"value":7146},{"type":15,"tag":252,"props":37807,"children":37808},{"style":259},[37809],{"type":21,"value":37810}," compile_comparison",{"type":15,"tag":252,"props":37812,"children":37813},{"style":447},[37814],{"type":21,"value":14196},{"type":15,"tag":252,"props":37816,"children":37817},{"class":254,"line":2077},[37818,37822,37826],{"type":15,"tag":252,"props":37819,"children":37820},{"style":601},[37821],{"type":21,"value":29140},{"type":15,"tag":252,"props":37823,"children":37824},{"style":276},[37825],{"type":21,"value":7432},{"type":15,"tag":252,"props":37827,"children":37828},{"style":447},[37829],{"type":21,"value":3879},{"type":15,"tag":252,"props":37831,"children":37832},{"class":254,"line":2110},[37833,37838,37842,37846,37850,37854,37858],{"type":15,"tag":252,"props":37834,"children":37835},{"style":447},[37836],{"type":21,"value":37837},"        comparison",{"type":15,"tag":252,"props":37839,"children":37840},{"style":601},[37841],{"type":21,"value":3374},{"type":15,"tag":252,"props":37843,"children":37844},{"style":601},[37845],{"type":21,"value":4920},{"type":15,"tag":252,"props":37847,"children":37848},{"style":259},[37849],{"type":21,"value":14557},{"type":15,"tag":252,"props":37851,"children":37852},{"style":601},[37853],{"type":21,"value":804},{"type":15,"tag":252,"props":37855,"children":37856},{"style":259},[37857],{"type":21,"value":36998},{"type":15,"tag":252,"props":37859,"children":37860},{"style":447},[37861],{"type":21,"value":3879},{"type":15,"tag":252,"props":37863,"children":37864},{"class":254,"line":2150},[37865,37869,37873,37877,37881,37885,37889,37893],{"type":15,"tag":252,"props":37866,"children":37867},{"style":447},[37868],{"type":21,"value":29188},{"type":15,"tag":252,"props":37870,"children":37871},{"style":601},[37872],{"type":21,"value":3947},{"type":15,"tag":252,"props":37874,"children":37875},{"style":259},[37876],{"type":21,"value":273},{"type":15,"tag":252,"props":37878,"children":37879},{"style":601},[37880],{"type":21,"value":804},{"type":15,"tag":252,"props":37882,"children":37883},{"style":259},[37884],{"type":21,"value":18543},{"type":15,"tag":252,"props":37886,"children":37887},{"style":601},[37888],{"type":21,"value":804},{"type":15,"tag":252,"props":37890,"children":37891},{"style":259},[37892],{"type":21,"value":18552},{"type":15,"tag":252,"props":37894,"children":37895},{"style":447},[37896],{"type":21,"value":3769},{"type":15,"tag":252,"props":37898,"children":37899},{"class":254,"line":2182},[37900,37904],{"type":15,"tag":252,"props":37901,"children":37902},{"style":601},[37903],{"type":21,"value":12717},{"type":15,"tag":252,"props":37905,"children":37906},{"style":447},[37907],{"type":21,"value":37908}," comparison {\n",{"type":15,"tag":252,"props":37910,"children":37911},{"class":254,"line":2190},[37912,37916,37920,37924,37928,37932,37936,37940],{"type":15,"tag":252,"props":37913,"children":37914},{"style":259},[37915],{"type":21,"value":18575},{"type":15,"tag":252,"props":37917,"children":37918},{"style":601},[37919],{"type":21,"value":804},{"type":15,"tag":252,"props":37921,"children":37922},{"style":259},[37923],{"type":21,"value":36998},{"type":15,"tag":252,"props":37925,"children":37926},{"style":601},[37927],{"type":21,"value":804},{"type":15,"tag":252,"props":37929,"children":37930},{"style":259},[37931],{"type":21,"value":37642},{"type":15,"tag":252,"props":37933,"children":37934},{"style":447},[37935],{"type":21,"value":37351},{"type":15,"tag":252,"props":37937,"children":37938},{"style":601},[37939],{"type":21,"value":4054},{"type":15,"tag":252,"props":37941,"children":37942},{"style":447},[37943],{"type":21,"value":3769},{"type":15,"tag":252,"props":37945,"children":37946},{"class":254,"line":2222},[37947,37951,37955,37959,37963,37967,37971],{"type":15,"tag":252,"props":37948,"children":37949},{"style":601},[37950],{"type":21,"value":13283},{"type":15,"tag":252,"props":37952,"children":37953},{"style":447},[37954],{"type":21,"value":37371},{"type":15,"tag":252,"props":37956,"children":37957},{"style":601},[37958],{"type":21,"value":614},{"type":15,"tag":252,"props":37960,"children":37961},{"style":276},[37962],{"type":21,"value":7244},{"type":15,"tag":252,"props":37964,"children":37965},{"style":601},[37966],{"type":21,"value":432},{"type":15,"tag":252,"props":37968,"children":37969},{"style":259},[37970],{"type":21,"value":19036},{"type":15,"tag":252,"props":37972,"children":37973},{"style":447},[37974],{"type":21,"value":37975},"(left);\n",{"type":15,"tag":252,"props":37977,"children":37978},{"class":254,"line":2270},[37979,37983,37987,37991,37995,37999,38003],{"type":15,"tag":252,"props":37980,"children":37981},{"style":601},[37982],{"type":21,"value":13283},{"type":15,"tag":252,"props":37984,"children":37985},{"style":447},[37986],{"type":21,"value":37404},{"type":15,"tag":252,"props":37988,"children":37989},{"style":601},[37990],{"type":21,"value":614},{"type":15,"tag":252,"props":37992,"children":37993},{"style":276},[37994],{"type":21,"value":7244},{"type":15,"tag":252,"props":37996,"children":37997},{"style":601},[37998],{"type":21,"value":432},{"type":15,"tag":252,"props":38000,"children":38001},{"style":259},[38002],{"type":21,"value":19036},{"type":15,"tag":252,"props":38004,"children":38005},{"style":447},[38006],{"type":21,"value":38007},"(right);\n",{"type":15,"tag":252,"props":38009,"children":38010},{"class":254,"line":2302},[38011],{"type":15,"tag":252,"props":38012,"children":38013},{"emptyLinePlaceholder":2053},[38014],{"type":21,"value":2056},{"type":15,"tag":252,"props":38016,"children":38017},{"class":254,"line":2310},[38018,38022,38027,38031,38035],{"type":15,"tag":252,"props":38019,"children":38020},{"style":601},[38021],{"type":21,"value":13283},{"type":15,"tag":252,"props":38023,"children":38024},{"style":447},[38025],{"type":21,"value":38026}," op ",{"type":15,"tag":252,"props":38028,"children":38029},{"style":601},[38030],{"type":21,"value":614},{"type":15,"tag":252,"props":38032,"children":38033},{"style":601},[38034],{"type":21,"value":18821},{"type":15,"tag":252,"props":38036,"children":38037},{"style":447},[38038],{"type":21,"value":37444},{"type":15,"tag":252,"props":38040,"children":38041},{"class":254,"line":2370},[38042,38047,38051,38055,38059,38063,38067,38072,38076,38081],{"type":15,"tag":252,"props":38043,"children":38044},{"style":259},[38045],{"type":21,"value":38046},"                    ir",{"type":15,"tag":252,"props":38048,"children":38049},{"style":601},[38050],{"type":21,"value":804},{"type":15,"tag":252,"props":38052,"children":38053},{"style":259},[38054],{"type":21,"value":37084},{"type":15,"tag":252,"props":38056,"children":38057},{"style":601},[38058],{"type":21,"value":804},{"type":15,"tag":252,"props":38060,"children":38061},{"style":259},[38062],{"type":21,"value":37692},{"type":15,"tag":252,"props":38064,"children":38065},{"style":601},[38066],{"type":21,"value":9226},{"type":15,"tag":252,"props":38068,"children":38069},{"style":259},[38070],{"type":21,"value":38071}," IntPredicate",{"type":15,"tag":252,"props":38073,"children":38074},{"style":601},[38075],{"type":21,"value":804},{"type":15,"tag":252,"props":38077,"children":38078},{"style":276},[38079],{"type":21,"value":38080},"EQ",{"type":15,"tag":252,"props":38082,"children":38083},{"style":447},[38084],{"type":21,"value":3879},{"type":15,"tag":252,"props":38086,"children":38087},{"class":254,"line":2418},[38088],{"type":15,"tag":252,"props":38089,"children":38090},{"style":447},[38091],{"type":21,"value":31547},{"type":15,"tag":252,"props":38093,"children":38094},{"class":254,"line":2426},[38095],{"type":15,"tag":252,"props":38096,"children":38097},{"emptyLinePlaceholder":2053},[38098],{"type":21,"value":2056},{"type":15,"tag":252,"props":38100,"children":38101},{"class":254,"line":2474},[38102,38106,38110],{"type":15,"tag":252,"props":38103,"children":38104},{"style":276},[38105],{"type":21,"value":8765},{"type":15,"tag":252,"props":38107,"children":38108},{"style":601},[38109],{"type":21,"value":432},{"type":15,"tag":252,"props":38111,"children":38112},{"style":447},[38113],{"type":21,"value":18914},{"type":15,"tag":252,"props":38115,"children":38116},{"class":254,"line":2522},[38117,38121,38126,38131,38136],{"type":15,"tag":252,"props":38118,"children":38119},{"style":601},[38120],{"type":21,"value":26477},{"type":15,"tag":252,"props":38122,"children":38123},{"style":259},[38124],{"type":21,"value":38125},"build_int_compare",{"type":15,"tag":252,"props":38127,"children":38128},{"style":447},[38129],{"type":21,"value":38130},"(op, left, right, ",{"type":15,"tag":252,"props":38132,"children":38133},{"style":265},[38134],{"type":21,"value":38135},"\"Comparison\"",{"type":15,"tag":252,"props":38137,"children":38138},{"style":447},[38139],{"type":21,"value":7327},{"type":15,"tag":252,"props":38141,"children":38142},{"class":254,"line":2530},[38143],{"type":15,"tag":252,"props":38144,"children":38145},{"style":447},[38146],{"type":21,"value":8814},{"type":15,"tag":252,"props":38148,"children":38149},{"class":254,"line":2570},[38150],{"type":15,"tag":252,"props":38151,"children":38152},{"style":447},[38153],{"type":21,"value":4087},{"type":15,"tag":252,"props":38155,"children":38156},{"class":254,"line":2591},[38157],{"type":15,"tag":252,"props":38158,"children":38159},{"style":447},[38160],{"type":21,"value":4095},{"type":15,"tag":252,"props":38162,"children":38163},{"class":254,"line":2599},[38164],{"type":15,"tag":252,"props":38165,"children":38166},{"emptyLinePlaceholder":2053},[38167],{"type":21,"value":2056},{"type":15,"tag":252,"props":38169,"children":38170},{"class":254,"line":2647},[38171,38175,38179],{"type":15,"tag":252,"props":38172,"children":38173},{"style":601},[38174],{"type":21,"value":7146},{"type":15,"tag":252,"props":38176,"children":38177},{"style":259},[38178],{"type":21,"value":29128},{"type":15,"tag":252,"props":38180,"children":38181},{"style":447},[38182],{"type":21,"value":14196},{"type":15,"tag":252,"props":38184,"children":38185},{"class":254,"line":2679},[38186,38190,38194],{"type":15,"tag":252,"props":38187,"children":38188},{"style":601},[38189],{"type":21,"value":29140},{"type":15,"tag":252,"props":38191,"children":38192},{"style":276},[38193],{"type":21,"value":7432},{"type":15,"tag":252,"props":38195,"children":38196},{"style":447},[38197],{"type":21,"value":3879},{"type":15,"tag":252,"props":38199,"children":38200},{"class":254,"line":2727},[38201,38205,38209,38213,38217,38221,38225],{"type":15,"tag":252,"props":38202,"children":38203},{"style":447},[38204],{"type":21,"value":29156},{"type":15,"tag":252,"props":38206,"children":38207},{"style":601},[38208],{"type":21,"value":3374},{"type":15,"tag":252,"props":38210,"children":38211},{"style":601},[38212],{"type":21,"value":4920},{"type":15,"tag":252,"props":38214,"children":38215},{"style":259},[38216],{"type":21,"value":14557},{"type":15,"tag":252,"props":38218,"children":38219},{"style":601},[38220],{"type":21,"value":804},{"type":15,"tag":252,"props":38222,"children":38223},{"style":259},[38224],{"type":21,"value":27991},{"type":15,"tag":252,"props":38226,"children":38227},{"style":447},[38228],{"type":21,"value":3879},{"type":15,"tag":252,"props":38230,"children":38231},{"class":254,"line":2735},[38232,38236,38240,38244,38248,38252,38256,38260],{"type":15,"tag":252,"props":38233,"children":38234},{"style":447},[38235],{"type":21,"value":29188},{"type":15,"tag":252,"props":38237,"children":38238},{"style":601},[38239],{"type":21,"value":3947},{"type":15,"tag":252,"props":38241,"children":38242},{"style":259},[38243],{"type":21,"value":273},{"type":15,"tag":252,"props":38245,"children":38246},{"style":601},[38247],{"type":21,"value":804},{"type":15,"tag":252,"props":38249,"children":38250},{"style":259},[38251],{"type":21,"value":18543},{"type":15,"tag":252,"props":38253,"children":38254},{"style":601},[38255],{"type":21,"value":804},{"type":15,"tag":252,"props":38257,"children":38258},{"style":259},[38259],{"type":21,"value":18552},{"type":15,"tag":252,"props":38261,"children":38262},{"style":447},[38263],{"type":21,"value":3769},{"type":15,"tag":252,"props":38265,"children":38266},{"class":254,"line":2799},[38267,38271],{"type":15,"tag":252,"props":38268,"children":38269},{"style":601},[38270],{"type":21,"value":12717},{"type":15,"tag":252,"props":38272,"children":38273},{"style":447},[38274],{"type":21,"value":15489},{"type":15,"tag":252,"props":38276,"children":38277},{"class":254,"line":2807},[38278,38282,38286,38290,38294,38298,38302,38306],{"type":15,"tag":252,"props":38279,"children":38280},{"style":259},[38281],{"type":21,"value":18575},{"type":15,"tag":252,"props":38283,"children":38284},{"style":601},[38285],{"type":21,"value":804},{"type":15,"tag":252,"props":38287,"children":38288},{"style":259},[38289],{"type":21,"value":27991},{"type":15,"tag":252,"props":38291,"children":38292},{"style":601},[38293],{"type":21,"value":804},{"type":15,"tag":252,"props":38295,"children":38296},{"style":259},[38297],{"type":21,"value":5724},{"type":15,"tag":252,"props":38299,"children":38300},{"style":447},[38301],{"type":21,"value":28739},{"type":15,"tag":252,"props":38303,"children":38304},{"style":601},[38305],{"type":21,"value":4054},{"type":15,"tag":252,"props":38307,"children":38308},{"style":447},[38309],{"type":21,"value":3769},{"type":15,"tag":252,"props":38311,"children":38312},{"class":254,"line":2848},[38313,38317,38321,38325,38329,38334,38338,38342,38346,38350,38354,38358,38362,38366,38370,38374],{"type":15,"tag":252,"props":38314,"children":38315},{"style":276},[38316],{"type":21,"value":8765},{"type":15,"tag":252,"props":38318,"children":38319},{"style":601},[38320],{"type":21,"value":432},{"type":15,"tag":252,"props":38322,"children":38323},{"style":447},[38324],{"type":21,"value":908},{"type":15,"tag":252,"props":38326,"children":38327},{"style":601},[38328],{"type":21,"value":432},{"type":15,"tag":252,"props":38330,"children":38331},{"style":259},[38332],{"type":21,"value":38333},"bool_type",{"type":15,"tag":252,"props":38335,"children":38336},{"style":447},[38337],{"type":21,"value":7305},{"type":15,"tag":252,"props":38339,"children":38340},{"style":601},[38341],{"type":21,"value":432},{"type":15,"tag":252,"props":38343,"children":38344},{"style":259},[38345],{"type":21,"value":1892},{"type":15,"tag":252,"props":38347,"children":38348},{"style":447},[38349],{"type":21,"value":849},{"type":15,"tag":252,"props":38351,"children":38352},{"style":601},[38353],{"type":21,"value":8752},{"type":15,"tag":252,"props":38355,"children":38356},{"style":447},[38357],{"type":21,"value":29302},{"type":15,"tag":252,"props":38359,"children":38360},{"style":601},[38361],{"type":21,"value":18642},{"type":15,"tag":252,"props":38363,"children":38364},{"style":259},[38365],{"type":21,"value":18647},{"type":15,"tag":252,"props":38367,"children":38368},{"style":447},[38369],{"type":21,"value":1076},{"type":15,"tag":252,"props":38371,"children":38372},{"style":276},[38373],{"type":21,"value":1456},{"type":15,"tag":252,"props":38375,"children":38376},{"style":447},[38377],{"type":21,"value":7327},{"type":15,"tag":252,"props":38379,"children":38380},{"class":254,"line":4645},[38381],{"type":15,"tag":252,"props":38382,"children":38383},{"style":447},[38384],{"type":21,"value":8814},{"type":15,"tag":252,"props":38386,"children":38387},{"class":254,"line":4654},[38388,38392,38396,38400,38404,38408,38413,38417,38421,38425,38430],{"type":15,"tag":252,"props":38389,"children":38390},{"style":259},[38391],{"type":21,"value":18575},{"type":15,"tag":252,"props":38393,"children":38394},{"style":601},[38395],{"type":21,"value":804},{"type":15,"tag":252,"props":38397,"children":38398},{"style":259},[38399],{"type":21,"value":27991},{"type":15,"tag":252,"props":38401,"children":38402},{"style":601},[38403],{"type":21,"value":804},{"type":15,"tag":252,"props":38405,"children":38406},{"style":259},[38407],{"type":21,"value":35185},{"type":15,"tag":252,"props":38409,"children":38410},{"style":447},[38411],{"type":21,"value":38412},"(comparison) ",{"type":15,"tag":252,"props":38414,"children":38415},{"style":601},[38416],{"type":21,"value":4054},{"type":15,"tag":252,"props":38418,"children":38419},{"style":276},[38420],{"type":21,"value":7244},{"type":15,"tag":252,"props":38422,"children":38423},{"style":601},[38424],{"type":21,"value":432},{"type":15,"tag":252,"props":38426,"children":38427},{"style":259},[38428],{"type":21,"value":38429},"compile_comparison",{"type":15,"tag":252,"props":38431,"children":38432},{"style":447},[38433],{"type":21,"value":38434},"(comparison),\n",{"type":15,"tag":252,"props":38436,"children":38437},{"class":254,"line":4675},[38438],{"type":15,"tag":252,"props":38439,"children":38440},{"style":447},[38441],{"type":21,"value":4087},{"type":15,"tag":252,"props":38443,"children":38444},{"class":254,"line":8160},[38445],{"type":15,"tag":252,"props":38446,"children":38447},{"style":447},[38448],{"type":21,"value":4095},{"type":15,"tag":23,"props":38450,"children":38451},{},[38452],{"type":21,"value":38453},"And now running our test should work!",{"type":15,"tag":192,"props":38455,"children":38456},{"id":3113},[38457],{"type":21,"value":3116},{"type":15,"tag":23,"props":38459,"children":38460},{},[38461,38463,38469,38471,38477,38479,38485],{"type":21,"value":38462},"And congratulations! We now have a working testing framework, this is gonna make our future development much more convenient. in the next post we will add more fun tests like ",{"type":15,"tag":81,"props":38464,"children":38466},{"className":38465},[],[38467],{"type":21,"value":38468},"1 + 1 == 2",{"type":21,"value":38470},", testing precedence, ",{"type":15,"tag":81,"props":38472,"children":38474},{"className":38473},[],[38475],{"type":21,"value":38476},"1 + 2 * 3 == 7",{"type":21,"value":38478},", and associativity ",{"type":15,"tag":81,"props":38480,"children":38482},{"className":38481},[],[38483],{"type":21,"value":38484},"1 - 2 - 3 == -4",{"type":21,"value":38486},"! But we will go into that in detail in the next post.",{"type":15,"tag":3134,"props":38488,"children":38489},{},[38490],{"type":21,"value":3138},{"title":8,"searchDepth":334,"depth":334,"links":38492},[38493,38494,38495,38500,38505,38510,38511,38517],{"id":23128,"depth":390,"text":23131},{"id":23206,"depth":390,"text":23209},{"id":23290,"depth":334,"text":23293,"children":38496},[38497,38498,38499],{"id":5538,"depth":390,"text":5541},{"id":14557,"depth":390,"text":14560},{"id":26058,"depth":390,"text":26061},{"id":26723,"depth":334,"text":26726,"children":38501},[38502,38503,38504],{"id":26734,"depth":390,"text":5541},{"id":27901,"depth":390,"text":14560},{"id":29095,"depth":390,"text":26061},{"id":86,"depth":334,"text":29936,"children":38506},[38507,38508,38509],{"id":30034,"depth":390,"text":5541},{"id":31708,"depth":390,"text":31711},{"id":32242,"depth":390,"text":26061},{"id":33894,"depth":334,"text":33897},{"id":35182,"depth":334,"text":35185,"children":38512},[38513,38514,38515,38516],{"id":35200,"depth":390,"text":35203},{"id":35219,"depth":390,"text":5541},{"id":36900,"depth":390,"text":31711},{"id":37183,"depth":390,"text":26061},{"id":3113,"depth":334,"text":3116},"content:blog:4.compiler_4.md","blog/4.compiler_4.md",{"_path":38521,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":38522,"description":38523,"body":38524,"_type":3151,"_id":52017,"_source":3153,"_file":52018,"_extension":3155},"/blog/compiler_5","\"Compiler Part 4 - Operators\"","In the last post we implemented the == operator, and we just did a very simple implementation, but today we will start adding more fun operators.",{"type":12,"children":38525,"toc":51986},[38526,38531,38543,38553,38559,38652,38658,38722,38728,38782,38809,38872,38890,38895,38901,38906,39022,39072,39226,39234,39260,39296,39302,39315,39320,39338,39346,39350,39382,39635,39647,39762,39774,39790,39997,40016,40028,40666,40687,40691,40696,40903,40908,41512,41517,42059,42063,42068,42785,42797,42803,42808,42816,42820,42861,42866,43229,43258,43790,43803,44320,44325,44329,44334,44440,44453,44473,45624,45628,45633,46545,46557,46583,46588,46594,46599,46607,46611,46662,47167,47172,47622,47627,47631,47636,47887,47892,48672,48676,48681,49397,49403,49408,49416,49420,49455,49480,49794,49798,49803,49807,49820,49825,49935,49943,49948,50075,50095,50100,50102,50214,50260,50291,50296,51366,51371,51384,51389,51394,51399,51405,51417,51422,51430,51435,51452,51968,51973,51977,51982],{"type":15,"tag":16,"props":38527,"children":38529},{"id":38528},"compiler-part-4-operators",[38530],{"type":21,"value":38522},{"type":15,"tag":23,"props":38532,"children":38533},{},[38534,38536,38541],{"type":21,"value":38535},"In the last post we implemented the ",{"type":15,"tag":81,"props":38537,"children":38539},{"className":38538},[],[38540],{"type":21,"value":8304},{"type":21,"value":38542}," operator, and we just did a very simple implementation, but today we will start adding more fun operators.",{"type":15,"tag":23,"props":38544,"children":38545},{},[38546,38547],{"type":21,"value":23116},{"type":15,"tag":43,"props":38548,"children":38551},{"href":38549,"rel":38550},"https://github.com/vivax3794/viv_script_blog/tree/4b389ee1cb3f0d8ad46313f51749c05b9ae89bbe",[47],[38552],{"type":21,"value":23123},{"type":15,"tag":59,"props":38554,"children":38556},{"id":38555},"what-operators-will-we-add",[38557],{"type":21,"value":38558},"What Operators will we add?",{"type":15,"tag":23,"props":38560,"children":38561},{},[38562,38564,38570,38571,38577,38578,38583,38584,38589,38591,38596,38598,38603,38604,38610,38612,38617,38618,38624,38625,38630,38631,38637,38638,38644,38645,38651],{"type":21,"value":38563},"We will add the classic math operators for ints, ",{"type":15,"tag":81,"props":38565,"children":38567},{"className":38566},[],[38568],{"type":21,"value":38569},"+",{"type":21,"value":1076},{"type":15,"tag":81,"props":38572,"children":38574},{"className":38573},[],[38575],{"type":21,"value":38576},"-",{"type":21,"value":1076},{"type":15,"tag":81,"props":38579,"children":38581},{"className":38580},[],[38582],{"type":21,"value":8752},{"type":21,"value":1076},{"type":15,"tag":81,"props":38585,"children":38587},{"className":38586},[],[38588],{"type":21,"value":1613},{"type":21,"value":38590},", and we will also add the ",{"type":15,"tag":81,"props":38592,"children":38594},{"className":38593},[],[38595],{"type":21,"value":5726},{"type":21,"value":38597}," operator for bools, in addition to ",{"type":15,"tag":81,"props":38599,"children":38601},{"className":38600},[],[38602],{"type":21,"value":14484},{"type":21,"value":3071},{"type":15,"tag":81,"props":38605,"children":38607},{"className":38606},[],[38608],{"type":21,"value":38609},"||",{"type":21,"value":38611},". We will also add the comparison operators, ",{"type":15,"tag":81,"props":38613,"children":38615},{"className":38614},[],[38616],{"type":21,"value":8304},{"type":21,"value":1076},{"type":15,"tag":81,"props":38619,"children":38621},{"className":38620},[],[38622],{"type":21,"value":38623},"!=",{"type":21,"value":1076},{"type":15,"tag":81,"props":38626,"children":38628},{"className":38627},[],[38629],{"type":21,"value":5826},{"type":21,"value":1076},{"type":15,"tag":81,"props":38632,"children":38634},{"className":38633},[],[38635],{"type":21,"value":38636},">",{"type":21,"value":1076},{"type":15,"tag":81,"props":38639,"children":38641},{"className":38640},[],[38642],{"type":21,"value":38643},"\u003C=",{"type":21,"value":1076},{"type":15,"tag":81,"props":38646,"children":38648},{"className":38647},[],[38649],{"type":21,"value":38650},">=",{"type":21,"value":432},{"type":15,"tag":59,"props":38653,"children":38655},{"id":38654},"prefix-operators",[38656],{"type":21,"value":38657},"Prefix Operators",{"type":15,"tag":23,"props":38659,"children":38660},{},[38661,38663,38668,38670,38675,38677,38683,38684,38690,38692,38698,38700,38705,38707,38713,38714,38720],{"type":21,"value":38662},"Now a little note on prefix operators, it might be clear that ",{"type":15,"tag":81,"props":38664,"children":38666},{"className":38665},[],[38667],{"type":21,"value":5726},{"type":21,"value":38669}," is a operator. but what about stuff like ",{"type":15,"tag":81,"props":38671,"children":38673},{"className":38672},[],[38674],{"type":21,"value":38576},{"type":21,"value":38676},"? well it is a prefix and infix operator, so we are going to parse ",{"type":15,"tag":81,"props":38678,"children":38680},{"className":38679},[],[38681],{"type":21,"value":38682},"-5",{"type":21,"value":36300},{"type":15,"tag":81,"props":38685,"children":38687},{"className":38686},[],[38688],{"type":21,"value":38689},"Prefix(Neg, Literal(5))",{"type":21,"value":38691},", why not ",{"type":15,"tag":81,"props":38693,"children":38695},{"className":38694},[],[38696],{"type":21,"value":38697},"Literal(-5)",{"type":21,"value":38699},"? To make it easy ofc! We will use the same parsing logic for ",{"type":15,"tag":81,"props":38701,"children":38703},{"className":38702},[],[38704],{"type":21,"value":38682},{"type":21,"value":38706},", but also ",{"type":15,"tag":81,"props":38708,"children":38710},{"className":38709},[],[38711],{"type":21,"value":38712},"-x",{"type":21,"value":1076},{"type":15,"tag":81,"props":38715,"children":38717},{"className":38716},[],[38718],{"type":21,"value":38719},"-(1 + 2)",{"type":21,"value":38721}," etc. (and yes we will be adding parentheses as well!)",{"type":15,"tag":59,"props":38723,"children":38725},{"id":38724},"precedence",[38726],{"type":21,"value":38727},"Precedence",{"type":15,"tag":23,"props":38729,"children":38730},{},[38731,38733,38738,38740,38745,38747,38753,38755,38760,38762,38767,38769,38774,38776,38781],{"type":21,"value":38732},"This is basically order of operations, so ",{"type":15,"tag":81,"props":38734,"children":38736},{"className":38735},[],[38737],{"type":21,"value":36298},{"type":21,"value":38739}," is parsed as ",{"type":15,"tag":81,"props":38741,"children":38743},{"className":38742},[],[38744],{"type":21,"value":36306},{"type":21,"value":38746},", and not ",{"type":15,"tag":81,"props":38748,"children":38750},{"className":38749},[],[38751],{"type":21,"value":38752},"(1 + 2) * 3",{"type":21,"value":38754},". First lets define some terms, \"lower\" precedence means that the operator is evaluated first, so ",{"type":15,"tag":81,"props":38756,"children":38758},{"className":38757},[],[38759],{"type":21,"value":8752},{"type":21,"value":38761}," has lower precedence than ",{"type":15,"tag":81,"props":38763,"children":38765},{"className":38764},[],[38766],{"type":21,"value":38569},{"type":21,"value":38768},", and \"higher\" precedence means that the operator is evaluated last, so ",{"type":15,"tag":81,"props":38770,"children":38772},{"className":38771},[],[38773],{"type":21,"value":38569},{"type":21,"value":38775}," has higher precedence than ",{"type":15,"tag":81,"props":38777,"children":38779},{"className":38778},[],[38780],{"type":21,"value":8752},{"type":21,"value":432},{"type":15,"tag":23,"props":38783,"children":38784},{},[38785,38787,38792,38794,38799,38801,38807],{"type":21,"value":38786},"A nice way of thinking about this in terms of parsing is glue, ",{"type":15,"tag":81,"props":38788,"children":38790},{"className":38789},[],[38791],{"type":21,"value":8752},{"type":21,"value":38793}," glues together stuff and then ",{"type":15,"tag":81,"props":38795,"children":38797},{"className":38796},[],[38798],{"type":21,"value":38569},{"type":21,"value":38800}," goes, like ",{"type":15,"tag":81,"props":38802,"children":38804},{"className":38803},[],[38805],{"type":21,"value":38806},"1 + 2*3",{"type":21,"value":38808},". But this isnt just for operators, but expressions as a whole.",{"type":15,"tag":23,"props":38810,"children":38811},{},[38812,38814,38820,38821,38827,38829,38834,38836,38841,38843,38849,38850,38856,38858,38863,38865,38870],{"type":21,"value":38813},"so in the big picture it goes: Operator > Function call > Parentheses > Literals.\nYou might assume that prefix operators have a lower precedence than binary operators, but that is not the case. for example ",{"type":15,"tag":81,"props":38815,"children":38817},{"className":38816},[],[38818],{"type":21,"value":38819},"-1 + 2",{"type":21,"value":38739},{"type":15,"tag":81,"props":38822,"children":38824},{"className":38823},[],[38825],{"type":21,"value":38826},"(-1) + 2",{"type":21,"value":38828},", so ",{"type":15,"tag":81,"props":38830,"children":38832},{"className":38831},[],[38833],{"type":21,"value":38576},{"type":21,"value":38835}," (prefix) has a lower precedence than ",{"type":15,"tag":81,"props":38837,"children":38839},{"className":38838},[],[38840],{"type":21,"value":38569},{"type":21,"value":38842}," (binary). But on the other hand ",{"type":15,"tag":81,"props":38844,"children":38846},{"className":38845},[],[38847],{"type":21,"value":38848},"!x == y",{"type":21,"value":38739},{"type":15,"tag":81,"props":38851,"children":38853},{"className":38852},[],[38854],{"type":21,"value":38855},"!(x == y)",{"type":21,"value":38857}," so ",{"type":15,"tag":81,"props":38859,"children":38861},{"className":38860},[],[38862],{"type":21,"value":5726},{"type":21,"value":38864}," (prefix) has a higher precedence than ",{"type":15,"tag":81,"props":38866,"children":38868},{"className":38867},[],[38869],{"type":21,"value":8304},{"type":21,"value":38871}," (binary).",{"type":15,"tag":23,"props":38873,"children":38874},{},[38875,38877,38882,38883,38888],{"type":21,"value":38876},"Also multiple operators can have the same precedence, like ",{"type":15,"tag":81,"props":38878,"children":38880},{"className":38879},[],[38881],{"type":21,"value":38569},{"type":21,"value":3071},{"type":15,"tag":81,"props":38884,"children":38886},{"className":38885},[],[38887],{"type":21,"value":38576},{"type":21,"value":38889},", but in that case we just read right to left!",{"type":15,"tag":23,"props":38891,"children":38892},{},[38893],{"type":21,"value":38894},"This is gonna be a bit of a challenge, but we will get through it! Parsing prefix is pretty easy, but binary is where it gets annoying.",{"type":15,"tag":59,"props":38896,"children":38898},{"id":38897},"associativity",[38899],{"type":21,"value":38900},"Associativity",{"type":15,"tag":23,"props":38902,"children":38903},{},[38904],{"type":21,"value":38905},"So you might assume we will do something like:",{"type":15,"tag":95,"props":38907,"children":38909},{"code":38908,"language":772,"meta":8,"className":773,"style":8},"let left_side = parse_expression(precedence - 1);\nlet operator = { ... };\nlet right_side = parse_expression(precedence);\nreturn Binary(left_side, operator, right_side);\n",[38910],{"type":15,"tag":81,"props":38911,"children":38912},{"__ignoreMap":8},[38913,38950,38980,39004],{"type":15,"tag":252,"props":38914,"children":38915},{"class":254,"line":255},[38916,38920,38924,38928,38933,38938,38942,38946],{"type":15,"tag":252,"props":38917,"children":38918},{"style":601},[38919],{"type":21,"value":785},{"type":15,"tag":252,"props":38921,"children":38922},{"style":447},[38923],{"type":21,"value":36586},{"type":15,"tag":252,"props":38925,"children":38926},{"style":601},[38927],{"type":21,"value":614},{"type":15,"tag":252,"props":38929,"children":38930},{"style":259},[38931],{"type":21,"value":38932}," parse_expression",{"type":15,"tag":252,"props":38934,"children":38935},{"style":447},[38936],{"type":21,"value":38937},"(precedence ",{"type":15,"tag":252,"props":38939,"children":38940},{"style":601},[38941],{"type":21,"value":38576},{"type":15,"tag":252,"props":38943,"children":38944},{"style":276},[38945],{"type":21,"value":7809},{"type":15,"tag":252,"props":38947,"children":38948},{"style":447},[38949],{"type":21,"value":859},{"type":15,"tag":252,"props":38951,"children":38952},{"class":254,"line":334},[38953,38957,38962,38966,38971,38975],{"type":15,"tag":252,"props":38954,"children":38955},{"style":601},[38956],{"type":21,"value":785},{"type":15,"tag":252,"props":38958,"children":38959},{"style":447},[38960],{"type":21,"value":38961}," operator ",{"type":15,"tag":252,"props":38963,"children":38964},{"style":601},[38965],{"type":21,"value":614},{"type":15,"tag":252,"props":38967,"children":38968},{"style":447},[38969],{"type":21,"value":38970}," { ",{"type":15,"tag":252,"props":38972,"children":38973},{"style":601},[38974],{"type":21,"value":14549},{"type":15,"tag":252,"props":38976,"children":38977},{"style":447},[38978],{"type":21,"value":38979}," };\n",{"type":15,"tag":252,"props":38981,"children":38982},{"class":254,"line":390},[38983,38987,38991,38995,38999],{"type":15,"tag":252,"props":38984,"children":38985},{"style":601},[38986],{"type":21,"value":785},{"type":15,"tag":252,"props":38988,"children":38989},{"style":447},[38990],{"type":21,"value":36711},{"type":15,"tag":252,"props":38992,"children":38993},{"style":601},[38994],{"type":21,"value":614},{"type":15,"tag":252,"props":38996,"children":38997},{"style":259},[38998],{"type":21,"value":38932},{"type":15,"tag":252,"props":39000,"children":39001},{"style":447},[39002],{"type":21,"value":39003},"(precedence);\n",{"type":15,"tag":252,"props":39005,"children":39006},{"class":254,"line":2077},[39007,39012,39017],{"type":15,"tag":252,"props":39008,"children":39009},{"style":601},[39010],{"type":21,"value":39011},"return",{"type":15,"tag":252,"props":39013,"children":39014},{"style":259},[39015],{"type":21,"value":39016}," Binary",{"type":15,"tag":252,"props":39018,"children":39019},{"style":447},[39020],{"type":21,"value":39021},"(left_side, operator, right_side);\n",{"type":15,"tag":23,"props":39023,"children":39024},{},[39025,39027,39033,39034,39040,39042,39047,39049,39055,39056,39062,39064,39070],{"type":21,"value":39026},"So this will parse ",{"type":15,"tag":81,"props":39028,"children":39030},{"className":39029},[],[39031],{"type":21,"value":39032},"1 + 2 + 3",{"type":21,"value":36300},{"type":15,"tag":81,"props":39035,"children":39037},{"className":39036},[],[39038],{"type":21,"value":39039},"1 + (2 + 3)",{"type":21,"value":39041},", all fine right? but what about ",{"type":15,"tag":81,"props":39043,"children":39045},{"className":39044},[],[39046],{"type":21,"value":38576},{"type":21,"value":39048},"? ",{"type":15,"tag":81,"props":39050,"children":39052},{"className":39051},[],[39053],{"type":21,"value":39054},"1 - 2 - 3",{"type":21,"value":36316},{"type":15,"tag":81,"props":39057,"children":39059},{"className":39058},[],[39060],{"type":21,"value":39061},"1 - (2 - 3)",{"type":21,"value":39063},", but that isnt right, it should got right to left! This is a bit annoying to parse, you might be trying to think of how to do this, and the trick is ",{"type":15,"tag":39065,"props":39066,"children":39067},"strong",{},[39068],{"type":21,"value":39069},"dont",{"type":21,"value":39071}," use recursion! We will use a loop instead, it will look something like:",{"type":15,"tag":95,"props":39073,"children":39075},{"code":39074,"language":772,"meta":8,"className":773,"style":8},"let mut left_side = parse_expression(precedence - 1);\nwhile current_token_is_binary_operator_with_precedence(precedence) {\n    let operator = { ... };\n    let right_side = parse_expression(precedence - 1);\n    left_side = Binary(left_side, operator, right_side);\n}\n",[39076],{"type":15,"tag":81,"props":39077,"children":39078},{"__ignoreMap":8},[39079,39118,39136,39164,39199,39219],{"type":15,"tag":252,"props":39080,"children":39081},{"class":254,"line":255},[39082,39086,39090,39094,39098,39102,39106,39110,39114],{"type":15,"tag":252,"props":39083,"children":39084},{"style":601},[39085],{"type":21,"value":785},{"type":15,"tag":252,"props":39087,"children":39088},{"style":601},[39089],{"type":21,"value":8623},{"type":15,"tag":252,"props":39091,"children":39092},{"style":447},[39093],{"type":21,"value":36586},{"type":15,"tag":252,"props":39095,"children":39096},{"style":601},[39097],{"type":21,"value":614},{"type":15,"tag":252,"props":39099,"children":39100},{"style":259},[39101],{"type":21,"value":38932},{"type":15,"tag":252,"props":39103,"children":39104},{"style":447},[39105],{"type":21,"value":38937},{"type":15,"tag":252,"props":39107,"children":39108},{"style":601},[39109],{"type":21,"value":38576},{"type":15,"tag":252,"props":39111,"children":39112},{"style":276},[39113],{"type":21,"value":7809},{"type":15,"tag":252,"props":39115,"children":39116},{"style":447},[39117],{"type":21,"value":859},{"type":15,"tag":252,"props":39119,"children":39120},{"class":254,"line":334},[39121,39126,39131],{"type":15,"tag":252,"props":39122,"children":39123},{"style":601},[39124],{"type":21,"value":39125},"while",{"type":15,"tag":252,"props":39127,"children":39128},{"style":259},[39129],{"type":21,"value":39130}," current_token_is_binary_operator_with_precedence",{"type":15,"tag":252,"props":39132,"children":39133},{"style":447},[39134],{"type":21,"value":39135},"(precedence) {\n",{"type":15,"tag":252,"props":39137,"children":39138},{"class":254,"line":390},[39139,39143,39147,39151,39156,39160],{"type":15,"tag":252,"props":39140,"children":39141},{"style":601},[39142],{"type":21,"value":2083},{"type":15,"tag":252,"props":39144,"children":39145},{"style":447},[39146],{"type":21,"value":38961},{"type":15,"tag":252,"props":39148,"children":39149},{"style":601},[39150],{"type":21,"value":614},{"type":15,"tag":252,"props":39152,"children":39153},{"style":447},[39154],{"type":21,"value":39155}," { ",{"type":15,"tag":252,"props":39157,"children":39158},{"style":601},[39159],{"type":21,"value":14549},{"type":15,"tag":252,"props":39161,"children":39162},{"style":447},[39163],{"type":21,"value":38979},{"type":15,"tag":252,"props":39165,"children":39166},{"class":254,"line":2077},[39167,39171,39175,39179,39183,39187,39191,39195],{"type":15,"tag":252,"props":39168,"children":39169},{"style":601},[39170],{"type":21,"value":2083},{"type":15,"tag":252,"props":39172,"children":39173},{"style":447},[39174],{"type":21,"value":36711},{"type":15,"tag":252,"props":39176,"children":39177},{"style":601},[39178],{"type":21,"value":614},{"type":15,"tag":252,"props":39180,"children":39181},{"style":259},[39182],{"type":21,"value":38932},{"type":15,"tag":252,"props":39184,"children":39185},{"style":447},[39186],{"type":21,"value":38937},{"type":15,"tag":252,"props":39188,"children":39189},{"style":601},[39190],{"type":21,"value":38576},{"type":15,"tag":252,"props":39192,"children":39193},{"style":276},[39194],{"type":21,"value":7809},{"type":15,"tag":252,"props":39196,"children":39197},{"style":447},[39198],{"type":21,"value":859},{"type":15,"tag":252,"props":39200,"children":39201},{"class":254,"line":2110},[39202,39207,39211,39215],{"type":15,"tag":252,"props":39203,"children":39204},{"style":447},[39205],{"type":21,"value":39206},"    left_side ",{"type":15,"tag":252,"props":39208,"children":39209},{"style":601},[39210],{"type":21,"value":614},{"type":15,"tag":252,"props":39212,"children":39213},{"style":259},[39214],{"type":21,"value":39016},{"type":15,"tag":252,"props":39216,"children":39217},{"style":447},[39218],{"type":21,"value":39021},{"type":15,"tag":252,"props":39220,"children":39221},{"class":254,"line":2150},[39222],{"type":15,"tag":252,"props":39223,"children":39224},{"style":447},[39225],{"type":21,"value":2854},{"type":15,"tag":210,"props":39227,"children":39228},{},[39229],{"type":15,"tag":23,"props":39230,"children":39231},{},[39232],{"type":21,"value":39233},"Note: this is just pseudo code, it wont look like this exactly, but it is just to show the idea.",{"type":15,"tag":23,"props":39235,"children":39236},{},[39237,39239,39244,39246,39251,39252,39258],{"type":21,"value":39238},"This will parse it and build up the ",{"type":15,"tag":81,"props":39240,"children":39242},{"className":39241},[],[39243],{"type":21,"value":7305},{"type":21,"value":39245}," around the left side, so ",{"type":15,"tag":81,"props":39247,"children":39249},{"className":39248},[],[39250],{"type":21,"value":39054},{"type":21,"value":38739},{"type":15,"tag":81,"props":39253,"children":39255},{"className":39254},[],[39256],{"type":21,"value":39257},"(1 - 2) - 3",{"type":21,"value":39259}," as it should.",{"type":15,"tag":23,"props":39261,"children":39262},{},[39263,39265,39271,39273,39279,39281,39286,39288,39294],{"type":21,"value":39264},"Another thing we should consider is comparison chaining like ",{"type":15,"tag":81,"props":39266,"children":39268},{"className":39267},[],[39269],{"type":21,"value":39270},"1 \u003C 2 \u003C 3",{"type":21,"value":39272},", this would be parsed as ",{"type":15,"tag":81,"props":39274,"children":39276},{"className":39275},[],[39277],{"type":21,"value":39278},"1 \u003C 2 && 2 \u003C 3",{"type":21,"value":39280},", we could just convert this to the same IR as ",{"type":15,"tag":81,"props":39282,"children":39284},{"className":39283},[],[39285],{"type":21,"value":39278},{"type":21,"value":39287},", but that does run into an issue of calculating one side twice. imagine ",{"type":15,"tag":81,"props":39289,"children":39291},{"className":39290},[],[39292],{"type":21,"value":39293},"1 == print(\"hello\") == 2",{"type":21,"value":39295}," (this code doesn't really make sense), but we dont want it to print twice! So we will add comparison chaining to the ir as well!",{"type":15,"tag":192,"props":39297,"children":39299},{"id":39298},"parsing-plan",[39300],{"type":21,"value":39301},"Parsing plan",{"type":15,"tag":23,"props":39303,"children":39304},{},[39305,39307,39313],{"type":21,"value":39306},"So we are going to have a list of levels, with enums for the different types. but we will also hardcode some parts, like once we hit the end of the list we will call ",{"type":15,"tag":81,"props":39308,"children":39310},{"className":39309},[],[39311],{"type":21,"value":39312},"parse_group",{"type":21,"value":39314}," for example, because that is easiest!",{"type":15,"tag":192,"props":39316,"children":39318},{"id":39317},"prefix-operators-1",[39319],{"type":21,"value":38657},{"type":15,"tag":23,"props":39321,"children":39322},{},[39323,39325,39330,39331,39336],{"type":21,"value":39324},"We are gonna start with the simple prefix operators, so ",{"type":15,"tag":81,"props":39326,"children":39328},{"className":39327},[],[39329],{"type":21,"value":5726},{"type":21,"value":3071},{"type":15,"tag":81,"props":39332,"children":39334},{"className":39333},[],[39335],{"type":21,"value":38576},{"type":21,"value":39337},".\nand as always we add a test:",{"type":15,"tag":95,"props":39339,"children":39341},{"code":39340},"# prefix.viv\n${\n    assert !false;\n    assert !!true;\n    assert --5 == 5;\n}\n",[39342],{"type":15,"tag":81,"props":39343,"children":39344},{"__ignoreMap":8},[39345],{"type":21,"value":39340},{"type":15,"tag":59,"props":39347,"children":39348},{"id":5538},[39349],{"type":21,"value":5541},{"type":15,"tag":23,"props":39351,"children":39352},{},[39353,39355,39360,39361,39366,39367,39373,39374,39380],{"type":21,"value":39354},"So add the tokens for ",{"type":15,"tag":81,"props":39356,"children":39358},{"className":39357},[],[39359],{"type":21,"value":5726},{"type":21,"value":3071},{"type":15,"tag":81,"props":39362,"children":39364},{"className":39363},[],[39365],{"type":21,"value":38576},{"type":21,"value":3056},{"type":15,"tag":81,"props":39368,"children":39370},{"className":39369},[],[39371],{"type":21,"value":39372},"Bang",{"type":21,"value":3071},{"type":15,"tag":81,"props":39375,"children":39377},{"className":39376},[],[39378],{"type":21,"value":39379},"Minus",{"type":21,"value":39381},")! Then we will modify the ast!",{"type":15,"tag":95,"props":39383,"children":39385},{"code":39384,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub enum Expression {\n    Literal(Literal),\n    BinaryOp(Box\u003CExpression>, BinaryOp, Box\u003CExpression>),\n    Prefix(PrefixOp, Box\u003CExpression>),\n}\n\n#[derive(Debug, Copy, Clone)]\npub enum PrefixOp {\n    Negate,\n    Not,\n}\n",[39386],{"type":15,"tag":81,"props":39387,"children":39388},{"__ignoreMap":8},[39389,39396,39411,39430,39449,39500,39537,39544,39551,39584,39604,39616,39628],{"type":15,"tag":252,"props":39390,"children":39391},{"class":254,"line":255},[39392],{"type":15,"tag":252,"props":39393,"children":39394},{"style":3287},[39395],{"type":21,"value":24319},{"type":15,"tag":252,"props":39397,"children":39398},{"class":254,"line":334},[39399,39403,39407],{"type":15,"tag":252,"props":39400,"children":39401},{"style":447},[39402],{"type":21,"value":3742},{"type":15,"tag":252,"props":39404,"children":39405},{"style":259},[39406],{"type":21,"value":5788},{"type":15,"tag":252,"props":39408,"children":39409},{"style":447},[39410],{"type":21,"value":3751},{"type":15,"tag":252,"props":39412,"children":39413},{"class":254,"line":390},[39414,39418,39422,39426],{"type":15,"tag":252,"props":39415,"children":39416},{"style":601},[39417],{"type":21,"value":4740},{"type":15,"tag":252,"props":39419,"children":39420},{"style":601},[39421],{"type":21,"value":5869},{"type":15,"tag":252,"props":39423,"children":39424},{"style":259},[39425],{"type":21,"value":5944},{"type":15,"tag":252,"props":39427,"children":39428},{"style":447},[39429],{"type":21,"value":3769},{"type":15,"tag":252,"props":39431,"children":39432},{"class":254,"line":2077},[39433,39437,39441,39445],{"type":15,"tag":252,"props":39434,"children":39435},{"style":259},[39436],{"type":21,"value":5956},{"type":15,"tag":252,"props":39438,"children":39439},{"style":447},[39440],{"type":21,"value":849},{"type":15,"tag":252,"props":39442,"children":39443},{"style":259},[39444],{"type":21,"value":5724},{"type":15,"tag":252,"props":39446,"children":39447},{"style":447},[39448],{"type":21,"value":5899},{"type":15,"tag":252,"props":39450,"children":39451},{"class":254,"line":2110},[39452,39456,39460,39464,39468,39472,39476,39480,39484,39488,39492,39496],{"type":15,"tag":252,"props":39453,"children":39454},{"style":259},[39455],{"type":21,"value":36154},{"type":15,"tag":252,"props":39457,"children":39458},{"style":447},[39459],{"type":21,"value":849},{"type":15,"tag":252,"props":39461,"children":39462},{"style":259},[39463],{"type":21,"value":36163},{"type":15,"tag":252,"props":39465,"children":39466},{"style":447},[39467],{"type":21,"value":5826},{"type":15,"tag":252,"props":39469,"children":39470},{"style":259},[39471],{"type":21,"value":5716},{"type":15,"tag":252,"props":39473,"children":39474},{"style":447},[39475],{"type":21,"value":9752},{"type":15,"tag":252,"props":39477,"children":39478},{"style":259},[39479],{"type":21,"value":36180},{"type":15,"tag":252,"props":39481,"children":39482},{"style":447},[39483],{"type":21,"value":1076},{"type":15,"tag":252,"props":39485,"children":39486},{"style":259},[39487],{"type":21,"value":36163},{"type":15,"tag":252,"props":39489,"children":39490},{"style":447},[39491],{"type":21,"value":5826},{"type":15,"tag":252,"props":39493,"children":39494},{"style":259},[39495],{"type":21,"value":5716},{"type":15,"tag":252,"props":39497,"children":39498},{"style":447},[39499],{"type":21,"value":24445},{"type":15,"tag":252,"props":39501,"children":39502},{"class":254,"line":2150},[39503,39508,39512,39517,39521,39525,39529,39533],{"type":15,"tag":252,"props":39504,"children":39505},{"style":259},[39506],{"type":21,"value":39507},"    Prefix",{"type":15,"tag":252,"props":39509,"children":39510},{"style":447},[39511],{"type":21,"value":849},{"type":15,"tag":252,"props":39513,"children":39514},{"style":259},[39515],{"type":21,"value":39516},"PrefixOp",{"type":15,"tag":252,"props":39518,"children":39519},{"style":447},[39520],{"type":21,"value":1076},{"type":15,"tag":252,"props":39522,"children":39523},{"style":259},[39524],{"type":21,"value":36163},{"type":15,"tag":252,"props":39526,"children":39527},{"style":447},[39528],{"type":21,"value":5826},{"type":15,"tag":252,"props":39530,"children":39531},{"style":259},[39532],{"type":21,"value":5716},{"type":15,"tag":252,"props":39534,"children":39535},{"style":447},[39536],{"type":21,"value":24445},{"type":15,"tag":252,"props":39538,"children":39539},{"class":254,"line":2182},[39540],{"type":15,"tag":252,"props":39541,"children":39542},{"style":447},[39543],{"type":21,"value":2854},{"type":15,"tag":252,"props":39545,"children":39546},{"class":254,"line":2190},[39547],{"type":15,"tag":252,"props":39548,"children":39549},{"emptyLinePlaceholder":2053},[39550],{"type":21,"value":2056},{"type":15,"tag":252,"props":39552,"children":39553},{"class":254,"line":2222},[39554,39558,39562,39566,39571,39575,39580],{"type":15,"tag":252,"props":39555,"children":39556},{"style":447},[39557],{"type":21,"value":3742},{"type":15,"tag":252,"props":39559,"children":39560},{"style":259},[39561],{"type":21,"value":5788},{"type":15,"tag":252,"props":39563,"children":39564},{"style":447},[39565],{"type":21,"value":1076},{"type":15,"tag":252,"props":39567,"children":39568},{"style":259},[39569],{"type":21,"value":39570},"Copy",{"type":15,"tag":252,"props":39572,"children":39573},{"style":447},[39574],{"type":21,"value":1076},{"type":15,"tag":252,"props":39576,"children":39577},{"style":259},[39578],{"type":21,"value":39579},"Clone",{"type":15,"tag":252,"props":39581,"children":39582},{"style":447},[39583],{"type":21,"value":3751},{"type":15,"tag":252,"props":39585,"children":39586},{"class":254,"line":2270},[39587,39591,39595,39600],{"type":15,"tag":252,"props":39588,"children":39589},{"style":601},[39590],{"type":21,"value":4740},{"type":15,"tag":252,"props":39592,"children":39593},{"style":601},[39594],{"type":21,"value":5869},{"type":15,"tag":252,"props":39596,"children":39597},{"style":259},[39598],{"type":21,"value":39599}," PrefixOp",{"type":15,"tag":252,"props":39601,"children":39602},{"style":447},[39603],{"type":21,"value":3769},{"type":15,"tag":252,"props":39605,"children":39606},{"class":254,"line":2302},[39607,39612],{"type":15,"tag":252,"props":39608,"children":39609},{"style":259},[39610],{"type":21,"value":39611},"    Negate",{"type":15,"tag":252,"props":39613,"children":39614},{"style":447},[39615],{"type":21,"value":3879},{"type":15,"tag":252,"props":39617,"children":39618},{"class":254,"line":2310},[39619,39624],{"type":15,"tag":252,"props":39620,"children":39621},{"style":259},[39622],{"type":21,"value":39623},"    Not",{"type":15,"tag":252,"props":39625,"children":39626},{"style":447},[39627],{"type":21,"value":3879},{"type":15,"tag":252,"props":39629,"children":39630},{"class":254,"line":2370},[39631],{"type":15,"tag":252,"props":39632,"children":39633},{"style":447},[39634],{"type":21,"value":2854},{"type":15,"tag":23,"props":39636,"children":39637},{},[39638,39640,39645],{"type":21,"value":39639},"Then comes the job of parsing this stuff! So remember how we made that ",{"type":15,"tag":81,"props":39641,"children":39643},{"className":39642},[],[39644],{"type":21,"value":36603},{"type":21,"value":39646}," function in the last post that did nothing? well now we will make it do something!",{"type":15,"tag":95,"props":39648,"children":39650},{"code":39649,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\nenum OperatorType {\n    Binary(Vec\u003C(TokenType, ast::BinaryOp)>),\n    Prefix(TokenType, ast::PrefixOp),\n}\n",[39651],{"type":15,"tag":81,"props":39652,"children":39653},{"__ignoreMap":8},[39654,39661,39677,39720,39755],{"type":15,"tag":252,"props":39655,"children":39656},{"class":254,"line":255},[39657],{"type":15,"tag":252,"props":39658,"children":39659},{"style":3287},[39660],{"type":21,"value":11380},{"type":15,"tag":252,"props":39662,"children":39663},{"class":254,"line":334},[39664,39668,39673],{"type":15,"tag":252,"props":39665,"children":39666},{"style":601},[39667],{"type":21,"value":3759},{"type":15,"tag":252,"props":39669,"children":39670},{"style":259},[39671],{"type":21,"value":39672}," OperatorType",{"type":15,"tag":252,"props":39674,"children":39675},{"style":447},[39676],{"type":21,"value":3769},{"type":15,"tag":252,"props":39678,"children":39679},{"class":254,"line":390},[39680,39685,39689,39693,39698,39702,39707,39711,39715],{"type":15,"tag":252,"props":39681,"children":39682},{"style":259},[39683],{"type":21,"value":39684},"    Binary",{"type":15,"tag":252,"props":39686,"children":39687},{"style":447},[39688],{"type":21,"value":849},{"type":15,"tag":252,"props":39690,"children":39691},{"style":259},[39692],{"type":21,"value":9738},{"type":15,"tag":252,"props":39694,"children":39695},{"style":447},[39696],{"type":21,"value":39697},"\u003C(",{"type":15,"tag":252,"props":39699,"children":39700},{"style":259},[39701],{"type":21,"value":8846},{"type":15,"tag":252,"props":39703,"children":39704},{"style":447},[39705],{"type":21,"value":39706},", ast",{"type":15,"tag":252,"props":39708,"children":39709},{"style":601},[39710],{"type":21,"value":804},{"type":15,"tag":252,"props":39712,"children":39713},{"style":259},[39714],{"type":21,"value":36180},{"type":15,"tag":252,"props":39716,"children":39717},{"style":447},[39718],{"type":21,"value":39719},")>),\n",{"type":15,"tag":252,"props":39721,"children":39722},{"class":254,"line":2077},[39723,39727,39731,39735,39739,39743,39747,39751],{"type":15,"tag":252,"props":39724,"children":39725},{"style":259},[39726],{"type":21,"value":39507},{"type":15,"tag":252,"props":39728,"children":39729},{"style":447},[39730],{"type":21,"value":849},{"type":15,"tag":252,"props":39732,"children":39733},{"style":259},[39734],{"type":21,"value":8846},{"type":15,"tag":252,"props":39736,"children":39737},{"style":447},[39738],{"type":21,"value":1076},{"type":15,"tag":252,"props":39740,"children":39741},{"style":259},[39742],{"type":21,"value":5623},{"type":15,"tag":252,"props":39744,"children":39745},{"style":601},[39746],{"type":21,"value":804},{"type":15,"tag":252,"props":39748,"children":39749},{"style":259},[39750],{"type":21,"value":39516},{"type":15,"tag":252,"props":39752,"children":39753},{"style":447},[39754],{"type":21,"value":5899},{"type":15,"tag":252,"props":39756,"children":39757},{"class":254,"line":2110},[39758],{"type":15,"tag":252,"props":39759,"children":39760},{"style":447},[39761],{"type":21,"value":2854},{"type":15,"tag":23,"props":39763,"children":39764},{},[39765,39767,39772],{"type":21,"value":39766},"We will use this enum to handle precedence. So we will make a list of operators, and then we will loop through them and parse them. This list feels like it should be a const, or maybe static? But one issue... we cant use ",{"type":15,"tag":81,"props":39768,"children":39770},{"className":39769},[],[39771],{"type":21,"value":9738},{"type":21,"value":39773}," in a static, we could just create a new instance on each call, but that is stupid. We could store the list on the Parser struct, which is not a bad idea, and you can totally go for that if you want.",{"type":15,"tag":23,"props":39775,"children":39776},{},[39777,39779,39788],{"type":21,"value":39778},"But we will use ",{"type":15,"tag":43,"props":39780,"children":39781},{"href":8},[39782],{"type":15,"tag":81,"props":39783,"children":39785},{"className":39784},[],[39786],{"type":21,"value":39787},"lazy_static!",{"type":21,"value":39789},", which is a macro that lets us create a static that is lazily evaluated, so it is only evaluated once, and then it is stored. So we will create a static list of operators, and then we will loop through them and parse them.",{"type":15,"tag":95,"props":39791,"children":39793},{"code":39792,"language":772,"meta":8,"className":773,"style":8},"lazy_static! {\n    static ref OPERATORS: Vec\u003COperatorType> = vec![\n        OperatorType::Prefix(TokenType::Bang, ast::PrefixOp::Not),\n        OperatorType::Prefix(TokenType::Minus, ast::PrefixOp::Negate),\n    ];\n}\n",[39794],{"type":15,"tag":81,"props":39795,"children":39796},{"__ignoreMap":8},[39797,39808,39860,39922,39982,39990],{"type":15,"tag":252,"props":39798,"children":39799},{"class":254,"line":255},[39800,39804],{"type":15,"tag":252,"props":39801,"children":39802},{"style":259},[39803],{"type":21,"value":39787},{"type":15,"tag":252,"props":39805,"children":39806},{"style":447},[39807],{"type":21,"value":3769},{"type":15,"tag":252,"props":39809,"children":39810},{"class":254,"line":334},[39811,39816,39821,39826,39830,39834,39838,39843,39847,39851,39856],{"type":15,"tag":252,"props":39812,"children":39813},{"style":601},[39814],{"type":21,"value":39815},"    static",{"type":15,"tag":252,"props":39817,"children":39818},{"style":601},[39819],{"type":21,"value":39820}," ref",{"type":15,"tag":252,"props":39822,"children":39823},{"style":276},[39824],{"type":21,"value":39825}," OPERATORS",{"type":15,"tag":252,"props":39827,"children":39828},{"style":601},[39829],{"type":21,"value":3374},{"type":15,"tag":252,"props":39831,"children":39832},{"style":259},[39833],{"type":21,"value":5821},{"type":15,"tag":252,"props":39835,"children":39836},{"style":447},[39837],{"type":21,"value":5826},{"type":15,"tag":252,"props":39839,"children":39840},{"style":259},[39841],{"type":21,"value":39842},"OperatorType",{"type":15,"tag":252,"props":39844,"children":39845},{"style":447},[39846],{"type":21,"value":7120},{"type":15,"tag":252,"props":39848,"children":39849},{"style":601},[39850],{"type":21,"value":614},{"type":15,"tag":252,"props":39852,"children":39853},{"style":259},[39854],{"type":21,"value":39855}," vec!",{"type":15,"tag":252,"props":39857,"children":39858},{"style":447},[39859],{"type":21,"value":6104},{"type":15,"tag":252,"props":39861,"children":39862},{"class":254,"line":390},[39863,39868,39872,39877,39881,39885,39889,39893,39897,39901,39905,39909,39913,39918],{"type":15,"tag":252,"props":39864,"children":39865},{"style":259},[39866],{"type":21,"value":39867},"        OperatorType",{"type":15,"tag":252,"props":39869,"children":39870},{"style":601},[39871],{"type":21,"value":804},{"type":15,"tag":252,"props":39873,"children":39874},{"style":259},[39875],{"type":21,"value":39876},"Prefix",{"type":15,"tag":252,"props":39878,"children":39879},{"style":447},[39880],{"type":21,"value":849},{"type":15,"tag":252,"props":39882,"children":39883},{"style":259},[39884],{"type":21,"value":8846},{"type":15,"tag":252,"props":39886,"children":39887},{"style":601},[39888],{"type":21,"value":804},{"type":15,"tag":252,"props":39890,"children":39891},{"style":259},[39892],{"type":21,"value":39372},{"type":15,"tag":252,"props":39894,"children":39895},{"style":447},[39896],{"type":21,"value":1076},{"type":15,"tag":252,"props":39898,"children":39899},{"style":259},[39900],{"type":21,"value":5623},{"type":15,"tag":252,"props":39902,"children":39903},{"style":601},[39904],{"type":21,"value":804},{"type":15,"tag":252,"props":39906,"children":39907},{"style":259},[39908],{"type":21,"value":39516},{"type":15,"tag":252,"props":39910,"children":39911},{"style":601},[39912],{"type":21,"value":804},{"type":15,"tag":252,"props":39914,"children":39915},{"style":259},[39916],{"type":21,"value":39917},"Not",{"type":15,"tag":252,"props":39919,"children":39920},{"style":447},[39921],{"type":21,"value":5899},{"type":15,"tag":252,"props":39923,"children":39924},{"class":254,"line":2077},[39925,39929,39933,39937,39941,39945,39949,39953,39957,39961,39965,39969,39973,39978],{"type":15,"tag":252,"props":39926,"children":39927},{"style":259},[39928],{"type":21,"value":39867},{"type":15,"tag":252,"props":39930,"children":39931},{"style":601},[39932],{"type":21,"value":804},{"type":15,"tag":252,"props":39934,"children":39935},{"style":259},[39936],{"type":21,"value":39876},{"type":15,"tag":252,"props":39938,"children":39939},{"style":447},[39940],{"type":21,"value":849},{"type":15,"tag":252,"props":39942,"children":39943},{"style":259},[39944],{"type":21,"value":8846},{"type":15,"tag":252,"props":39946,"children":39947},{"style":601},[39948],{"type":21,"value":804},{"type":15,"tag":252,"props":39950,"children":39951},{"style":259},[39952],{"type":21,"value":39379},{"type":15,"tag":252,"props":39954,"children":39955},{"style":447},[39956],{"type":21,"value":1076},{"type":15,"tag":252,"props":39958,"children":39959},{"style":259},[39960],{"type":21,"value":5623},{"type":15,"tag":252,"props":39962,"children":39963},{"style":601},[39964],{"type":21,"value":804},{"type":15,"tag":252,"props":39966,"children":39967},{"style":259},[39968],{"type":21,"value":39516},{"type":15,"tag":252,"props":39970,"children":39971},{"style":601},[39972],{"type":21,"value":804},{"type":15,"tag":252,"props":39974,"children":39975},{"style":259},[39976],{"type":21,"value":39977},"Negate",{"type":15,"tag":252,"props":39979,"children":39980},{"style":447},[39981],{"type":21,"value":5899},{"type":15,"tag":252,"props":39983,"children":39984},{"class":254,"line":2110},[39985],{"type":15,"tag":252,"props":39986,"children":39987},{"style":447},[39988],{"type":21,"value":39989},"    ];\n",{"type":15,"tag":252,"props":39991,"children":39992},{"class":254,"line":2150},[39993],{"type":15,"tag":252,"props":39994,"children":39995},{"style":447},[39996],{"type":21,"value":2854},{"type":15,"tag":23,"props":39998,"children":39999},{},[40000,40002,40007,40009,40014],{"type":21,"value":40001},"Wether this is good code is up to you, personally this is a thing I like to have as a const/static, and ",{"type":15,"tag":81,"props":40003,"children":40005},{"className":40004},[],[40006],{"type":21,"value":39787},{"type":21,"value":40008}," is a nice way to do it.\nAnd yes we do remove ",{"type":15,"tag":81,"props":40010,"children":40012},{"className":40011},[],[40013],{"type":21,"value":8304},{"type":21,"value":40015}," for now, we will add it back later. This does mean that test we just added wont work, but by the end of the post the tests should be working again!",{"type":15,"tag":23,"props":40017,"children":40018},{},[40019,40021,40026],{"type":21,"value":40020},"So that ",{"type":15,"tag":81,"props":40022,"children":40024},{"className":40023},[],[40025],{"type":21,"value":36603},{"type":21,"value":40027}," method I added last post? yhe delete it!",{"type":15,"tag":95,"props":40029,"children":40031},{"code":40030,"language":772,"meta":8,"className":773,"style":8},"    fn expression_precedence(&mut self, precedence: usize) -> anyhow::Result\u003Cast::Expression> {\n        let level = match OPERATORS.get(precedence) {\n            Some(level) => level,\n            None => return Ok(ast::Expression::Literal(self.literal()?)),\n        };\n\n        match level {\n            OperatorType::Prefix(token, op) => {\n                if self.peek()? == token {\n                    self.0.void();\n                    let expression = self.expression_precedence(precedence)?;\n                    Ok(ast::Expression::Prefix(*op, Box::new(expression)))\n                } else {\n                    self.expression_precedence(precedence + 1)\n                }\n            }\n            OperatorType::Binary(_) => todo!(),\n        }\n    }\n\n    fn expression(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        self.expression_precedence(0)\n    }\n",[40032],{"type":15,"tag":81,"props":40033,"children":40034},{"__ignoreMap":8},[40035,40108,40145,40167,40240,40247,40254,40266,40295,40333,40356,40397,40458,40474,40505,40512,40519,40552,40559,40566,40573,40632,40659],{"type":15,"tag":252,"props":40036,"children":40037},{"class":254,"line":255},[40038,40042,40047,40051,40055,40059,40064,40068,40072,40076,40080,40084,40088,40092,40096,40100,40104],{"type":15,"tag":252,"props":40039,"children":40040},{"style":601},[40041],{"type":21,"value":7146},{"type":15,"tag":252,"props":40043,"children":40044},{"style":259},[40045],{"type":21,"value":40046}," expression_precedence",{"type":15,"tag":252,"props":40048,"children":40049},{"style":447},[40050],{"type":21,"value":849},{"type":15,"tag":252,"props":40052,"children":40053},{"style":601},[40054],{"type":21,"value":7239},{"type":15,"tag":252,"props":40056,"children":40057},{"style":276},[40058],{"type":21,"value":7244},{"type":15,"tag":252,"props":40060,"children":40061},{"style":447},[40062],{"type":21,"value":40063},", precedence",{"type":15,"tag":252,"props":40065,"children":40066},{"style":601},[40067],{"type":21,"value":3374},{"type":15,"tag":252,"props":40069,"children":40070},{"style":259},[40071],{"type":21,"value":3379},{"type":15,"tag":252,"props":40073,"children":40074},{"style":447},[40075],{"type":21,"value":4943},{"type":15,"tag":252,"props":40077,"children":40078},{"style":601},[40079],{"type":21,"value":3947},{"type":15,"tag":252,"props":40081,"children":40082},{"style":259},[40083],{"type":21,"value":3952},{"type":15,"tag":252,"props":40085,"children":40086},{"style":601},[40087],{"type":21,"value":804},{"type":15,"tag":252,"props":40089,"children":40090},{"style":259},[40091],{"type":21,"value":3961},{"type":15,"tag":252,"props":40093,"children":40094},{"style":447},[40095],{"type":21,"value":10502},{"type":15,"tag":252,"props":40097,"children":40098},{"style":601},[40099],{"type":21,"value":804},{"type":15,"tag":252,"props":40101,"children":40102},{"style":259},[40103],{"type":21,"value":5716},{"type":15,"tag":252,"props":40105,"children":40106},{"style":447},[40107],{"type":21,"value":7138},{"type":15,"tag":252,"props":40109,"children":40110},{"class":254,"line":334},[40111,40115,40120,40124,40128,40132,40136,40141],{"type":15,"tag":252,"props":40112,"children":40113},{"style":601},[40114],{"type":21,"value":8231},{"type":15,"tag":252,"props":40116,"children":40117},{"style":447},[40118],{"type":21,"value":40119}," level ",{"type":15,"tag":252,"props":40121,"children":40122},{"style":601},[40123],{"type":21,"value":614},{"type":15,"tag":252,"props":40125,"children":40126},{"style":601},[40127],{"type":21,"value":18821},{"type":15,"tag":252,"props":40129,"children":40130},{"style":276},[40131],{"type":21,"value":39825},{"type":15,"tag":252,"props":40133,"children":40134},{"style":601},[40135],{"type":21,"value":432},{"type":15,"tag":252,"props":40137,"children":40138},{"style":259},[40139],{"type":21,"value":40140},"get",{"type":15,"tag":252,"props":40142,"children":40143},{"style":447},[40144],{"type":21,"value":39135},{"type":15,"tag":252,"props":40146,"children":40147},{"class":254,"line":390},[40148,40153,40158,40162],{"type":15,"tag":252,"props":40149,"children":40150},{"style":259},[40151],{"type":21,"value":40152},"            Some",{"type":15,"tag":252,"props":40154,"children":40155},{"style":447},[40156],{"type":21,"value":40157},"(level) ",{"type":15,"tag":252,"props":40159,"children":40160},{"style":601},[40161],{"type":21,"value":4054},{"type":15,"tag":252,"props":40163,"children":40164},{"style":447},[40165],{"type":21,"value":40166}," level,\n",{"type":15,"tag":252,"props":40168,"children":40169},{"class":254,"line":2077},[40170,40175,40179,40184,40188,40192,40196,40200,40204,40208,40212,40216,40220,40224,40228,40232,40236],{"type":15,"tag":252,"props":40171,"children":40172},{"style":259},[40173],{"type":21,"value":40174},"            None",{"type":15,"tag":252,"props":40176,"children":40177},{"style":601},[40178],{"type":21,"value":9226},{"type":15,"tag":252,"props":40180,"children":40181},{"style":601},[40182],{"type":21,"value":40183}," return",{"type":15,"tag":252,"props":40185,"children":40186},{"style":259},[40187],{"type":21,"value":8666},{"type":15,"tag":252,"props":40189,"children":40190},{"style":447},[40191],{"type":21,"value":849},{"type":15,"tag":252,"props":40193,"children":40194},{"style":259},[40195],{"type":21,"value":5623},{"type":15,"tag":252,"props":40197,"children":40198},{"style":601},[40199],{"type":21,"value":804},{"type":15,"tag":252,"props":40201,"children":40202},{"style":259},[40203],{"type":21,"value":5716},{"type":15,"tag":252,"props":40205,"children":40206},{"style":601},[40207],{"type":21,"value":804},{"type":15,"tag":252,"props":40209,"children":40210},{"style":259},[40211],{"type":21,"value":5724},{"type":15,"tag":252,"props":40213,"children":40214},{"style":447},[40215],{"type":21,"value":849},{"type":15,"tag":252,"props":40217,"children":40218},{"style":276},[40219],{"type":21,"value":7432},{"type":15,"tag":252,"props":40221,"children":40222},{"style":601},[40223],{"type":21,"value":432},{"type":15,"tag":252,"props":40225,"children":40226},{"style":259},[40227],{"type":21,"value":13024},{"type":15,"tag":252,"props":40229,"children":40230},{"style":447},[40231],{"type":21,"value":7305},{"type":15,"tag":252,"props":40233,"children":40234},{"style":601},[40235],{"type":21,"value":5468},{"type":15,"tag":252,"props":40237,"children":40238},{"style":447},[40239],{"type":21,"value":13037},{"type":15,"tag":252,"props":40241,"children":40242},{"class":254,"line":2110},[40243],{"type":15,"tag":252,"props":40244,"children":40245},{"style":447},[40246],{"type":21,"value":18882},{"type":15,"tag":252,"props":40248,"children":40249},{"class":254,"line":2150},[40250],{"type":15,"tag":252,"props":40251,"children":40252},{"emptyLinePlaceholder":2053},[40253],{"type":21,"value":2056},{"type":15,"tag":252,"props":40255,"children":40256},{"class":254,"line":2182},[40257,40261],{"type":15,"tag":252,"props":40258,"children":40259},{"style":601},[40260],{"type":21,"value":12717},{"type":15,"tag":252,"props":40262,"children":40263},{"style":447},[40264],{"type":21,"value":40265}," level {\n",{"type":15,"tag":252,"props":40267,"children":40268},{"class":254,"line":2190},[40269,40274,40278,40282,40287,40291],{"type":15,"tag":252,"props":40270,"children":40271},{"style":259},[40272],{"type":21,"value":40273},"            OperatorType",{"type":15,"tag":252,"props":40275,"children":40276},{"style":601},[40277],{"type":21,"value":804},{"type":15,"tag":252,"props":40279,"children":40280},{"style":259},[40281],{"type":21,"value":39876},{"type":15,"tag":252,"props":40283,"children":40284},{"style":447},[40285],{"type":21,"value":40286},"(token, op) ",{"type":15,"tag":252,"props":40288,"children":40289},{"style":601},[40290],{"type":21,"value":4054},{"type":15,"tag":252,"props":40292,"children":40293},{"style":447},[40294],{"type":21,"value":3769},{"type":15,"tag":252,"props":40296,"children":40297},{"class":254,"line":2222},[40298,40303,40307,40311,40315,40319,40323,40328],{"type":15,"tag":252,"props":40299,"children":40300},{"style":601},[40301],{"type":21,"value":40302},"                if",{"type":15,"tag":252,"props":40304,"children":40305},{"style":276},[40306],{"type":21,"value":7244},{"type":15,"tag":252,"props":40308,"children":40309},{"style":601},[40310],{"type":21,"value":432},{"type":15,"tag":252,"props":40312,"children":40313},{"style":259},[40314],{"type":21,"value":8696},{"type":15,"tag":252,"props":40316,"children":40317},{"style":447},[40318],{"type":21,"value":7305},{"type":15,"tag":252,"props":40320,"children":40321},{"style":601},[40322],{"type":21,"value":5468},{"type":15,"tag":252,"props":40324,"children":40325},{"style":601},[40326],{"type":21,"value":40327}," ==",{"type":15,"tag":252,"props":40329,"children":40330},{"style":447},[40331],{"type":21,"value":40332}," token {\n",{"type":15,"tag":252,"props":40334,"children":40335},{"class":254,"line":2270},[40336,40340,40344,40348,40352],{"type":15,"tag":252,"props":40337,"children":40338},{"style":276},[40339],{"type":21,"value":10073},{"type":15,"tag":252,"props":40341,"children":40342},{"style":601},[40343],{"type":21,"value":432},{"type":15,"tag":252,"props":40345,"children":40346},{"style":276},[40347],{"type":21,"value":7295},{"type":15,"tag":252,"props":40349,"children":40350},{"style":259},[40351],{"type":21,"value":8774},{"type":15,"tag":252,"props":40353,"children":40354},{"style":447},[40355],{"type":21,"value":814},{"type":15,"tag":252,"props":40357,"children":40358},{"class":254,"line":2302},[40359,40363,40367,40371,40375,40379,40384,40389,40393],{"type":15,"tag":252,"props":40360,"children":40361},{"style":601},[40362],{"type":21,"value":37484},{"type":15,"tag":252,"props":40364,"children":40365},{"style":447},[40366],{"type":21,"value":31233},{"type":15,"tag":252,"props":40368,"children":40369},{"style":601},[40370],{"type":21,"value":614},{"type":15,"tag":252,"props":40372,"children":40373},{"style":276},[40374],{"type":21,"value":7244},{"type":15,"tag":252,"props":40376,"children":40377},{"style":601},[40378],{"type":21,"value":432},{"type":15,"tag":252,"props":40380,"children":40381},{"style":259},[40382],{"type":21,"value":40383},"expression_precedence",{"type":15,"tag":252,"props":40385,"children":40386},{"style":447},[40387],{"type":21,"value":40388},"(precedence)",{"type":15,"tag":252,"props":40390,"children":40391},{"style":601},[40392],{"type":21,"value":5468},{"type":15,"tag":252,"props":40394,"children":40395},{"style":447},[40396],{"type":21,"value":3325},{"type":15,"tag":252,"props":40398,"children":40399},{"class":254,"line":2310},[40400,40404,40408,40412,40416,40420,40424,40428,40432,40436,40441,40445,40449,40453],{"type":15,"tag":252,"props":40401,"children":40402},{"style":259},[40403],{"type":21,"value":37573},{"type":15,"tag":252,"props":40405,"children":40406},{"style":447},[40407],{"type":21,"value":849},{"type":15,"tag":252,"props":40409,"children":40410},{"style":259},[40411],{"type":21,"value":5623},{"type":15,"tag":252,"props":40413,"children":40414},{"style":601},[40415],{"type":21,"value":804},{"type":15,"tag":252,"props":40417,"children":40418},{"style":259},[40419],{"type":21,"value":5716},{"type":15,"tag":252,"props":40421,"children":40422},{"style":601},[40423],{"type":21,"value":804},{"type":15,"tag":252,"props":40425,"children":40426},{"style":259},[40427],{"type":21,"value":39876},{"type":15,"tag":252,"props":40429,"children":40430},{"style":447},[40431],{"type":21,"value":849},{"type":15,"tag":252,"props":40433,"children":40434},{"style":601},[40435],{"type":21,"value":8752},{"type":15,"tag":252,"props":40437,"children":40438},{"style":447},[40439],{"type":21,"value":40440},"op, ",{"type":15,"tag":252,"props":40442,"children":40443},{"style":259},[40444],{"type":21,"value":36163},{"type":15,"tag":252,"props":40446,"children":40447},{"style":601},[40448],{"type":21,"value":804},{"type":15,"tag":252,"props":40450,"children":40451},{"style":259},[40452],{"type":21,"value":7761},{"type":15,"tag":252,"props":40454,"children":40455},{"style":447},[40456],{"type":21,"value":40457},"(expression)))\n",{"type":15,"tag":252,"props":40459,"children":40460},{"class":254,"line":2370},[40461,40466,40470],{"type":15,"tag":252,"props":40462,"children":40463},{"style":447},[40464],{"type":21,"value":40465},"                } ",{"type":15,"tag":252,"props":40467,"children":40468},{"style":601},[40469],{"type":21,"value":8396},{"type":15,"tag":252,"props":40471,"children":40472},{"style":447},[40473],{"type":21,"value":3769},{"type":15,"tag":252,"props":40475,"children":40476},{"class":254,"line":2418},[40477,40481,40485,40489,40493,40497,40501],{"type":15,"tag":252,"props":40478,"children":40479},{"style":276},[40480],{"type":21,"value":10073},{"type":15,"tag":252,"props":40482,"children":40483},{"style":601},[40484],{"type":21,"value":432},{"type":15,"tag":252,"props":40486,"children":40487},{"style":259},[40488],{"type":21,"value":40383},{"type":15,"tag":252,"props":40490,"children":40491},{"style":447},[40492],{"type":21,"value":38937},{"type":15,"tag":252,"props":40494,"children":40495},{"style":601},[40496],{"type":21,"value":38569},{"type":15,"tag":252,"props":40498,"children":40499},{"style":276},[40500],{"type":21,"value":7809},{"type":15,"tag":252,"props":40502,"children":40503},{"style":447},[40504],{"type":21,"value":7327},{"type":15,"tag":252,"props":40506,"children":40507},{"class":254,"line":2426},[40508],{"type":15,"tag":252,"props":40509,"children":40510},{"style":447},[40511],{"type":21,"value":10093},{"type":15,"tag":252,"props":40513,"children":40514},{"class":254,"line":2474},[40515],{"type":15,"tag":252,"props":40516,"children":40517},{"style":447},[40518],{"type":21,"value":8814},{"type":15,"tag":252,"props":40520,"children":40521},{"class":254,"line":2522},[40522,40526,40530,40535,40539,40543,40548],{"type":15,"tag":252,"props":40523,"children":40524},{"style":259},[40525],{"type":21,"value":40273},{"type":15,"tag":252,"props":40527,"children":40528},{"style":601},[40529],{"type":21,"value":804},{"type":15,"tag":252,"props":40531,"children":40532},{"style":259},[40533],{"type":21,"value":40534},"Binary",{"type":15,"tag":252,"props":40536,"children":40537},{"style":447},[40538],{"type":21,"value":12975},{"type":15,"tag":252,"props":40540,"children":40541},{"style":601},[40542],{"type":21,"value":4054},{"type":15,"tag":252,"props":40544,"children":40545},{"style":259},[40546],{"type":21,"value":40547}," todo!",{"type":15,"tag":252,"props":40549,"children":40550},{"style":447},[40551],{"type":21,"value":10142},{"type":15,"tag":252,"props":40553,"children":40554},{"class":254,"line":2530},[40555],{"type":15,"tag":252,"props":40556,"children":40557},{"style":447},[40558],{"type":21,"value":4087},{"type":15,"tag":252,"props":40560,"children":40561},{"class":254,"line":2570},[40562],{"type":15,"tag":252,"props":40563,"children":40564},{"style":447},[40565],{"type":21,"value":4095},{"type":15,"tag":252,"props":40567,"children":40568},{"class":254,"line":2591},[40569],{"type":15,"tag":252,"props":40570,"children":40571},{"emptyLinePlaceholder":2053},[40572],{"type":21,"value":2056},{"type":15,"tag":252,"props":40574,"children":40575},{"class":254,"line":2599},[40576,40580,40584,40588,40592,40596,40600,40604,40608,40612,40616,40620,40624,40628],{"type":15,"tag":252,"props":40577,"children":40578},{"style":601},[40579],{"type":21,"value":7146},{"type":15,"tag":252,"props":40581,"children":40582},{"style":259},[40583],{"type":21,"value":12876},{"type":15,"tag":252,"props":40585,"children":40586},{"style":447},[40587],{"type":21,"value":849},{"type":15,"tag":252,"props":40589,"children":40590},{"style":601},[40591],{"type":21,"value":7239},{"type":15,"tag":252,"props":40593,"children":40594},{"style":276},[40595],{"type":21,"value":7244},{"type":15,"tag":252,"props":40597,"children":40598},{"style":447},[40599],{"type":21,"value":4943},{"type":15,"tag":252,"props":40601,"children":40602},{"style":601},[40603],{"type":21,"value":3947},{"type":15,"tag":252,"props":40605,"children":40606},{"style":259},[40607],{"type":21,"value":3952},{"type":15,"tag":252,"props":40609,"children":40610},{"style":601},[40611],{"type":21,"value":804},{"type":15,"tag":252,"props":40613,"children":40614},{"style":259},[40615],{"type":21,"value":3961},{"type":15,"tag":252,"props":40617,"children":40618},{"style":447},[40619],{"type":21,"value":10502},{"type":15,"tag":252,"props":40621,"children":40622},{"style":601},[40623],{"type":21,"value":804},{"type":15,"tag":252,"props":40625,"children":40626},{"style":259},[40627],{"type":21,"value":5716},{"type":15,"tag":252,"props":40629,"children":40630},{"style":447},[40631],{"type":21,"value":7138},{"type":15,"tag":252,"props":40633,"children":40634},{"class":254,"line":2647},[40635,40639,40643,40647,40651,40655],{"type":15,"tag":252,"props":40636,"children":40637},{"style":276},[40638],{"type":21,"value":7286},{"type":15,"tag":252,"props":40640,"children":40641},{"style":601},[40642],{"type":21,"value":432},{"type":15,"tag":252,"props":40644,"children":40645},{"style":259},[40646],{"type":21,"value":40383},{"type":15,"tag":252,"props":40648,"children":40649},{"style":447},[40650],{"type":21,"value":849},{"type":15,"tag":252,"props":40652,"children":40653},{"style":276},[40654],{"type":21,"value":1901},{"type":15,"tag":252,"props":40656,"children":40657},{"style":447},[40658],{"type":21,"value":7327},{"type":15,"tag":252,"props":40660,"children":40661},{"class":254,"line":2679},[40662],{"type":15,"tag":252,"props":40663,"children":40664},{"style":447},[40665],{"type":21,"value":4095},{"type":15,"tag":23,"props":40667,"children":40668},{},[40669,40671,40677,40679,40685],{"type":21,"value":40670},"The first part we get the operator level, and if we hit the end of the list we parse a literal (we will change this to ",{"type":15,"tag":81,"props":40672,"children":40674},{"className":40673},[],[40675],{"type":21,"value":40676},"group",{"type":21,"value":40678}," later). The prefix code is simple enough, we check if the operator is present, if it is we parse an expression with the same precedence (we allow chaining the same operator, so ",{"type":15,"tag":81,"props":40680,"children":40682},{"className":40681},[],[40683],{"type":21,"value":40684},"!!true",{"type":21,"value":40686}," is valid!)",{"type":15,"tag":59,"props":40688,"children":40689},{"id":14557},[40690],{"type":21,"value":14560},{"type":15,"tag":23,"props":40692,"children":40693},{},[40694],{"type":21,"value":40695},"Now in the IR we will add a variant for the prefix actions directly, why? simple, there is only one for each type ",{"type":15,"tag":95,"props":40697,"children":40699},{"code":40698,"language":772,"meta":8,"className":773,"style":8},"#[derive(Debug)]\npub enum IntExpression {\n    Literal(i32),\n    Negate(Box\u003CIntExpression>),\n}\n\n#[derive(Debug)]\npub enum BooleanExpression {\n    Literal(bool),\n    Not(Box\u003CBooleanExpression>),\n    Comparison(ComparisonExpression),\n}\n",[40700],{"type":15,"tag":81,"props":40701,"children":40702},{"__ignoreMap":8},[40703,40718,40737,40756,40783,40790,40797,40812,40831,40850,40877,40896],{"type":15,"tag":252,"props":40704,"children":40705},{"class":254,"line":255},[40706,40710,40714],{"type":15,"tag":252,"props":40707,"children":40708},{"style":447},[40709],{"type":21,"value":3742},{"type":15,"tag":252,"props":40711,"children":40712},{"style":259},[40713],{"type":21,"value":5788},{"type":15,"tag":252,"props":40715,"children":40716},{"style":447},[40717],{"type":21,"value":3751},{"type":15,"tag":252,"props":40719,"children":40720},{"class":254,"line":334},[40721,40725,40729,40733],{"type":15,"tag":252,"props":40722,"children":40723},{"style":601},[40724],{"type":21,"value":4740},{"type":15,"tag":252,"props":40726,"children":40727},{"style":601},[40728],{"type":21,"value":5869},{"type":15,"tag":252,"props":40730,"children":40731},{"style":259},[40732],{"type":21,"value":14847},{"type":15,"tag":252,"props":40734,"children":40735},{"style":447},[40736],{"type":21,"value":3769},{"type":15,"tag":252,"props":40738,"children":40739},{"class":254,"line":390},[40740,40744,40748,40752],{"type":15,"tag":252,"props":40741,"children":40742},{"style":259},[40743],{"type":21,"value":5956},{"type":15,"tag":252,"props":40745,"children":40746},{"style":447},[40747],{"type":21,"value":849},{"type":15,"tag":252,"props":40749,"children":40750},{"style":259},[40751],{"type":21,"value":1082},{"type":15,"tag":252,"props":40753,"children":40754},{"style":447},[40755],{"type":21,"value":5899},{"type":15,"tag":252,"props":40757,"children":40758},{"class":254,"line":2077},[40759,40763,40767,40771,40775,40779],{"type":15,"tag":252,"props":40760,"children":40761},{"style":259},[40762],{"type":21,"value":39611},{"type":15,"tag":252,"props":40764,"children":40765},{"style":447},[40766],{"type":21,"value":849},{"type":15,"tag":252,"props":40768,"children":40769},{"style":259},[40770],{"type":21,"value":36163},{"type":15,"tag":252,"props":40772,"children":40773},{"style":447},[40774],{"type":21,"value":5826},{"type":15,"tag":252,"props":40776,"children":40777},{"style":259},[40778],{"type":21,"value":14798},{"type":15,"tag":252,"props":40780,"children":40781},{"style":447},[40782],{"type":21,"value":24445},{"type":15,"tag":252,"props":40784,"children":40785},{"class":254,"line":2110},[40786],{"type":15,"tag":252,"props":40787,"children":40788},{"style":447},[40789],{"type":21,"value":2854},{"type":15,"tag":252,"props":40791,"children":40792},{"class":254,"line":2150},[40793],{"type":15,"tag":252,"props":40794,"children":40795},{"emptyLinePlaceholder":2053},[40796],{"type":21,"value":2056},{"type":15,"tag":252,"props":40798,"children":40799},{"class":254,"line":2182},[40800,40804,40808],{"type":15,"tag":252,"props":40801,"children":40802},{"style":447},[40803],{"type":21,"value":3742},{"type":15,"tag":252,"props":40805,"children":40806},{"style":259},[40807],{"type":21,"value":5788},{"type":15,"tag":252,"props":40809,"children":40810},{"style":447},[40811],{"type":21,"value":3751},{"type":15,"tag":252,"props":40813,"children":40814},{"class":254,"line":2190},[40815,40819,40823,40827],{"type":15,"tag":252,"props":40816,"children":40817},{"style":601},[40818],{"type":21,"value":4740},{"type":15,"tag":252,"props":40820,"children":40821},{"style":601},[40822],{"type":21,"value":5869},{"type":15,"tag":252,"props":40824,"children":40825},{"style":259},[40826],{"type":21,"value":28040},{"type":15,"tag":252,"props":40828,"children":40829},{"style":447},[40830],{"type":21,"value":3769},{"type":15,"tag":252,"props":40832,"children":40833},{"class":254,"line":2222},[40834,40838,40842,40846],{"type":15,"tag":252,"props":40835,"children":40836},{"style":259},[40837],{"type":21,"value":5956},{"type":15,"tag":252,"props":40839,"children":40840},{"style":447},[40841],{"type":21,"value":849},{"type":15,"tag":252,"props":40843,"children":40844},{"style":259},[40845],{"type":21,"value":27199},{"type":15,"tag":252,"props":40847,"children":40848},{"style":447},[40849],{"type":21,"value":5899},{"type":15,"tag":252,"props":40851,"children":40852},{"class":254,"line":2270},[40853,40857,40861,40865,40869,40873],{"type":15,"tag":252,"props":40854,"children":40855},{"style":259},[40856],{"type":21,"value":39623},{"type":15,"tag":252,"props":40858,"children":40859},{"style":447},[40860],{"type":21,"value":849},{"type":15,"tag":252,"props":40862,"children":40863},{"style":259},[40864],{"type":21,"value":36163},{"type":15,"tag":252,"props":40866,"children":40867},{"style":447},[40868],{"type":21,"value":5826},{"type":15,"tag":252,"props":40870,"children":40871},{"style":259},[40872],{"type":21,"value":27991},{"type":15,"tag":252,"props":40874,"children":40875},{"style":447},[40876],{"type":21,"value":24445},{"type":15,"tag":252,"props":40878,"children":40879},{"class":254,"line":2302},[40880,40884,40888,40892],{"type":15,"tag":252,"props":40881,"children":40882},{"style":259},[40883],{"type":21,"value":36989},{"type":15,"tag":252,"props":40885,"children":40886},{"style":447},[40887],{"type":21,"value":849},{"type":15,"tag":252,"props":40889,"children":40890},{"style":259},[40891],{"type":21,"value":36998},{"type":15,"tag":252,"props":40893,"children":40894},{"style":447},[40895],{"type":21,"value":5899},{"type":15,"tag":252,"props":40897,"children":40898},{"class":254,"line":2310},[40899],{"type":15,"tag":252,"props":40900,"children":40901},{"style":447},[40902],{"type":21,"value":2854},{"type":15,"tag":23,"props":40904,"children":40905},{},[40906],{"type":21,"value":40907},"The type resolving code is fairly simple for this:",{"type":15,"tag":95,"props":40909,"children":40911},{"code":40910,"language":772,"meta":8,"className":773,"style":8},"fn resolve_expression(expression: &ast::Expression) -> anyhow::Result\u003CTypedExpression> {\n    match expression {\n        ast::Expression::Literal(literal) => resolve_literal(literal),\n        ast::Expression::Prefix(op, expression) => {\n            let expression = resolve_expression(expression)?;\n\n            match op {\n                ast::PrefixOp::Negate => {\n                    let expression = expression.is_int()?;\n\n                    Ok(TypedExpression::Int(ir::IntExpression::Negate(Box::new(\n                        expression,\n                    ))))\n                }\n                ast::PrefixOp::Not => {\n                    let expression = expression.is_boolean()?;\n\n                    Ok(TypedExpression::Boolean(ir::BooleanExpression::Not(\n                        Box::new(expression),\n                    )))\n                }\n            }\n        }\n        ast::Expression::BinaryOp(left, op, right) => { ... }\n}\n",[40912],{"type":15,"tag":81,"props":40913,"children":40914},{"__ignoreMap":8},[40915,40982,40993,41032,41068,41099,41106,41117,41148,41187,41194,41261,41269,41277,41284,41315,41354,41361,41412,41433,41440,41447,41454,41461,41505],{"type":15,"tag":252,"props":40916,"children":40917},{"class":254,"line":255},[40918,40922,40926,40930,40934,40938,40942,40946,40950,40954,40958,40962,40966,40970,40974,40978],{"type":15,"tag":252,"props":40919,"children":40920},{"style":601},[40921],{"type":21,"value":2064},{"type":15,"tag":252,"props":40923,"children":40924},{"style":259},[40925],{"type":21,"value":15420},{"type":15,"tag":252,"props":40927,"children":40928},{"style":447},[40929],{"type":21,"value":15425},{"type":15,"tag":252,"props":40931,"children":40932},{"style":601},[40933],{"type":21,"value":3374},{"type":15,"tag":252,"props":40935,"children":40936},{"style":601},[40937],{"type":21,"value":4920},{"type":15,"tag":252,"props":40939,"children":40940},{"style":259},[40941],{"type":21,"value":5623},{"type":15,"tag":252,"props":40943,"children":40944},{"style":601},[40945],{"type":21,"value":804},{"type":15,"tag":252,"props":40947,"children":40948},{"style":259},[40949],{"type":21,"value":5716},{"type":15,"tag":252,"props":40951,"children":40952},{"style":447},[40953],{"type":21,"value":4943},{"type":15,"tag":252,"props":40955,"children":40956},{"style":601},[40957],{"type":21,"value":3947},{"type":15,"tag":252,"props":40959,"children":40960},{"style":259},[40961],{"type":21,"value":3952},{"type":15,"tag":252,"props":40963,"children":40964},{"style":601},[40965],{"type":21,"value":804},{"type":15,"tag":252,"props":40967,"children":40968},{"style":259},[40969],{"type":21,"value":3961},{"type":15,"tag":252,"props":40971,"children":40972},{"style":447},[40973],{"type":21,"value":5826},{"type":15,"tag":252,"props":40975,"children":40976},{"style":259},[40977],{"type":21,"value":15281},{"type":15,"tag":252,"props":40979,"children":40980},{"style":447},[40981],{"type":21,"value":7138},{"type":15,"tag":252,"props":40983,"children":40984},{"class":254,"line":334},[40985,40989],{"type":15,"tag":252,"props":40986,"children":40987},{"style":601},[40988],{"type":21,"value":4014},{"type":15,"tag":252,"props":40990,"children":40991},{"style":447},[40992],{"type":21,"value":15489},{"type":15,"tag":252,"props":40994,"children":40995},{"class":254,"line":390},[40996,41000,41004,41008,41012,41016,41020,41024,41028],{"type":15,"tag":252,"props":40997,"children":40998},{"style":259},[40999],{"type":21,"value":15305},{"type":15,"tag":252,"props":41001,"children":41002},{"style":601},[41003],{"type":21,"value":804},{"type":15,"tag":252,"props":41005,"children":41006},{"style":259},[41007],{"type":21,"value":5716},{"type":15,"tag":252,"props":41009,"children":41010},{"style":601},[41011],{"type":21,"value":804},{"type":15,"tag":252,"props":41013,"children":41014},{"style":259},[41015],{"type":21,"value":5724},{"type":15,"tag":252,"props":41017,"children":41018},{"style":447},[41019],{"type":21,"value":15517},{"type":15,"tag":252,"props":41021,"children":41022},{"style":601},[41023],{"type":21,"value":4054},{"type":15,"tag":252,"props":41025,"children":41026},{"style":259},[41027],{"type":21,"value":15227},{"type":15,"tag":252,"props":41029,"children":41030},{"style":447},[41031],{"type":21,"value":15530},{"type":15,"tag":252,"props":41033,"children":41034},{"class":254,"line":2077},[41035,41039,41043,41047,41051,41055,41060,41064],{"type":15,"tag":252,"props":41036,"children":41037},{"style":259},[41038],{"type":21,"value":15305},{"type":15,"tag":252,"props":41040,"children":41041},{"style":601},[41042],{"type":21,"value":804},{"type":15,"tag":252,"props":41044,"children":41045},{"style":259},[41046],{"type":21,"value":5716},{"type":15,"tag":252,"props":41048,"children":41049},{"style":601},[41050],{"type":21,"value":804},{"type":15,"tag":252,"props":41052,"children":41053},{"style":259},[41054],{"type":21,"value":39876},{"type":15,"tag":252,"props":41056,"children":41057},{"style":447},[41058],{"type":21,"value":41059},"(op, expression) ",{"type":15,"tag":252,"props":41061,"children":41062},{"style":601},[41063],{"type":21,"value":4054},{"type":15,"tag":252,"props":41065,"children":41066},{"style":447},[41067],{"type":21,"value":3769},{"type":15,"tag":252,"props":41069,"children":41070},{"class":254,"line":2110},[41071,41075,41079,41083,41087,41091,41095],{"type":15,"tag":252,"props":41072,"children":41073},{"style":601},[41074],{"type":21,"value":15892},{"type":15,"tag":252,"props":41076,"children":41077},{"style":447},[41078],{"type":21,"value":31233},{"type":15,"tag":252,"props":41080,"children":41081},{"style":601},[41082],{"type":21,"value":614},{"type":15,"tag":252,"props":41084,"children":41085},{"style":259},[41086],{"type":21,"value":15420},{"type":15,"tag":252,"props":41088,"children":41089},{"style":447},[41090],{"type":21,"value":15657},{"type":15,"tag":252,"props":41092,"children":41093},{"style":601},[41094],{"type":21,"value":5468},{"type":15,"tag":252,"props":41096,"children":41097},{"style":447},[41098],{"type":21,"value":3325},{"type":15,"tag":252,"props":41100,"children":41101},{"class":254,"line":2150},[41102],{"type":15,"tag":252,"props":41103,"children":41104},{"emptyLinePlaceholder":2053},[41105],{"type":21,"value":2056},{"type":15,"tag":252,"props":41107,"children":41108},{"class":254,"line":2182},[41109,41113],{"type":15,"tag":252,"props":41110,"children":41111},{"style":601},[41112],{"type":21,"value":9860},{"type":15,"tag":252,"props":41114,"children":41115},{"style":447},[41116],{"type":21,"value":37444},{"type":15,"tag":252,"props":41118,"children":41119},{"class":254,"line":2190},[41120,41124,41128,41132,41136,41140,41144],{"type":15,"tag":252,"props":41121,"children":41122},{"style":259},[41123],{"type":21,"value":37452},{"type":15,"tag":252,"props":41125,"children":41126},{"style":601},[41127],{"type":21,"value":804},{"type":15,"tag":252,"props":41129,"children":41130},{"style":259},[41131],{"type":21,"value":39516},{"type":15,"tag":252,"props":41133,"children":41134},{"style":601},[41135],{"type":21,"value":804},{"type":15,"tag":252,"props":41137,"children":41138},{"style":259},[41139],{"type":21,"value":39977},{"type":15,"tag":252,"props":41141,"children":41142},{"style":601},[41143],{"type":21,"value":9226},{"type":15,"tag":252,"props":41145,"children":41146},{"style":447},[41147],{"type":21,"value":3769},{"type":15,"tag":252,"props":41149,"children":41150},{"class":254,"line":2222},[41151,41155,41159,41163,41167,41171,41175,41179,41183],{"type":15,"tag":252,"props":41152,"children":41153},{"style":601},[41154],{"type":21,"value":37484},{"type":15,"tag":252,"props":41156,"children":41157},{"style":447},[41158],{"type":21,"value":31233},{"type":15,"tag":252,"props":41160,"children":41161},{"style":601},[41162],{"type":21,"value":614},{"type":15,"tag":252,"props":41164,"children":41165},{"style":447},[41166],{"type":21,"value":12876},{"type":15,"tag":252,"props":41168,"children":41169},{"style":601},[41170],{"type":21,"value":432},{"type":15,"tag":252,"props":41172,"children":41173},{"style":259},[41174],{"type":21,"value":37506},{"type":15,"tag":252,"props":41176,"children":41177},{"style":447},[41178],{"type":21,"value":7305},{"type":15,"tag":252,"props":41180,"children":41181},{"style":601},[41182],{"type":21,"value":5468},{"type":15,"tag":252,"props":41184,"children":41185},{"style":447},[41186],{"type":21,"value":3325},{"type":15,"tag":252,"props":41188,"children":41189},{"class":254,"line":2270},[41190],{"type":15,"tag":252,"props":41191,"children":41192},{"emptyLinePlaceholder":2053},[41193],{"type":21,"value":2056},{"type":15,"tag":252,"props":41195,"children":41196},{"class":254,"line":2302},[41197,41201,41205,41209,41213,41217,41221,41225,41229,41233,41237,41241,41245,41249,41253,41257],{"type":15,"tag":252,"props":41198,"children":41199},{"style":259},[41200],{"type":21,"value":37573},{"type":15,"tag":252,"props":41202,"children":41203},{"style":447},[41204],{"type":21,"value":849},{"type":15,"tag":252,"props":41206,"children":41207},{"style":259},[41208],{"type":21,"value":15281},{"type":15,"tag":252,"props":41210,"children":41211},{"style":601},[41212],{"type":21,"value":804},{"type":15,"tag":252,"props":41214,"children":41215},{"style":259},[41216],{"type":21,"value":14888},{"type":15,"tag":252,"props":41218,"children":41219},{"style":447},[41220],{"type":21,"value":849},{"type":15,"tag":252,"props":41222,"children":41223},{"style":259},[41224],{"type":21,"value":14557},{"type":15,"tag":252,"props":41226,"children":41227},{"style":601},[41228],{"type":21,"value":804},{"type":15,"tag":252,"props":41230,"children":41231},{"style":259},[41232],{"type":21,"value":14798},{"type":15,"tag":252,"props":41234,"children":41235},{"style":601},[41236],{"type":21,"value":804},{"type":15,"tag":252,"props":41238,"children":41239},{"style":259},[41240],{"type":21,"value":39977},{"type":15,"tag":252,"props":41242,"children":41243},{"style":447},[41244],{"type":21,"value":849},{"type":15,"tag":252,"props":41246,"children":41247},{"style":259},[41248],{"type":21,"value":36163},{"type":15,"tag":252,"props":41250,"children":41251},{"style":601},[41252],{"type":21,"value":804},{"type":15,"tag":252,"props":41254,"children":41255},{"style":259},[41256],{"type":21,"value":7761},{"type":15,"tag":252,"props":41258,"children":41259},{"style":447},[41260],{"type":21,"value":14196},{"type":15,"tag":252,"props":41262,"children":41263},{"class":254,"line":2310},[41264],{"type":15,"tag":252,"props":41265,"children":41266},{"style":447},[41267],{"type":21,"value":41268},"                        expression,\n",{"type":15,"tag":252,"props":41270,"children":41271},{"class":254,"line":2370},[41272],{"type":15,"tag":252,"props":41273,"children":41274},{"style":447},[41275],{"type":21,"value":41276},"                    ))))\n",{"type":15,"tag":252,"props":41278,"children":41279},{"class":254,"line":2418},[41280],{"type":15,"tag":252,"props":41281,"children":41282},{"style":447},[41283],{"type":21,"value":10093},{"type":15,"tag":252,"props":41285,"children":41286},{"class":254,"line":2426},[41287,41291,41295,41299,41303,41307,41311],{"type":15,"tag":252,"props":41288,"children":41289},{"style":259},[41290],{"type":21,"value":37452},{"type":15,"tag":252,"props":41292,"children":41293},{"style":601},[41294],{"type":21,"value":804},{"type":15,"tag":252,"props":41296,"children":41297},{"style":259},[41298],{"type":21,"value":39516},{"type":15,"tag":252,"props":41300,"children":41301},{"style":601},[41302],{"type":21,"value":804},{"type":15,"tag":252,"props":41304,"children":41305},{"style":259},[41306],{"type":21,"value":39917},{"type":15,"tag":252,"props":41308,"children":41309},{"style":601},[41310],{"type":21,"value":9226},{"type":15,"tag":252,"props":41312,"children":41313},{"style":447},[41314],{"type":21,"value":3769},{"type":15,"tag":252,"props":41316,"children":41317},{"class":254,"line":2474},[41318,41322,41326,41330,41334,41338,41342,41346,41350],{"type":15,"tag":252,"props":41319,"children":41320},{"style":601},[41321],{"type":21,"value":37484},{"type":15,"tag":252,"props":41323,"children":41324},{"style":447},[41325],{"type":21,"value":31233},{"type":15,"tag":252,"props":41327,"children":41328},{"style":601},[41329],{"type":21,"value":614},{"type":15,"tag":252,"props":41331,"children":41332},{"style":447},[41333],{"type":21,"value":12876},{"type":15,"tag":252,"props":41335,"children":41336},{"style":601},[41337],{"type":21,"value":432},{"type":15,"tag":252,"props":41339,"children":41340},{"style":259},[41341],{"type":21,"value":32138},{"type":15,"tag":252,"props":41343,"children":41344},{"style":447},[41345],{"type":21,"value":7305},{"type":15,"tag":252,"props":41347,"children":41348},{"style":601},[41349],{"type":21,"value":5468},{"type":15,"tag":252,"props":41351,"children":41352},{"style":447},[41353],{"type":21,"value":3325},{"type":15,"tag":252,"props":41355,"children":41356},{"class":254,"line":2522},[41357],{"type":15,"tag":252,"props":41358,"children":41359},{"emptyLinePlaceholder":2053},[41360],{"type":21,"value":2056},{"type":15,"tag":252,"props":41362,"children":41363},{"class":254,"line":2530},[41364,41368,41372,41376,41380,41384,41388,41392,41396,41400,41404,41408],{"type":15,"tag":252,"props":41365,"children":41366},{"style":259},[41367],{"type":21,"value":37573},{"type":15,"tag":252,"props":41369,"children":41370},{"style":447},[41371],{"type":21,"value":849},{"type":15,"tag":252,"props":41373,"children":41374},{"style":259},[41375],{"type":21,"value":15281},{"type":15,"tag":252,"props":41377,"children":41378},{"style":601},[41379],{"type":21,"value":804},{"type":15,"tag":252,"props":41381,"children":41382},{"style":259},[41383],{"type":21,"value":27449},{"type":15,"tag":252,"props":41385,"children":41386},{"style":447},[41387],{"type":21,"value":849},{"type":15,"tag":252,"props":41389,"children":41390},{"style":259},[41391],{"type":21,"value":14557},{"type":15,"tag":252,"props":41393,"children":41394},{"style":601},[41395],{"type":21,"value":804},{"type":15,"tag":252,"props":41397,"children":41398},{"style":259},[41399],{"type":21,"value":27991},{"type":15,"tag":252,"props":41401,"children":41402},{"style":601},[41403],{"type":21,"value":804},{"type":15,"tag":252,"props":41405,"children":41406},{"style":259},[41407],{"type":21,"value":39917},{"type":15,"tag":252,"props":41409,"children":41410},{"style":447},[41411],{"type":21,"value":14196},{"type":15,"tag":252,"props":41413,"children":41414},{"class":254,"line":2570},[41415,41420,41424,41428],{"type":15,"tag":252,"props":41416,"children":41417},{"style":259},[41418],{"type":21,"value":41419},"                        Box",{"type":15,"tag":252,"props":41421,"children":41422},{"style":601},[41423],{"type":21,"value":804},{"type":15,"tag":252,"props":41425,"children":41426},{"style":259},[41427],{"type":21,"value":7761},{"type":15,"tag":252,"props":41429,"children":41430},{"style":447},[41431],{"type":21,"value":41432},"(expression),\n",{"type":15,"tag":252,"props":41434,"children":41435},{"class":254,"line":2591},[41436],{"type":15,"tag":252,"props":41437,"children":41438},{"style":447},[41439],{"type":21,"value":37732},{"type":15,"tag":252,"props":41441,"children":41442},{"class":254,"line":2599},[41443],{"type":15,"tag":252,"props":41444,"children":41445},{"style":447},[41446],{"type":21,"value":10093},{"type":15,"tag":252,"props":41448,"children":41449},{"class":254,"line":2647},[41450],{"type":15,"tag":252,"props":41451,"children":41452},{"style":447},[41453],{"type":21,"value":8814},{"type":15,"tag":252,"props":41455,"children":41456},{"class":254,"line":2679},[41457],{"type":15,"tag":252,"props":41458,"children":41459},{"style":447},[41460],{"type":21,"value":4087},{"type":15,"tag":252,"props":41462,"children":41463},{"class":254,"line":2727},[41464,41468,41472,41476,41480,41484,41488,41492,41496,41500],{"type":15,"tag":252,"props":41465,"children":41466},{"style":259},[41467],{"type":21,"value":15305},{"type":15,"tag":252,"props":41469,"children":41470},{"style":601},[41471],{"type":21,"value":804},{"type":15,"tag":252,"props":41473,"children":41474},{"style":259},[41475],{"type":21,"value":5716},{"type":15,"tag":252,"props":41477,"children":41478},{"style":601},[41479],{"type":21,"value":804},{"type":15,"tag":252,"props":41481,"children":41482},{"style":259},[41483],{"type":21,"value":36180},{"type":15,"tag":252,"props":41485,"children":41486},{"style":447},[41487],{"type":21,"value":37351},{"type":15,"tag":252,"props":41489,"children":41490},{"style":601},[41491],{"type":21,"value":4054},{"type":15,"tag":252,"props":41493,"children":41494},{"style":447},[41495],{"type":21,"value":39155},{"type":15,"tag":252,"props":41497,"children":41498},{"style":601},[41499],{"type":21,"value":14549},{"type":15,"tag":252,"props":41501,"children":41502},{"style":447},[41503],{"type":21,"value":41504}," }\n",{"type":15,"tag":252,"props":41506,"children":41507},{"class":254,"line":2735},[41508],{"type":15,"tag":252,"props":41509,"children":41510},{"style":447},[41511],{"type":21,"value":2854},{"type":15,"tag":23,"props":41513,"children":41514},{},[41515],{"type":21,"value":41516},"This function is starting to get a bit crowded, so lets do some refactoring shall we?",{"type":15,"tag":95,"props":41518,"children":41520},{"code":41519,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nfn resolve_prefix(\n    expression: &Box\u003Cast::Expression>,\n    op: &ast::PrefixOp,\n) -> anyhow::Result\u003CTypedExpression> {\n  // ..\n}\n\nfn resolve_binary(\n    left: &Box\u003Cast::Expression>,\n    op: &ast::BinaryOp,\n    right: &Box\u003Cast::Expression>,\n) -> anyhow::Result\u003CTypedExpression> {\n  // ...\n}\n\nfn resolve_expression(expression: &ast::Expression) -> anyhow::Result\u003CTypedExpression> {\n    match expression {\n        ast::Expression::Literal(literal) => resolve_literal(literal),\n        ast::Expression::Prefix(op, expression) => resolve_prefix(expression, op),\n        ast::Expression::BinaryOp(left, op, right) => resolve_binary(left, op, right),\n    }\n}\n",[41521],{"type":15,"tag":81,"props":41522,"children":41523},{"__ignoreMap":8},[41524,41531,41547,41583,41615,41650,41658,41665,41672,41688,41724,41755,41791,41826,41834,41841,41848,41915,41926,41965,42005,42045,42052],{"type":15,"tag":252,"props":41525,"children":41526},{"class":254,"line":255},[41527],{"type":15,"tag":252,"props":41528,"children":41529},{"style":3287},[41530],{"type":21,"value":14916},{"type":15,"tag":252,"props":41532,"children":41533},{"class":254,"line":334},[41534,41538,41543],{"type":15,"tag":252,"props":41535,"children":41536},{"style":601},[41537],{"type":21,"value":2064},{"type":15,"tag":252,"props":41539,"children":41540},{"style":259},[41541],{"type":21,"value":41542}," resolve_prefix",{"type":15,"tag":252,"props":41544,"children":41545},{"style":447},[41546],{"type":21,"value":14196},{"type":15,"tag":252,"props":41548,"children":41549},{"class":254,"line":390},[41550,41555,41559,41563,41567,41571,41575,41579],{"type":15,"tag":252,"props":41551,"children":41552},{"style":447},[41553],{"type":21,"value":41554},"    expression",{"type":15,"tag":252,"props":41556,"children":41557},{"style":601},[41558],{"type":21,"value":3374},{"type":15,"tag":252,"props":41560,"children":41561},{"style":601},[41562],{"type":21,"value":4920},{"type":15,"tag":252,"props":41564,"children":41565},{"style":259},[41566],{"type":21,"value":36163},{"type":15,"tag":252,"props":41568,"children":41569},{"style":447},[41570],{"type":21,"value":10502},{"type":15,"tag":252,"props":41572,"children":41573},{"style":601},[41574],{"type":21,"value":804},{"type":15,"tag":252,"props":41576,"children":41577},{"style":259},[41578],{"type":21,"value":5716},{"type":15,"tag":252,"props":41580,"children":41581},{"style":447},[41582],{"type":21,"value":7608},{"type":15,"tag":252,"props":41584,"children":41585},{"class":254,"line":2077},[41586,41591,41595,41599,41603,41607,41611],{"type":15,"tag":252,"props":41587,"children":41588},{"style":447},[41589],{"type":21,"value":41590},"    op",{"type":15,"tag":252,"props":41592,"children":41593},{"style":601},[41594],{"type":21,"value":3374},{"type":15,"tag":252,"props":41596,"children":41597},{"style":601},[41598],{"type":21,"value":4920},{"type":15,"tag":252,"props":41600,"children":41601},{"style":259},[41602],{"type":21,"value":5623},{"type":15,"tag":252,"props":41604,"children":41605},{"style":601},[41606],{"type":21,"value":804},{"type":15,"tag":252,"props":41608,"children":41609},{"style":259},[41610],{"type":21,"value":39516},{"type":15,"tag":252,"props":41612,"children":41613},{"style":447},[41614],{"type":21,"value":3879},{"type":15,"tag":252,"props":41616,"children":41617},{"class":254,"line":2110},[41618,41622,41626,41630,41634,41638,41642,41646],{"type":15,"tag":252,"props":41619,"children":41620},{"style":447},[41621],{"type":21,"value":4943},{"type":15,"tag":252,"props":41623,"children":41624},{"style":601},[41625],{"type":21,"value":3947},{"type":15,"tag":252,"props":41627,"children":41628},{"style":259},[41629],{"type":21,"value":3952},{"type":15,"tag":252,"props":41631,"children":41632},{"style":601},[41633],{"type":21,"value":804},{"type":15,"tag":252,"props":41635,"children":41636},{"style":259},[41637],{"type":21,"value":3961},{"type":15,"tag":252,"props":41639,"children":41640},{"style":447},[41641],{"type":21,"value":5826},{"type":15,"tag":252,"props":41643,"children":41644},{"style":259},[41645],{"type":21,"value":15281},{"type":15,"tag":252,"props":41647,"children":41648},{"style":447},[41649],{"type":21,"value":7138},{"type":15,"tag":252,"props":41651,"children":41652},{"class":254,"line":2150},[41653],{"type":15,"tag":252,"props":41654,"children":41655},{"style":3287},[41656],{"type":21,"value":41657},"  // ..\n",{"type":15,"tag":252,"props":41659,"children":41660},{"class":254,"line":2182},[41661],{"type":15,"tag":252,"props":41662,"children":41663},{"style":447},[41664],{"type":21,"value":2854},{"type":15,"tag":252,"props":41666,"children":41667},{"class":254,"line":2190},[41668],{"type":15,"tag":252,"props":41669,"children":41670},{"emptyLinePlaceholder":2053},[41671],{"type":21,"value":2056},{"type":15,"tag":252,"props":41673,"children":41674},{"class":254,"line":2222},[41675,41679,41684],{"type":15,"tag":252,"props":41676,"children":41677},{"style":601},[41678],{"type":21,"value":2064},{"type":15,"tag":252,"props":41680,"children":41681},{"style":259},[41682],{"type":21,"value":41683}," resolve_binary",{"type":15,"tag":252,"props":41685,"children":41686},{"style":447},[41687],{"type":21,"value":14196},{"type":15,"tag":252,"props":41689,"children":41690},{"class":254,"line":2270},[41691,41696,41700,41704,41708,41712,41716,41720],{"type":15,"tag":252,"props":41692,"children":41693},{"style":447},[41694],{"type":21,"value":41695},"    left",{"type":15,"tag":252,"props":41697,"children":41698},{"style":601},[41699],{"type":21,"value":3374},{"type":15,"tag":252,"props":41701,"children":41702},{"style":601},[41703],{"type":21,"value":4920},{"type":15,"tag":252,"props":41705,"children":41706},{"style":259},[41707],{"type":21,"value":36163},{"type":15,"tag":252,"props":41709,"children":41710},{"style":447},[41711],{"type":21,"value":10502},{"type":15,"tag":252,"props":41713,"children":41714},{"style":601},[41715],{"type":21,"value":804},{"type":15,"tag":252,"props":41717,"children":41718},{"style":259},[41719],{"type":21,"value":5716},{"type":15,"tag":252,"props":41721,"children":41722},{"style":447},[41723],{"type":21,"value":7608},{"type":15,"tag":252,"props":41725,"children":41726},{"class":254,"line":2302},[41727,41731,41735,41739,41743,41747,41751],{"type":15,"tag":252,"props":41728,"children":41729},{"style":447},[41730],{"type":21,"value":41590},{"type":15,"tag":252,"props":41732,"children":41733},{"style":601},[41734],{"type":21,"value":3374},{"type":15,"tag":252,"props":41736,"children":41737},{"style":601},[41738],{"type":21,"value":4920},{"type":15,"tag":252,"props":41740,"children":41741},{"style":259},[41742],{"type":21,"value":5623},{"type":15,"tag":252,"props":41744,"children":41745},{"style":601},[41746],{"type":21,"value":804},{"type":15,"tag":252,"props":41748,"children":41749},{"style":259},[41750],{"type":21,"value":36180},{"type":15,"tag":252,"props":41752,"children":41753},{"style":447},[41754],{"type":21,"value":3879},{"type":15,"tag":252,"props":41756,"children":41757},{"class":254,"line":2310},[41758,41763,41767,41771,41775,41779,41783,41787],{"type":15,"tag":252,"props":41759,"children":41760},{"style":447},[41761],{"type":21,"value":41762},"    right",{"type":15,"tag":252,"props":41764,"children":41765},{"style":601},[41766],{"type":21,"value":3374},{"type":15,"tag":252,"props":41768,"children":41769},{"style":601},[41770],{"type":21,"value":4920},{"type":15,"tag":252,"props":41772,"children":41773},{"style":259},[41774],{"type":21,"value":36163},{"type":15,"tag":252,"props":41776,"children":41777},{"style":447},[41778],{"type":21,"value":10502},{"type":15,"tag":252,"props":41780,"children":41781},{"style":601},[41782],{"type":21,"value":804},{"type":15,"tag":252,"props":41784,"children":41785},{"style":259},[41786],{"type":21,"value":5716},{"type":15,"tag":252,"props":41788,"children":41789},{"style":447},[41790],{"type":21,"value":7608},{"type":15,"tag":252,"props":41792,"children":41793},{"class":254,"line":2370},[41794,41798,41802,41806,41810,41814,41818,41822],{"type":15,"tag":252,"props":41795,"children":41796},{"style":447},[41797],{"type":21,"value":4943},{"type":15,"tag":252,"props":41799,"children":41800},{"style":601},[41801],{"type":21,"value":3947},{"type":15,"tag":252,"props":41803,"children":41804},{"style":259},[41805],{"type":21,"value":3952},{"type":15,"tag":252,"props":41807,"children":41808},{"style":601},[41809],{"type":21,"value":804},{"type":15,"tag":252,"props":41811,"children":41812},{"style":259},[41813],{"type":21,"value":3961},{"type":15,"tag":252,"props":41815,"children":41816},{"style":447},[41817],{"type":21,"value":5826},{"type":15,"tag":252,"props":41819,"children":41820},{"style":259},[41821],{"type":21,"value":15281},{"type":15,"tag":252,"props":41823,"children":41824},{"style":447},[41825],{"type":21,"value":7138},{"type":15,"tag":252,"props":41827,"children":41828},{"class":254,"line":2418},[41829],{"type":15,"tag":252,"props":41830,"children":41831},{"style":3287},[41832],{"type":21,"value":41833},"  // ...\n",{"type":15,"tag":252,"props":41835,"children":41836},{"class":254,"line":2426},[41837],{"type":15,"tag":252,"props":41838,"children":41839},{"style":447},[41840],{"type":21,"value":2854},{"type":15,"tag":252,"props":41842,"children":41843},{"class":254,"line":2474},[41844],{"type":15,"tag":252,"props":41845,"children":41846},{"emptyLinePlaceholder":2053},[41847],{"type":21,"value":2056},{"type":15,"tag":252,"props":41849,"children":41850},{"class":254,"line":2522},[41851,41855,41859,41863,41867,41871,41875,41879,41883,41887,41891,41895,41899,41903,41907,41911],{"type":15,"tag":252,"props":41852,"children":41853},{"style":601},[41854],{"type":21,"value":2064},{"type":15,"tag":252,"props":41856,"children":41857},{"style":259},[41858],{"type":21,"value":15420},{"type":15,"tag":252,"props":41860,"children":41861},{"style":447},[41862],{"type":21,"value":15425},{"type":15,"tag":252,"props":41864,"children":41865},{"style":601},[41866],{"type":21,"value":3374},{"type":15,"tag":252,"props":41868,"children":41869},{"style":601},[41870],{"type":21,"value":4920},{"type":15,"tag":252,"props":41872,"children":41873},{"style":259},[41874],{"type":21,"value":5623},{"type":15,"tag":252,"props":41876,"children":41877},{"style":601},[41878],{"type":21,"value":804},{"type":15,"tag":252,"props":41880,"children":41881},{"style":259},[41882],{"type":21,"value":5716},{"type":15,"tag":252,"props":41884,"children":41885},{"style":447},[41886],{"type":21,"value":4943},{"type":15,"tag":252,"props":41888,"children":41889},{"style":601},[41890],{"type":21,"value":3947},{"type":15,"tag":252,"props":41892,"children":41893},{"style":259},[41894],{"type":21,"value":3952},{"type":15,"tag":252,"props":41896,"children":41897},{"style":601},[41898],{"type":21,"value":804},{"type":15,"tag":252,"props":41900,"children":41901},{"style":259},[41902],{"type":21,"value":3961},{"type":15,"tag":252,"props":41904,"children":41905},{"style":447},[41906],{"type":21,"value":5826},{"type":15,"tag":252,"props":41908,"children":41909},{"style":259},[41910],{"type":21,"value":15281},{"type":15,"tag":252,"props":41912,"children":41913},{"style":447},[41914],{"type":21,"value":7138},{"type":15,"tag":252,"props":41916,"children":41917},{"class":254,"line":2530},[41918,41922],{"type":15,"tag":252,"props":41919,"children":41920},{"style":601},[41921],{"type":21,"value":4014},{"type":15,"tag":252,"props":41923,"children":41924},{"style":447},[41925],{"type":21,"value":15489},{"type":15,"tag":252,"props":41927,"children":41928},{"class":254,"line":2570},[41929,41933,41937,41941,41945,41949,41953,41957,41961],{"type":15,"tag":252,"props":41930,"children":41931},{"style":259},[41932],{"type":21,"value":15305},{"type":15,"tag":252,"props":41934,"children":41935},{"style":601},[41936],{"type":21,"value":804},{"type":15,"tag":252,"props":41938,"children":41939},{"style":259},[41940],{"type":21,"value":5716},{"type":15,"tag":252,"props":41942,"children":41943},{"style":601},[41944],{"type":21,"value":804},{"type":15,"tag":252,"props":41946,"children":41947},{"style":259},[41948],{"type":21,"value":5724},{"type":15,"tag":252,"props":41950,"children":41951},{"style":447},[41952],{"type":21,"value":15517},{"type":15,"tag":252,"props":41954,"children":41955},{"style":601},[41956],{"type":21,"value":4054},{"type":15,"tag":252,"props":41958,"children":41959},{"style":259},[41960],{"type":21,"value":15227},{"type":15,"tag":252,"props":41962,"children":41963},{"style":447},[41964],{"type":21,"value":15530},{"type":15,"tag":252,"props":41966,"children":41967},{"class":254,"line":2591},[41968,41972,41976,41980,41984,41988,41992,41996,42000],{"type":15,"tag":252,"props":41969,"children":41970},{"style":259},[41971],{"type":21,"value":15305},{"type":15,"tag":252,"props":41973,"children":41974},{"style":601},[41975],{"type":21,"value":804},{"type":15,"tag":252,"props":41977,"children":41978},{"style":259},[41979],{"type":21,"value":5716},{"type":15,"tag":252,"props":41981,"children":41982},{"style":601},[41983],{"type":21,"value":804},{"type":15,"tag":252,"props":41985,"children":41986},{"style":259},[41987],{"type":21,"value":39876},{"type":15,"tag":252,"props":41989,"children":41990},{"style":447},[41991],{"type":21,"value":41059},{"type":15,"tag":252,"props":41993,"children":41994},{"style":601},[41995],{"type":21,"value":4054},{"type":15,"tag":252,"props":41997,"children":41998},{"style":259},[41999],{"type":21,"value":41542},{"type":15,"tag":252,"props":42001,"children":42002},{"style":447},[42003],{"type":21,"value":42004},"(expression, op),\n",{"type":15,"tag":252,"props":42006,"children":42007},{"class":254,"line":2599},[42008,42012,42016,42020,42024,42028,42032,42036,42040],{"type":15,"tag":252,"props":42009,"children":42010},{"style":259},[42011],{"type":21,"value":15305},{"type":15,"tag":252,"props":42013,"children":42014},{"style":601},[42015],{"type":21,"value":804},{"type":15,"tag":252,"props":42017,"children":42018},{"style":259},[42019],{"type":21,"value":5716},{"type":15,"tag":252,"props":42021,"children":42022},{"style":601},[42023],{"type":21,"value":804},{"type":15,"tag":252,"props":42025,"children":42026},{"style":259},[42027],{"type":21,"value":36180},{"type":15,"tag":252,"props":42029,"children":42030},{"style":447},[42031],{"type":21,"value":37351},{"type":15,"tag":252,"props":42033,"children":42034},{"style":601},[42035],{"type":21,"value":4054},{"type":15,"tag":252,"props":42037,"children":42038},{"style":259},[42039],{"type":21,"value":41683},{"type":15,"tag":252,"props":42041,"children":42042},{"style":447},[42043],{"type":21,"value":42044},"(left, op, right),\n",{"type":15,"tag":252,"props":42046,"children":42047},{"class":254,"line":2647},[42048],{"type":15,"tag":252,"props":42049,"children":42050},{"style":447},[42051],{"type":21,"value":4095},{"type":15,"tag":252,"props":42053,"children":42054},{"class":254,"line":2679},[42055],{"type":15,"tag":252,"props":42056,"children":42057},{"style":447},[42058],{"type":21,"value":2854},{"type":15,"tag":59,"props":42060,"children":42061},{"id":26058},[42062],{"type":21,"value":26061},{"type":15,"tag":23,"props":42064,"children":42065},{},[42066],{"type":21,"value":42067},"Now code gen is pretty simple because of inkwell:",{"type":15,"tag":95,"props":42069,"children":42071},{"code":42070,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n\n    fn compile_int_expression(&self, expression: &ir::IntExpression) -> inkwell::values::IntValue {\n        match expression {\n            ir::IntExpression::Literal(int) => self.int_type().const_int(*int as u64, false),\n            ir::IntExpression::Negate(expression) => {\n                let expression = self.compile_int_expression(expression);\n                self.builder.build_int_neg(expression, \"Negate\")\n            }\n        }\n    }\n\n    fn compile_bool_expression(\n        &self,\n        expression: &ir::BooleanExpression,\n    ) -> inkwell::values::IntValue {\n        match expression {\n            ir::BooleanExpression::Literal(boolean) => {\n                self.context.bool_type().const_int(*boolean as u64, false)\n            }\n            ir::BooleanExpression::Not(expression) => {\n                let expression = self.compile_bool_expression(expression);\n                self.builder.build_not(expression, \"Not\")\n            }\n            ir::BooleanExpression::Comparison(comparison) => self.compile_comparison(comparison),\n        }\n    }\n",[42072],{"type":15,"tag":81,"props":42073,"children":42074},{"__ignoreMap":8},[42075,42082,42089,42168,42179,42266,42301,42332,42370,42377,42384,42391,42398,42413,42428,42459,42494,42505,42540,42607,42614,42649,42680,42717,42724,42771,42778],{"type":15,"tag":252,"props":42076,"children":42077},{"class":254,"line":255},[42078],{"type":15,"tag":252,"props":42079,"children":42080},{"style":3287},[42081],{"type":21,"value":26081},{"type":15,"tag":252,"props":42083,"children":42084},{"class":254,"line":334},[42085],{"type":15,"tag":252,"props":42086,"children":42087},{"emptyLinePlaceholder":2053},[42088],{"type":21,"value":2056},{"type":15,"tag":252,"props":42090,"children":42091},{"class":254,"line":390},[42092,42096,42100,42104,42108,42112,42116,42120,42124,42128,42132,42136,42140,42144,42148,42152,42156,42160,42164],{"type":15,"tag":252,"props":42093,"children":42094},{"style":601},[42095],{"type":21,"value":7146},{"type":15,"tag":252,"props":42097,"children":42098},{"style":259},[42099],{"type":21,"value":18485},{"type":15,"tag":252,"props":42101,"children":42102},{"style":447},[42103],{"type":21,"value":849},{"type":15,"tag":252,"props":42105,"children":42106},{"style":601},[42107],{"type":21,"value":1171},{"type":15,"tag":252,"props":42109,"children":42110},{"style":276},[42111],{"type":21,"value":7432},{"type":15,"tag":252,"props":42113,"children":42114},{"style":447},[42115],{"type":21,"value":18502},{"type":15,"tag":252,"props":42117,"children":42118},{"style":601},[42119],{"type":21,"value":3374},{"type":15,"tag":252,"props":42121,"children":42122},{"style":601},[42123],{"type":21,"value":4920},{"type":15,"tag":252,"props":42125,"children":42126},{"style":259},[42127],{"type":21,"value":14557},{"type":15,"tag":252,"props":42129,"children":42130},{"style":601},[42131],{"type":21,"value":804},{"type":15,"tag":252,"props":42133,"children":42134},{"style":259},[42135],{"type":21,"value":14798},{"type":15,"tag":252,"props":42137,"children":42138},{"style":447},[42139],{"type":21,"value":4943},{"type":15,"tag":252,"props":42141,"children":42142},{"style":601},[42143],{"type":21,"value":3947},{"type":15,"tag":252,"props":42145,"children":42146},{"style":259},[42147],{"type":21,"value":273},{"type":15,"tag":252,"props":42149,"children":42150},{"style":601},[42151],{"type":21,"value":804},{"type":15,"tag":252,"props":42153,"children":42154},{"style":259},[42155],{"type":21,"value":18543},{"type":15,"tag":252,"props":42157,"children":42158},{"style":601},[42159],{"type":21,"value":804},{"type":15,"tag":252,"props":42161,"children":42162},{"style":259},[42163],{"type":21,"value":18552},{"type":15,"tag":252,"props":42165,"children":42166},{"style":447},[42167],{"type":21,"value":3769},{"type":15,"tag":252,"props":42169,"children":42170},{"class":254,"line":2077},[42171,42175],{"type":15,"tag":252,"props":42172,"children":42173},{"style":601},[42174],{"type":21,"value":12717},{"type":15,"tag":252,"props":42176,"children":42177},{"style":447},[42178],{"type":21,"value":15489},{"type":15,"tag":252,"props":42180,"children":42181},{"class":254,"line":2110},[42182,42186,42190,42194,42198,42202,42206,42210,42214,42218,42222,42226,42230,42234,42238,42242,42246,42250,42254,42258,42262],{"type":15,"tag":252,"props":42183,"children":42184},{"style":259},[42185],{"type":21,"value":18575},{"type":15,"tag":252,"props":42187,"children":42188},{"style":601},[42189],{"type":21,"value":804},{"type":15,"tag":252,"props":42191,"children":42192},{"style":259},[42193],{"type":21,"value":14798},{"type":15,"tag":252,"props":42195,"children":42196},{"style":601},[42197],{"type":21,"value":804},{"type":15,"tag":252,"props":42199,"children":42200},{"style":259},[42201],{"type":21,"value":5724},{"type":15,"tag":252,"props":42203,"children":42204},{"style":447},[42205],{"type":21,"value":15326},{"type":15,"tag":252,"props":42207,"children":42208},{"style":601},[42209],{"type":21,"value":4054},{"type":15,"tag":252,"props":42211,"children":42212},{"style":276},[42213],{"type":21,"value":7244},{"type":15,"tag":252,"props":42215,"children":42216},{"style":601},[42217],{"type":21,"value":432},{"type":15,"tag":252,"props":42219,"children":42220},{"style":259},[42221],{"type":21,"value":18612},{"type":15,"tag":252,"props":42223,"children":42224},{"style":447},[42225],{"type":21,"value":7305},{"type":15,"tag":252,"props":42227,"children":42228},{"style":601},[42229],{"type":21,"value":432},{"type":15,"tag":252,"props":42231,"children":42232},{"style":259},[42233],{"type":21,"value":1892},{"type":15,"tag":252,"props":42235,"children":42236},{"style":447},[42237],{"type":21,"value":849},{"type":15,"tag":252,"props":42239,"children":42240},{"style":601},[42241],{"type":21,"value":8752},{"type":15,"tag":252,"props":42243,"children":42244},{"style":447},[42245],{"type":21,"value":18637},{"type":15,"tag":252,"props":42247,"children":42248},{"style":601},[42249],{"type":21,"value":18642},{"type":15,"tag":252,"props":42251,"children":42252},{"style":259},[42253],{"type":21,"value":18647},{"type":15,"tag":252,"props":42255,"children":42256},{"style":447},[42257],{"type":21,"value":1076},{"type":15,"tag":252,"props":42259,"children":42260},{"style":276},[42261],{"type":21,"value":1456},{"type":15,"tag":252,"props":42263,"children":42264},{"style":447},[42265],{"type":21,"value":5899},{"type":15,"tag":252,"props":42267,"children":42268},{"class":254,"line":2150},[42269,42273,42277,42281,42285,42289,42293,42297],{"type":15,"tag":252,"props":42270,"children":42271},{"style":259},[42272],{"type":21,"value":18575},{"type":15,"tag":252,"props":42274,"children":42275},{"style":601},[42276],{"type":21,"value":804},{"type":15,"tag":252,"props":42278,"children":42279},{"style":259},[42280],{"type":21,"value":14798},{"type":15,"tag":252,"props":42282,"children":42283},{"style":601},[42284],{"type":21,"value":804},{"type":15,"tag":252,"props":42286,"children":42287},{"style":259},[42288],{"type":21,"value":39977},{"type":15,"tag":252,"props":42290,"children":42291},{"style":447},[42292],{"type":21,"value":15876},{"type":15,"tag":252,"props":42294,"children":42295},{"style":601},[42296],{"type":21,"value":4054},{"type":15,"tag":252,"props":42298,"children":42299},{"style":447},[42300],{"type":21,"value":3769},{"type":15,"tag":252,"props":42302,"children":42303},{"class":254,"line":2182},[42304,42308,42312,42316,42320,42324,42328],{"type":15,"tag":252,"props":42305,"children":42306},{"style":601},[42307],{"type":21,"value":13283},{"type":15,"tag":252,"props":42309,"children":42310},{"style":447},[42311],{"type":21,"value":31233},{"type":15,"tag":252,"props":42313,"children":42314},{"style":601},[42315],{"type":21,"value":614},{"type":15,"tag":252,"props":42317,"children":42318},{"style":276},[42319],{"type":21,"value":7244},{"type":15,"tag":252,"props":42321,"children":42322},{"style":601},[42323],{"type":21,"value":432},{"type":15,"tag":252,"props":42325,"children":42326},{"style":259},[42327],{"type":21,"value":19036},{"type":15,"tag":252,"props":42329,"children":42330},{"style":447},[42331],{"type":21,"value":33073},{"type":15,"tag":252,"props":42333,"children":42334},{"class":254,"line":2190},[42335,42339,42343,42347,42351,42356,42361,42366],{"type":15,"tag":252,"props":42336,"children":42337},{"style":276},[42338],{"type":21,"value":8765},{"type":15,"tag":252,"props":42340,"children":42341},{"style":601},[42342],{"type":21,"value":432},{"type":15,"tag":252,"props":42344,"children":42345},{"style":447},[42346],{"type":21,"value":930},{"type":15,"tag":252,"props":42348,"children":42349},{"style":601},[42350],{"type":21,"value":432},{"type":15,"tag":252,"props":42352,"children":42353},{"style":259},[42354],{"type":21,"value":42355},"build_int_neg",{"type":15,"tag":252,"props":42357,"children":42358},{"style":447},[42359],{"type":21,"value":42360},"(expression, ",{"type":15,"tag":252,"props":42362,"children":42363},{"style":265},[42364],{"type":21,"value":42365},"\"Negate\"",{"type":15,"tag":252,"props":42367,"children":42368},{"style":447},[42369],{"type":21,"value":7327},{"type":15,"tag":252,"props":42371,"children":42372},{"class":254,"line":2222},[42373],{"type":15,"tag":252,"props":42374,"children":42375},{"style":447},[42376],{"type":21,"value":8814},{"type":15,"tag":252,"props":42378,"children":42379},{"class":254,"line":2270},[42380],{"type":15,"tag":252,"props":42381,"children":42382},{"style":447},[42383],{"type":21,"value":4087},{"type":15,"tag":252,"props":42385,"children":42386},{"class":254,"line":2302},[42387],{"type":15,"tag":252,"props":42388,"children":42389},{"style":447},[42390],{"type":21,"value":4095},{"type":15,"tag":252,"props":42392,"children":42393},{"class":254,"line":2310},[42394],{"type":15,"tag":252,"props":42395,"children":42396},{"emptyLinePlaceholder":2053},[42397],{"type":21,"value":2056},{"type":15,"tag":252,"props":42399,"children":42400},{"class":254,"line":2370},[42401,42405,42409],{"type":15,"tag":252,"props":42402,"children":42403},{"style":601},[42404],{"type":21,"value":7146},{"type":15,"tag":252,"props":42406,"children":42407},{"style":259},[42408],{"type":21,"value":29128},{"type":15,"tag":252,"props":42410,"children":42411},{"style":447},[42412],{"type":21,"value":14196},{"type":15,"tag":252,"props":42414,"children":42415},{"class":254,"line":2418},[42416,42420,42424],{"type":15,"tag":252,"props":42417,"children":42418},{"style":601},[42419],{"type":21,"value":29140},{"type":15,"tag":252,"props":42421,"children":42422},{"style":276},[42423],{"type":21,"value":7432},{"type":15,"tag":252,"props":42425,"children":42426},{"style":447},[42427],{"type":21,"value":3879},{"type":15,"tag":252,"props":42429,"children":42430},{"class":254,"line":2426},[42431,42435,42439,42443,42447,42451,42455],{"type":15,"tag":252,"props":42432,"children":42433},{"style":447},[42434],{"type":21,"value":29156},{"type":15,"tag":252,"props":42436,"children":42437},{"style":601},[42438],{"type":21,"value":3374},{"type":15,"tag":252,"props":42440,"children":42441},{"style":601},[42442],{"type":21,"value":4920},{"type":15,"tag":252,"props":42444,"children":42445},{"style":259},[42446],{"type":21,"value":14557},{"type":15,"tag":252,"props":42448,"children":42449},{"style":601},[42450],{"type":21,"value":804},{"type":15,"tag":252,"props":42452,"children":42453},{"style":259},[42454],{"type":21,"value":27991},{"type":15,"tag":252,"props":42456,"children":42457},{"style":447},[42458],{"type":21,"value":3879},{"type":15,"tag":252,"props":42460,"children":42461},{"class":254,"line":2474},[42462,42466,42470,42474,42478,42482,42486,42490],{"type":15,"tag":252,"props":42463,"children":42464},{"style":447},[42465],{"type":21,"value":29188},{"type":15,"tag":252,"props":42467,"children":42468},{"style":601},[42469],{"type":21,"value":3947},{"type":15,"tag":252,"props":42471,"children":42472},{"style":259},[42473],{"type":21,"value":273},{"type":15,"tag":252,"props":42475,"children":42476},{"style":601},[42477],{"type":21,"value":804},{"type":15,"tag":252,"props":42479,"children":42480},{"style":259},[42481],{"type":21,"value":18543},{"type":15,"tag":252,"props":42483,"children":42484},{"style":601},[42485],{"type":21,"value":804},{"type":15,"tag":252,"props":42487,"children":42488},{"style":259},[42489],{"type":21,"value":18552},{"type":15,"tag":252,"props":42491,"children":42492},{"style":447},[42493],{"type":21,"value":3769},{"type":15,"tag":252,"props":42495,"children":42496},{"class":254,"line":2522},[42497,42501],{"type":15,"tag":252,"props":42498,"children":42499},{"style":601},[42500],{"type":21,"value":12717},{"type":15,"tag":252,"props":42502,"children":42503},{"style":447},[42504],{"type":21,"value":15489},{"type":15,"tag":252,"props":42506,"children":42507},{"class":254,"line":2530},[42508,42512,42516,42520,42524,42528,42532,42536],{"type":15,"tag":252,"props":42509,"children":42510},{"style":259},[42511],{"type":21,"value":18575},{"type":15,"tag":252,"props":42513,"children":42514},{"style":601},[42515],{"type":21,"value":804},{"type":15,"tag":252,"props":42517,"children":42518},{"style":259},[42519],{"type":21,"value":27991},{"type":15,"tag":252,"props":42521,"children":42522},{"style":601},[42523],{"type":21,"value":804},{"type":15,"tag":252,"props":42525,"children":42526},{"style":259},[42527],{"type":21,"value":5724},{"type":15,"tag":252,"props":42529,"children":42530},{"style":447},[42531],{"type":21,"value":28739},{"type":15,"tag":252,"props":42533,"children":42534},{"style":601},[42535],{"type":21,"value":4054},{"type":15,"tag":252,"props":42537,"children":42538},{"style":447},[42539],{"type":21,"value":3769},{"type":15,"tag":252,"props":42541,"children":42542},{"class":254,"line":2570},[42543,42547,42551,42555,42559,42563,42567,42571,42575,42579,42583,42587,42591,42595,42599,42603],{"type":15,"tag":252,"props":42544,"children":42545},{"style":276},[42546],{"type":21,"value":8765},{"type":15,"tag":252,"props":42548,"children":42549},{"style":601},[42550],{"type":21,"value":432},{"type":15,"tag":252,"props":42552,"children":42553},{"style":447},[42554],{"type":21,"value":908},{"type":15,"tag":252,"props":42556,"children":42557},{"style":601},[42558],{"type":21,"value":432},{"type":15,"tag":252,"props":42560,"children":42561},{"style":259},[42562],{"type":21,"value":38333},{"type":15,"tag":252,"props":42564,"children":42565},{"style":447},[42566],{"type":21,"value":7305},{"type":15,"tag":252,"props":42568,"children":42569},{"style":601},[42570],{"type":21,"value":432},{"type":15,"tag":252,"props":42572,"children":42573},{"style":259},[42574],{"type":21,"value":1892},{"type":15,"tag":252,"props":42576,"children":42577},{"style":447},[42578],{"type":21,"value":849},{"type":15,"tag":252,"props":42580,"children":42581},{"style":601},[42582],{"type":21,"value":8752},{"type":15,"tag":252,"props":42584,"children":42585},{"style":447},[42586],{"type":21,"value":29302},{"type":15,"tag":252,"props":42588,"children":42589},{"style":601},[42590],{"type":21,"value":18642},{"type":15,"tag":252,"props":42592,"children":42593},{"style":259},[42594],{"type":21,"value":18647},{"type":15,"tag":252,"props":42596,"children":42597},{"style":447},[42598],{"type":21,"value":1076},{"type":15,"tag":252,"props":42600,"children":42601},{"style":276},[42602],{"type":21,"value":1456},{"type":15,"tag":252,"props":42604,"children":42605},{"style":447},[42606],{"type":21,"value":7327},{"type":15,"tag":252,"props":42608,"children":42609},{"class":254,"line":2591},[42610],{"type":15,"tag":252,"props":42611,"children":42612},{"style":447},[42613],{"type":21,"value":8814},{"type":15,"tag":252,"props":42615,"children":42616},{"class":254,"line":2599},[42617,42621,42625,42629,42633,42637,42641,42645],{"type":15,"tag":252,"props":42618,"children":42619},{"style":259},[42620],{"type":21,"value":18575},{"type":15,"tag":252,"props":42622,"children":42623},{"style":601},[42624],{"type":21,"value":804},{"type":15,"tag":252,"props":42626,"children":42627},{"style":259},[42628],{"type":21,"value":27991},{"type":15,"tag":252,"props":42630,"children":42631},{"style":601},[42632],{"type":21,"value":804},{"type":15,"tag":252,"props":42634,"children":42635},{"style":259},[42636],{"type":21,"value":39917},{"type":15,"tag":252,"props":42638,"children":42639},{"style":447},[42640],{"type":21,"value":15876},{"type":15,"tag":252,"props":42642,"children":42643},{"style":601},[42644],{"type":21,"value":4054},{"type":15,"tag":252,"props":42646,"children":42647},{"style":447},[42648],{"type":21,"value":3769},{"type":15,"tag":252,"props":42650,"children":42651},{"class":254,"line":2647},[42652,42656,42660,42664,42668,42672,42676],{"type":15,"tag":252,"props":42653,"children":42654},{"style":601},[42655],{"type":21,"value":13283},{"type":15,"tag":252,"props":42657,"children":42658},{"style":447},[42659],{"type":21,"value":31233},{"type":15,"tag":252,"props":42661,"children":42662},{"style":601},[42663],{"type":21,"value":614},{"type":15,"tag":252,"props":42665,"children":42666},{"style":276},[42667],{"type":21,"value":7244},{"type":15,"tag":252,"props":42669,"children":42670},{"style":601},[42671],{"type":21,"value":432},{"type":15,"tag":252,"props":42673,"children":42674},{"style":259},[42675],{"type":21,"value":29798},{"type":15,"tag":252,"props":42677,"children":42678},{"style":447},[42679],{"type":21,"value":33073},{"type":15,"tag":252,"props":42681,"children":42682},{"class":254,"line":2679},[42683,42687,42691,42695,42699,42704,42708,42713],{"type":15,"tag":252,"props":42684,"children":42685},{"style":276},[42686],{"type":21,"value":8765},{"type":15,"tag":252,"props":42688,"children":42689},{"style":601},[42690],{"type":21,"value":432},{"type":15,"tag":252,"props":42692,"children":42693},{"style":447},[42694],{"type":21,"value":930},{"type":15,"tag":252,"props":42696,"children":42697},{"style":601},[42698],{"type":21,"value":432},{"type":15,"tag":252,"props":42700,"children":42701},{"style":259},[42702],{"type":21,"value":42703},"build_not",{"type":15,"tag":252,"props":42705,"children":42706},{"style":447},[42707],{"type":21,"value":42360},{"type":15,"tag":252,"props":42709,"children":42710},{"style":265},[42711],{"type":21,"value":42712},"\"Not\"",{"type":15,"tag":252,"props":42714,"children":42715},{"style":447},[42716],{"type":21,"value":7327},{"type":15,"tag":252,"props":42718,"children":42719},{"class":254,"line":2727},[42720],{"type":15,"tag":252,"props":42721,"children":42722},{"style":447},[42723],{"type":21,"value":8814},{"type":15,"tag":252,"props":42725,"children":42726},{"class":254,"line":2735},[42727,42731,42735,42739,42743,42747,42751,42755,42759,42763,42767],{"type":15,"tag":252,"props":42728,"children":42729},{"style":259},[42730],{"type":21,"value":18575},{"type":15,"tag":252,"props":42732,"children":42733},{"style":601},[42734],{"type":21,"value":804},{"type":15,"tag":252,"props":42736,"children":42737},{"style":259},[42738],{"type":21,"value":27991},{"type":15,"tag":252,"props":42740,"children":42741},{"style":601},[42742],{"type":21,"value":804},{"type":15,"tag":252,"props":42744,"children":42745},{"style":259},[42746],{"type":21,"value":35185},{"type":15,"tag":252,"props":42748,"children":42749},{"style":447},[42750],{"type":21,"value":38412},{"type":15,"tag":252,"props":42752,"children":42753},{"style":601},[42754],{"type":21,"value":4054},{"type":15,"tag":252,"props":42756,"children":42757},{"style":276},[42758],{"type":21,"value":7244},{"type":15,"tag":252,"props":42760,"children":42761},{"style":601},[42762],{"type":21,"value":432},{"type":15,"tag":252,"props":42764,"children":42765},{"style":259},[42766],{"type":21,"value":38429},{"type":15,"tag":252,"props":42768,"children":42769},{"style":447},[42770],{"type":21,"value":38434},{"type":15,"tag":252,"props":42772,"children":42773},{"class":254,"line":2799},[42774],{"type":15,"tag":252,"props":42775,"children":42776},{"style":447},[42777],{"type":21,"value":4087},{"type":15,"tag":252,"props":42779,"children":42780},{"class":254,"line":2807},[42781],{"type":15,"tag":252,"props":42782,"children":42783},{"style":447},[42784],{"type":21,"value":4095},{"type":15,"tag":23,"props":42786,"children":42787},{},[42788,42790,42795],{"type":21,"value":42789},"Now running the tests wont work because of the missing ",{"type":15,"tag":81,"props":42791,"children":42793},{"className":42792},[],[42794],{"type":21,"value":8304},{"type":21,"value":42796}," operator, but we will add that now!",{"type":15,"tag":192,"props":42798,"children":42800},{"id":42799},"comparisons",[42801],{"type":21,"value":42802},"Comparisons",{"type":15,"tag":23,"props":42804,"children":42805},{},[42806],{"type":21,"value":42807},"Now we have to deal with chaining!\nBut first tests!",{"type":15,"tag":95,"props":42809,"children":42811},{"code":42810},"# comparisons.viv\n${\n    assert 1 == 1;\n    assert 1 != 2;\n\n    assert 0 \u003C 2;\n    assert -2 \u003C 0;\n    assert 1 \u003C= 1;\n    assert 1 \u003C= 2;\n\n    assert 1 == 1 == 1;\n    assert 1 \u003C 2 \u003C 3;\n    assert 1 \u003C 2 \u003C= 2;\n\n    assert 1 > 0;\n    assert 1 > 0 \u003C 1;\n}\n",[42812],{"type":15,"tag":81,"props":42813,"children":42814},{"__ignoreMap":8},[42815],{"type":21,"value":42810},{"type":15,"tag":59,"props":42817,"children":42818},{"id":26734},[42819],{"type":21,"value":5541},{"type":15,"tag":23,"props":42821,"children":42822},{},[42823,42825,42830,42831,42836,42837,42842,42843,42848,42849,42854,42855,42860],{"type":21,"value":42824},"so you should add tokens for ",{"type":15,"tag":81,"props":42826,"children":42828},{"className":42827},[],[42829],{"type":21,"value":5826},{"type":21,"value":1076},{"type":15,"tag":81,"props":42832,"children":42834},{"className":42833},[],[42835],{"type":21,"value":38623},{"type":21,"value":1076},{"type":15,"tag":81,"props":42838,"children":42840},{"className":42839},[],[42841],{"type":21,"value":8304},{"type":21,"value":1076},{"type":15,"tag":81,"props":42844,"children":42846},{"className":42845},[],[42847],{"type":21,"value":38643},{"type":21,"value":1076},{"type":15,"tag":81,"props":42850,"children":42852},{"className":42851},[],[42853],{"type":21,"value":38650},{"type":21,"value":1076},{"type":15,"tag":81,"props":42856,"children":42858},{"className":42857},[],[42859],{"type":21,"value":38636},{"type":21,"value":5726},{"type":15,"tag":23,"props":42862,"children":42863},{},[42864],{"type":21,"value":42865},"Then we can modify the ast",{"type":15,"tag":95,"props":42867,"children":42869},{"code":42868,"language":772,"meta":8,"className":773,"style":8},"// parsing/ast.rs\n#[derive(Debug)]\npub enum Expression {\n    Literal(Literal),\n    BinaryOp(Box\u003CExpression>, BinaryOp, Box\u003CExpression>),\n    Prefix(PrefixOp, Box\u003CExpression>),\n    Comparison(Box\u003CExpression>, Vec\u003C(ComparisonOp, Expression)>),\n}\n\n#[derive(Debug, Copy, Clone)]\npub enum ComparisonOp {\n    Equals,\n    NotEquals,\n    LessThan,\n    LessThanEquals,\n    GreaterThan,\n    GreaterThanEquals,\n}\n\n// Also remove `Equals` from the binary operators\n",[42870],{"type":15,"tag":81,"props":42871,"children":42872},{"__ignoreMap":8},[42873,42880,42895,42914,42933,42984,43019,43071,43078,43085,43116,43136,43147,43159,43171,43183,43195,43207,43214,43221],{"type":15,"tag":252,"props":42874,"children":42875},{"class":254,"line":255},[42876],{"type":15,"tag":252,"props":42877,"children":42878},{"style":3287},[42879],{"type":21,"value":24319},{"type":15,"tag":252,"props":42881,"children":42882},{"class":254,"line":334},[42883,42887,42891],{"type":15,"tag":252,"props":42884,"children":42885},{"style":447},[42886],{"type":21,"value":3742},{"type":15,"tag":252,"props":42888,"children":42889},{"style":259},[42890],{"type":21,"value":5788},{"type":15,"tag":252,"props":42892,"children":42893},{"style":447},[42894],{"type":21,"value":3751},{"type":15,"tag":252,"props":42896,"children":42897},{"class":254,"line":390},[42898,42902,42906,42910],{"type":15,"tag":252,"props":42899,"children":42900},{"style":601},[42901],{"type":21,"value":4740},{"type":15,"tag":252,"props":42903,"children":42904},{"style":601},[42905],{"type":21,"value":5869},{"type":15,"tag":252,"props":42907,"children":42908},{"style":259},[42909],{"type":21,"value":5944},{"type":15,"tag":252,"props":42911,"children":42912},{"style":447},[42913],{"type":21,"value":3769},{"type":15,"tag":252,"props":42915,"children":42916},{"class":254,"line":2077},[42917,42921,42925,42929],{"type":15,"tag":252,"props":42918,"children":42919},{"style":259},[42920],{"type":21,"value":5956},{"type":15,"tag":252,"props":42922,"children":42923},{"style":447},[42924],{"type":21,"value":849},{"type":15,"tag":252,"props":42926,"children":42927},{"style":259},[42928],{"type":21,"value":5724},{"type":15,"tag":252,"props":42930,"children":42931},{"style":447},[42932],{"type":21,"value":5899},{"type":15,"tag":252,"props":42934,"children":42935},{"class":254,"line":2110},[42936,42940,42944,42948,42952,42956,42960,42964,42968,42972,42976,42980],{"type":15,"tag":252,"props":42937,"children":42938},{"style":259},[42939],{"type":21,"value":36154},{"type":15,"tag":252,"props":42941,"children":42942},{"style":447},[42943],{"type":21,"value":849},{"type":15,"tag":252,"props":42945,"children":42946},{"style":259},[42947],{"type":21,"value":36163},{"type":15,"tag":252,"props":42949,"children":42950},{"style":447},[42951],{"type":21,"value":5826},{"type":15,"tag":252,"props":42953,"children":42954},{"style":259},[42955],{"type":21,"value":5716},{"type":15,"tag":252,"props":42957,"children":42958},{"style":447},[42959],{"type":21,"value":9752},{"type":15,"tag":252,"props":42961,"children":42962},{"style":259},[42963],{"type":21,"value":36180},{"type":15,"tag":252,"props":42965,"children":42966},{"style":447},[42967],{"type":21,"value":1076},{"type":15,"tag":252,"props":42969,"children":42970},{"style":259},[42971],{"type":21,"value":36163},{"type":15,"tag":252,"props":42973,"children":42974},{"style":447},[42975],{"type":21,"value":5826},{"type":15,"tag":252,"props":42977,"children":42978},{"style":259},[42979],{"type":21,"value":5716},{"type":15,"tag":252,"props":42981,"children":42982},{"style":447},[42983],{"type":21,"value":24445},{"type":15,"tag":252,"props":42985,"children":42986},{"class":254,"line":2150},[42987,42991,42995,42999,43003,43007,43011,43015],{"type":15,"tag":252,"props":42988,"children":42989},{"style":259},[42990],{"type":21,"value":39507},{"type":15,"tag":252,"props":42992,"children":42993},{"style":447},[42994],{"type":21,"value":849},{"type":15,"tag":252,"props":42996,"children":42997},{"style":259},[42998],{"type":21,"value":39516},{"type":15,"tag":252,"props":43000,"children":43001},{"style":447},[43002],{"type":21,"value":1076},{"type":15,"tag":252,"props":43004,"children":43005},{"style":259},[43006],{"type":21,"value":36163},{"type":15,"tag":252,"props":43008,"children":43009},{"style":447},[43010],{"type":21,"value":5826},{"type":15,"tag":252,"props":43012,"children":43013},{"style":259},[43014],{"type":21,"value":5716},{"type":15,"tag":252,"props":43016,"children":43017},{"style":447},[43018],{"type":21,"value":24445},{"type":15,"tag":252,"props":43020,"children":43021},{"class":254,"line":2182},[43022,43026,43030,43034,43038,43042,43046,43050,43054,43059,43063,43067],{"type":15,"tag":252,"props":43023,"children":43024},{"style":259},[43025],{"type":21,"value":36989},{"type":15,"tag":252,"props":43027,"children":43028},{"style":447},[43029],{"type":21,"value":849},{"type":15,"tag":252,"props":43031,"children":43032},{"style":259},[43033],{"type":21,"value":36163},{"type":15,"tag":252,"props":43035,"children":43036},{"style":447},[43037],{"type":21,"value":5826},{"type":15,"tag":252,"props":43039,"children":43040},{"style":259},[43041],{"type":21,"value":5716},{"type":15,"tag":252,"props":43043,"children":43044},{"style":447},[43045],{"type":21,"value":9752},{"type":15,"tag":252,"props":43047,"children":43048},{"style":259},[43049],{"type":21,"value":9738},{"type":15,"tag":252,"props":43051,"children":43052},{"style":447},[43053],{"type":21,"value":39697},{"type":15,"tag":252,"props":43055,"children":43056},{"style":259},[43057],{"type":21,"value":43058},"ComparisonOp",{"type":15,"tag":252,"props":43060,"children":43061},{"style":447},[43062],{"type":21,"value":1076},{"type":15,"tag":252,"props":43064,"children":43065},{"style":259},[43066],{"type":21,"value":5716},{"type":15,"tag":252,"props":43068,"children":43069},{"style":447},[43070],{"type":21,"value":39719},{"type":15,"tag":252,"props":43072,"children":43073},{"class":254,"line":2190},[43074],{"type":15,"tag":252,"props":43075,"children":43076},{"style":447},[43077],{"type":21,"value":2854},{"type":15,"tag":252,"props":43079,"children":43080},{"class":254,"line":2222},[43081],{"type":15,"tag":252,"props":43082,"children":43083},{"emptyLinePlaceholder":2053},[43084],{"type":21,"value":2056},{"type":15,"tag":252,"props":43086,"children":43087},{"class":254,"line":2270},[43088,43092,43096,43100,43104,43108,43112],{"type":15,"tag":252,"props":43089,"children":43090},{"style":447},[43091],{"type":21,"value":3742},{"type":15,"tag":252,"props":43093,"children":43094},{"style":259},[43095],{"type":21,"value":5788},{"type":15,"tag":252,"props":43097,"children":43098},{"style":447},[43099],{"type":21,"value":1076},{"type":15,"tag":252,"props":43101,"children":43102},{"style":259},[43103],{"type":21,"value":39570},{"type":15,"tag":252,"props":43105,"children":43106},{"style":447},[43107],{"type":21,"value":1076},{"type":15,"tag":252,"props":43109,"children":43110},{"style":259},[43111],{"type":21,"value":39579},{"type":15,"tag":252,"props":43113,"children":43114},{"style":447},[43115],{"type":21,"value":3751},{"type":15,"tag":252,"props":43117,"children":43118},{"class":254,"line":2302},[43119,43123,43127,43132],{"type":15,"tag":252,"props":43120,"children":43121},{"style":601},[43122],{"type":21,"value":4740},{"type":15,"tag":252,"props":43124,"children":43125},{"style":601},[43126],{"type":21,"value":5869},{"type":15,"tag":252,"props":43128,"children":43129},{"style":259},[43130],{"type":21,"value":43131}," ComparisonOp",{"type":15,"tag":252,"props":43133,"children":43134},{"style":447},[43135],{"type":21,"value":3769},{"type":15,"tag":252,"props":43137,"children":43138},{"class":254,"line":2310},[43139,43143],{"type":15,"tag":252,"props":43140,"children":43141},{"style":259},[43142],{"type":21,"value":36257},{"type":15,"tag":252,"props":43144,"children":43145},{"style":447},[43146],{"type":21,"value":3879},{"type":15,"tag":252,"props":43148,"children":43149},{"class":254,"line":2370},[43150,43155],{"type":15,"tag":252,"props":43151,"children":43152},{"style":259},[43153],{"type":21,"value":43154},"    NotEquals",{"type":15,"tag":252,"props":43156,"children":43157},{"style":447},[43158],{"type":21,"value":3879},{"type":15,"tag":252,"props":43160,"children":43161},{"class":254,"line":2418},[43162,43167],{"type":15,"tag":252,"props":43163,"children":43164},{"style":259},[43165],{"type":21,"value":43166},"    LessThan",{"type":15,"tag":252,"props":43168,"children":43169},{"style":447},[43170],{"type":21,"value":3879},{"type":15,"tag":252,"props":43172,"children":43173},{"class":254,"line":2426},[43174,43179],{"type":15,"tag":252,"props":43175,"children":43176},{"style":259},[43177],{"type":21,"value":43178},"    LessThanEquals",{"type":15,"tag":252,"props":43180,"children":43181},{"style":447},[43182],{"type":21,"value":3879},{"type":15,"tag":252,"props":43184,"children":43185},{"class":254,"line":2474},[43186,43191],{"type":15,"tag":252,"props":43187,"children":43188},{"style":259},[43189],{"type":21,"value":43190},"    GreaterThan",{"type":15,"tag":252,"props":43192,"children":43193},{"style":447},[43194],{"type":21,"value":3879},{"type":15,"tag":252,"props":43196,"children":43197},{"class":254,"line":2522},[43198,43203],{"type":15,"tag":252,"props":43199,"children":43200},{"style":259},[43201],{"type":21,"value":43202},"    GreaterThanEquals",{"type":15,"tag":252,"props":43204,"children":43205},{"style":447},[43206],{"type":21,"value":3879},{"type":15,"tag":252,"props":43208,"children":43209},{"class":254,"line":2530},[43210],{"type":15,"tag":252,"props":43211,"children":43212},{"style":447},[43213],{"type":21,"value":2854},{"type":15,"tag":252,"props":43215,"children":43216},{"class":254,"line":2570},[43217],{"type":15,"tag":252,"props":43218,"children":43219},{"emptyLinePlaceholder":2053},[43220],{"type":21,"value":2056},{"type":15,"tag":252,"props":43222,"children":43223},{"class":254,"line":2591},[43224],{"type":15,"tag":252,"props":43225,"children":43226},{"style":3287},[43227],{"type":21,"value":43228},"// Also remove `Equals` from the binary operators\n",{"type":15,"tag":23,"props":43230,"children":43231},{},[43232,43234,43240,43242,43248,43250,43256],{"type":21,"value":43233},"Here we use a Vector to store the comparisons, so we can chain them. And you can chain multiple different ones if you want, like ",{"type":15,"tag":81,"props":43235,"children":43237},{"className":43236},[],[43238],{"type":21,"value":43239},"2 == x \u003C y",{"type":21,"value":43241}," for example is ",{"type":15,"tag":81,"props":43243,"children":43245},{"className":43244},[],[43246],{"type":21,"value":43247},"2 == x && x \u003C y",{"type":21,"value":43249},". We will also need to add comparisons to our ",{"type":15,"tag":81,"props":43251,"children":43253},{"className":43252},[],[43254],{"type":21,"value":43255},"OPERATORS",{"type":21,"value":43257}," static!",{"type":15,"tag":95,"props":43259,"children":43261},{"code":43260,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\nlazy_static! {\n    static ref OPERATORS: Vec\u003COperatorType> = vec![\n        OperatorType::Prefix(TokenType::Bang, ast::PrefixOp::Not),\n        OperatorType::Comparison(vec![\n            (TokenType::EqEq, ast::ComparisonOp::Equals),\n            (TokenType::BangEq, ast::ComparisonOp::NotEquals),\n            (TokenType::Lt, ast::ComparisonOp::LessThan),\n            (TokenType::LtEq, ast::ComparisonOp::LessThanEquals),\n            (TokenType::Gt, ast::ComparisonOp::GreaterThan),\n            (TokenType::GtEq, ast::ComparisonOp::GreaterThanEquals)\n        ]),\n        OperatorType::Prefix(TokenType::Minus, ast::PrefixOp::Negate),\n    ];\n}\n",[43262],{"type":15,"tag":81,"props":43263,"children":43264},{"__ignoreMap":8},[43265,43272,43283,43330,43389,43416,43464,43513,43562,43611,43660,43709,43717,43776,43783],{"type":15,"tag":252,"props":43266,"children":43267},{"class":254,"line":255},[43268],{"type":15,"tag":252,"props":43269,"children":43270},{"style":3287},[43271],{"type":21,"value":11380},{"type":15,"tag":252,"props":43273,"children":43274},{"class":254,"line":334},[43275,43279],{"type":15,"tag":252,"props":43276,"children":43277},{"style":259},[43278],{"type":21,"value":39787},{"type":15,"tag":252,"props":43280,"children":43281},{"style":447},[43282],{"type":21,"value":3769},{"type":15,"tag":252,"props":43284,"children":43285},{"class":254,"line":390},[43286,43290,43294,43298,43302,43306,43310,43314,43318,43322,43326],{"type":15,"tag":252,"props":43287,"children":43288},{"style":601},[43289],{"type":21,"value":39815},{"type":15,"tag":252,"props":43291,"children":43292},{"style":601},[43293],{"type":21,"value":39820},{"type":15,"tag":252,"props":43295,"children":43296},{"style":276},[43297],{"type":21,"value":39825},{"type":15,"tag":252,"props":43299,"children":43300},{"style":601},[43301],{"type":21,"value":3374},{"type":15,"tag":252,"props":43303,"children":43304},{"style":259},[43305],{"type":21,"value":5821},{"type":15,"tag":252,"props":43307,"children":43308},{"style":447},[43309],{"type":21,"value":5826},{"type":15,"tag":252,"props":43311,"children":43312},{"style":259},[43313],{"type":21,"value":39842},{"type":15,"tag":252,"props":43315,"children":43316},{"style":447},[43317],{"type":21,"value":7120},{"type":15,"tag":252,"props":43319,"children":43320},{"style":601},[43321],{"type":21,"value":614},{"type":15,"tag":252,"props":43323,"children":43324},{"style":259},[43325],{"type":21,"value":39855},{"type":15,"tag":252,"props":43327,"children":43328},{"style":447},[43329],{"type":21,"value":6104},{"type":15,"tag":252,"props":43331,"children":43332},{"class":254,"line":2077},[43333,43337,43341,43345,43349,43353,43357,43361,43365,43369,43373,43377,43381,43385],{"type":15,"tag":252,"props":43334,"children":43335},{"style":259},[43336],{"type":21,"value":39867},{"type":15,"tag":252,"props":43338,"children":43339},{"style":601},[43340],{"type":21,"value":804},{"type":15,"tag":252,"props":43342,"children":43343},{"style":259},[43344],{"type":21,"value":39876},{"type":15,"tag":252,"props":43346,"children":43347},{"style":447},[43348],{"type":21,"value":849},{"type":15,"tag":252,"props":43350,"children":43351},{"style":259},[43352],{"type":21,"value":8846},{"type":15,"tag":252,"props":43354,"children":43355},{"style":601},[43356],{"type":21,"value":804},{"type":15,"tag":252,"props":43358,"children":43359},{"style":259},[43360],{"type":21,"value":39372},{"type":15,"tag":252,"props":43362,"children":43363},{"style":447},[43364],{"type":21,"value":1076},{"type":15,"tag":252,"props":43366,"children":43367},{"style":259},[43368],{"type":21,"value":5623},{"type":15,"tag":252,"props":43370,"children":43371},{"style":601},[43372],{"type":21,"value":804},{"type":15,"tag":252,"props":43374,"children":43375},{"style":259},[43376],{"type":21,"value":39516},{"type":15,"tag":252,"props":43378,"children":43379},{"style":601},[43380],{"type":21,"value":804},{"type":15,"tag":252,"props":43382,"children":43383},{"style":259},[43384],{"type":21,"value":39917},{"type":15,"tag":252,"props":43386,"children":43387},{"style":447},[43388],{"type":21,"value":5899},{"type":15,"tag":252,"props":43390,"children":43391},{"class":254,"line":2110},[43392,43396,43400,43404,43408,43412],{"type":15,"tag":252,"props":43393,"children":43394},{"style":259},[43395],{"type":21,"value":39867},{"type":15,"tag":252,"props":43397,"children":43398},{"style":601},[43399],{"type":21,"value":804},{"type":15,"tag":252,"props":43401,"children":43402},{"style":259},[43403],{"type":21,"value":35185},{"type":15,"tag":252,"props":43405,"children":43406},{"style":447},[43407],{"type":21,"value":849},{"type":15,"tag":252,"props":43409,"children":43410},{"style":259},[43411],{"type":21,"value":6099},{"type":15,"tag":252,"props":43413,"children":43414},{"style":447},[43415],{"type":21,"value":6104},{"type":15,"tag":252,"props":43417,"children":43418},{"class":254,"line":2150},[43419,43424,43428,43432,43436,43440,43444,43448,43452,43456,43460],{"type":15,"tag":252,"props":43420,"children":43421},{"style":447},[43422],{"type":21,"value":43423},"            (",{"type":15,"tag":252,"props":43425,"children":43426},{"style":259},[43427],{"type":21,"value":8846},{"type":15,"tag":252,"props":43429,"children":43430},{"style":601},[43431],{"type":21,"value":804},{"type":15,"tag":252,"props":43433,"children":43434},{"style":259},[43435],{"type":21,"value":35239},{"type":15,"tag":252,"props":43437,"children":43438},{"style":447},[43439],{"type":21,"value":1076},{"type":15,"tag":252,"props":43441,"children":43442},{"style":259},[43443],{"type":21,"value":5623},{"type":15,"tag":252,"props":43445,"children":43446},{"style":601},[43447],{"type":21,"value":804},{"type":15,"tag":252,"props":43449,"children":43450},{"style":259},[43451],{"type":21,"value":43058},{"type":15,"tag":252,"props":43453,"children":43454},{"style":601},[43455],{"type":21,"value":804},{"type":15,"tag":252,"props":43457,"children":43458},{"style":259},[43459],{"type":21,"value":36820},{"type":15,"tag":252,"props":43461,"children":43462},{"style":447},[43463],{"type":21,"value":5899},{"type":15,"tag":252,"props":43465,"children":43466},{"class":254,"line":2182},[43467,43471,43475,43479,43484,43488,43492,43496,43500,43504,43509],{"type":15,"tag":252,"props":43468,"children":43469},{"style":447},[43470],{"type":21,"value":43423},{"type":15,"tag":252,"props":43472,"children":43473},{"style":259},[43474],{"type":21,"value":8846},{"type":15,"tag":252,"props":43476,"children":43477},{"style":601},[43478],{"type":21,"value":804},{"type":15,"tag":252,"props":43480,"children":43481},{"style":259},[43482],{"type":21,"value":43483},"BangEq",{"type":15,"tag":252,"props":43485,"children":43486},{"style":447},[43487],{"type":21,"value":1076},{"type":15,"tag":252,"props":43489,"children":43490},{"style":259},[43491],{"type":21,"value":5623},{"type":15,"tag":252,"props":43493,"children":43494},{"style":601},[43495],{"type":21,"value":804},{"type":15,"tag":252,"props":43497,"children":43498},{"style":259},[43499],{"type":21,"value":43058},{"type":15,"tag":252,"props":43501,"children":43502},{"style":601},[43503],{"type":21,"value":804},{"type":15,"tag":252,"props":43505,"children":43506},{"style":259},[43507],{"type":21,"value":43508},"NotEquals",{"type":15,"tag":252,"props":43510,"children":43511},{"style":447},[43512],{"type":21,"value":5899},{"type":15,"tag":252,"props":43514,"children":43515},{"class":254,"line":2190},[43516,43520,43524,43528,43533,43537,43541,43545,43549,43553,43558],{"type":15,"tag":252,"props":43517,"children":43518},{"style":447},[43519],{"type":21,"value":43423},{"type":15,"tag":252,"props":43521,"children":43522},{"style":259},[43523],{"type":21,"value":8846},{"type":15,"tag":252,"props":43525,"children":43526},{"style":601},[43527],{"type":21,"value":804},{"type":15,"tag":252,"props":43529,"children":43530},{"style":259},[43531],{"type":21,"value":43532},"Lt",{"type":15,"tag":252,"props":43534,"children":43535},{"style":447},[43536],{"type":21,"value":1076},{"type":15,"tag":252,"props":43538,"children":43539},{"style":259},[43540],{"type":21,"value":5623},{"type":15,"tag":252,"props":43542,"children":43543},{"style":601},[43544],{"type":21,"value":804},{"type":15,"tag":252,"props":43546,"children":43547},{"style":259},[43548],{"type":21,"value":43058},{"type":15,"tag":252,"props":43550,"children":43551},{"style":601},[43552],{"type":21,"value":804},{"type":15,"tag":252,"props":43554,"children":43555},{"style":259},[43556],{"type":21,"value":43557},"LessThan",{"type":15,"tag":252,"props":43559,"children":43560},{"style":447},[43561],{"type":21,"value":5899},{"type":15,"tag":252,"props":43563,"children":43564},{"class":254,"line":2222},[43565,43569,43573,43577,43582,43586,43590,43594,43598,43602,43607],{"type":15,"tag":252,"props":43566,"children":43567},{"style":447},[43568],{"type":21,"value":43423},{"type":15,"tag":252,"props":43570,"children":43571},{"style":259},[43572],{"type":21,"value":8846},{"type":15,"tag":252,"props":43574,"children":43575},{"style":601},[43576],{"type":21,"value":804},{"type":15,"tag":252,"props":43578,"children":43579},{"style":259},[43580],{"type":21,"value":43581},"LtEq",{"type":15,"tag":252,"props":43583,"children":43584},{"style":447},[43585],{"type":21,"value":1076},{"type":15,"tag":252,"props":43587,"children":43588},{"style":259},[43589],{"type":21,"value":5623},{"type":15,"tag":252,"props":43591,"children":43592},{"style":601},[43593],{"type":21,"value":804},{"type":15,"tag":252,"props":43595,"children":43596},{"style":259},[43597],{"type":21,"value":43058},{"type":15,"tag":252,"props":43599,"children":43600},{"style":601},[43601],{"type":21,"value":804},{"type":15,"tag":252,"props":43603,"children":43604},{"style":259},[43605],{"type":21,"value":43606},"LessThanEquals",{"type":15,"tag":252,"props":43608,"children":43609},{"style":447},[43610],{"type":21,"value":5899},{"type":15,"tag":252,"props":43612,"children":43613},{"class":254,"line":2270},[43614,43618,43622,43626,43631,43635,43639,43643,43647,43651,43656],{"type":15,"tag":252,"props":43615,"children":43616},{"style":447},[43617],{"type":21,"value":43423},{"type":15,"tag":252,"props":43619,"children":43620},{"style":259},[43621],{"type":21,"value":8846},{"type":15,"tag":252,"props":43623,"children":43624},{"style":601},[43625],{"type":21,"value":804},{"type":15,"tag":252,"props":43627,"children":43628},{"style":259},[43629],{"type":21,"value":43630},"Gt",{"type":15,"tag":252,"props":43632,"children":43633},{"style":447},[43634],{"type":21,"value":1076},{"type":15,"tag":252,"props":43636,"children":43637},{"style":259},[43638],{"type":21,"value":5623},{"type":15,"tag":252,"props":43640,"children":43641},{"style":601},[43642],{"type":21,"value":804},{"type":15,"tag":252,"props":43644,"children":43645},{"style":259},[43646],{"type":21,"value":43058},{"type":15,"tag":252,"props":43648,"children":43649},{"style":601},[43650],{"type":21,"value":804},{"type":15,"tag":252,"props":43652,"children":43653},{"style":259},[43654],{"type":21,"value":43655},"GreaterThan",{"type":15,"tag":252,"props":43657,"children":43658},{"style":447},[43659],{"type":21,"value":5899},{"type":15,"tag":252,"props":43661,"children":43662},{"class":254,"line":2302},[43663,43667,43671,43675,43680,43684,43688,43692,43696,43700,43705],{"type":15,"tag":252,"props":43664,"children":43665},{"style":447},[43666],{"type":21,"value":43423},{"type":15,"tag":252,"props":43668,"children":43669},{"style":259},[43670],{"type":21,"value":8846},{"type":15,"tag":252,"props":43672,"children":43673},{"style":601},[43674],{"type":21,"value":804},{"type":15,"tag":252,"props":43676,"children":43677},{"style":259},[43678],{"type":21,"value":43679},"GtEq",{"type":15,"tag":252,"props":43681,"children":43682},{"style":447},[43683],{"type":21,"value":1076},{"type":15,"tag":252,"props":43685,"children":43686},{"style":259},[43687],{"type":21,"value":5623},{"type":15,"tag":252,"props":43689,"children":43690},{"style":601},[43691],{"type":21,"value":804},{"type":15,"tag":252,"props":43693,"children":43694},{"style":259},[43695],{"type":21,"value":43058},{"type":15,"tag":252,"props":43697,"children":43698},{"style":601},[43699],{"type":21,"value":804},{"type":15,"tag":252,"props":43701,"children":43702},{"style":259},[43703],{"type":21,"value":43704},"GreaterThanEquals",{"type":15,"tag":252,"props":43706,"children":43707},{"style":447},[43708],{"type":21,"value":7327},{"type":15,"tag":252,"props":43710,"children":43711},{"class":254,"line":2310},[43712],{"type":15,"tag":252,"props":43713,"children":43714},{"style":447},[43715],{"type":21,"value":43716},"        ]),\n",{"type":15,"tag":252,"props":43718,"children":43719},{"class":254,"line":2370},[43720,43724,43728,43732,43736,43740,43744,43748,43752,43756,43760,43764,43768,43772],{"type":15,"tag":252,"props":43721,"children":43722},{"style":259},[43723],{"type":21,"value":39867},{"type":15,"tag":252,"props":43725,"children":43726},{"style":601},[43727],{"type":21,"value":804},{"type":15,"tag":252,"props":43729,"children":43730},{"style":259},[43731],{"type":21,"value":39876},{"type":15,"tag":252,"props":43733,"children":43734},{"style":447},[43735],{"type":21,"value":849},{"type":15,"tag":252,"props":43737,"children":43738},{"style":259},[43739],{"type":21,"value":8846},{"type":15,"tag":252,"props":43741,"children":43742},{"style":601},[43743],{"type":21,"value":804},{"type":15,"tag":252,"props":43745,"children":43746},{"style":259},[43747],{"type":21,"value":39379},{"type":15,"tag":252,"props":43749,"children":43750},{"style":447},[43751],{"type":21,"value":1076},{"type":15,"tag":252,"props":43753,"children":43754},{"style":259},[43755],{"type":21,"value":5623},{"type":15,"tag":252,"props":43757,"children":43758},{"style":601},[43759],{"type":21,"value":804},{"type":15,"tag":252,"props":43761,"children":43762},{"style":259},[43763],{"type":21,"value":39516},{"type":15,"tag":252,"props":43765,"children":43766},{"style":601},[43767],{"type":21,"value":804},{"type":15,"tag":252,"props":43769,"children":43770},{"style":259},[43771],{"type":21,"value":39977},{"type":15,"tag":252,"props":43773,"children":43774},{"style":447},[43775],{"type":21,"value":5899},{"type":15,"tag":252,"props":43777,"children":43778},{"class":254,"line":2418},[43779],{"type":15,"tag":252,"props":43780,"children":43781},{"style":447},[43782],{"type":21,"value":39989},{"type":15,"tag":252,"props":43784,"children":43785},{"class":254,"line":2426},[43786],{"type":15,"tag":252,"props":43787,"children":43788},{"style":447},[43789],{"type":21,"value":2854},{"type":15,"tag":23,"props":43791,"children":43792},{},[43793,43795,43801],{"type":21,"value":43794},"And yes a ",{"type":15,"tag":81,"props":43796,"children":43798},{"className":43797},[],[43799],{"type":21,"value":43800},"HashMap",{"type":21,"value":43802}," would be more efficient, but this is fine for now. If you have a performance issue you can change it later.",{"type":15,"tag":95,"props":43804,"children":43806},{"code":43805,"language":772,"meta":8,"className":773,"style":8},"            OperatorType::Comparison(comparisons) => {\n                let left_side = self.expression_precedence(precedence + 1)?;\n                let mut chains = Vec::new();\n\n                loop {\n                    let token = self.peek()?;\n                    if let Some((_, op)) = comparisons.iter().find(|(t, _)| t == token) {\n                        self.0.void();\n                        chains.push((*op, self.expression_precedence(precedence + 1)?));\n                    } else {\n                        break;\n                    }\n                }\n\n                if chains.is_empty() {\n                    Ok(left_side)\n                } else {\n                    Ok(ast::Expression::Comparison(Box::new(left_side), chains))\n                }\n            }\n",[43807],{"type":15,"tag":81,"props":43808,"children":43809},{"__ignoreMap":8},[43810,43838,43889,43925,43932,43944,43983,44065,44088,44153,44169,44181,44188,44195,44202,44227,44239,44254,44306,44313],{"type":15,"tag":252,"props":43811,"children":43812},{"class":254,"line":255},[43813,43817,43821,43825,43830,43834],{"type":15,"tag":252,"props":43814,"children":43815},{"style":259},[43816],{"type":21,"value":40273},{"type":15,"tag":252,"props":43818,"children":43819},{"style":601},[43820],{"type":21,"value":804},{"type":15,"tag":252,"props":43822,"children":43823},{"style":259},[43824],{"type":21,"value":35185},{"type":15,"tag":252,"props":43826,"children":43827},{"style":447},[43828],{"type":21,"value":43829},"(comparisons) ",{"type":15,"tag":252,"props":43831,"children":43832},{"style":601},[43833],{"type":21,"value":4054},{"type":15,"tag":252,"props":43835,"children":43836},{"style":447},[43837],{"type":21,"value":3769},{"type":15,"tag":252,"props":43839,"children":43840},{"class":254,"line":334},[43841,43845,43849,43853,43857,43861,43865,43869,43873,43877,43881,43885],{"type":15,"tag":252,"props":43842,"children":43843},{"style":601},[43844],{"type":21,"value":13283},{"type":15,"tag":252,"props":43846,"children":43847},{"style":447},[43848],{"type":21,"value":36586},{"type":15,"tag":252,"props":43850,"children":43851},{"style":601},[43852],{"type":21,"value":614},{"type":15,"tag":252,"props":43854,"children":43855},{"style":276},[43856],{"type":21,"value":7244},{"type":15,"tag":252,"props":43858,"children":43859},{"style":601},[43860],{"type":21,"value":432},{"type":15,"tag":252,"props":43862,"children":43863},{"style":259},[43864],{"type":21,"value":40383},{"type":15,"tag":252,"props":43866,"children":43867},{"style":447},[43868],{"type":21,"value":38937},{"type":15,"tag":252,"props":43870,"children":43871},{"style":601},[43872],{"type":21,"value":38569},{"type":15,"tag":252,"props":43874,"children":43875},{"style":276},[43876],{"type":21,"value":7809},{"type":15,"tag":252,"props":43878,"children":43879},{"style":447},[43880],{"type":21,"value":1975},{"type":15,"tag":252,"props":43882,"children":43883},{"style":601},[43884],{"type":21,"value":5468},{"type":15,"tag":252,"props":43886,"children":43887},{"style":447},[43888],{"type":21,"value":3325},{"type":15,"tag":252,"props":43890,"children":43891},{"class":254,"line":390},[43892,43896,43900,43905,43909,43913,43917,43921],{"type":15,"tag":252,"props":43893,"children":43894},{"style":601},[43895],{"type":21,"value":13283},{"type":15,"tag":252,"props":43897,"children":43898},{"style":601},[43899],{"type":21,"value":8623},{"type":15,"tag":252,"props":43901,"children":43902},{"style":447},[43903],{"type":21,"value":43904}," chains ",{"type":15,"tag":252,"props":43906,"children":43907},{"style":601},[43908],{"type":21,"value":614},{"type":15,"tag":252,"props":43910,"children":43911},{"style":259},[43912],{"type":21,"value":5821},{"type":15,"tag":252,"props":43914,"children":43915},{"style":601},[43916],{"type":21,"value":804},{"type":15,"tag":252,"props":43918,"children":43919},{"style":259},[43920],{"type":21,"value":7761},{"type":15,"tag":252,"props":43922,"children":43923},{"style":447},[43924],{"type":21,"value":814},{"type":15,"tag":252,"props":43926,"children":43927},{"class":254,"line":2077},[43928],{"type":15,"tag":252,"props":43929,"children":43930},{"emptyLinePlaceholder":2053},[43931],{"type":21,"value":2056},{"type":15,"tag":252,"props":43933,"children":43934},{"class":254,"line":2110},[43935,43940],{"type":15,"tag":252,"props":43936,"children":43937},{"style":601},[43938],{"type":21,"value":43939},"                loop",{"type":15,"tag":252,"props":43941,"children":43942},{"style":447},[43943],{"type":21,"value":3769},{"type":15,"tag":252,"props":43945,"children":43946},{"class":254,"line":2150},[43947,43951,43955,43959,43963,43967,43971,43975,43979],{"type":15,"tag":252,"props":43948,"children":43949},{"style":601},[43950],{"type":21,"value":37484},{"type":15,"tag":252,"props":43952,"children":43953},{"style":447},[43954],{"type":21,"value":12420},{"type":15,"tag":252,"props":43956,"children":43957},{"style":601},[43958],{"type":21,"value":614},{"type":15,"tag":252,"props":43960,"children":43961},{"style":276},[43962],{"type":21,"value":7244},{"type":15,"tag":252,"props":43964,"children":43965},{"style":601},[43966],{"type":21,"value":432},{"type":15,"tag":252,"props":43968,"children":43969},{"style":259},[43970],{"type":21,"value":8696},{"type":15,"tag":252,"props":43972,"children":43973},{"style":447},[43974],{"type":21,"value":7305},{"type":15,"tag":252,"props":43976,"children":43977},{"style":601},[43978],{"type":21,"value":5468},{"type":15,"tag":252,"props":43980,"children":43981},{"style":447},[43982],{"type":21,"value":3325},{"type":15,"tag":252,"props":43984,"children":43985},{"class":254,"line":2182},[43986,43991,43995,43999,44004,44008,44013,44017,44021,44025,44029,44034,44038,44042,44047,44051,44056,44060],{"type":15,"tag":252,"props":43987,"children":43988},{"style":601},[43989],{"type":21,"value":43990},"                    if",{"type":15,"tag":252,"props":43992,"children":43993},{"style":601},[43994],{"type":21,"value":8661},{"type":15,"tag":252,"props":43996,"children":43997},{"style":259},[43998],{"type":21,"value":20696},{"type":15,"tag":252,"props":44000,"children":44001},{"style":447},[44002],{"type":21,"value":44003},"((_, op)) ",{"type":15,"tag":252,"props":44005,"children":44006},{"style":601},[44007],{"type":21,"value":614},{"type":15,"tag":252,"props":44009,"children":44010},{"style":447},[44011],{"type":21,"value":44012}," comparisons",{"type":15,"tag":252,"props":44014,"children":44015},{"style":601},[44016],{"type":21,"value":432},{"type":15,"tag":252,"props":44018,"children":44019},{"style":259},[44020],{"type":21,"value":10667},{"type":15,"tag":252,"props":44022,"children":44023},{"style":447},[44024],{"type":21,"value":7305},{"type":15,"tag":252,"props":44026,"children":44027},{"style":601},[44028],{"type":21,"value":432},{"type":15,"tag":252,"props":44030,"children":44031},{"style":259},[44032],{"type":21,"value":44033},"find",{"type":15,"tag":252,"props":44035,"children":44036},{"style":447},[44037],{"type":21,"value":849},{"type":15,"tag":252,"props":44039,"children":44040},{"style":601},[44041],{"type":21,"value":10693},{"type":15,"tag":252,"props":44043,"children":44044},{"style":447},[44045],{"type":21,"value":44046},"(t, _)",{"type":15,"tag":252,"props":44048,"children":44049},{"style":601},[44050],{"type":21,"value":10693},{"type":15,"tag":252,"props":44052,"children":44053},{"style":447},[44054],{"type":21,"value":44055}," t ",{"type":15,"tag":252,"props":44057,"children":44058},{"style":601},[44059],{"type":21,"value":8304},{"type":15,"tag":252,"props":44061,"children":44062},{"style":447},[44063],{"type":21,"value":44064}," token) {\n",{"type":15,"tag":252,"props":44066,"children":44067},{"class":254,"line":2190},[44068,44072,44076,44080,44084],{"type":15,"tag":252,"props":44069,"children":44070},{"style":276},[44071],{"type":21,"value":31337},{"type":15,"tag":252,"props":44073,"children":44074},{"style":601},[44075],{"type":21,"value":432},{"type":15,"tag":252,"props":44077,"children":44078},{"style":276},[44079],{"type":21,"value":7295},{"type":15,"tag":252,"props":44081,"children":44082},{"style":259},[44083],{"type":21,"value":8774},{"type":15,"tag":252,"props":44085,"children":44086},{"style":447},[44087],{"type":21,"value":814},{"type":15,"tag":252,"props":44089,"children":44090},{"class":254,"line":2222},[44091,44096,44100,44104,44109,44113,44117,44121,44125,44129,44133,44137,44141,44145,44149],{"type":15,"tag":252,"props":44092,"children":44093},{"style":447},[44094],{"type":21,"value":44095},"                        chains",{"type":15,"tag":252,"props":44097,"children":44098},{"style":601},[44099],{"type":21,"value":432},{"type":15,"tag":252,"props":44101,"children":44102},{"style":259},[44103],{"type":21,"value":8743},{"type":15,"tag":252,"props":44105,"children":44106},{"style":447},[44107],{"type":21,"value":44108},"((",{"type":15,"tag":252,"props":44110,"children":44111},{"style":601},[44112],{"type":21,"value":8752},{"type":15,"tag":252,"props":44114,"children":44115},{"style":447},[44116],{"type":21,"value":40440},{"type":15,"tag":252,"props":44118,"children":44119},{"style":276},[44120],{"type":21,"value":7432},{"type":15,"tag":252,"props":44122,"children":44123},{"style":601},[44124],{"type":21,"value":432},{"type":15,"tag":252,"props":44126,"children":44127},{"style":259},[44128],{"type":21,"value":40383},{"type":15,"tag":252,"props":44130,"children":44131},{"style":447},[44132],{"type":21,"value":38937},{"type":15,"tag":252,"props":44134,"children":44135},{"style":601},[44136],{"type":21,"value":38569},{"type":15,"tag":252,"props":44138,"children":44139},{"style":276},[44140],{"type":21,"value":7809},{"type":15,"tag":252,"props":44142,"children":44143},{"style":447},[44144],{"type":21,"value":1975},{"type":15,"tag":252,"props":44146,"children":44147},{"style":601},[44148],{"type":21,"value":5468},{"type":15,"tag":252,"props":44150,"children":44151},{"style":447},[44152],{"type":21,"value":10065},{"type":15,"tag":252,"props":44154,"children":44155},{"class":254,"line":2270},[44156,44161,44165],{"type":15,"tag":252,"props":44157,"children":44158},{"style":447},[44159],{"type":21,"value":44160},"                    } ",{"type":15,"tag":252,"props":44162,"children":44163},{"style":601},[44164],{"type":21,"value":8396},{"type":15,"tag":252,"props":44166,"children":44167},{"style":447},[44168],{"type":21,"value":3769},{"type":15,"tag":252,"props":44170,"children":44171},{"class":254,"line":2302},[44172,44177],{"type":15,"tag":252,"props":44173,"children":44174},{"style":601},[44175],{"type":21,"value":44176},"                        break",{"type":15,"tag":252,"props":44178,"children":44179},{"style":447},[44180],{"type":21,"value":3325},{"type":15,"tag":252,"props":44182,"children":44183},{"class":254,"line":2310},[44184],{"type":15,"tag":252,"props":44185,"children":44186},{"style":447},[44187],{"type":21,"value":24209},{"type":15,"tag":252,"props":44189,"children":44190},{"class":254,"line":2370},[44191],{"type":15,"tag":252,"props":44192,"children":44193},{"style":447},[44194],{"type":21,"value":10093},{"type":15,"tag":252,"props":44196,"children":44197},{"class":254,"line":2418},[44198],{"type":15,"tag":252,"props":44199,"children":44200},{"emptyLinePlaceholder":2053},[44201],{"type":21,"value":2056},{"type":15,"tag":252,"props":44203,"children":44204},{"class":254,"line":2426},[44205,44209,44214,44218,44223],{"type":15,"tag":252,"props":44206,"children":44207},{"style":601},[44208],{"type":21,"value":40302},{"type":15,"tag":252,"props":44210,"children":44211},{"style":447},[44212],{"type":21,"value":44213}," chains",{"type":15,"tag":252,"props":44215,"children":44216},{"style":601},[44217],{"type":21,"value":432},{"type":15,"tag":252,"props":44219,"children":44220},{"style":259},[44221],{"type":21,"value":44222},"is_empty",{"type":15,"tag":252,"props":44224,"children":44225},{"style":447},[44226],{"type":21,"value":2074},{"type":15,"tag":252,"props":44228,"children":44229},{"class":254,"line":2474},[44230,44234],{"type":15,"tag":252,"props":44231,"children":44232},{"style":259},[44233],{"type":21,"value":37573},{"type":15,"tag":252,"props":44235,"children":44236},{"style":447},[44237],{"type":21,"value":44238},"(left_side)\n",{"type":15,"tag":252,"props":44240,"children":44241},{"class":254,"line":2522},[44242,44246,44250],{"type":15,"tag":252,"props":44243,"children":44244},{"style":447},[44245],{"type":21,"value":40465},{"type":15,"tag":252,"props":44247,"children":44248},{"style":601},[44249],{"type":21,"value":8396},{"type":15,"tag":252,"props":44251,"children":44252},{"style":447},[44253],{"type":21,"value":3769},{"type":15,"tag":252,"props":44255,"children":44256},{"class":254,"line":2530},[44257,44261,44265,44269,44273,44277,44281,44285,44289,44293,44297,44301],{"type":15,"tag":252,"props":44258,"children":44259},{"style":259},[44260],{"type":21,"value":37573},{"type":15,"tag":252,"props":44262,"children":44263},{"style":447},[44264],{"type":21,"value":849},{"type":15,"tag":252,"props":44266,"children":44267},{"style":259},[44268],{"type":21,"value":5623},{"type":15,"tag":252,"props":44270,"children":44271},{"style":601},[44272],{"type":21,"value":804},{"type":15,"tag":252,"props":44274,"children":44275},{"style":259},[44276],{"type":21,"value":5716},{"type":15,"tag":252,"props":44278,"children":44279},{"style":601},[44280],{"type":21,"value":804},{"type":15,"tag":252,"props":44282,"children":44283},{"style":259},[44284],{"type":21,"value":35185},{"type":15,"tag":252,"props":44286,"children":44287},{"style":447},[44288],{"type":21,"value":849},{"type":15,"tag":252,"props":44290,"children":44291},{"style":259},[44292],{"type":21,"value":36163},{"type":15,"tag":252,"props":44294,"children":44295},{"style":601},[44296],{"type":21,"value":804},{"type":15,"tag":252,"props":44298,"children":44299},{"style":259},[44300],{"type":21,"value":7761},{"type":15,"tag":252,"props":44302,"children":44303},{"style":447},[44304],{"type":21,"value":44305},"(left_side), chains))\n",{"type":15,"tag":252,"props":44307,"children":44308},{"class":254,"line":2570},[44309],{"type":15,"tag":252,"props":44310,"children":44311},{"style":447},[44312],{"type":21,"value":10093},{"type":15,"tag":252,"props":44314,"children":44315},{"class":254,"line":2591},[44316],{"type":15,"tag":252,"props":44317,"children":44318},{"style":447},[44319],{"type":21,"value":8814},{"type":15,"tag":23,"props":44321,"children":44322},{},[44323],{"type":21,"value":44324},"This code basically loops while there is still a comparison token, and then it creates the chain!",{"type":15,"tag":59,"props":44326,"children":44327},{"id":27901},[44328],{"type":21,"value":14560},{"type":15,"tag":23,"props":44330,"children":44331},{},[44332],{"type":21,"value":44333},"We modify the IR in a similar way to the AST:",{"type":15,"tag":95,"props":44335,"children":44337},{"code":44336,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug)]\npub enum ComparisonExpression {\n    IntComparison(Box\u003CIntExpression>, Vec\u003C(IntComparisonOp, IntExpression)>),\n}\n",[44338],{"type":15,"tag":81,"props":44339,"children":44340},{"__ignoreMap":8},[44341,44348,44363,44382,44433],{"type":15,"tag":252,"props":44342,"children":44343},{"class":254,"line":255},[44344],{"type":15,"tag":252,"props":44345,"children":44346},{"style":3287},[44347],{"type":21,"value":25314},{"type":15,"tag":252,"props":44349,"children":44350},{"class":254,"line":334},[44351,44355,44359],{"type":15,"tag":252,"props":44352,"children":44353},{"style":447},[44354],{"type":21,"value":3742},{"type":15,"tag":252,"props":44356,"children":44357},{"style":259},[44358],{"type":21,"value":5788},{"type":15,"tag":252,"props":44360,"children":44361},{"style":447},[44362],{"type":21,"value":3751},{"type":15,"tag":252,"props":44364,"children":44365},{"class":254,"line":390},[44366,44370,44374,44378],{"type":15,"tag":252,"props":44367,"children":44368},{"style":601},[44369],{"type":21,"value":4740},{"type":15,"tag":252,"props":44371,"children":44372},{"style":601},[44373],{"type":21,"value":5869},{"type":15,"tag":252,"props":44375,"children":44376},{"style":259},[44377],{"type":21,"value":37047},{"type":15,"tag":252,"props":44379,"children":44380},{"style":447},[44381],{"type":21,"value":3769},{"type":15,"tag":252,"props":44383,"children":44384},{"class":254,"line":2077},[44385,44389,44393,44397,44401,44405,44409,44413,44417,44421,44425,44429],{"type":15,"tag":252,"props":44386,"children":44387},{"style":259},[44388],{"type":21,"value":37059},{"type":15,"tag":252,"props":44390,"children":44391},{"style":447},[44392],{"type":21,"value":849},{"type":15,"tag":252,"props":44394,"children":44395},{"style":259},[44396],{"type":21,"value":36163},{"type":15,"tag":252,"props":44398,"children":44399},{"style":447},[44400],{"type":21,"value":5826},{"type":15,"tag":252,"props":44402,"children":44403},{"style":259},[44404],{"type":21,"value":14798},{"type":15,"tag":252,"props":44406,"children":44407},{"style":447},[44408],{"type":21,"value":9752},{"type":15,"tag":252,"props":44410,"children":44411},{"style":259},[44412],{"type":21,"value":9738},{"type":15,"tag":252,"props":44414,"children":44415},{"style":447},[44416],{"type":21,"value":39697},{"type":15,"tag":252,"props":44418,"children":44419},{"style":259},[44420],{"type":21,"value":37084},{"type":15,"tag":252,"props":44422,"children":44423},{"style":447},[44424],{"type":21,"value":1076},{"type":15,"tag":252,"props":44426,"children":44427},{"style":259},[44428],{"type":21,"value":14798},{"type":15,"tag":252,"props":44430,"children":44431},{"style":447},[44432],{"type":21,"value":39719},{"type":15,"tag":252,"props":44434,"children":44435},{"class":254,"line":2110},[44436],{"type":15,"tag":252,"props":44437,"children":44438},{"style":447},[44439],{"type":21,"value":2854},{"type":15,"tag":23,"props":44441,"children":44442},{},[44443,44445,44451],{"type":21,"value":44444},"And then the ",{"type":15,"tag":81,"props":44446,"children":44448},{"className":44447},[],[44449],{"type":21,"value":44450},"IntComparisonsOp",{"type":21,"value":44452}," is similar to the AST version.",{"type":15,"tag":23,"props":44454,"children":44455},{},[44456,44458,44464,44466,44471],{"type":21,"value":44457},"And then we solve the types, for now you can delete the code in ",{"type":15,"tag":81,"props":44459,"children":44461},{"className":44460},[],[44462],{"type":21,"value":44463},"resolve_binary",{"type":21,"value":44465}," (chuck a ",{"type":15,"tag":81,"props":44467,"children":44469},{"className":44468},[],[44470],{"type":21,"value":10879},{"type":21,"value":44472}," in there!), then we will add an resolve comparison, for now we only got int comparisons, so that should be easy.",{"type":15,"tag":95,"props":44474,"children":44476},{"code":44475,"language":772,"meta":8,"className":773,"style":8},"fn resolve_comparison(\n    left_side: &Box\u003Cast::Expression>,\n    chains: &Vec\u003C(ast::ComparisonOp, ast::Expression)>,\n) -> anyhow::Result\u003CTypedExpression> {\n    let left_side = resolve_expression(left_side)?;\n    let left_side = left_side.is_int()?;\n    let chains = chains\n        .iter()\n        .map(|(op, expression)| {\n            let expression = resolve_expression(expression)?;\n            let expression = expression.is_int()?;\n\n            let op = match op {\n                ast::ComparisonOp::Equals => ir::IntComparisonOp::Equal,\n                ast::ComparisonOp::NotEquals => ir::IntComparisonOp::NotEquals,\n                ast::ComparisonOp::LessThan => ir::IntComparisonOp::LessThan,\n                ast::ComparisonOp::LessThanEquals => ir::IntComparisonOp::LessThanEquals,\n                ast::ComparisonOp::GreaterThan => ir::IntComparisonOp::GreaterThan,\n                ast::ComparisonOp::GreaterThanEquals => ir::IntComparisonOp::GreaterThanEquals,\n            };\n\n            Ok((op, expression))\n        })\n        .collect::\u003Canyhow::Result\u003CVec\u003C_>>>()?;\n\n    Ok(TypedExpression::Boolean(ir::BooleanExpression::Comparison(\n        ir::ComparisonExpression::IntComparison(Box::new(left_side), chains),\n    )))\n}\n\nfn resolve_expression(expression: &ast::Expression) -> anyhow::Result\u003CTypedExpression> {\n    match expression {\n        ast::Expression::Literal(literal) => resolve_literal(literal),\n        ast::Expression::Prefix(op, expression) => resolve_prefix(expression, op),\n        ast::Expression::BinaryOp(left, op, right) => resolve_binary(left, op, right),\n        ast::Expression::Comparison(left_side, chains) => resolve_comparison(left_side, chains),\n    }\n}\n",[44477],{"type":15,"tag":81,"props":44478,"children":44479},{"__ignoreMap":8},[44480,44496,44532,44582,44617,44649,44689,44709,44724,44756,44787,44826,44833,44856,44908,44959,45010,45061,45112,45163,45171,45178,45190,45197,45249,45256,45307,45352,45360,45367,45374,45441,45452,45491,45530,45569,45610,45617],{"type":15,"tag":252,"props":44481,"children":44482},{"class":254,"line":255},[44483,44487,44492],{"type":15,"tag":252,"props":44484,"children":44485},{"style":601},[44486],{"type":21,"value":2064},{"type":15,"tag":252,"props":44488,"children":44489},{"style":259},[44490],{"type":21,"value":44491}," resolve_comparison",{"type":15,"tag":252,"props":44493,"children":44494},{"style":447},[44495],{"type":21,"value":14196},{"type":15,"tag":252,"props":44497,"children":44498},{"class":254,"line":334},[44499,44504,44508,44512,44516,44520,44524,44528],{"type":15,"tag":252,"props":44500,"children":44501},{"style":447},[44502],{"type":21,"value":44503},"    left_side",{"type":15,"tag":252,"props":44505,"children":44506},{"style":601},[44507],{"type":21,"value":3374},{"type":15,"tag":252,"props":44509,"children":44510},{"style":601},[44511],{"type":21,"value":4920},{"type":15,"tag":252,"props":44513,"children":44514},{"style":259},[44515],{"type":21,"value":36163},{"type":15,"tag":252,"props":44517,"children":44518},{"style":447},[44519],{"type":21,"value":10502},{"type":15,"tag":252,"props":44521,"children":44522},{"style":601},[44523],{"type":21,"value":804},{"type":15,"tag":252,"props":44525,"children":44526},{"style":259},[44527],{"type":21,"value":5716},{"type":15,"tag":252,"props":44529,"children":44530},{"style":447},[44531],{"type":21,"value":7608},{"type":15,"tag":252,"props":44533,"children":44534},{"class":254,"line":390},[44535,44540,44544,44548,44552,44557,44561,44565,44569,44573,44577],{"type":15,"tag":252,"props":44536,"children":44537},{"style":447},[44538],{"type":21,"value":44539},"    chains",{"type":15,"tag":252,"props":44541,"children":44542},{"style":601},[44543],{"type":21,"value":3374},{"type":15,"tag":252,"props":44545,"children":44546},{"style":601},[44547],{"type":21,"value":4920},{"type":15,"tag":252,"props":44549,"children":44550},{"style":259},[44551],{"type":21,"value":9738},{"type":15,"tag":252,"props":44553,"children":44554},{"style":447},[44555],{"type":21,"value":44556},"\u003C(ast",{"type":15,"tag":252,"props":44558,"children":44559},{"style":601},[44560],{"type":21,"value":804},{"type":15,"tag":252,"props":44562,"children":44563},{"style":259},[44564],{"type":21,"value":43058},{"type":15,"tag":252,"props":44566,"children":44567},{"style":447},[44568],{"type":21,"value":39706},{"type":15,"tag":252,"props":44570,"children":44571},{"style":601},[44572],{"type":21,"value":804},{"type":15,"tag":252,"props":44574,"children":44575},{"style":259},[44576],{"type":21,"value":5716},{"type":15,"tag":252,"props":44578,"children":44579},{"style":447},[44580],{"type":21,"value":44581},")>,\n",{"type":15,"tag":252,"props":44583,"children":44584},{"class":254,"line":2077},[44585,44589,44593,44597,44601,44605,44609,44613],{"type":15,"tag":252,"props":44586,"children":44587},{"style":447},[44588],{"type":21,"value":4943},{"type":15,"tag":252,"props":44590,"children":44591},{"style":601},[44592],{"type":21,"value":3947},{"type":15,"tag":252,"props":44594,"children":44595},{"style":259},[44596],{"type":21,"value":3952},{"type":15,"tag":252,"props":44598,"children":44599},{"style":601},[44600],{"type":21,"value":804},{"type":15,"tag":252,"props":44602,"children":44603},{"style":259},[44604],{"type":21,"value":3961},{"type":15,"tag":252,"props":44606,"children":44607},{"style":447},[44608],{"type":21,"value":5826},{"type":15,"tag":252,"props":44610,"children":44611},{"style":259},[44612],{"type":21,"value":15281},{"type":15,"tag":252,"props":44614,"children":44615},{"style":447},[44616],{"type":21,"value":7138},{"type":15,"tag":252,"props":44618,"children":44619},{"class":254,"line":2110},[44620,44624,44628,44632,44636,44641,44645],{"type":15,"tag":252,"props":44621,"children":44622},{"style":601},[44623],{"type":21,"value":2083},{"type":15,"tag":252,"props":44625,"children":44626},{"style":447},[44627],{"type":21,"value":36586},{"type":15,"tag":252,"props":44629,"children":44630},{"style":601},[44631],{"type":21,"value":614},{"type":15,"tag":252,"props":44633,"children":44634},{"style":259},[44635],{"type":21,"value":15420},{"type":15,"tag":252,"props":44637,"children":44638},{"style":447},[44639],{"type":21,"value":44640},"(left_side)",{"type":15,"tag":252,"props":44642,"children":44643},{"style":601},[44644],{"type":21,"value":5468},{"type":15,"tag":252,"props":44646,"children":44647},{"style":447},[44648],{"type":21,"value":3325},{"type":15,"tag":252,"props":44650,"children":44651},{"class":254,"line":2150},[44652,44656,44660,44664,44669,44673,44677,44681,44685],{"type":15,"tag":252,"props":44653,"children":44654},{"style":601},[44655],{"type":21,"value":2083},{"type":15,"tag":252,"props":44657,"children":44658},{"style":447},[44659],{"type":21,"value":36586},{"type":15,"tag":252,"props":44661,"children":44662},{"style":601},[44663],{"type":21,"value":614},{"type":15,"tag":252,"props":44665,"children":44666},{"style":447},[44667],{"type":21,"value":44668}," left_side",{"type":15,"tag":252,"props":44670,"children":44671},{"style":601},[44672],{"type":21,"value":432},{"type":15,"tag":252,"props":44674,"children":44675},{"style":259},[44676],{"type":21,"value":37506},{"type":15,"tag":252,"props":44678,"children":44679},{"style":447},[44680],{"type":21,"value":7305},{"type":15,"tag":252,"props":44682,"children":44683},{"style":601},[44684],{"type":21,"value":5468},{"type":15,"tag":252,"props":44686,"children":44687},{"style":447},[44688],{"type":21,"value":3325},{"type":15,"tag":252,"props":44690,"children":44691},{"class":254,"line":2182},[44692,44696,44700,44704],{"type":15,"tag":252,"props":44693,"children":44694},{"style":601},[44695],{"type":21,"value":2083},{"type":15,"tag":252,"props":44697,"children":44698},{"style":447},[44699],{"type":21,"value":43904},{"type":15,"tag":252,"props":44701,"children":44702},{"style":601},[44703],{"type":21,"value":614},{"type":15,"tag":252,"props":44705,"children":44706},{"style":447},[44707],{"type":21,"value":44708}," chains\n",{"type":15,"tag":252,"props":44710,"children":44711},{"class":254,"line":2190},[44712,44716,44720],{"type":15,"tag":252,"props":44713,"children":44714},{"style":601},[44715],{"type":21,"value":21144},{"type":15,"tag":252,"props":44717,"children":44718},{"style":259},[44719],{"type":21,"value":10667},{"type":15,"tag":252,"props":44721,"children":44722},{"style":447},[44723],{"type":21,"value":10672},{"type":15,"tag":252,"props":44725,"children":44726},{"class":254,"line":2222},[44727,44731,44735,44739,44743,44748,44752],{"type":15,"tag":252,"props":44728,"children":44729},{"style":601},[44730],{"type":21,"value":21144},{"type":15,"tag":252,"props":44732,"children":44733},{"style":259},[44734],{"type":21,"value":10684},{"type":15,"tag":252,"props":44736,"children":44737},{"style":447},[44738],{"type":21,"value":849},{"type":15,"tag":252,"props":44740,"children":44741},{"style":601},[44742],{"type":21,"value":10693},{"type":15,"tag":252,"props":44744,"children":44745},{"style":447},[44746],{"type":21,"value":44747},"(op, expression)",{"type":15,"tag":252,"props":44749,"children":44750},{"style":601},[44751],{"type":21,"value":10693},{"type":15,"tag":252,"props":44753,"children":44754},{"style":447},[44755],{"type":21,"value":3769},{"type":15,"tag":252,"props":44757,"children":44758},{"class":254,"line":2270},[44759,44763,44767,44771,44775,44779,44783],{"type":15,"tag":252,"props":44760,"children":44761},{"style":601},[44762],{"type":21,"value":15892},{"type":15,"tag":252,"props":44764,"children":44765},{"style":447},[44766],{"type":21,"value":31233},{"type":15,"tag":252,"props":44768,"children":44769},{"style":601},[44770],{"type":21,"value":614},{"type":15,"tag":252,"props":44772,"children":44773},{"style":259},[44774],{"type":21,"value":15420},{"type":15,"tag":252,"props":44776,"children":44777},{"style":447},[44778],{"type":21,"value":15657},{"type":15,"tag":252,"props":44780,"children":44781},{"style":601},[44782],{"type":21,"value":5468},{"type":15,"tag":252,"props":44784,"children":44785},{"style":447},[44786],{"type":21,"value":3325},{"type":15,"tag":252,"props":44788,"children":44789},{"class":254,"line":2302},[44790,44794,44798,44802,44806,44810,44814,44818,44822],{"type":15,"tag":252,"props":44791,"children":44792},{"style":601},[44793],{"type":21,"value":15892},{"type":15,"tag":252,"props":44795,"children":44796},{"style":447},[44797],{"type":21,"value":31233},{"type":15,"tag":252,"props":44799,"children":44800},{"style":601},[44801],{"type":21,"value":614},{"type":15,"tag":252,"props":44803,"children":44804},{"style":447},[44805],{"type":21,"value":12876},{"type":15,"tag":252,"props":44807,"children":44808},{"style":601},[44809],{"type":21,"value":432},{"type":15,"tag":252,"props":44811,"children":44812},{"style":259},[44813],{"type":21,"value":37506},{"type":15,"tag":252,"props":44815,"children":44816},{"style":447},[44817],{"type":21,"value":7305},{"type":15,"tag":252,"props":44819,"children":44820},{"style":601},[44821],{"type":21,"value":5468},{"type":15,"tag":252,"props":44823,"children":44824},{"style":447},[44825],{"type":21,"value":3325},{"type":15,"tag":252,"props":44827,"children":44828},{"class":254,"line":2310},[44829],{"type":15,"tag":252,"props":44830,"children":44831},{"emptyLinePlaceholder":2053},[44832],{"type":21,"value":2056},{"type":15,"tag":252,"props":44834,"children":44835},{"class":254,"line":2370},[44836,44840,44844,44848,44852],{"type":15,"tag":252,"props":44837,"children":44838},{"style":601},[44839],{"type":21,"value":15892},{"type":15,"tag":252,"props":44841,"children":44842},{"style":447},[44843],{"type":21,"value":38026},{"type":15,"tag":252,"props":44845,"children":44846},{"style":601},[44847],{"type":21,"value":614},{"type":15,"tag":252,"props":44849,"children":44850},{"style":601},[44851],{"type":21,"value":18821},{"type":15,"tag":252,"props":44853,"children":44854},{"style":447},[44855],{"type":21,"value":37444},{"type":15,"tag":252,"props":44857,"children":44858},{"class":254,"line":2418},[44859,44863,44867,44871,44875,44879,44883,44888,44892,44896,44900,44904],{"type":15,"tag":252,"props":44860,"children":44861},{"style":259},[44862],{"type":21,"value":37452},{"type":15,"tag":252,"props":44864,"children":44865},{"style":601},[44866],{"type":21,"value":804},{"type":15,"tag":252,"props":44868,"children":44869},{"style":259},[44870],{"type":21,"value":43058},{"type":15,"tag":252,"props":44872,"children":44873},{"style":601},[44874],{"type":21,"value":804},{"type":15,"tag":252,"props":44876,"children":44877},{"style":259},[44878],{"type":21,"value":36820},{"type":15,"tag":252,"props":44880,"children":44881},{"style":601},[44882],{"type":21,"value":9226},{"type":15,"tag":252,"props":44884,"children":44885},{"style":259},[44886],{"type":21,"value":44887}," ir",{"type":15,"tag":252,"props":44889,"children":44890},{"style":601},[44891],{"type":21,"value":804},{"type":15,"tag":252,"props":44893,"children":44894},{"style":259},[44895],{"type":21,"value":37084},{"type":15,"tag":252,"props":44897,"children":44898},{"style":601},[44899],{"type":21,"value":804},{"type":15,"tag":252,"props":44901,"children":44902},{"style":259},[44903],{"type":21,"value":37692},{"type":15,"tag":252,"props":44905,"children":44906},{"style":447},[44907],{"type":21,"value":3879},{"type":15,"tag":252,"props":44909,"children":44910},{"class":254,"line":2426},[44911,44915,44919,44923,44927,44931,44935,44939,44943,44947,44951,44955],{"type":15,"tag":252,"props":44912,"children":44913},{"style":259},[44914],{"type":21,"value":37452},{"type":15,"tag":252,"props":44916,"children":44917},{"style":601},[44918],{"type":21,"value":804},{"type":15,"tag":252,"props":44920,"children":44921},{"style":259},[44922],{"type":21,"value":43058},{"type":15,"tag":252,"props":44924,"children":44925},{"style":601},[44926],{"type":21,"value":804},{"type":15,"tag":252,"props":44928,"children":44929},{"style":259},[44930],{"type":21,"value":43508},{"type":15,"tag":252,"props":44932,"children":44933},{"style":601},[44934],{"type":21,"value":9226},{"type":15,"tag":252,"props":44936,"children":44937},{"style":259},[44938],{"type":21,"value":44887},{"type":15,"tag":252,"props":44940,"children":44941},{"style":601},[44942],{"type":21,"value":804},{"type":15,"tag":252,"props":44944,"children":44945},{"style":259},[44946],{"type":21,"value":37084},{"type":15,"tag":252,"props":44948,"children":44949},{"style":601},[44950],{"type":21,"value":804},{"type":15,"tag":252,"props":44952,"children":44953},{"style":259},[44954],{"type":21,"value":43508},{"type":15,"tag":252,"props":44956,"children":44957},{"style":447},[44958],{"type":21,"value":3879},{"type":15,"tag":252,"props":44960,"children":44961},{"class":254,"line":2474},[44962,44966,44970,44974,44978,44982,44986,44990,44994,44998,45002,45006],{"type":15,"tag":252,"props":44963,"children":44964},{"style":259},[44965],{"type":21,"value":37452},{"type":15,"tag":252,"props":44967,"children":44968},{"style":601},[44969],{"type":21,"value":804},{"type":15,"tag":252,"props":44971,"children":44972},{"style":259},[44973],{"type":21,"value":43058},{"type":15,"tag":252,"props":44975,"children":44976},{"style":601},[44977],{"type":21,"value":804},{"type":15,"tag":252,"props":44979,"children":44980},{"style":259},[44981],{"type":21,"value":43557},{"type":15,"tag":252,"props":44983,"children":44984},{"style":601},[44985],{"type":21,"value":9226},{"type":15,"tag":252,"props":44987,"children":44988},{"style":259},[44989],{"type":21,"value":44887},{"type":15,"tag":252,"props":44991,"children":44992},{"style":601},[44993],{"type":21,"value":804},{"type":15,"tag":252,"props":44995,"children":44996},{"style":259},[44997],{"type":21,"value":37084},{"type":15,"tag":252,"props":44999,"children":45000},{"style":601},[45001],{"type":21,"value":804},{"type":15,"tag":252,"props":45003,"children":45004},{"style":259},[45005],{"type":21,"value":43557},{"type":15,"tag":252,"props":45007,"children":45008},{"style":447},[45009],{"type":21,"value":3879},{"type":15,"tag":252,"props":45011,"children":45012},{"class":254,"line":2522},[45013,45017,45021,45025,45029,45033,45037,45041,45045,45049,45053,45057],{"type":15,"tag":252,"props":45014,"children":45015},{"style":259},[45016],{"type":21,"value":37452},{"type":15,"tag":252,"props":45018,"children":45019},{"style":601},[45020],{"type":21,"value":804},{"type":15,"tag":252,"props":45022,"children":45023},{"style":259},[45024],{"type":21,"value":43058},{"type":15,"tag":252,"props":45026,"children":45027},{"style":601},[45028],{"type":21,"value":804},{"type":15,"tag":252,"props":45030,"children":45031},{"style":259},[45032],{"type":21,"value":43606},{"type":15,"tag":252,"props":45034,"children":45035},{"style":601},[45036],{"type":21,"value":9226},{"type":15,"tag":252,"props":45038,"children":45039},{"style":259},[45040],{"type":21,"value":44887},{"type":15,"tag":252,"props":45042,"children":45043},{"style":601},[45044],{"type":21,"value":804},{"type":15,"tag":252,"props":45046,"children":45047},{"style":259},[45048],{"type":21,"value":37084},{"type":15,"tag":252,"props":45050,"children":45051},{"style":601},[45052],{"type":21,"value":804},{"type":15,"tag":252,"props":45054,"children":45055},{"style":259},[45056],{"type":21,"value":43606},{"type":15,"tag":252,"props":45058,"children":45059},{"style":447},[45060],{"type":21,"value":3879},{"type":15,"tag":252,"props":45062,"children":45063},{"class":254,"line":2530},[45064,45068,45072,45076,45080,45084,45088,45092,45096,45100,45104,45108],{"type":15,"tag":252,"props":45065,"children":45066},{"style":259},[45067],{"type":21,"value":37452},{"type":15,"tag":252,"props":45069,"children":45070},{"style":601},[45071],{"type":21,"value":804},{"type":15,"tag":252,"props":45073,"children":45074},{"style":259},[45075],{"type":21,"value":43058},{"type":15,"tag":252,"props":45077,"children":45078},{"style":601},[45079],{"type":21,"value":804},{"type":15,"tag":252,"props":45081,"children":45082},{"style":259},[45083],{"type":21,"value":43655},{"type":15,"tag":252,"props":45085,"children":45086},{"style":601},[45087],{"type":21,"value":9226},{"type":15,"tag":252,"props":45089,"children":45090},{"style":259},[45091],{"type":21,"value":44887},{"type":15,"tag":252,"props":45093,"children":45094},{"style":601},[45095],{"type":21,"value":804},{"type":15,"tag":252,"props":45097,"children":45098},{"style":259},[45099],{"type":21,"value":37084},{"type":15,"tag":252,"props":45101,"children":45102},{"style":601},[45103],{"type":21,"value":804},{"type":15,"tag":252,"props":45105,"children":45106},{"style":259},[45107],{"type":21,"value":43655},{"type":15,"tag":252,"props":45109,"children":45110},{"style":447},[45111],{"type":21,"value":3879},{"type":15,"tag":252,"props":45113,"children":45114},{"class":254,"line":2570},[45115,45119,45123,45127,45131,45135,45139,45143,45147,45151,45155,45159],{"type":15,"tag":252,"props":45116,"children":45117},{"style":259},[45118],{"type":21,"value":37452},{"type":15,"tag":252,"props":45120,"children":45121},{"style":601},[45122],{"type":21,"value":804},{"type":15,"tag":252,"props":45124,"children":45125},{"style":259},[45126],{"type":21,"value":43058},{"type":15,"tag":252,"props":45128,"children":45129},{"style":601},[45130],{"type":21,"value":804},{"type":15,"tag":252,"props":45132,"children":45133},{"style":259},[45134],{"type":21,"value":43704},{"type":15,"tag":252,"props":45136,"children":45137},{"style":601},[45138],{"type":21,"value":9226},{"type":15,"tag":252,"props":45140,"children":45141},{"style":259},[45142],{"type":21,"value":44887},{"type":15,"tag":252,"props":45144,"children":45145},{"style":601},[45146],{"type":21,"value":804},{"type":15,"tag":252,"props":45148,"children":45149},{"style":259},[45150],{"type":21,"value":37084},{"type":15,"tag":252,"props":45152,"children":45153},{"style":601},[45154],{"type":21,"value":804},{"type":15,"tag":252,"props":45156,"children":45157},{"style":259},[45158],{"type":21,"value":43704},{"type":15,"tag":252,"props":45160,"children":45161},{"style":447},[45162],{"type":21,"value":3879},{"type":15,"tag":252,"props":45164,"children":45165},{"class":254,"line":2591},[45166],{"type":15,"tag":252,"props":45167,"children":45168},{"style":447},[45169],{"type":21,"value":45170},"            };\n",{"type":15,"tag":252,"props":45172,"children":45173},{"class":254,"line":2599},[45174],{"type":15,"tag":252,"props":45175,"children":45176},{"emptyLinePlaceholder":2053},[45177],{"type":21,"value":2056},{"type":15,"tag":252,"props":45179,"children":45180},{"class":254,"line":2647},[45181,45185],{"type":15,"tag":252,"props":45182,"children":45183},{"style":259},[45184],{"type":21,"value":12492},{"type":15,"tag":252,"props":45186,"children":45187},{"style":447},[45188],{"type":21,"value":45189},"((op, expression))\n",{"type":15,"tag":252,"props":45191,"children":45192},{"class":254,"line":2679},[45193],{"type":15,"tag":252,"props":45194,"children":45195},{"style":447},[45196],{"type":21,"value":8013},{"type":15,"tag":252,"props":45198,"children":45199},{"class":254,"line":2727},[45200,45204,45208,45212,45216,45220,45224,45228,45232,45236,45241,45245],{"type":15,"tag":252,"props":45201,"children":45202},{"style":601},[45203],{"type":21,"value":21144},{"type":15,"tag":252,"props":45205,"children":45206},{"style":259},[45207],{"type":21,"value":7787},{"type":15,"tag":252,"props":45209,"children":45210},{"style":601},[45211],{"type":21,"value":804},{"type":15,"tag":252,"props":45213,"children":45214},{"style":447},[45215],{"type":21,"value":5826},{"type":15,"tag":252,"props":45217,"children":45218},{"style":259},[45219],{"type":21,"value":3472},{"type":15,"tag":252,"props":45221,"children":45222},{"style":601},[45223],{"type":21,"value":804},{"type":15,"tag":252,"props":45225,"children":45226},{"style":259},[45227],{"type":21,"value":3961},{"type":15,"tag":252,"props":45229,"children":45230},{"style":447},[45231],{"type":21,"value":5826},{"type":15,"tag":252,"props":45233,"children":45234},{"style":259},[45235],{"type":21,"value":9738},{"type":15,"tag":252,"props":45237,"children":45238},{"style":447},[45239],{"type":21,"value":45240},"\u003C_>>>()",{"type":15,"tag":252,"props":45242,"children":45243},{"style":601},[45244],{"type":21,"value":5468},{"type":15,"tag":252,"props":45246,"children":45247},{"style":447},[45248],{"type":21,"value":3325},{"type":15,"tag":252,"props":45250,"children":45251},{"class":254,"line":2735},[45252],{"type":15,"tag":252,"props":45253,"children":45254},{"emptyLinePlaceholder":2053},[45255],{"type":21,"value":2056},{"type":15,"tag":252,"props":45257,"children":45258},{"class":254,"line":2799},[45259,45263,45267,45271,45275,45279,45283,45287,45291,45295,45299,45303],{"type":15,"tag":252,"props":45260,"children":45261},{"style":259},[45262],{"type":21,"value":4110},{"type":15,"tag":252,"props":45264,"children":45265},{"style":447},[45266],{"type":21,"value":849},{"type":15,"tag":252,"props":45268,"children":45269},{"style":259},[45270],{"type":21,"value":15281},{"type":15,"tag":252,"props":45272,"children":45273},{"style":601},[45274],{"type":21,"value":804},{"type":15,"tag":252,"props":45276,"children":45277},{"style":259},[45278],{"type":21,"value":27449},{"type":15,"tag":252,"props":45280,"children":45281},{"style":447},[45282],{"type":21,"value":849},{"type":15,"tag":252,"props":45284,"children":45285},{"style":259},[45286],{"type":21,"value":14557},{"type":15,"tag":252,"props":45288,"children":45289},{"style":601},[45290],{"type":21,"value":804},{"type":15,"tag":252,"props":45292,"children":45293},{"style":259},[45294],{"type":21,"value":27991},{"type":15,"tag":252,"props":45296,"children":45297},{"style":601},[45298],{"type":21,"value":804},{"type":15,"tag":252,"props":45300,"children":45301},{"style":259},[45302],{"type":21,"value":35185},{"type":15,"tag":252,"props":45304,"children":45305},{"style":447},[45306],{"type":21,"value":14196},{"type":15,"tag":252,"props":45308,"children":45309},{"class":254,"line":2807},[45310,45315,45319,45323,45327,45331,45335,45339,45343,45347],{"type":15,"tag":252,"props":45311,"children":45312},{"style":259},[45313],{"type":21,"value":45314},"        ir",{"type":15,"tag":252,"props":45316,"children":45317},{"style":601},[45318],{"type":21,"value":804},{"type":15,"tag":252,"props":45320,"children":45321},{"style":259},[45322],{"type":21,"value":36998},{"type":15,"tag":252,"props":45324,"children":45325},{"style":601},[45326],{"type":21,"value":804},{"type":15,"tag":252,"props":45328,"children":45329},{"style":259},[45330],{"type":21,"value":37642},{"type":15,"tag":252,"props":45332,"children":45333},{"style":447},[45334],{"type":21,"value":849},{"type":15,"tag":252,"props":45336,"children":45337},{"style":259},[45338],{"type":21,"value":36163},{"type":15,"tag":252,"props":45340,"children":45341},{"style":601},[45342],{"type":21,"value":804},{"type":15,"tag":252,"props":45344,"children":45345},{"style":259},[45346],{"type":21,"value":7761},{"type":15,"tag":252,"props":45348,"children":45349},{"style":447},[45350],{"type":21,"value":45351},"(left_side), chains),\n",{"type":15,"tag":252,"props":45353,"children":45354},{"class":254,"line":2848},[45355],{"type":15,"tag":252,"props":45356,"children":45357},{"style":447},[45358],{"type":21,"value":45359},"    )))\n",{"type":15,"tag":252,"props":45361,"children":45362},{"class":254,"line":4645},[45363],{"type":15,"tag":252,"props":45364,"children":45365},{"style":447},[45366],{"type":21,"value":2854},{"type":15,"tag":252,"props":45368,"children":45369},{"class":254,"line":4654},[45370],{"type":15,"tag":252,"props":45371,"children":45372},{"emptyLinePlaceholder":2053},[45373],{"type":21,"value":2056},{"type":15,"tag":252,"props":45375,"children":45376},{"class":254,"line":4675},[45377,45381,45385,45389,45393,45397,45401,45405,45409,45413,45417,45421,45425,45429,45433,45437],{"type":15,"tag":252,"props":45378,"children":45379},{"style":601},[45380],{"type":21,"value":2064},{"type":15,"tag":252,"props":45382,"children":45383},{"style":259},[45384],{"type":21,"value":15420},{"type":15,"tag":252,"props":45386,"children":45387},{"style":447},[45388],{"type":21,"value":15425},{"type":15,"tag":252,"props":45390,"children":45391},{"style":601},[45392],{"type":21,"value":3374},{"type":15,"tag":252,"props":45394,"children":45395},{"style":601},[45396],{"type":21,"value":4920},{"type":15,"tag":252,"props":45398,"children":45399},{"style":259},[45400],{"type":21,"value":5623},{"type":15,"tag":252,"props":45402,"children":45403},{"style":601},[45404],{"type":21,"value":804},{"type":15,"tag":252,"props":45406,"children":45407},{"style":259},[45408],{"type":21,"value":5716},{"type":15,"tag":252,"props":45410,"children":45411},{"style":447},[45412],{"type":21,"value":4943},{"type":15,"tag":252,"props":45414,"children":45415},{"style":601},[45416],{"type":21,"value":3947},{"type":15,"tag":252,"props":45418,"children":45419},{"style":259},[45420],{"type":21,"value":3952},{"type":15,"tag":252,"props":45422,"children":45423},{"style":601},[45424],{"type":21,"value":804},{"type":15,"tag":252,"props":45426,"children":45427},{"style":259},[45428],{"type":21,"value":3961},{"type":15,"tag":252,"props":45430,"children":45431},{"style":447},[45432],{"type":21,"value":5826},{"type":15,"tag":252,"props":45434,"children":45435},{"style":259},[45436],{"type":21,"value":15281},{"type":15,"tag":252,"props":45438,"children":45439},{"style":447},[45440],{"type":21,"value":7138},{"type":15,"tag":252,"props":45442,"children":45443},{"class":254,"line":8160},[45444,45448],{"type":15,"tag":252,"props":45445,"children":45446},{"style":601},[45447],{"type":21,"value":4014},{"type":15,"tag":252,"props":45449,"children":45450},{"style":447},[45451],{"type":21,"value":15489},{"type":15,"tag":252,"props":45453,"children":45454},{"class":254,"line":8168},[45455,45459,45463,45467,45471,45475,45479,45483,45487],{"type":15,"tag":252,"props":45456,"children":45457},{"style":259},[45458],{"type":21,"value":15305},{"type":15,"tag":252,"props":45460,"children":45461},{"style":601},[45462],{"type":21,"value":804},{"type":15,"tag":252,"props":45464,"children":45465},{"style":259},[45466],{"type":21,"value":5716},{"type":15,"tag":252,"props":45468,"children":45469},{"style":601},[45470],{"type":21,"value":804},{"type":15,"tag":252,"props":45472,"children":45473},{"style":259},[45474],{"type":21,"value":5724},{"type":15,"tag":252,"props":45476,"children":45477},{"style":447},[45478],{"type":21,"value":15517},{"type":15,"tag":252,"props":45480,"children":45481},{"style":601},[45482],{"type":21,"value":4054},{"type":15,"tag":252,"props":45484,"children":45485},{"style":259},[45486],{"type":21,"value":15227},{"type":15,"tag":252,"props":45488,"children":45489},{"style":447},[45490],{"type":21,"value":15530},{"type":15,"tag":252,"props":45492,"children":45493},{"class":254,"line":8176},[45494,45498,45502,45506,45510,45514,45518,45522,45526],{"type":15,"tag":252,"props":45495,"children":45496},{"style":259},[45497],{"type":21,"value":15305},{"type":15,"tag":252,"props":45499,"children":45500},{"style":601},[45501],{"type":21,"value":804},{"type":15,"tag":252,"props":45503,"children":45504},{"style":259},[45505],{"type":21,"value":5716},{"type":15,"tag":252,"props":45507,"children":45508},{"style":601},[45509],{"type":21,"value":804},{"type":15,"tag":252,"props":45511,"children":45512},{"style":259},[45513],{"type":21,"value":39876},{"type":15,"tag":252,"props":45515,"children":45516},{"style":447},[45517],{"type":21,"value":41059},{"type":15,"tag":252,"props":45519,"children":45520},{"style":601},[45521],{"type":21,"value":4054},{"type":15,"tag":252,"props":45523,"children":45524},{"style":259},[45525],{"type":21,"value":41542},{"type":15,"tag":252,"props":45527,"children":45528},{"style":447},[45529],{"type":21,"value":42004},{"type":15,"tag":252,"props":45531,"children":45532},{"class":254,"line":8225},[45533,45537,45541,45545,45549,45553,45557,45561,45565],{"type":15,"tag":252,"props":45534,"children":45535},{"style":259},[45536],{"type":21,"value":15305},{"type":15,"tag":252,"props":45538,"children":45539},{"style":601},[45540],{"type":21,"value":804},{"type":15,"tag":252,"props":45542,"children":45543},{"style":259},[45544],{"type":21,"value":5716},{"type":15,"tag":252,"props":45546,"children":45547},{"style":601},[45548],{"type":21,"value":804},{"type":15,"tag":252,"props":45550,"children":45551},{"style":259},[45552],{"type":21,"value":36180},{"type":15,"tag":252,"props":45554,"children":45555},{"style":447},[45556],{"type":21,"value":37351},{"type":15,"tag":252,"props":45558,"children":45559},{"style":601},[45560],{"type":21,"value":4054},{"type":15,"tag":252,"props":45562,"children":45563},{"style":259},[45564],{"type":21,"value":41683},{"type":15,"tag":252,"props":45566,"children":45567},{"style":447},[45568],{"type":21,"value":42044},{"type":15,"tag":252,"props":45570,"children":45571},{"class":254,"line":8289},[45572,45576,45580,45584,45588,45592,45597,45601,45605],{"type":15,"tag":252,"props":45573,"children":45574},{"style":259},[45575],{"type":21,"value":15305},{"type":15,"tag":252,"props":45577,"children":45578},{"style":601},[45579],{"type":21,"value":804},{"type":15,"tag":252,"props":45581,"children":45582},{"style":259},[45583],{"type":21,"value":5716},{"type":15,"tag":252,"props":45585,"children":45586},{"style":601},[45587],{"type":21,"value":804},{"type":15,"tag":252,"props":45589,"children":45590},{"style":259},[45591],{"type":21,"value":35185},{"type":15,"tag":252,"props":45593,"children":45594},{"style":447},[45595],{"type":21,"value":45596},"(left_side, chains) ",{"type":15,"tag":252,"props":45598,"children":45599},{"style":601},[45600],{"type":21,"value":4054},{"type":15,"tag":252,"props":45602,"children":45603},{"style":259},[45604],{"type":21,"value":44491},{"type":15,"tag":252,"props":45606,"children":45607},{"style":447},[45608],{"type":21,"value":45609},"(left_side, chains),\n",{"type":15,"tag":252,"props":45611,"children":45612},{"class":254,"line":8326},[45613],{"type":15,"tag":252,"props":45614,"children":45615},{"style":447},[45616],{"type":21,"value":4095},{"type":15,"tag":252,"props":45618,"children":45619},{"class":254,"line":8357},[45620],{"type":15,"tag":252,"props":45621,"children":45622},{"style":447},[45623],{"type":21,"value":2854},{"type":15,"tag":59,"props":45625,"children":45626},{"id":29095},[45627],{"type":21,"value":26061},{"type":15,"tag":23,"props":45629,"children":45630},{},[45631],{"type":21,"value":45632},"Code gen is also pretty simple, we just need to add a new function for the comparison:",{"type":15,"tag":95,"props":45634,"children":45636},{"code":45635,"language":772,"meta":8,"className":773,"style":8},"    fn compile_comparison(\n        &self,\n        comparison: &ir::ComparisonExpression,\n    ) -> inkwell::values::IntValue {\n        match comparison {\n            ir::ComparisonExpression::IntComparison(left, chains) => {\n                let mut current_left = self.compile_int_expression(left);\n                let mut parts = Vec::with_capacity(chains.len() - 1);\n\n                for (op, right_side) in chains {\n                    let right_side = self.compile_int_expression(right_side);\n                    let op = match op {\n                        ir::IntComparisonOp::Equal => IntPredicate::EQ,\n                        ir::IntComparisonOp::NotEquals => IntPredicate::NE,\n                        ir::IntComparisonOp::LessThan => IntPredicate::SLT,\n                        ir::IntComparisonOp::LessThanEquals => IntPredicate::SLE,\n                        ir::IntComparisonOp::GreaterThan => IntPredicate::SGT,\n                        ir::IntComparisonOp::GreaterThanEquals => IntPredicate::SGE,\n                    };\n\n                    let part =\n                        self.builder\n                            .build_int_compare(op, current_left, right_side, \"Compare\");\n\n                    parts.push(part);\n                    current_left = right_side;\n                }\n\n                let mut result = parts[0];\n                for part in parts.iter().skip(1) {\n                    result = self.builder.build_and(result, *part, \"And\");\n                }\n\n                result\n            }\n        }\n    }\n",[45637],{"type":15,"tag":81,"props":45638,"children":45639},{"__ignoreMap":8},[45640,45655,45670,45701,45736,45747,45783,45819,45882,45889,45910,45942,45965,46008,46052,46096,46140,46184,46228,46236,46243,46260,46275,46301,46308,46329,46346,46353,46360,46393,46446,46502,46509,46516,46524,46531,46538],{"type":15,"tag":252,"props":45641,"children":45642},{"class":254,"line":255},[45643,45647,45651],{"type":15,"tag":252,"props":45644,"children":45645},{"style":601},[45646],{"type":21,"value":7146},{"type":15,"tag":252,"props":45648,"children":45649},{"style":259},[45650],{"type":21,"value":37810},{"type":15,"tag":252,"props":45652,"children":45653},{"style":447},[45654],{"type":21,"value":14196},{"type":15,"tag":252,"props":45656,"children":45657},{"class":254,"line":334},[45658,45662,45666],{"type":15,"tag":252,"props":45659,"children":45660},{"style":601},[45661],{"type":21,"value":29140},{"type":15,"tag":252,"props":45663,"children":45664},{"style":276},[45665],{"type":21,"value":7432},{"type":15,"tag":252,"props":45667,"children":45668},{"style":447},[45669],{"type":21,"value":3879},{"type":15,"tag":252,"props":45671,"children":45672},{"class":254,"line":390},[45673,45677,45681,45685,45689,45693,45697],{"type":15,"tag":252,"props":45674,"children":45675},{"style":447},[45676],{"type":21,"value":37837},{"type":15,"tag":252,"props":45678,"children":45679},{"style":601},[45680],{"type":21,"value":3374},{"type":15,"tag":252,"props":45682,"children":45683},{"style":601},[45684],{"type":21,"value":4920},{"type":15,"tag":252,"props":45686,"children":45687},{"style":259},[45688],{"type":21,"value":14557},{"type":15,"tag":252,"props":45690,"children":45691},{"style":601},[45692],{"type":21,"value":804},{"type":15,"tag":252,"props":45694,"children":45695},{"style":259},[45696],{"type":21,"value":36998},{"type":15,"tag":252,"props":45698,"children":45699},{"style":447},[45700],{"type":21,"value":3879},{"type":15,"tag":252,"props":45702,"children":45703},{"class":254,"line":2077},[45704,45708,45712,45716,45720,45724,45728,45732],{"type":15,"tag":252,"props":45705,"children":45706},{"style":447},[45707],{"type":21,"value":29188},{"type":15,"tag":252,"props":45709,"children":45710},{"style":601},[45711],{"type":21,"value":3947},{"type":15,"tag":252,"props":45713,"children":45714},{"style":259},[45715],{"type":21,"value":273},{"type":15,"tag":252,"props":45717,"children":45718},{"style":601},[45719],{"type":21,"value":804},{"type":15,"tag":252,"props":45721,"children":45722},{"style":259},[45723],{"type":21,"value":18543},{"type":15,"tag":252,"props":45725,"children":45726},{"style":601},[45727],{"type":21,"value":804},{"type":15,"tag":252,"props":45729,"children":45730},{"style":259},[45731],{"type":21,"value":18552},{"type":15,"tag":252,"props":45733,"children":45734},{"style":447},[45735],{"type":21,"value":3769},{"type":15,"tag":252,"props":45737,"children":45738},{"class":254,"line":2110},[45739,45743],{"type":15,"tag":252,"props":45740,"children":45741},{"style":601},[45742],{"type":21,"value":12717},{"type":15,"tag":252,"props":45744,"children":45745},{"style":447},[45746],{"type":21,"value":37908},{"type":15,"tag":252,"props":45748,"children":45749},{"class":254,"line":2150},[45750,45754,45758,45762,45766,45770,45775,45779],{"type":15,"tag":252,"props":45751,"children":45752},{"style":259},[45753],{"type":21,"value":18575},{"type":15,"tag":252,"props":45755,"children":45756},{"style":601},[45757],{"type":21,"value":804},{"type":15,"tag":252,"props":45759,"children":45760},{"style":259},[45761],{"type":21,"value":36998},{"type":15,"tag":252,"props":45763,"children":45764},{"style":601},[45765],{"type":21,"value":804},{"type":15,"tag":252,"props":45767,"children":45768},{"style":259},[45769],{"type":21,"value":37642},{"type":15,"tag":252,"props":45771,"children":45772},{"style":447},[45773],{"type":21,"value":45774},"(left, chains) ",{"type":15,"tag":252,"props":45776,"children":45777},{"style":601},[45778],{"type":21,"value":4054},{"type":15,"tag":252,"props":45780,"children":45781},{"style":447},[45782],{"type":21,"value":3769},{"type":15,"tag":252,"props":45784,"children":45785},{"class":254,"line":2182},[45786,45790,45794,45799,45803,45807,45811,45815],{"type":15,"tag":252,"props":45787,"children":45788},{"style":601},[45789],{"type":21,"value":13283},{"type":15,"tag":252,"props":45791,"children":45792},{"style":601},[45793],{"type":21,"value":8623},{"type":15,"tag":252,"props":45795,"children":45796},{"style":447},[45797],{"type":21,"value":45798}," current_left ",{"type":15,"tag":252,"props":45800,"children":45801},{"style":601},[45802],{"type":21,"value":614},{"type":15,"tag":252,"props":45804,"children":45805},{"style":276},[45806],{"type":21,"value":7244},{"type":15,"tag":252,"props":45808,"children":45809},{"style":601},[45810],{"type":21,"value":432},{"type":15,"tag":252,"props":45812,"children":45813},{"style":259},[45814],{"type":21,"value":19036},{"type":15,"tag":252,"props":45816,"children":45817},{"style":447},[45818],{"type":21,"value":37975},{"type":15,"tag":252,"props":45820,"children":45821},{"class":254,"line":2190},[45822,45826,45830,45835,45839,45843,45847,45852,45857,45861,45866,45870,45874,45878],{"type":15,"tag":252,"props":45823,"children":45824},{"style":601},[45825],{"type":21,"value":13283},{"type":15,"tag":252,"props":45827,"children":45828},{"style":601},[45829],{"type":21,"value":8623},{"type":15,"tag":252,"props":45831,"children":45832},{"style":447},[45833],{"type":21,"value":45834}," parts ",{"type":15,"tag":252,"props":45836,"children":45837},{"style":601},[45838],{"type":21,"value":614},{"type":15,"tag":252,"props":45840,"children":45841},{"style":259},[45842],{"type":21,"value":5821},{"type":15,"tag":252,"props":45844,"children":45845},{"style":601},[45846],{"type":21,"value":804},{"type":15,"tag":252,"props":45848,"children":45849},{"style":259},[45850],{"type":21,"value":45851},"with_capacity",{"type":15,"tag":252,"props":45853,"children":45854},{"style":447},[45855],{"type":21,"value":45856},"(chains",{"type":15,"tag":252,"props":45858,"children":45859},{"style":601},[45860],{"type":21,"value":432},{"type":15,"tag":252,"props":45862,"children":45863},{"style":259},[45864],{"type":21,"value":45865},"len",{"type":15,"tag":252,"props":45867,"children":45868},{"style":447},[45869],{"type":21,"value":3942},{"type":15,"tag":252,"props":45871,"children":45872},{"style":601},[45873],{"type":21,"value":38576},{"type":15,"tag":252,"props":45875,"children":45876},{"style":276},[45877],{"type":21,"value":7809},{"type":15,"tag":252,"props":45879,"children":45880},{"style":447},[45881],{"type":21,"value":859},{"type":15,"tag":252,"props":45883,"children":45884},{"class":254,"line":2222},[45885],{"type":15,"tag":252,"props":45886,"children":45887},{"emptyLinePlaceholder":2053},[45888],{"type":21,"value":2056},{"type":15,"tag":252,"props":45890,"children":45891},{"class":254,"line":2270},[45892,45896,45901,45905],{"type":15,"tag":252,"props":45893,"children":45894},{"style":601},[45895],{"type":21,"value":26409},{"type":15,"tag":252,"props":45897,"children":45898},{"style":447},[45899],{"type":21,"value":45900}," (op, right_side) ",{"type":15,"tag":252,"props":45902,"children":45903},{"style":601},[45904],{"type":21,"value":16126},{"type":15,"tag":252,"props":45906,"children":45907},{"style":447},[45908],{"type":21,"value":45909}," chains {\n",{"type":15,"tag":252,"props":45911,"children":45912},{"class":254,"line":2302},[45913,45917,45921,45925,45929,45933,45937],{"type":15,"tag":252,"props":45914,"children":45915},{"style":601},[45916],{"type":21,"value":37484},{"type":15,"tag":252,"props":45918,"children":45919},{"style":447},[45920],{"type":21,"value":36711},{"type":15,"tag":252,"props":45922,"children":45923},{"style":601},[45924],{"type":21,"value":614},{"type":15,"tag":252,"props":45926,"children":45927},{"style":276},[45928],{"type":21,"value":7244},{"type":15,"tag":252,"props":45930,"children":45931},{"style":601},[45932],{"type":21,"value":432},{"type":15,"tag":252,"props":45934,"children":45935},{"style":259},[45936],{"type":21,"value":19036},{"type":15,"tag":252,"props":45938,"children":45939},{"style":447},[45940],{"type":21,"value":45941},"(right_side);\n",{"type":15,"tag":252,"props":45943,"children":45944},{"class":254,"line":2310},[45945,45949,45953,45957,45961],{"type":15,"tag":252,"props":45946,"children":45947},{"style":601},[45948],{"type":21,"value":37484},{"type":15,"tag":252,"props":45950,"children":45951},{"style":447},[45952],{"type":21,"value":38026},{"type":15,"tag":252,"props":45954,"children":45955},{"style":601},[45956],{"type":21,"value":614},{"type":15,"tag":252,"props":45958,"children":45959},{"style":601},[45960],{"type":21,"value":18821},{"type":15,"tag":252,"props":45962,"children":45963},{"style":447},[45964],{"type":21,"value":37444},{"type":15,"tag":252,"props":45966,"children":45967},{"class":254,"line":2370},[45968,45972,45976,45980,45984,45988,45992,45996,46000,46004],{"type":15,"tag":252,"props":45969,"children":45970},{"style":259},[45971],{"type":21,"value":37625},{"type":15,"tag":252,"props":45973,"children":45974},{"style":601},[45975],{"type":21,"value":804},{"type":15,"tag":252,"props":45977,"children":45978},{"style":259},[45979],{"type":21,"value":37084},{"type":15,"tag":252,"props":45981,"children":45982},{"style":601},[45983],{"type":21,"value":804},{"type":15,"tag":252,"props":45985,"children":45986},{"style":259},[45987],{"type":21,"value":37692},{"type":15,"tag":252,"props":45989,"children":45990},{"style":601},[45991],{"type":21,"value":9226},{"type":15,"tag":252,"props":45993,"children":45994},{"style":259},[45995],{"type":21,"value":38071},{"type":15,"tag":252,"props":45997,"children":45998},{"style":601},[45999],{"type":21,"value":804},{"type":15,"tag":252,"props":46001,"children":46002},{"style":276},[46003],{"type":21,"value":38080},{"type":15,"tag":252,"props":46005,"children":46006},{"style":447},[46007],{"type":21,"value":3879},{"type":15,"tag":252,"props":46009,"children":46010},{"class":254,"line":2418},[46011,46015,46019,46023,46027,46031,46035,46039,46043,46048],{"type":15,"tag":252,"props":46012,"children":46013},{"style":259},[46014],{"type":21,"value":37625},{"type":15,"tag":252,"props":46016,"children":46017},{"style":601},[46018],{"type":21,"value":804},{"type":15,"tag":252,"props":46020,"children":46021},{"style":259},[46022],{"type":21,"value":37084},{"type":15,"tag":252,"props":46024,"children":46025},{"style":601},[46026],{"type":21,"value":804},{"type":15,"tag":252,"props":46028,"children":46029},{"style":259},[46030],{"type":21,"value":43508},{"type":15,"tag":252,"props":46032,"children":46033},{"style":601},[46034],{"type":21,"value":9226},{"type":15,"tag":252,"props":46036,"children":46037},{"style":259},[46038],{"type":21,"value":38071},{"type":15,"tag":252,"props":46040,"children":46041},{"style":601},[46042],{"type":21,"value":804},{"type":15,"tag":252,"props":46044,"children":46045},{"style":276},[46046],{"type":21,"value":46047},"NE",{"type":15,"tag":252,"props":46049,"children":46050},{"style":447},[46051],{"type":21,"value":3879},{"type":15,"tag":252,"props":46053,"children":46054},{"class":254,"line":2426},[46055,46059,46063,46067,46071,46075,46079,46083,46087,46092],{"type":15,"tag":252,"props":46056,"children":46057},{"style":259},[46058],{"type":21,"value":37625},{"type":15,"tag":252,"props":46060,"children":46061},{"style":601},[46062],{"type":21,"value":804},{"type":15,"tag":252,"props":46064,"children":46065},{"style":259},[46066],{"type":21,"value":37084},{"type":15,"tag":252,"props":46068,"children":46069},{"style":601},[46070],{"type":21,"value":804},{"type":15,"tag":252,"props":46072,"children":46073},{"style":259},[46074],{"type":21,"value":43557},{"type":15,"tag":252,"props":46076,"children":46077},{"style":601},[46078],{"type":21,"value":9226},{"type":15,"tag":252,"props":46080,"children":46081},{"style":259},[46082],{"type":21,"value":38071},{"type":15,"tag":252,"props":46084,"children":46085},{"style":601},[46086],{"type":21,"value":804},{"type":15,"tag":252,"props":46088,"children":46089},{"style":276},[46090],{"type":21,"value":46091},"SLT",{"type":15,"tag":252,"props":46093,"children":46094},{"style":447},[46095],{"type":21,"value":3879},{"type":15,"tag":252,"props":46097,"children":46098},{"class":254,"line":2474},[46099,46103,46107,46111,46115,46119,46123,46127,46131,46136],{"type":15,"tag":252,"props":46100,"children":46101},{"style":259},[46102],{"type":21,"value":37625},{"type":15,"tag":252,"props":46104,"children":46105},{"style":601},[46106],{"type":21,"value":804},{"type":15,"tag":252,"props":46108,"children":46109},{"style":259},[46110],{"type":21,"value":37084},{"type":15,"tag":252,"props":46112,"children":46113},{"style":601},[46114],{"type":21,"value":804},{"type":15,"tag":252,"props":46116,"children":46117},{"style":259},[46118],{"type":21,"value":43606},{"type":15,"tag":252,"props":46120,"children":46121},{"style":601},[46122],{"type":21,"value":9226},{"type":15,"tag":252,"props":46124,"children":46125},{"style":259},[46126],{"type":21,"value":38071},{"type":15,"tag":252,"props":46128,"children":46129},{"style":601},[46130],{"type":21,"value":804},{"type":15,"tag":252,"props":46132,"children":46133},{"style":276},[46134],{"type":21,"value":46135},"SLE",{"type":15,"tag":252,"props":46137,"children":46138},{"style":447},[46139],{"type":21,"value":3879},{"type":15,"tag":252,"props":46141,"children":46142},{"class":254,"line":2522},[46143,46147,46151,46155,46159,46163,46167,46171,46175,46180],{"type":15,"tag":252,"props":46144,"children":46145},{"style":259},[46146],{"type":21,"value":37625},{"type":15,"tag":252,"props":46148,"children":46149},{"style":601},[46150],{"type":21,"value":804},{"type":15,"tag":252,"props":46152,"children":46153},{"style":259},[46154],{"type":21,"value":37084},{"type":15,"tag":252,"props":46156,"children":46157},{"style":601},[46158],{"type":21,"value":804},{"type":15,"tag":252,"props":46160,"children":46161},{"style":259},[46162],{"type":21,"value":43655},{"type":15,"tag":252,"props":46164,"children":46165},{"style":601},[46166],{"type":21,"value":9226},{"type":15,"tag":252,"props":46168,"children":46169},{"style":259},[46170],{"type":21,"value":38071},{"type":15,"tag":252,"props":46172,"children":46173},{"style":601},[46174],{"type":21,"value":804},{"type":15,"tag":252,"props":46176,"children":46177},{"style":276},[46178],{"type":21,"value":46179},"SGT",{"type":15,"tag":252,"props":46181,"children":46182},{"style":447},[46183],{"type":21,"value":3879},{"type":15,"tag":252,"props":46185,"children":46186},{"class":254,"line":2530},[46187,46191,46195,46199,46203,46207,46211,46215,46219,46224],{"type":15,"tag":252,"props":46188,"children":46189},{"style":259},[46190],{"type":21,"value":37625},{"type":15,"tag":252,"props":46192,"children":46193},{"style":601},[46194],{"type":21,"value":804},{"type":15,"tag":252,"props":46196,"children":46197},{"style":259},[46198],{"type":21,"value":37084},{"type":15,"tag":252,"props":46200,"children":46201},{"style":601},[46202],{"type":21,"value":804},{"type":15,"tag":252,"props":46204,"children":46205},{"style":259},[46206],{"type":21,"value":43704},{"type":15,"tag":252,"props":46208,"children":46209},{"style":601},[46210],{"type":21,"value":9226},{"type":15,"tag":252,"props":46212,"children":46213},{"style":259},[46214],{"type":21,"value":38071},{"type":15,"tag":252,"props":46216,"children":46217},{"style":601},[46218],{"type":21,"value":804},{"type":15,"tag":252,"props":46220,"children":46221},{"style":276},[46222],{"type":21,"value":46223},"SGE",{"type":15,"tag":252,"props":46225,"children":46226},{"style":447},[46227],{"type":21,"value":3879},{"type":15,"tag":252,"props":46229,"children":46230},{"class":254,"line":2570},[46231],{"type":15,"tag":252,"props":46232,"children":46233},{"style":447},[46234],{"type":21,"value":46235},"                    };\n",{"type":15,"tag":252,"props":46237,"children":46238},{"class":254,"line":2591},[46239],{"type":15,"tag":252,"props":46240,"children":46241},{"emptyLinePlaceholder":2053},[46242],{"type":21,"value":2056},{"type":15,"tag":252,"props":46244,"children":46245},{"class":254,"line":2599},[46246,46250,46255],{"type":15,"tag":252,"props":46247,"children":46248},{"style":601},[46249],{"type":21,"value":37484},{"type":15,"tag":252,"props":46251,"children":46252},{"style":447},[46253],{"type":21,"value":46254}," part ",{"type":15,"tag":252,"props":46256,"children":46257},{"style":601},[46258],{"type":21,"value":46259},"=\n",{"type":15,"tag":252,"props":46261,"children":46262},{"class":254,"line":2647},[46263,46267,46271],{"type":15,"tag":252,"props":46264,"children":46265},{"style":276},[46266],{"type":21,"value":31337},{"type":15,"tag":252,"props":46268,"children":46269},{"style":601},[46270],{"type":21,"value":432},{"type":15,"tag":252,"props":46272,"children":46273},{"style":447},[46274],{"type":21,"value":18914},{"type":15,"tag":252,"props":46276,"children":46277},{"class":254,"line":2679},[46278,46283,46287,46292,46297],{"type":15,"tag":252,"props":46279,"children":46280},{"style":601},[46281],{"type":21,"value":46282},"                            .",{"type":15,"tag":252,"props":46284,"children":46285},{"style":259},[46286],{"type":21,"value":38125},{"type":15,"tag":252,"props":46288,"children":46289},{"style":447},[46290],{"type":21,"value":46291},"(op, current_left, right_side, ",{"type":15,"tag":252,"props":46293,"children":46294},{"style":265},[46295],{"type":21,"value":46296},"\"Compare\"",{"type":15,"tag":252,"props":46298,"children":46299},{"style":447},[46300],{"type":21,"value":859},{"type":15,"tag":252,"props":46302,"children":46303},{"class":254,"line":2727},[46304],{"type":15,"tag":252,"props":46305,"children":46306},{"emptyLinePlaceholder":2053},[46307],{"type":21,"value":2056},{"type":15,"tag":252,"props":46309,"children":46310},{"class":254,"line":2735},[46311,46316,46320,46324],{"type":15,"tag":252,"props":46312,"children":46313},{"style":447},[46314],{"type":21,"value":46315},"                    parts",{"type":15,"tag":252,"props":46317,"children":46318},{"style":601},[46319],{"type":21,"value":432},{"type":15,"tag":252,"props":46321,"children":46322},{"style":259},[46323],{"type":21,"value":8743},{"type":15,"tag":252,"props":46325,"children":46326},{"style":447},[46327],{"type":21,"value":46328},"(part);\n",{"type":15,"tag":252,"props":46330,"children":46331},{"class":254,"line":2799},[46332,46337,46341],{"type":15,"tag":252,"props":46333,"children":46334},{"style":447},[46335],{"type":21,"value":46336},"                    current_left ",{"type":15,"tag":252,"props":46338,"children":46339},{"style":601},[46340],{"type":21,"value":614},{"type":15,"tag":252,"props":46342,"children":46343},{"style":447},[46344],{"type":21,"value":46345}," right_side;\n",{"type":15,"tag":252,"props":46347,"children":46348},{"class":254,"line":2807},[46349],{"type":15,"tag":252,"props":46350,"children":46351},{"style":447},[46352],{"type":21,"value":10093},{"type":15,"tag":252,"props":46354,"children":46355},{"class":254,"line":2848},[46356],{"type":15,"tag":252,"props":46357,"children":46358},{"emptyLinePlaceholder":2053},[46359],{"type":21,"value":2056},{"type":15,"tag":252,"props":46361,"children":46362},{"class":254,"line":4645},[46363,46367,46371,46375,46379,46384,46388],{"type":15,"tag":252,"props":46364,"children":46365},{"style":601},[46366],{"type":21,"value":13283},{"type":15,"tag":252,"props":46368,"children":46369},{"style":601},[46370],{"type":21,"value":8623},{"type":15,"tag":252,"props":46372,"children":46373},{"style":447},[46374],{"type":21,"value":13288},{"type":15,"tag":252,"props":46376,"children":46377},{"style":601},[46378],{"type":21,"value":614},{"type":15,"tag":252,"props":46380,"children":46381},{"style":447},[46382],{"type":21,"value":46383}," parts[",{"type":15,"tag":252,"props":46385,"children":46386},{"style":276},[46387],{"type":21,"value":1901},{"type":15,"tag":252,"props":46389,"children":46390},{"style":447},[46391],{"type":21,"value":46392},"];\n",{"type":15,"tag":252,"props":46394,"children":46395},{"class":254,"line":4654},[46396,46400,46404,46408,46413,46417,46421,46425,46429,46434,46438,46442],{"type":15,"tag":252,"props":46397,"children":46398},{"style":601},[46399],{"type":21,"value":26409},{"type":15,"tag":252,"props":46401,"children":46402},{"style":447},[46403],{"type":21,"value":46254},{"type":15,"tag":252,"props":46405,"children":46406},{"style":601},[46407],{"type":21,"value":16126},{"type":15,"tag":252,"props":46409,"children":46410},{"style":447},[46411],{"type":21,"value":46412}," parts",{"type":15,"tag":252,"props":46414,"children":46415},{"style":601},[46416],{"type":21,"value":432},{"type":15,"tag":252,"props":46418,"children":46419},{"style":259},[46420],{"type":21,"value":10667},{"type":15,"tag":252,"props":46422,"children":46423},{"style":447},[46424],{"type":21,"value":7305},{"type":15,"tag":252,"props":46426,"children":46427},{"style":601},[46428],{"type":21,"value":432},{"type":15,"tag":252,"props":46430,"children":46431},{"style":259},[46432],{"type":21,"value":46433},"skip",{"type":15,"tag":252,"props":46435,"children":46436},{"style":447},[46437],{"type":21,"value":849},{"type":15,"tag":252,"props":46439,"children":46440},{"style":276},[46441],{"type":21,"value":6162},{"type":15,"tag":252,"props":46443,"children":46444},{"style":447},[46445],{"type":21,"value":7370},{"type":15,"tag":252,"props":46447,"children":46448},{"class":254,"line":4675},[46449,46454,46458,46462,46466,46470,46474,46479,46484,46488,46493,46498],{"type":15,"tag":252,"props":46450,"children":46451},{"style":447},[46452],{"type":21,"value":46453},"                    result ",{"type":15,"tag":252,"props":46455,"children":46456},{"style":601},[46457],{"type":21,"value":614},{"type":15,"tag":252,"props":46459,"children":46460},{"style":276},[46461],{"type":21,"value":7244},{"type":15,"tag":252,"props":46463,"children":46464},{"style":601},[46465],{"type":21,"value":432},{"type":15,"tag":252,"props":46467,"children":46468},{"style":447},[46469],{"type":21,"value":930},{"type":15,"tag":252,"props":46471,"children":46472},{"style":601},[46473],{"type":21,"value":432},{"type":15,"tag":252,"props":46475,"children":46476},{"style":259},[46477],{"type":21,"value":46478},"build_and",{"type":15,"tag":252,"props":46480,"children":46481},{"style":447},[46482],{"type":21,"value":46483},"(result, ",{"type":15,"tag":252,"props":46485,"children":46486},{"style":601},[46487],{"type":21,"value":8752},{"type":15,"tag":252,"props":46489,"children":46490},{"style":447},[46491],{"type":21,"value":46492},"part, ",{"type":15,"tag":252,"props":46494,"children":46495},{"style":265},[46496],{"type":21,"value":46497},"\"And\"",{"type":15,"tag":252,"props":46499,"children":46500},{"style":447},[46501],{"type":21,"value":859},{"type":15,"tag":252,"props":46503,"children":46504},{"class":254,"line":8160},[46505],{"type":15,"tag":252,"props":46506,"children":46507},{"style":447},[46508],{"type":21,"value":10093},{"type":15,"tag":252,"props":46510,"children":46511},{"class":254,"line":8168},[46512],{"type":15,"tag":252,"props":46513,"children":46514},{"emptyLinePlaceholder":2053},[46515],{"type":21,"value":2056},{"type":15,"tag":252,"props":46517,"children":46518},{"class":254,"line":8176},[46519],{"type":15,"tag":252,"props":46520,"children":46521},{"style":447},[46522],{"type":21,"value":46523},"                result\n",{"type":15,"tag":252,"props":46525,"children":46526},{"class":254,"line":8225},[46527],{"type":15,"tag":252,"props":46528,"children":46529},{"style":447},[46530],{"type":21,"value":8814},{"type":15,"tag":252,"props":46532,"children":46533},{"class":254,"line":8289},[46534],{"type":15,"tag":252,"props":46535,"children":46536},{"style":447},[46537],{"type":21,"value":4087},{"type":15,"tag":252,"props":46539,"children":46540},{"class":254,"line":8326},[46541],{"type":15,"tag":252,"props":46542,"children":46543},{"style":447},[46544],{"type":21,"value":4095},{"type":15,"tag":23,"props":46546,"children":46547},{},[46548,46550,46556],{"type":21,"value":46549},"and ofc then use this in ",{"type":15,"tag":81,"props":46551,"children":46553},{"className":46552},[],[46554],{"type":21,"value":46555},"compile_boolean_expression",{"type":21,"value":5726},{"type":15,"tag":23,"props":46558,"children":46559},{},[46560,46562,46568,46570,46575,46577,46582],{"type":21,"value":46561},"So we basically loop over each pair of expressions, and then we compare them, and then we ",{"type":15,"tag":81,"props":46563,"children":46565},{"className":46564},[],[46566],{"type":21,"value":46567},"and",{"type":21,"value":46569}," them together. So ",{"type":15,"tag":81,"props":46571,"children":46573},{"className":46572},[],[46574],{"type":21,"value":39270},{"type":21,"value":46576}," is compiled as ",{"type":15,"tag":81,"props":46578,"children":46580},{"className":46579},[],[46581],{"type":21,"value":39278},{"type":21,"value":432},{"type":15,"tag":23,"props":46584,"children":46585},{},[46586],{"type":21,"value":46587},"Running our tests we see them all work! But we still have to add the binary operators!",{"type":15,"tag":192,"props":46589,"children":46591},{"id":46590},"binary-operators-ints",[46592],{"type":21,"value":46593},"Binary Operators - ints",{"type":15,"tag":23,"props":46595,"children":46596},{},[46597],{"type":21,"value":46598},"So now integers, time to do some MATH! YAY!\nAnd as always, tests!",{"type":15,"tag":95,"props":46600,"children":46602},{"code":46601},"${\n    assert 1 + 1 == 2;\n    assert 1 + 2 + 3 == 6;\n    assert 2 * 3 + 4 == 10;\n    assert 1 - 2 - 3 == -4; \n    \n    # These are some strange edge cases!\n    assert -5 + 2 == -3;\n    assert -5 - 2 == -7;\n    assert 5 + -3 == 2; \n    assert 3 - -2 == 5;\n    assert 3 --- 2 == 1;\n    assert 3 + 2 - 1 == 4;\n    \n    assert 4 * 6 / 2 == 12;\n}\n",[46603],{"type":15,"tag":81,"props":46604,"children":46605},{"__ignoreMap":8},[46606],{"type":21,"value":46601},{"type":15,"tag":59,"props":46608,"children":46609},{"id":30034},[46610],{"type":21,"value":5541},{"type":15,"tag":23,"props":46612,"children":46613},{},[46614,46616,46621,46622,46627,46628,46633,46634,46639,46641,46647,46648,46653,46655,46660],{"type":21,"value":46615},"Okay so you need to add the ",{"type":15,"tag":81,"props":46617,"children":46619},{"className":46618},[],[46620],{"type":21,"value":38569},{"type":21,"value":1076},{"type":15,"tag":81,"props":46623,"children":46625},{"className":46624},[],[46626],{"type":21,"value":38576},{"type":21,"value":1076},{"type":15,"tag":81,"props":46629,"children":46631},{"className":46630},[],[46632],{"type":21,"value":8752},{"type":21,"value":3071},{"type":15,"tag":81,"props":46635,"children":46637},{"className":46636},[],[46638],{"type":21,"value":1613},{"type":21,"value":46640}," tokens to the tokenizer, and then the ",{"type":15,"tag":81,"props":46642,"children":46644},{"className":46643},[],[46645],{"type":21,"value":46646},"Plus",{"type":21,"value":1076},{"type":15,"tag":81,"props":46649,"children":46651},{"className":46650},[],[46652],{"type":21,"value":39379},{"type":21,"value":46654},", etc, to the AST. And then we need to add them to the ",{"type":15,"tag":81,"props":46656,"children":46658},{"className":46657},[],[46659],{"type":21,"value":43255},{"type":21,"value":46661}," static.",{"type":15,"tag":95,"props":46663,"children":46665},{"code":46664,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\nlazy_static! {\n    static ref OPERATORS: Vec\u003COperatorType> = vec![\n        OperatorType::Prefix(TokenType::Bang, ast::PrefixOp::Not),\n        OperatorType::Comparison(vec![\n            // ...\n        ]),\n        OperatorType::Binary(vec![\n            (TokenType::Plus, ast::BinaryOp::Plus),\n            (TokenType::Minus, ast::BinaryOp::Minus),\n        ]),\n        OperatorType::Binary(vec![\n            (TokenType::Star, ast::BinaryOp::Multiply),\n            (TokenType::Slash, ast::BinaryOp::Divide),\n        ]),\n        OperatorType::Prefix(TokenType::Minus, ast::PrefixOp::Negate),\n    ];\n}\n",[46666],{"type":15,"tag":81,"props":46667,"children":46668},{"__ignoreMap":8},[46669,46676,46687,46734,46793,46820,46827,46834,46861,46908,46955,46962,46989,47038,47087,47094,47153,47160],{"type":15,"tag":252,"props":46670,"children":46671},{"class":254,"line":255},[46672],{"type":15,"tag":252,"props":46673,"children":46674},{"style":3287},[46675],{"type":21,"value":11380},{"type":15,"tag":252,"props":46677,"children":46678},{"class":254,"line":334},[46679,46683],{"type":15,"tag":252,"props":46680,"children":46681},{"style":259},[46682],{"type":21,"value":39787},{"type":15,"tag":252,"props":46684,"children":46685},{"style":447},[46686],{"type":21,"value":3769},{"type":15,"tag":252,"props":46688,"children":46689},{"class":254,"line":390},[46690,46694,46698,46702,46706,46710,46714,46718,46722,46726,46730],{"type":15,"tag":252,"props":46691,"children":46692},{"style":601},[46693],{"type":21,"value":39815},{"type":15,"tag":252,"props":46695,"children":46696},{"style":601},[46697],{"type":21,"value":39820},{"type":15,"tag":252,"props":46699,"children":46700},{"style":276},[46701],{"type":21,"value":39825},{"type":15,"tag":252,"props":46703,"children":46704},{"style":601},[46705],{"type":21,"value":3374},{"type":15,"tag":252,"props":46707,"children":46708},{"style":259},[46709],{"type":21,"value":5821},{"type":15,"tag":252,"props":46711,"children":46712},{"style":447},[46713],{"type":21,"value":5826},{"type":15,"tag":252,"props":46715,"children":46716},{"style":259},[46717],{"type":21,"value":39842},{"type":15,"tag":252,"props":46719,"children":46720},{"style":447},[46721],{"type":21,"value":7120},{"type":15,"tag":252,"props":46723,"children":46724},{"style":601},[46725],{"type":21,"value":614},{"type":15,"tag":252,"props":46727,"children":46728},{"style":259},[46729],{"type":21,"value":39855},{"type":15,"tag":252,"props":46731,"children":46732},{"style":447},[46733],{"type":21,"value":6104},{"type":15,"tag":252,"props":46735,"children":46736},{"class":254,"line":2077},[46737,46741,46745,46749,46753,46757,46761,46765,46769,46773,46777,46781,46785,46789],{"type":15,"tag":252,"props":46738,"children":46739},{"style":259},[46740],{"type":21,"value":39867},{"type":15,"tag":252,"props":46742,"children":46743},{"style":601},[46744],{"type":21,"value":804},{"type":15,"tag":252,"props":46746,"children":46747},{"style":259},[46748],{"type":21,"value":39876},{"type":15,"tag":252,"props":46750,"children":46751},{"style":447},[46752],{"type":21,"value":849},{"type":15,"tag":252,"props":46754,"children":46755},{"style":259},[46756],{"type":21,"value":8846},{"type":15,"tag":252,"props":46758,"children":46759},{"style":601},[46760],{"type":21,"value":804},{"type":15,"tag":252,"props":46762,"children":46763},{"style":259},[46764],{"type":21,"value":39372},{"type":15,"tag":252,"props":46766,"children":46767},{"style":447},[46768],{"type":21,"value":1076},{"type":15,"tag":252,"props":46770,"children":46771},{"style":259},[46772],{"type":21,"value":5623},{"type":15,"tag":252,"props":46774,"children":46775},{"style":601},[46776],{"type":21,"value":804},{"type":15,"tag":252,"props":46778,"children":46779},{"style":259},[46780],{"type":21,"value":39516},{"type":15,"tag":252,"props":46782,"children":46783},{"style":601},[46784],{"type":21,"value":804},{"type":15,"tag":252,"props":46786,"children":46787},{"style":259},[46788],{"type":21,"value":39917},{"type":15,"tag":252,"props":46790,"children":46791},{"style":447},[46792],{"type":21,"value":5899},{"type":15,"tag":252,"props":46794,"children":46795},{"class":254,"line":2110},[46796,46800,46804,46808,46812,46816],{"type":15,"tag":252,"props":46797,"children":46798},{"style":259},[46799],{"type":21,"value":39867},{"type":15,"tag":252,"props":46801,"children":46802},{"style":601},[46803],{"type":21,"value":804},{"type":15,"tag":252,"props":46805,"children":46806},{"style":259},[46807],{"type":21,"value":35185},{"type":15,"tag":252,"props":46809,"children":46810},{"style":447},[46811],{"type":21,"value":849},{"type":15,"tag":252,"props":46813,"children":46814},{"style":259},[46815],{"type":21,"value":6099},{"type":15,"tag":252,"props":46817,"children":46818},{"style":447},[46819],{"type":21,"value":6104},{"type":15,"tag":252,"props":46821,"children":46822},{"class":254,"line":2150},[46823],{"type":15,"tag":252,"props":46824,"children":46825},{"style":3287},[46826],{"type":21,"value":22842},{"type":15,"tag":252,"props":46828,"children":46829},{"class":254,"line":2182},[46830],{"type":15,"tag":252,"props":46831,"children":46832},{"style":447},[46833],{"type":21,"value":43716},{"type":15,"tag":252,"props":46835,"children":46836},{"class":254,"line":2190},[46837,46841,46845,46849,46853,46857],{"type":15,"tag":252,"props":46838,"children":46839},{"style":259},[46840],{"type":21,"value":39867},{"type":15,"tag":252,"props":46842,"children":46843},{"style":601},[46844],{"type":21,"value":804},{"type":15,"tag":252,"props":46846,"children":46847},{"style":259},[46848],{"type":21,"value":40534},{"type":15,"tag":252,"props":46850,"children":46851},{"style":447},[46852],{"type":21,"value":849},{"type":15,"tag":252,"props":46854,"children":46855},{"style":259},[46856],{"type":21,"value":6099},{"type":15,"tag":252,"props":46858,"children":46859},{"style":447},[46860],{"type":21,"value":6104},{"type":15,"tag":252,"props":46862,"children":46863},{"class":254,"line":2222},[46864,46868,46872,46876,46880,46884,46888,46892,46896,46900,46904],{"type":15,"tag":252,"props":46865,"children":46866},{"style":447},[46867],{"type":21,"value":43423},{"type":15,"tag":252,"props":46869,"children":46870},{"style":259},[46871],{"type":21,"value":8846},{"type":15,"tag":252,"props":46873,"children":46874},{"style":601},[46875],{"type":21,"value":804},{"type":15,"tag":252,"props":46877,"children":46878},{"style":259},[46879],{"type":21,"value":46646},{"type":15,"tag":252,"props":46881,"children":46882},{"style":447},[46883],{"type":21,"value":1076},{"type":15,"tag":252,"props":46885,"children":46886},{"style":259},[46887],{"type":21,"value":5623},{"type":15,"tag":252,"props":46889,"children":46890},{"style":601},[46891],{"type":21,"value":804},{"type":15,"tag":252,"props":46893,"children":46894},{"style":259},[46895],{"type":21,"value":36180},{"type":15,"tag":252,"props":46897,"children":46898},{"style":601},[46899],{"type":21,"value":804},{"type":15,"tag":252,"props":46901,"children":46902},{"style":259},[46903],{"type":21,"value":46646},{"type":15,"tag":252,"props":46905,"children":46906},{"style":447},[46907],{"type":21,"value":5899},{"type":15,"tag":252,"props":46909,"children":46910},{"class":254,"line":2270},[46911,46915,46919,46923,46927,46931,46935,46939,46943,46947,46951],{"type":15,"tag":252,"props":46912,"children":46913},{"style":447},[46914],{"type":21,"value":43423},{"type":15,"tag":252,"props":46916,"children":46917},{"style":259},[46918],{"type":21,"value":8846},{"type":15,"tag":252,"props":46920,"children":46921},{"style":601},[46922],{"type":21,"value":804},{"type":15,"tag":252,"props":46924,"children":46925},{"style":259},[46926],{"type":21,"value":39379},{"type":15,"tag":252,"props":46928,"children":46929},{"style":447},[46930],{"type":21,"value":1076},{"type":15,"tag":252,"props":46932,"children":46933},{"style":259},[46934],{"type":21,"value":5623},{"type":15,"tag":252,"props":46936,"children":46937},{"style":601},[46938],{"type":21,"value":804},{"type":15,"tag":252,"props":46940,"children":46941},{"style":259},[46942],{"type":21,"value":36180},{"type":15,"tag":252,"props":46944,"children":46945},{"style":601},[46946],{"type":21,"value":804},{"type":15,"tag":252,"props":46948,"children":46949},{"style":259},[46950],{"type":21,"value":39379},{"type":15,"tag":252,"props":46952,"children":46953},{"style":447},[46954],{"type":21,"value":5899},{"type":15,"tag":252,"props":46956,"children":46957},{"class":254,"line":2302},[46958],{"type":15,"tag":252,"props":46959,"children":46960},{"style":447},[46961],{"type":21,"value":43716},{"type":15,"tag":252,"props":46963,"children":46964},{"class":254,"line":2310},[46965,46969,46973,46977,46981,46985],{"type":15,"tag":252,"props":46966,"children":46967},{"style":259},[46968],{"type":21,"value":39867},{"type":15,"tag":252,"props":46970,"children":46971},{"style":601},[46972],{"type":21,"value":804},{"type":15,"tag":252,"props":46974,"children":46975},{"style":259},[46976],{"type":21,"value":40534},{"type":15,"tag":252,"props":46978,"children":46979},{"style":447},[46980],{"type":21,"value":849},{"type":15,"tag":252,"props":46982,"children":46983},{"style":259},[46984],{"type":21,"value":6099},{"type":15,"tag":252,"props":46986,"children":46987},{"style":447},[46988],{"type":21,"value":6104},{"type":15,"tag":252,"props":46990,"children":46991},{"class":254,"line":2370},[46992,46996,47000,47004,47009,47013,47017,47021,47025,47029,47034],{"type":15,"tag":252,"props":46993,"children":46994},{"style":447},[46995],{"type":21,"value":43423},{"type":15,"tag":252,"props":46997,"children":46998},{"style":259},[46999],{"type":21,"value":8846},{"type":15,"tag":252,"props":47001,"children":47002},{"style":601},[47003],{"type":21,"value":804},{"type":15,"tag":252,"props":47005,"children":47006},{"style":259},[47007],{"type":21,"value":47008},"Star",{"type":15,"tag":252,"props":47010,"children":47011},{"style":447},[47012],{"type":21,"value":1076},{"type":15,"tag":252,"props":47014,"children":47015},{"style":259},[47016],{"type":21,"value":5623},{"type":15,"tag":252,"props":47018,"children":47019},{"style":601},[47020],{"type":21,"value":804},{"type":15,"tag":252,"props":47022,"children":47023},{"style":259},[47024],{"type":21,"value":36180},{"type":15,"tag":252,"props":47026,"children":47027},{"style":601},[47028],{"type":21,"value":804},{"type":15,"tag":252,"props":47030,"children":47031},{"style":259},[47032],{"type":21,"value":47033},"Multiply",{"type":15,"tag":252,"props":47035,"children":47036},{"style":447},[47037],{"type":21,"value":5899},{"type":15,"tag":252,"props":47039,"children":47040},{"class":254,"line":2418},[47041,47045,47049,47053,47058,47062,47066,47070,47074,47078,47083],{"type":15,"tag":252,"props":47042,"children":47043},{"style":447},[47044],{"type":21,"value":43423},{"type":15,"tag":252,"props":47046,"children":47047},{"style":259},[47048],{"type":21,"value":8846},{"type":15,"tag":252,"props":47050,"children":47051},{"style":601},[47052],{"type":21,"value":804},{"type":15,"tag":252,"props":47054,"children":47055},{"style":259},[47056],{"type":21,"value":47057},"Slash",{"type":15,"tag":252,"props":47059,"children":47060},{"style":447},[47061],{"type":21,"value":1076},{"type":15,"tag":252,"props":47063,"children":47064},{"style":259},[47065],{"type":21,"value":5623},{"type":15,"tag":252,"props":47067,"children":47068},{"style":601},[47069],{"type":21,"value":804},{"type":15,"tag":252,"props":47071,"children":47072},{"style":259},[47073],{"type":21,"value":36180},{"type":15,"tag":252,"props":47075,"children":47076},{"style":601},[47077],{"type":21,"value":804},{"type":15,"tag":252,"props":47079,"children":47080},{"style":259},[47081],{"type":21,"value":47082},"Divide",{"type":15,"tag":252,"props":47084,"children":47085},{"style":447},[47086],{"type":21,"value":5899},{"type":15,"tag":252,"props":47088,"children":47089},{"class":254,"line":2426},[47090],{"type":15,"tag":252,"props":47091,"children":47092},{"style":447},[47093],{"type":21,"value":43716},{"type":15,"tag":252,"props":47095,"children":47096},{"class":254,"line":2474},[47097,47101,47105,47109,47113,47117,47121,47125,47129,47133,47137,47141,47145,47149],{"type":15,"tag":252,"props":47098,"children":47099},{"style":259},[47100],{"type":21,"value":39867},{"type":15,"tag":252,"props":47102,"children":47103},{"style":601},[47104],{"type":21,"value":804},{"type":15,"tag":252,"props":47106,"children":47107},{"style":259},[47108],{"type":21,"value":39876},{"type":15,"tag":252,"props":47110,"children":47111},{"style":447},[47112],{"type":21,"value":849},{"type":15,"tag":252,"props":47114,"children":47115},{"style":259},[47116],{"type":21,"value":8846},{"type":15,"tag":252,"props":47118,"children":47119},{"style":601},[47120],{"type":21,"value":804},{"type":15,"tag":252,"props":47122,"children":47123},{"style":259},[47124],{"type":21,"value":39379},{"type":15,"tag":252,"props":47126,"children":47127},{"style":447},[47128],{"type":21,"value":1076},{"type":15,"tag":252,"props":47130,"children":47131},{"style":259},[47132],{"type":21,"value":5623},{"type":15,"tag":252,"props":47134,"children":47135},{"style":601},[47136],{"type":21,"value":804},{"type":15,"tag":252,"props":47138,"children":47139},{"style":259},[47140],{"type":21,"value":39516},{"type":15,"tag":252,"props":47142,"children":47143},{"style":601},[47144],{"type":21,"value":804},{"type":15,"tag":252,"props":47146,"children":47147},{"style":259},[47148],{"type":21,"value":39977},{"type":15,"tag":252,"props":47150,"children":47151},{"style":447},[47152],{"type":21,"value":5899},{"type":15,"tag":252,"props":47154,"children":47155},{"class":254,"line":2522},[47156],{"type":15,"tag":252,"props":47157,"children":47158},{"style":447},[47159],{"type":21,"value":39989},{"type":15,"tag":252,"props":47161,"children":47162},{"class":254,"line":2530},[47163],{"type":15,"tag":252,"props":47164,"children":47165},{"style":447},[47166],{"type":21,"value":2854},{"type":15,"tag":23,"props":47168,"children":47169},{},[47170],{"type":21,"value":47171},"Then we do our parsing logic!",{"type":15,"tag":95,"props":47173,"children":47175},{"code":47174,"language":772,"meta":8,"className":773,"style":8},"            OperatorType::Binary(mappings) => {\n                let mut left_side = self.expression_precedence(precedence + 1)?;\n                loop {\n                    let token = self.peek()?;\n                    if let Some((_, op)) = mappings.iter().find(|(t, _)| t == token) {\n                        self.0.void();\n                        let right_side = self.expression_precedence(precedence + 1)?;\n                        left_side = ast::Expression::BinaryOp(\n                            Box::new(left_side),\n                            *op,\n                            Box::new(right_side),\n                        );\n                    } else {\n                        break;\n                    }\n                }\n\n                Ok(left_side)\n            }\n",[47176],{"type":15,"tag":81,"props":47177,"children":47178},{"__ignoreMap":8},[47179,47207,47262,47273,47312,47388,47411,47462,47498,47517,47530,47549,47557,47572,47583,47590,47597,47604,47615],{"type":15,"tag":252,"props":47180,"children":47181},{"class":254,"line":255},[47182,47186,47190,47194,47199,47203],{"type":15,"tag":252,"props":47183,"children":47184},{"style":259},[47185],{"type":21,"value":40273},{"type":15,"tag":252,"props":47187,"children":47188},{"style":601},[47189],{"type":21,"value":804},{"type":15,"tag":252,"props":47191,"children":47192},{"style":259},[47193],{"type":21,"value":40534},{"type":15,"tag":252,"props":47195,"children":47196},{"style":447},[47197],{"type":21,"value":47198},"(mappings) ",{"type":15,"tag":252,"props":47200,"children":47201},{"style":601},[47202],{"type":21,"value":4054},{"type":15,"tag":252,"props":47204,"children":47205},{"style":447},[47206],{"type":21,"value":3769},{"type":15,"tag":252,"props":47208,"children":47209},{"class":254,"line":334},[47210,47214,47218,47222,47226,47230,47234,47238,47242,47246,47250,47254,47258],{"type":15,"tag":252,"props":47211,"children":47212},{"style":601},[47213],{"type":21,"value":13283},{"type":15,"tag":252,"props":47215,"children":47216},{"style":601},[47217],{"type":21,"value":8623},{"type":15,"tag":252,"props":47219,"children":47220},{"style":447},[47221],{"type":21,"value":36586},{"type":15,"tag":252,"props":47223,"children":47224},{"style":601},[47225],{"type":21,"value":614},{"type":15,"tag":252,"props":47227,"children":47228},{"style":276},[47229],{"type":21,"value":7244},{"type":15,"tag":252,"props":47231,"children":47232},{"style":601},[47233],{"type":21,"value":432},{"type":15,"tag":252,"props":47235,"children":47236},{"style":259},[47237],{"type":21,"value":40383},{"type":15,"tag":252,"props":47239,"children":47240},{"style":447},[47241],{"type":21,"value":38937},{"type":15,"tag":252,"props":47243,"children":47244},{"style":601},[47245],{"type":21,"value":38569},{"type":15,"tag":252,"props":47247,"children":47248},{"style":276},[47249],{"type":21,"value":7809},{"type":15,"tag":252,"props":47251,"children":47252},{"style":447},[47253],{"type":21,"value":1975},{"type":15,"tag":252,"props":47255,"children":47256},{"style":601},[47257],{"type":21,"value":5468},{"type":15,"tag":252,"props":47259,"children":47260},{"style":447},[47261],{"type":21,"value":3325},{"type":15,"tag":252,"props":47263,"children":47264},{"class":254,"line":390},[47265,47269],{"type":15,"tag":252,"props":47266,"children":47267},{"style":601},[47268],{"type":21,"value":43939},{"type":15,"tag":252,"props":47270,"children":47271},{"style":447},[47272],{"type":21,"value":3769},{"type":15,"tag":252,"props":47274,"children":47275},{"class":254,"line":2077},[47276,47280,47284,47288,47292,47296,47300,47304,47308],{"type":15,"tag":252,"props":47277,"children":47278},{"style":601},[47279],{"type":21,"value":37484},{"type":15,"tag":252,"props":47281,"children":47282},{"style":447},[47283],{"type":21,"value":12420},{"type":15,"tag":252,"props":47285,"children":47286},{"style":601},[47287],{"type":21,"value":614},{"type":15,"tag":252,"props":47289,"children":47290},{"style":276},[47291],{"type":21,"value":7244},{"type":15,"tag":252,"props":47293,"children":47294},{"style":601},[47295],{"type":21,"value":432},{"type":15,"tag":252,"props":47297,"children":47298},{"style":259},[47299],{"type":21,"value":8696},{"type":15,"tag":252,"props":47301,"children":47302},{"style":447},[47303],{"type":21,"value":7305},{"type":15,"tag":252,"props":47305,"children":47306},{"style":601},[47307],{"type":21,"value":5468},{"type":15,"tag":252,"props":47309,"children":47310},{"style":447},[47311],{"type":21,"value":3325},{"type":15,"tag":252,"props":47313,"children":47314},{"class":254,"line":2110},[47315,47319,47323,47327,47331,47335,47340,47344,47348,47352,47356,47360,47364,47368,47372,47376,47380,47384],{"type":15,"tag":252,"props":47316,"children":47317},{"style":601},[47318],{"type":21,"value":43990},{"type":15,"tag":252,"props":47320,"children":47321},{"style":601},[47322],{"type":21,"value":8661},{"type":15,"tag":252,"props":47324,"children":47325},{"style":259},[47326],{"type":21,"value":20696},{"type":15,"tag":252,"props":47328,"children":47329},{"style":447},[47330],{"type":21,"value":44003},{"type":15,"tag":252,"props":47332,"children":47333},{"style":601},[47334],{"type":21,"value":614},{"type":15,"tag":252,"props":47336,"children":47337},{"style":447},[47338],{"type":21,"value":47339}," mappings",{"type":15,"tag":252,"props":47341,"children":47342},{"style":601},[47343],{"type":21,"value":432},{"type":15,"tag":252,"props":47345,"children":47346},{"style":259},[47347],{"type":21,"value":10667},{"type":15,"tag":252,"props":47349,"children":47350},{"style":447},[47351],{"type":21,"value":7305},{"type":15,"tag":252,"props":47353,"children":47354},{"style":601},[47355],{"type":21,"value":432},{"type":15,"tag":252,"props":47357,"children":47358},{"style":259},[47359],{"type":21,"value":44033},{"type":15,"tag":252,"props":47361,"children":47362},{"style":447},[47363],{"type":21,"value":849},{"type":15,"tag":252,"props":47365,"children":47366},{"style":601},[47367],{"type":21,"value":10693},{"type":15,"tag":252,"props":47369,"children":47370},{"style":447},[47371],{"type":21,"value":44046},{"type":15,"tag":252,"props":47373,"children":47374},{"style":601},[47375],{"type":21,"value":10693},{"type":15,"tag":252,"props":47377,"children":47378},{"style":447},[47379],{"type":21,"value":44055},{"type":15,"tag":252,"props":47381,"children":47382},{"style":601},[47383],{"type":21,"value":8304},{"type":15,"tag":252,"props":47385,"children":47386},{"style":447},[47387],{"type":21,"value":44064},{"type":15,"tag":252,"props":47389,"children":47390},{"class":254,"line":2150},[47391,47395,47399,47403,47407],{"type":15,"tag":252,"props":47392,"children":47393},{"style":276},[47394],{"type":21,"value":31337},{"type":15,"tag":252,"props":47396,"children":47397},{"style":601},[47398],{"type":21,"value":432},{"type":15,"tag":252,"props":47400,"children":47401},{"style":276},[47402],{"type":21,"value":7295},{"type":15,"tag":252,"props":47404,"children":47405},{"style":259},[47406],{"type":21,"value":8774},{"type":15,"tag":252,"props":47408,"children":47409},{"style":447},[47410],{"type":21,"value":814},{"type":15,"tag":252,"props":47412,"children":47413},{"class":254,"line":2182},[47414,47418,47422,47426,47430,47434,47438,47442,47446,47450,47454,47458],{"type":15,"tag":252,"props":47415,"children":47416},{"style":601},[47417],{"type":21,"value":31361},{"type":15,"tag":252,"props":47419,"children":47420},{"style":447},[47421],{"type":21,"value":36711},{"type":15,"tag":252,"props":47423,"children":47424},{"style":601},[47425],{"type":21,"value":614},{"type":15,"tag":252,"props":47427,"children":47428},{"style":276},[47429],{"type":21,"value":7244},{"type":15,"tag":252,"props":47431,"children":47432},{"style":601},[47433],{"type":21,"value":432},{"type":15,"tag":252,"props":47435,"children":47436},{"style":259},[47437],{"type":21,"value":40383},{"type":15,"tag":252,"props":47439,"children":47440},{"style":447},[47441],{"type":21,"value":38937},{"type":15,"tag":252,"props":47443,"children":47444},{"style":601},[47445],{"type":21,"value":38569},{"type":15,"tag":252,"props":47447,"children":47448},{"style":276},[47449],{"type":21,"value":7809},{"type":15,"tag":252,"props":47451,"children":47452},{"style":447},[47453],{"type":21,"value":1975},{"type":15,"tag":252,"props":47455,"children":47456},{"style":601},[47457],{"type":21,"value":5468},{"type":15,"tag":252,"props":47459,"children":47460},{"style":447},[47461],{"type":21,"value":3325},{"type":15,"tag":252,"props":47463,"children":47464},{"class":254,"line":2190},[47465,47470,47474,47478,47482,47486,47490,47494],{"type":15,"tag":252,"props":47466,"children":47467},{"style":447},[47468],{"type":21,"value":47469},"                        left_side ",{"type":15,"tag":252,"props":47471,"children":47472},{"style":601},[47473],{"type":21,"value":614},{"type":15,"tag":252,"props":47475,"children":47476},{"style":259},[47477],{"type":21,"value":5678},{"type":15,"tag":252,"props":47479,"children":47480},{"style":601},[47481],{"type":21,"value":804},{"type":15,"tag":252,"props":47483,"children":47484},{"style":259},[47485],{"type":21,"value":5716},{"type":15,"tag":252,"props":47487,"children":47488},{"style":601},[47489],{"type":21,"value":804},{"type":15,"tag":252,"props":47491,"children":47492},{"style":259},[47493],{"type":21,"value":36180},{"type":15,"tag":252,"props":47495,"children":47496},{"style":447},[47497],{"type":21,"value":14196},{"type":15,"tag":252,"props":47499,"children":47500},{"class":254,"line":2222},[47501,47505,47509,47513],{"type":15,"tag":252,"props":47502,"children":47503},{"style":259},[47504],{"type":21,"value":37654},{"type":15,"tag":252,"props":47506,"children":47507},{"style":601},[47508],{"type":21,"value":804},{"type":15,"tag":252,"props":47510,"children":47511},{"style":259},[47512],{"type":21,"value":7761},{"type":15,"tag":252,"props":47514,"children":47515},{"style":447},[47516],{"type":21,"value":36795},{"type":15,"tag":252,"props":47518,"children":47519},{"class":254,"line":2270},[47520,47525],{"type":15,"tag":252,"props":47521,"children":47522},{"style":601},[47523],{"type":21,"value":47524},"                            *",{"type":15,"tag":252,"props":47526,"children":47527},{"style":447},[47528],{"type":21,"value":47529},"op,\n",{"type":15,"tag":252,"props":47531,"children":47532},{"class":254,"line":2302},[47533,47537,47541,47545],{"type":15,"tag":252,"props":47534,"children":47535},{"style":259},[47536],{"type":21,"value":37654},{"type":15,"tag":252,"props":47538,"children":47539},{"style":601},[47540],{"type":21,"value":804},{"type":15,"tag":252,"props":47542,"children":47543},{"style":259},[47544],{"type":21,"value":7761},{"type":15,"tag":252,"props":47546,"children":47547},{"style":447},[47548],{"type":21,"value":36844},{"type":15,"tag":252,"props":47550,"children":47551},{"class":254,"line":2310},[47552],{"type":15,"tag":252,"props":47553,"children":47554},{"style":447},[47555],{"type":21,"value":47556},"                        );\n",{"type":15,"tag":252,"props":47558,"children":47559},{"class":254,"line":2370},[47560,47564,47568],{"type":15,"tag":252,"props":47561,"children":47562},{"style":447},[47563],{"type":21,"value":44160},{"type":15,"tag":252,"props":47565,"children":47566},{"style":601},[47567],{"type":21,"value":8396},{"type":15,"tag":252,"props":47569,"children":47570},{"style":447},[47571],{"type":21,"value":3769},{"type":15,"tag":252,"props":47573,"children":47574},{"class":254,"line":2418},[47575,47579],{"type":15,"tag":252,"props":47576,"children":47577},{"style":601},[47578],{"type":21,"value":44176},{"type":15,"tag":252,"props":47580,"children":47581},{"style":447},[47582],{"type":21,"value":3325},{"type":15,"tag":252,"props":47584,"children":47585},{"class":254,"line":2426},[47586],{"type":15,"tag":252,"props":47587,"children":47588},{"style":447},[47589],{"type":21,"value":24209},{"type":15,"tag":252,"props":47591,"children":47592},{"class":254,"line":2474},[47593],{"type":15,"tag":252,"props":47594,"children":47595},{"style":447},[47596],{"type":21,"value":10093},{"type":15,"tag":252,"props":47598,"children":47599},{"class":254,"line":2522},[47600],{"type":15,"tag":252,"props":47601,"children":47602},{"emptyLinePlaceholder":2053},[47603],{"type":21,"value":2056},{"type":15,"tag":252,"props":47605,"children":47606},{"class":254,"line":2530},[47607,47611],{"type":15,"tag":252,"props":47608,"children":47609},{"style":259},[47610],{"type":21,"value":13392},{"type":15,"tag":252,"props":47612,"children":47613},{"style":447},[47614],{"type":21,"value":44238},{"type":15,"tag":252,"props":47616,"children":47617},{"class":254,"line":2570},[47618],{"type":15,"tag":252,"props":47619,"children":47620},{"style":447},[47621],{"type":21,"value":8814},{"type":15,"tag":23,"props":47623,"children":47624},{},[47625],{"type":21,"value":47626},"Here we build up the left side one operator at a time!",{"type":15,"tag":59,"props":47628,"children":47629},{"id":31708},[47630],{"type":21,"value":14560},{"type":15,"tag":23,"props":47632,"children":47633},{},[47634],{"type":21,"value":47635},"The IR is simple to modify:",{"type":15,"tag":95,"props":47637,"children":47639},{"code":47638,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug)]\npub enum IntExpression {\n    Literal(i32),\n    Negate(Box\u003CIntExpression>),\n    BinaryOperation(Box\u003CIntExpression>, IntBinaryOp, Box\u003CIntExpression>),\n}\n\n#[derive(Debug)]\npub enum IntBinaryOp {\n    Plus,\n    Minus,\n    Multiply,\n    Divide,\n}\n",[47640],{"type":15,"tag":81,"props":47641,"children":47642},{"__ignoreMap":8},[47643,47650,47665,47684,47703,47730,47783,47790,47797,47812,47832,47844,47856,47868,47880],{"type":15,"tag":252,"props":47644,"children":47645},{"class":254,"line":255},[47646],{"type":15,"tag":252,"props":47647,"children":47648},{"style":3287},[47649],{"type":21,"value":25314},{"type":15,"tag":252,"props":47651,"children":47652},{"class":254,"line":334},[47653,47657,47661],{"type":15,"tag":252,"props":47654,"children":47655},{"style":447},[47656],{"type":21,"value":3742},{"type":15,"tag":252,"props":47658,"children":47659},{"style":259},[47660],{"type":21,"value":5788},{"type":15,"tag":252,"props":47662,"children":47663},{"style":447},[47664],{"type":21,"value":3751},{"type":15,"tag":252,"props":47666,"children":47667},{"class":254,"line":390},[47668,47672,47676,47680],{"type":15,"tag":252,"props":47669,"children":47670},{"style":601},[47671],{"type":21,"value":4740},{"type":15,"tag":252,"props":47673,"children":47674},{"style":601},[47675],{"type":21,"value":5869},{"type":15,"tag":252,"props":47677,"children":47678},{"style":259},[47679],{"type":21,"value":14847},{"type":15,"tag":252,"props":47681,"children":47682},{"style":447},[47683],{"type":21,"value":3769},{"type":15,"tag":252,"props":47685,"children":47686},{"class":254,"line":2077},[47687,47691,47695,47699],{"type":15,"tag":252,"props":47688,"children":47689},{"style":259},[47690],{"type":21,"value":5956},{"type":15,"tag":252,"props":47692,"children":47693},{"style":447},[47694],{"type":21,"value":849},{"type":15,"tag":252,"props":47696,"children":47697},{"style":259},[47698],{"type":21,"value":1082},{"type":15,"tag":252,"props":47700,"children":47701},{"style":447},[47702],{"type":21,"value":5899},{"type":15,"tag":252,"props":47704,"children":47705},{"class":254,"line":2110},[47706,47710,47714,47718,47722,47726],{"type":15,"tag":252,"props":47707,"children":47708},{"style":259},[47709],{"type":21,"value":39611},{"type":15,"tag":252,"props":47711,"children":47712},{"style":447},[47713],{"type":21,"value":849},{"type":15,"tag":252,"props":47715,"children":47716},{"style":259},[47717],{"type":21,"value":36163},{"type":15,"tag":252,"props":47719,"children":47720},{"style":447},[47721],{"type":21,"value":5826},{"type":15,"tag":252,"props":47723,"children":47724},{"style":259},[47725],{"type":21,"value":14798},{"type":15,"tag":252,"props":47727,"children":47728},{"style":447},[47729],{"type":21,"value":24445},{"type":15,"tag":252,"props":47731,"children":47732},{"class":254,"line":2150},[47733,47738,47742,47746,47750,47754,47758,47763,47767,47771,47775,47779],{"type":15,"tag":252,"props":47734,"children":47735},{"style":259},[47736],{"type":21,"value":47737},"    BinaryOperation",{"type":15,"tag":252,"props":47739,"children":47740},{"style":447},[47741],{"type":21,"value":849},{"type":15,"tag":252,"props":47743,"children":47744},{"style":259},[47745],{"type":21,"value":36163},{"type":15,"tag":252,"props":47747,"children":47748},{"style":447},[47749],{"type":21,"value":5826},{"type":15,"tag":252,"props":47751,"children":47752},{"style":259},[47753],{"type":21,"value":14798},{"type":15,"tag":252,"props":47755,"children":47756},{"style":447},[47757],{"type":21,"value":9752},{"type":15,"tag":252,"props":47759,"children":47760},{"style":259},[47761],{"type":21,"value":47762},"IntBinaryOp",{"type":15,"tag":252,"props":47764,"children":47765},{"style":447},[47766],{"type":21,"value":1076},{"type":15,"tag":252,"props":47768,"children":47769},{"style":259},[47770],{"type":21,"value":36163},{"type":15,"tag":252,"props":47772,"children":47773},{"style":447},[47774],{"type":21,"value":5826},{"type":15,"tag":252,"props":47776,"children":47777},{"style":259},[47778],{"type":21,"value":14798},{"type":15,"tag":252,"props":47780,"children":47781},{"style":447},[47782],{"type":21,"value":24445},{"type":15,"tag":252,"props":47784,"children":47785},{"class":254,"line":2182},[47786],{"type":15,"tag":252,"props":47787,"children":47788},{"style":447},[47789],{"type":21,"value":2854},{"type":15,"tag":252,"props":47791,"children":47792},{"class":254,"line":2190},[47793],{"type":15,"tag":252,"props":47794,"children":47795},{"emptyLinePlaceholder":2053},[47796],{"type":21,"value":2056},{"type":15,"tag":252,"props":47798,"children":47799},{"class":254,"line":2222},[47800,47804,47808],{"type":15,"tag":252,"props":47801,"children":47802},{"style":447},[47803],{"type":21,"value":3742},{"type":15,"tag":252,"props":47805,"children":47806},{"style":259},[47807],{"type":21,"value":5788},{"type":15,"tag":252,"props":47809,"children":47810},{"style":447},[47811],{"type":21,"value":3751},{"type":15,"tag":252,"props":47813,"children":47814},{"class":254,"line":2270},[47815,47819,47823,47828],{"type":15,"tag":252,"props":47816,"children":47817},{"style":601},[47818],{"type":21,"value":4740},{"type":15,"tag":252,"props":47820,"children":47821},{"style":601},[47822],{"type":21,"value":5869},{"type":15,"tag":252,"props":47824,"children":47825},{"style":259},[47826],{"type":21,"value":47827}," IntBinaryOp",{"type":15,"tag":252,"props":47829,"children":47830},{"style":447},[47831],{"type":21,"value":3769},{"type":15,"tag":252,"props":47833,"children":47834},{"class":254,"line":2302},[47835,47840],{"type":15,"tag":252,"props":47836,"children":47837},{"style":259},[47838],{"type":21,"value":47839},"    Plus",{"type":15,"tag":252,"props":47841,"children":47842},{"style":447},[47843],{"type":21,"value":3879},{"type":15,"tag":252,"props":47845,"children":47846},{"class":254,"line":2310},[47847,47852],{"type":15,"tag":252,"props":47848,"children":47849},{"style":259},[47850],{"type":21,"value":47851},"    Minus",{"type":15,"tag":252,"props":47853,"children":47854},{"style":447},[47855],{"type":21,"value":3879},{"type":15,"tag":252,"props":47857,"children":47858},{"class":254,"line":2370},[47859,47864],{"type":15,"tag":252,"props":47860,"children":47861},{"style":259},[47862],{"type":21,"value":47863},"    Multiply",{"type":15,"tag":252,"props":47865,"children":47866},{"style":447},[47867],{"type":21,"value":3879},{"type":15,"tag":252,"props":47869,"children":47870},{"class":254,"line":2418},[47871,47876],{"type":15,"tag":252,"props":47872,"children":47873},{"style":259},[47874],{"type":21,"value":47875},"    Divide",{"type":15,"tag":252,"props":47877,"children":47878},{"style":447},[47879],{"type":21,"value":3879},{"type":15,"tag":252,"props":47881,"children":47882},{"class":254,"line":2426},[47883],{"type":15,"tag":252,"props":47884,"children":47885},{"style":447},[47886],{"type":21,"value":2854},{"type":15,"tag":23,"props":47888,"children":47889},{},[47890],{"type":21,"value":47891},"The type resolution is gonna be very similar to the comparison!",{"type":15,"tag":95,"props":47893,"children":47895},{"code":47894,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nfn resolve_binary(\n    left: &Box\u003Cast::Expression>,\n    op: &ast::BinaryOp,\n    right: &Box\u003Cast::Expression>,\n) -> anyhow::Result\u003CTypedExpression> {\n    let left = resolve_expression(left)?;\n    let right = resolve_expression(right)?;\n\n    match left {\n        TypedExpression::Int(left) => {\n            let right = right.is_int()?;\n            let op = match op {\n                ast::BinaryOp::Plus => ir::IntBinaryOp::Plus,\n                ast::BinaryOp::Minus => ir::IntBinaryOp::Minus,\n                ast::BinaryOp::Multiply => ir::IntBinaryOp::Multiply,\n                ast::BinaryOp::Divide => ir::IntBinaryOp::Divide,\n                _ => Err(TypeError(\"Operator not supported for int\".to_string()))?,\n            };\n            Ok(TypedExpression::Int(ir::IntExpression::BinaryOperation(\n                Box::new(left),\n                op,\n                Box::new(right),\n            )))\n        }\n        _ => Err(TypeError(\"Operator not supported for type\".to_string()))?,\n    }\n}\n",[47896],{"type":15,"tag":81,"props":47897,"children":47898},{"__ignoreMap":8},[47899,47906,47921,47956,47987,48022,48057,48088,48119,48126,48138,48166,48205,48228,48279,48330,48381,48432,48484,48491,48543,48563,48571,48590,48598,48605,48658,48665],{"type":15,"tag":252,"props":47900,"children":47901},{"class":254,"line":255},[47902],{"type":15,"tag":252,"props":47903,"children":47904},{"style":3287},[47905],{"type":21,"value":14916},{"type":15,"tag":252,"props":47907,"children":47908},{"class":254,"line":334},[47909,47913,47917],{"type":15,"tag":252,"props":47910,"children":47911},{"style":601},[47912],{"type":21,"value":2064},{"type":15,"tag":252,"props":47914,"children":47915},{"style":259},[47916],{"type":21,"value":41683},{"type":15,"tag":252,"props":47918,"children":47919},{"style":447},[47920],{"type":21,"value":14196},{"type":15,"tag":252,"props":47922,"children":47923},{"class":254,"line":390},[47924,47928,47932,47936,47940,47944,47948,47952],{"type":15,"tag":252,"props":47925,"children":47926},{"style":447},[47927],{"type":21,"value":41695},{"type":15,"tag":252,"props":47929,"children":47930},{"style":601},[47931],{"type":21,"value":3374},{"type":15,"tag":252,"props":47933,"children":47934},{"style":601},[47935],{"type":21,"value":4920},{"type":15,"tag":252,"props":47937,"children":47938},{"style":259},[47939],{"type":21,"value":36163},{"type":15,"tag":252,"props":47941,"children":47942},{"style":447},[47943],{"type":21,"value":10502},{"type":15,"tag":252,"props":47945,"children":47946},{"style":601},[47947],{"type":21,"value":804},{"type":15,"tag":252,"props":47949,"children":47950},{"style":259},[47951],{"type":21,"value":5716},{"type":15,"tag":252,"props":47953,"children":47954},{"style":447},[47955],{"type":21,"value":7608},{"type":15,"tag":252,"props":47957,"children":47958},{"class":254,"line":2077},[47959,47963,47967,47971,47975,47979,47983],{"type":15,"tag":252,"props":47960,"children":47961},{"style":447},[47962],{"type":21,"value":41590},{"type":15,"tag":252,"props":47964,"children":47965},{"style":601},[47966],{"type":21,"value":3374},{"type":15,"tag":252,"props":47968,"children":47969},{"style":601},[47970],{"type":21,"value":4920},{"type":15,"tag":252,"props":47972,"children":47973},{"style":259},[47974],{"type":21,"value":5623},{"type":15,"tag":252,"props":47976,"children":47977},{"style":601},[47978],{"type":21,"value":804},{"type":15,"tag":252,"props":47980,"children":47981},{"style":259},[47982],{"type":21,"value":36180},{"type":15,"tag":252,"props":47984,"children":47985},{"style":447},[47986],{"type":21,"value":3879},{"type":15,"tag":252,"props":47988,"children":47989},{"class":254,"line":2110},[47990,47994,47998,48002,48006,48010,48014,48018],{"type":15,"tag":252,"props":47991,"children":47992},{"style":447},[47993],{"type":21,"value":41762},{"type":15,"tag":252,"props":47995,"children":47996},{"style":601},[47997],{"type":21,"value":3374},{"type":15,"tag":252,"props":47999,"children":48000},{"style":601},[48001],{"type":21,"value":4920},{"type":15,"tag":252,"props":48003,"children":48004},{"style":259},[48005],{"type":21,"value":36163},{"type":15,"tag":252,"props":48007,"children":48008},{"style":447},[48009],{"type":21,"value":10502},{"type":15,"tag":252,"props":48011,"children":48012},{"style":601},[48013],{"type":21,"value":804},{"type":15,"tag":252,"props":48015,"children":48016},{"style":259},[48017],{"type":21,"value":5716},{"type":15,"tag":252,"props":48019,"children":48020},{"style":447},[48021],{"type":21,"value":7608},{"type":15,"tag":252,"props":48023,"children":48024},{"class":254,"line":2150},[48025,48029,48033,48037,48041,48045,48049,48053],{"type":15,"tag":252,"props":48026,"children":48027},{"style":447},[48028],{"type":21,"value":4943},{"type":15,"tag":252,"props":48030,"children":48031},{"style":601},[48032],{"type":21,"value":3947},{"type":15,"tag":252,"props":48034,"children":48035},{"style":259},[48036],{"type":21,"value":3952},{"type":15,"tag":252,"props":48038,"children":48039},{"style":601},[48040],{"type":21,"value":804},{"type":15,"tag":252,"props":48042,"children":48043},{"style":259},[48044],{"type":21,"value":3961},{"type":15,"tag":252,"props":48046,"children":48047},{"style":447},[48048],{"type":21,"value":5826},{"type":15,"tag":252,"props":48050,"children":48051},{"style":259},[48052],{"type":21,"value":15281},{"type":15,"tag":252,"props":48054,"children":48055},{"style":447},[48056],{"type":21,"value":7138},{"type":15,"tag":252,"props":48058,"children":48059},{"class":254,"line":2182},[48060,48064,48068,48072,48076,48080,48084],{"type":15,"tag":252,"props":48061,"children":48062},{"style":601},[48063],{"type":21,"value":2083},{"type":15,"tag":252,"props":48065,"children":48066},{"style":447},[48067],{"type":21,"value":37371},{"type":15,"tag":252,"props":48069,"children":48070},{"style":601},[48071],{"type":21,"value":614},{"type":15,"tag":252,"props":48073,"children":48074},{"style":259},[48075],{"type":21,"value":15420},{"type":15,"tag":252,"props":48077,"children":48078},{"style":447},[48079],{"type":21,"value":37384},{"type":15,"tag":252,"props":48081,"children":48082},{"style":601},[48083],{"type":21,"value":5468},{"type":15,"tag":252,"props":48085,"children":48086},{"style":447},[48087],{"type":21,"value":3325},{"type":15,"tag":252,"props":48089,"children":48090},{"class":254,"line":2190},[48091,48095,48099,48103,48107,48111,48115],{"type":15,"tag":252,"props":48092,"children":48093},{"style":601},[48094],{"type":21,"value":2083},{"type":15,"tag":252,"props":48096,"children":48097},{"style":447},[48098],{"type":21,"value":37404},{"type":15,"tag":252,"props":48100,"children":48101},{"style":601},[48102],{"type":21,"value":614},{"type":15,"tag":252,"props":48104,"children":48105},{"style":259},[48106],{"type":21,"value":15420},{"type":15,"tag":252,"props":48108,"children":48109},{"style":447},[48110],{"type":21,"value":37417},{"type":15,"tag":252,"props":48112,"children":48113},{"style":601},[48114],{"type":21,"value":5468},{"type":15,"tag":252,"props":48116,"children":48117},{"style":447},[48118],{"type":21,"value":3325},{"type":15,"tag":252,"props":48120,"children":48121},{"class":254,"line":2222},[48122],{"type":15,"tag":252,"props":48123,"children":48124},{"emptyLinePlaceholder":2053},[48125],{"type":21,"value":2056},{"type":15,"tag":252,"props":48127,"children":48128},{"class":254,"line":2270},[48129,48133],{"type":15,"tag":252,"props":48130,"children":48131},{"style":601},[48132],{"type":21,"value":4014},{"type":15,"tag":252,"props":48134,"children":48135},{"style":447},[48136],{"type":21,"value":48137}," left {\n",{"type":15,"tag":252,"props":48139,"children":48140},{"class":254,"line":2302},[48141,48145,48149,48153,48158,48162],{"type":15,"tag":252,"props":48142,"children":48143},{"style":259},[48144],{"type":21,"value":15692},{"type":15,"tag":252,"props":48146,"children":48147},{"style":601},[48148],{"type":21,"value":804},{"type":15,"tag":252,"props":48150,"children":48151},{"style":259},[48152],{"type":21,"value":14888},{"type":15,"tag":252,"props":48154,"children":48155},{"style":447},[48156],{"type":21,"value":48157},"(left) ",{"type":15,"tag":252,"props":48159,"children":48160},{"style":601},[48161],{"type":21,"value":4054},{"type":15,"tag":252,"props":48163,"children":48164},{"style":447},[48165],{"type":21,"value":3769},{"type":15,"tag":252,"props":48167,"children":48168},{"class":254,"line":2310},[48169,48173,48177,48181,48185,48189,48193,48197,48201],{"type":15,"tag":252,"props":48170,"children":48171},{"style":601},[48172],{"type":21,"value":15892},{"type":15,"tag":252,"props":48174,"children":48175},{"style":447},[48176],{"type":21,"value":37404},{"type":15,"tag":252,"props":48178,"children":48179},{"style":601},[48180],{"type":21,"value":614},{"type":15,"tag":252,"props":48182,"children":48183},{"style":447},[48184],{"type":21,"value":37538},{"type":15,"tag":252,"props":48186,"children":48187},{"style":601},[48188],{"type":21,"value":432},{"type":15,"tag":252,"props":48190,"children":48191},{"style":259},[48192],{"type":21,"value":37506},{"type":15,"tag":252,"props":48194,"children":48195},{"style":447},[48196],{"type":21,"value":7305},{"type":15,"tag":252,"props":48198,"children":48199},{"style":601},[48200],{"type":21,"value":5468},{"type":15,"tag":252,"props":48202,"children":48203},{"style":447},[48204],{"type":21,"value":3325},{"type":15,"tag":252,"props":48206,"children":48207},{"class":254,"line":2370},[48208,48212,48216,48220,48224],{"type":15,"tag":252,"props":48209,"children":48210},{"style":601},[48211],{"type":21,"value":15892},{"type":15,"tag":252,"props":48213,"children":48214},{"style":447},[48215],{"type":21,"value":38026},{"type":15,"tag":252,"props":48217,"children":48218},{"style":601},[48219],{"type":21,"value":614},{"type":15,"tag":252,"props":48221,"children":48222},{"style":601},[48223],{"type":21,"value":18821},{"type":15,"tag":252,"props":48225,"children":48226},{"style":447},[48227],{"type":21,"value":37444},{"type":15,"tag":252,"props":48229,"children":48230},{"class":254,"line":2418},[48231,48235,48239,48243,48247,48251,48255,48259,48263,48267,48271,48275],{"type":15,"tag":252,"props":48232,"children":48233},{"style":259},[48234],{"type":21,"value":37452},{"type":15,"tag":252,"props":48236,"children":48237},{"style":601},[48238],{"type":21,"value":804},{"type":15,"tag":252,"props":48240,"children":48241},{"style":259},[48242],{"type":21,"value":36180},{"type":15,"tag":252,"props":48244,"children":48245},{"style":601},[48246],{"type":21,"value":804},{"type":15,"tag":252,"props":48248,"children":48249},{"style":259},[48250],{"type":21,"value":46646},{"type":15,"tag":252,"props":48252,"children":48253},{"style":601},[48254],{"type":21,"value":9226},{"type":15,"tag":252,"props":48256,"children":48257},{"style":259},[48258],{"type":21,"value":44887},{"type":15,"tag":252,"props":48260,"children":48261},{"style":601},[48262],{"type":21,"value":804},{"type":15,"tag":252,"props":48264,"children":48265},{"style":259},[48266],{"type":21,"value":47762},{"type":15,"tag":252,"props":48268,"children":48269},{"style":601},[48270],{"type":21,"value":804},{"type":15,"tag":252,"props":48272,"children":48273},{"style":259},[48274],{"type":21,"value":46646},{"type":15,"tag":252,"props":48276,"children":48277},{"style":447},[48278],{"type":21,"value":3879},{"type":15,"tag":252,"props":48280,"children":48281},{"class":254,"line":2426},[48282,48286,48290,48294,48298,48302,48306,48310,48314,48318,48322,48326],{"type":15,"tag":252,"props":48283,"children":48284},{"style":259},[48285],{"type":21,"value":37452},{"type":15,"tag":252,"props":48287,"children":48288},{"style":601},[48289],{"type":21,"value":804},{"type":15,"tag":252,"props":48291,"children":48292},{"style":259},[48293],{"type":21,"value":36180},{"type":15,"tag":252,"props":48295,"children":48296},{"style":601},[48297],{"type":21,"value":804},{"type":15,"tag":252,"props":48299,"children":48300},{"style":259},[48301],{"type":21,"value":39379},{"type":15,"tag":252,"props":48303,"children":48304},{"style":601},[48305],{"type":21,"value":9226},{"type":15,"tag":252,"props":48307,"children":48308},{"style":259},[48309],{"type":21,"value":44887},{"type":15,"tag":252,"props":48311,"children":48312},{"style":601},[48313],{"type":21,"value":804},{"type":15,"tag":252,"props":48315,"children":48316},{"style":259},[48317],{"type":21,"value":47762},{"type":15,"tag":252,"props":48319,"children":48320},{"style":601},[48321],{"type":21,"value":804},{"type":15,"tag":252,"props":48323,"children":48324},{"style":259},[48325],{"type":21,"value":39379},{"type":15,"tag":252,"props":48327,"children":48328},{"style":447},[48329],{"type":21,"value":3879},{"type":15,"tag":252,"props":48331,"children":48332},{"class":254,"line":2474},[48333,48337,48341,48345,48349,48353,48357,48361,48365,48369,48373,48377],{"type":15,"tag":252,"props":48334,"children":48335},{"style":259},[48336],{"type":21,"value":37452},{"type":15,"tag":252,"props":48338,"children":48339},{"style":601},[48340],{"type":21,"value":804},{"type":15,"tag":252,"props":48342,"children":48343},{"style":259},[48344],{"type":21,"value":36180},{"type":15,"tag":252,"props":48346,"children":48347},{"style":601},[48348],{"type":21,"value":804},{"type":15,"tag":252,"props":48350,"children":48351},{"style":259},[48352],{"type":21,"value":47033},{"type":15,"tag":252,"props":48354,"children":48355},{"style":601},[48356],{"type":21,"value":9226},{"type":15,"tag":252,"props":48358,"children":48359},{"style":259},[48360],{"type":21,"value":44887},{"type":15,"tag":252,"props":48362,"children":48363},{"style":601},[48364],{"type":21,"value":804},{"type":15,"tag":252,"props":48366,"children":48367},{"style":259},[48368],{"type":21,"value":47762},{"type":15,"tag":252,"props":48370,"children":48371},{"style":601},[48372],{"type":21,"value":804},{"type":15,"tag":252,"props":48374,"children":48375},{"style":259},[48376],{"type":21,"value":47033},{"type":15,"tag":252,"props":48378,"children":48379},{"style":447},[48380],{"type":21,"value":3879},{"type":15,"tag":252,"props":48382,"children":48383},{"class":254,"line":2522},[48384,48388,48392,48396,48400,48404,48408,48412,48416,48420,48424,48428],{"type":15,"tag":252,"props":48385,"children":48386},{"style":259},[48387],{"type":21,"value":37452},{"type":15,"tag":252,"props":48389,"children":48390},{"style":601},[48391],{"type":21,"value":804},{"type":15,"tag":252,"props":48393,"children":48394},{"style":259},[48395],{"type":21,"value":36180},{"type":15,"tag":252,"props":48397,"children":48398},{"style":601},[48399],{"type":21,"value":804},{"type":15,"tag":252,"props":48401,"children":48402},{"style":259},[48403],{"type":21,"value":47082},{"type":15,"tag":252,"props":48405,"children":48406},{"style":601},[48407],{"type":21,"value":9226},{"type":15,"tag":252,"props":48409,"children":48410},{"style":259},[48411],{"type":21,"value":44887},{"type":15,"tag":252,"props":48413,"children":48414},{"style":601},[48415],{"type":21,"value":804},{"type":15,"tag":252,"props":48417,"children":48418},{"style":259},[48419],{"type":21,"value":47762},{"type":15,"tag":252,"props":48421,"children":48422},{"style":601},[48423],{"type":21,"value":804},{"type":15,"tag":252,"props":48425,"children":48426},{"style":259},[48427],{"type":21,"value":47082},{"type":15,"tag":252,"props":48429,"children":48430},{"style":447},[48431],{"type":21,"value":3879},{"type":15,"tag":252,"props":48433,"children":48434},{"class":254,"line":2530},[48435,48439,48443,48447,48451,48455,48459,48464,48468,48472,48476,48480],{"type":15,"tag":252,"props":48436,"children":48437},{"style":447},[48438],{"type":21,"value":10179},{"type":15,"tag":252,"props":48440,"children":48441},{"style":601},[48442],{"type":21,"value":4054},{"type":15,"tag":252,"props":48444,"children":48445},{"style":259},[48446],{"type":21,"value":12804},{"type":15,"tag":252,"props":48448,"children":48449},{"style":447},[48450],{"type":21,"value":849},{"type":15,"tag":252,"props":48452,"children":48453},{"style":259},[48454],{"type":21,"value":28314},{"type":15,"tag":252,"props":48456,"children":48457},{"style":447},[48458],{"type":21,"value":849},{"type":15,"tag":252,"props":48460,"children":48461},{"style":265},[48462],{"type":21,"value":48463},"\"Operator not supported for int\"",{"type":15,"tag":252,"props":48465,"children":48466},{"style":601},[48467],{"type":21,"value":432},{"type":15,"tag":252,"props":48469,"children":48470},{"style":259},[48471],{"type":21,"value":12830},{"type":15,"tag":252,"props":48473,"children":48474},{"style":447},[48475],{"type":21,"value":12835},{"type":15,"tag":252,"props":48477,"children":48478},{"style":601},[48479],{"type":21,"value":5468},{"type":15,"tag":252,"props":48481,"children":48482},{"style":447},[48483],{"type":21,"value":3879},{"type":15,"tag":252,"props":48485,"children":48486},{"class":254,"line":2570},[48487],{"type":15,"tag":252,"props":48488,"children":48489},{"style":447},[48490],{"type":21,"value":45170},{"type":15,"tag":252,"props":48492,"children":48493},{"class":254,"line":2591},[48494,48498,48502,48506,48510,48514,48518,48522,48526,48530,48534,48539],{"type":15,"tag":252,"props":48495,"children":48496},{"style":259},[48497],{"type":21,"value":12492},{"type":15,"tag":252,"props":48499,"children":48500},{"style":447},[48501],{"type":21,"value":849},{"type":15,"tag":252,"props":48503,"children":48504},{"style":259},[48505],{"type":21,"value":15281},{"type":15,"tag":252,"props":48507,"children":48508},{"style":601},[48509],{"type":21,"value":804},{"type":15,"tag":252,"props":48511,"children":48512},{"style":259},[48513],{"type":21,"value":14888},{"type":15,"tag":252,"props":48515,"children":48516},{"style":447},[48517],{"type":21,"value":849},{"type":15,"tag":252,"props":48519,"children":48520},{"style":259},[48521],{"type":21,"value":14557},{"type":15,"tag":252,"props":48523,"children":48524},{"style":601},[48525],{"type":21,"value":804},{"type":15,"tag":252,"props":48527,"children":48528},{"style":259},[48529],{"type":21,"value":14798},{"type":15,"tag":252,"props":48531,"children":48532},{"style":601},[48533],{"type":21,"value":804},{"type":15,"tag":252,"props":48535,"children":48536},{"style":259},[48537],{"type":21,"value":48538},"BinaryOperation",{"type":15,"tag":252,"props":48540,"children":48541},{"style":447},[48542],{"type":21,"value":14196},{"type":15,"tag":252,"props":48544,"children":48545},{"class":254,"line":2599},[48546,48551,48555,48559],{"type":15,"tag":252,"props":48547,"children":48548},{"style":259},[48549],{"type":21,"value":48550},"                Box",{"type":15,"tag":252,"props":48552,"children":48553},{"style":601},[48554],{"type":21,"value":804},{"type":15,"tag":252,"props":48556,"children":48557},{"style":259},[48558],{"type":21,"value":7761},{"type":15,"tag":252,"props":48560,"children":48561},{"style":447},[48562],{"type":21,"value":37667},{"type":15,"tag":252,"props":48564,"children":48565},{"class":254,"line":2647},[48566],{"type":15,"tag":252,"props":48567,"children":48568},{"style":447},[48569],{"type":21,"value":48570},"                op,\n",{"type":15,"tag":252,"props":48572,"children":48573},{"class":254,"line":2679},[48574,48578,48582,48586],{"type":15,"tag":252,"props":48575,"children":48576},{"style":259},[48577],{"type":21,"value":48550},{"type":15,"tag":252,"props":48579,"children":48580},{"style":601},[48581],{"type":21,"value":804},{"type":15,"tag":252,"props":48583,"children":48584},{"style":259},[48585],{"type":21,"value":7761},{"type":15,"tag":252,"props":48587,"children":48588},{"style":447},[48589],{"type":21,"value":37716},{"type":15,"tag":252,"props":48591,"children":48592},{"class":254,"line":2727},[48593],{"type":15,"tag":252,"props":48594,"children":48595},{"style":447},[48596],{"type":21,"value":48597},"            )))\n",{"type":15,"tag":252,"props":48599,"children":48600},{"class":254,"line":2735},[48601],{"type":15,"tag":252,"props":48602,"children":48603},{"style":447},[48604],{"type":21,"value":4087},{"type":15,"tag":252,"props":48606,"children":48607},{"class":254,"line":2799},[48608,48613,48617,48621,48625,48629,48633,48638,48642,48646,48650,48654],{"type":15,"tag":252,"props":48609,"children":48610},{"style":447},[48611],{"type":21,"value":48612},"        _ ",{"type":15,"tag":252,"props":48614,"children":48615},{"style":601},[48616],{"type":21,"value":4054},{"type":15,"tag":252,"props":48618,"children":48619},{"style":259},[48620],{"type":21,"value":12804},{"type":15,"tag":252,"props":48622,"children":48623},{"style":447},[48624],{"type":21,"value":849},{"type":15,"tag":252,"props":48626,"children":48627},{"style":259},[48628],{"type":21,"value":28314},{"type":15,"tag":252,"props":48630,"children":48631},{"style":447},[48632],{"type":21,"value":849},{"type":15,"tag":252,"props":48634,"children":48635},{"style":265},[48636],{"type":21,"value":48637},"\"Operator not supported for type\"",{"type":15,"tag":252,"props":48639,"children":48640},{"style":601},[48641],{"type":21,"value":432},{"type":15,"tag":252,"props":48643,"children":48644},{"style":259},[48645],{"type":21,"value":12830},{"type":15,"tag":252,"props":48647,"children":48648},{"style":447},[48649],{"type":21,"value":12835},{"type":15,"tag":252,"props":48651,"children":48652},{"style":601},[48653],{"type":21,"value":5468},{"type":15,"tag":252,"props":48655,"children":48656},{"style":447},[48657],{"type":21,"value":3879},{"type":15,"tag":252,"props":48659,"children":48660},{"class":254,"line":2807},[48661],{"type":15,"tag":252,"props":48662,"children":48663},{"style":447},[48664],{"type":21,"value":4095},{"type":15,"tag":252,"props":48666,"children":48667},{"class":254,"line":2848},[48668],{"type":15,"tag":252,"props":48669,"children":48670},{"style":447},[48671],{"type":21,"value":2854},{"type":15,"tag":59,"props":48673,"children":48674},{"id":32242},[48675],{"type":21,"value":26061},{"type":15,"tag":23,"props":48677,"children":48678},{},[48679],{"type":21,"value":48680},"This is also very simple!",{"type":15,"tag":95,"props":48682,"children":48684},{"code":48683,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\n    fn compile_int_expression(&self, expression: &ir::IntExpression) -> inkwell::values::IntValue {\n        match expression {\n            ir::IntExpression::Literal(int) => self.int_type().const_int(*int as u64, false),\n            ir::IntExpression::Negate(expression) => {\n                let expression = self.compile_int_expression(expression);\n                self.builder.build_int_neg(expression, \"Negate\")\n            }\n            ir::IntExpression::BinaryOperation(left, op, right) => {\n                let left = self.compile_int_expression(left);\n                let right = self.compile_int_expression(right);\n\n                match op {\n                    ir::IntBinaryOp::Plus => self.builder.build_int_add(left, right, \"Plus\"),\n                    ir::IntBinaryOp::Minus => self.builder.build_int_sub(left, right, \"Minus\"),\n                    ir::IntBinaryOp::Multiply => {\n                        self.builder.build_int_mul(left, right, \"Multiply\")\n                    }\n                    ir::IntBinaryOp::Divide => {\n                        self.builder.build_int_signed_div(left, right, \"Divide\")\n                    }\n                }\n            }\n        }\n    }\n",[48685],{"type":15,"tag":81,"props":48686,"children":48687},{"__ignoreMap":8},[48688,48695,48774,48785,48872,48907,48938,48973,48980,49015,49046,49077,49084,49096,49158,49219,49250,49287,49294,49325,49362,49369,49376,49383,49390],{"type":15,"tag":252,"props":48689,"children":48690},{"class":254,"line":255},[48691],{"type":15,"tag":252,"props":48692,"children":48693},{"style":3287},[48694],{"type":21,"value":26081},{"type":15,"tag":252,"props":48696,"children":48697},{"class":254,"line":334},[48698,48702,48706,48710,48714,48718,48722,48726,48730,48734,48738,48742,48746,48750,48754,48758,48762,48766,48770],{"type":15,"tag":252,"props":48699,"children":48700},{"style":601},[48701],{"type":21,"value":7146},{"type":15,"tag":252,"props":48703,"children":48704},{"style":259},[48705],{"type":21,"value":18485},{"type":15,"tag":252,"props":48707,"children":48708},{"style":447},[48709],{"type":21,"value":849},{"type":15,"tag":252,"props":48711,"children":48712},{"style":601},[48713],{"type":21,"value":1171},{"type":15,"tag":252,"props":48715,"children":48716},{"style":276},[48717],{"type":21,"value":7432},{"type":15,"tag":252,"props":48719,"children":48720},{"style":447},[48721],{"type":21,"value":18502},{"type":15,"tag":252,"props":48723,"children":48724},{"style":601},[48725],{"type":21,"value":3374},{"type":15,"tag":252,"props":48727,"children":48728},{"style":601},[48729],{"type":21,"value":4920},{"type":15,"tag":252,"props":48731,"children":48732},{"style":259},[48733],{"type":21,"value":14557},{"type":15,"tag":252,"props":48735,"children":48736},{"style":601},[48737],{"type":21,"value":804},{"type":15,"tag":252,"props":48739,"children":48740},{"style":259},[48741],{"type":21,"value":14798},{"type":15,"tag":252,"props":48743,"children":48744},{"style":447},[48745],{"type":21,"value":4943},{"type":15,"tag":252,"props":48747,"children":48748},{"style":601},[48749],{"type":21,"value":3947},{"type":15,"tag":252,"props":48751,"children":48752},{"style":259},[48753],{"type":21,"value":273},{"type":15,"tag":252,"props":48755,"children":48756},{"style":601},[48757],{"type":21,"value":804},{"type":15,"tag":252,"props":48759,"children":48760},{"style":259},[48761],{"type":21,"value":18543},{"type":15,"tag":252,"props":48763,"children":48764},{"style":601},[48765],{"type":21,"value":804},{"type":15,"tag":252,"props":48767,"children":48768},{"style":259},[48769],{"type":21,"value":18552},{"type":15,"tag":252,"props":48771,"children":48772},{"style":447},[48773],{"type":21,"value":3769},{"type":15,"tag":252,"props":48775,"children":48776},{"class":254,"line":390},[48777,48781],{"type":15,"tag":252,"props":48778,"children":48779},{"style":601},[48780],{"type":21,"value":12717},{"type":15,"tag":252,"props":48782,"children":48783},{"style":447},[48784],{"type":21,"value":15489},{"type":15,"tag":252,"props":48786,"children":48787},{"class":254,"line":2077},[48788,48792,48796,48800,48804,48808,48812,48816,48820,48824,48828,48832,48836,48840,48844,48848,48852,48856,48860,48864,48868],{"type":15,"tag":252,"props":48789,"children":48790},{"style":259},[48791],{"type":21,"value":18575},{"type":15,"tag":252,"props":48793,"children":48794},{"style":601},[48795],{"type":21,"value":804},{"type":15,"tag":252,"props":48797,"children":48798},{"style":259},[48799],{"type":21,"value":14798},{"type":15,"tag":252,"props":48801,"children":48802},{"style":601},[48803],{"type":21,"value":804},{"type":15,"tag":252,"props":48805,"children":48806},{"style":259},[48807],{"type":21,"value":5724},{"type":15,"tag":252,"props":48809,"children":48810},{"style":447},[48811],{"type":21,"value":15326},{"type":15,"tag":252,"props":48813,"children":48814},{"style":601},[48815],{"type":21,"value":4054},{"type":15,"tag":252,"props":48817,"children":48818},{"style":276},[48819],{"type":21,"value":7244},{"type":15,"tag":252,"props":48821,"children":48822},{"style":601},[48823],{"type":21,"value":432},{"type":15,"tag":252,"props":48825,"children":48826},{"style":259},[48827],{"type":21,"value":18612},{"type":15,"tag":252,"props":48829,"children":48830},{"style":447},[48831],{"type":21,"value":7305},{"type":15,"tag":252,"props":48833,"children":48834},{"style":601},[48835],{"type":21,"value":432},{"type":15,"tag":252,"props":48837,"children":48838},{"style":259},[48839],{"type":21,"value":1892},{"type":15,"tag":252,"props":48841,"children":48842},{"style":447},[48843],{"type":21,"value":849},{"type":15,"tag":252,"props":48845,"children":48846},{"style":601},[48847],{"type":21,"value":8752},{"type":15,"tag":252,"props":48849,"children":48850},{"style":447},[48851],{"type":21,"value":18637},{"type":15,"tag":252,"props":48853,"children":48854},{"style":601},[48855],{"type":21,"value":18642},{"type":15,"tag":252,"props":48857,"children":48858},{"style":259},[48859],{"type":21,"value":18647},{"type":15,"tag":252,"props":48861,"children":48862},{"style":447},[48863],{"type":21,"value":1076},{"type":15,"tag":252,"props":48865,"children":48866},{"style":276},[48867],{"type":21,"value":1456},{"type":15,"tag":252,"props":48869,"children":48870},{"style":447},[48871],{"type":21,"value":5899},{"type":15,"tag":252,"props":48873,"children":48874},{"class":254,"line":2110},[48875,48879,48883,48887,48891,48895,48899,48903],{"type":15,"tag":252,"props":48876,"children":48877},{"style":259},[48878],{"type":21,"value":18575},{"type":15,"tag":252,"props":48880,"children":48881},{"style":601},[48882],{"type":21,"value":804},{"type":15,"tag":252,"props":48884,"children":48885},{"style":259},[48886],{"type":21,"value":14798},{"type":15,"tag":252,"props":48888,"children":48889},{"style":601},[48890],{"type":21,"value":804},{"type":15,"tag":252,"props":48892,"children":48893},{"style":259},[48894],{"type":21,"value":39977},{"type":15,"tag":252,"props":48896,"children":48897},{"style":447},[48898],{"type":21,"value":15876},{"type":15,"tag":252,"props":48900,"children":48901},{"style":601},[48902],{"type":21,"value":4054},{"type":15,"tag":252,"props":48904,"children":48905},{"style":447},[48906],{"type":21,"value":3769},{"type":15,"tag":252,"props":48908,"children":48909},{"class":254,"line":2150},[48910,48914,48918,48922,48926,48930,48934],{"type":15,"tag":252,"props":48911,"children":48912},{"style":601},[48913],{"type":21,"value":13283},{"type":15,"tag":252,"props":48915,"children":48916},{"style":447},[48917],{"type":21,"value":31233},{"type":15,"tag":252,"props":48919,"children":48920},{"style":601},[48921],{"type":21,"value":614},{"type":15,"tag":252,"props":48923,"children":48924},{"style":276},[48925],{"type":21,"value":7244},{"type":15,"tag":252,"props":48927,"children":48928},{"style":601},[48929],{"type":21,"value":432},{"type":15,"tag":252,"props":48931,"children":48932},{"style":259},[48933],{"type":21,"value":19036},{"type":15,"tag":252,"props":48935,"children":48936},{"style":447},[48937],{"type":21,"value":33073},{"type":15,"tag":252,"props":48939,"children":48940},{"class":254,"line":2182},[48941,48945,48949,48953,48957,48961,48965,48969],{"type":15,"tag":252,"props":48942,"children":48943},{"style":276},[48944],{"type":21,"value":8765},{"type":15,"tag":252,"props":48946,"children":48947},{"style":601},[48948],{"type":21,"value":432},{"type":15,"tag":252,"props":48950,"children":48951},{"style":447},[48952],{"type":21,"value":930},{"type":15,"tag":252,"props":48954,"children":48955},{"style":601},[48956],{"type":21,"value":432},{"type":15,"tag":252,"props":48958,"children":48959},{"style":259},[48960],{"type":21,"value":42355},{"type":15,"tag":252,"props":48962,"children":48963},{"style":447},[48964],{"type":21,"value":42360},{"type":15,"tag":252,"props":48966,"children":48967},{"style":265},[48968],{"type":21,"value":42365},{"type":15,"tag":252,"props":48970,"children":48971},{"style":447},[48972],{"type":21,"value":7327},{"type":15,"tag":252,"props":48974,"children":48975},{"class":254,"line":2190},[48976],{"type":15,"tag":252,"props":48977,"children":48978},{"style":447},[48979],{"type":21,"value":8814},{"type":15,"tag":252,"props":48981,"children":48982},{"class":254,"line":2222},[48983,48987,48991,48995,48999,49003,49007,49011],{"type":15,"tag":252,"props":48984,"children":48985},{"style":259},[48986],{"type":21,"value":18575},{"type":15,"tag":252,"props":48988,"children":48989},{"style":601},[48990],{"type":21,"value":804},{"type":15,"tag":252,"props":48992,"children":48993},{"style":259},[48994],{"type":21,"value":14798},{"type":15,"tag":252,"props":48996,"children":48997},{"style":601},[48998],{"type":21,"value":804},{"type":15,"tag":252,"props":49000,"children":49001},{"style":259},[49002],{"type":21,"value":48538},{"type":15,"tag":252,"props":49004,"children":49005},{"style":447},[49006],{"type":21,"value":37351},{"type":15,"tag":252,"props":49008,"children":49009},{"style":601},[49010],{"type":21,"value":4054},{"type":15,"tag":252,"props":49012,"children":49013},{"style":447},[49014],{"type":21,"value":3769},{"type":15,"tag":252,"props":49016,"children":49017},{"class":254,"line":2270},[49018,49022,49026,49030,49034,49038,49042],{"type":15,"tag":252,"props":49019,"children":49020},{"style":601},[49021],{"type":21,"value":13283},{"type":15,"tag":252,"props":49023,"children":49024},{"style":447},[49025],{"type":21,"value":37371},{"type":15,"tag":252,"props":49027,"children":49028},{"style":601},[49029],{"type":21,"value":614},{"type":15,"tag":252,"props":49031,"children":49032},{"style":276},[49033],{"type":21,"value":7244},{"type":15,"tag":252,"props":49035,"children":49036},{"style":601},[49037],{"type":21,"value":432},{"type":15,"tag":252,"props":49039,"children":49040},{"style":259},[49041],{"type":21,"value":19036},{"type":15,"tag":252,"props":49043,"children":49044},{"style":447},[49045],{"type":21,"value":37975},{"type":15,"tag":252,"props":49047,"children":49048},{"class":254,"line":2302},[49049,49053,49057,49061,49065,49069,49073],{"type":15,"tag":252,"props":49050,"children":49051},{"style":601},[49052],{"type":21,"value":13283},{"type":15,"tag":252,"props":49054,"children":49055},{"style":447},[49056],{"type":21,"value":37404},{"type":15,"tag":252,"props":49058,"children":49059},{"style":601},[49060],{"type":21,"value":614},{"type":15,"tag":252,"props":49062,"children":49063},{"style":276},[49064],{"type":21,"value":7244},{"type":15,"tag":252,"props":49066,"children":49067},{"style":601},[49068],{"type":21,"value":432},{"type":15,"tag":252,"props":49070,"children":49071},{"style":259},[49072],{"type":21,"value":19036},{"type":15,"tag":252,"props":49074,"children":49075},{"style":447},[49076],{"type":21,"value":38007},{"type":15,"tag":252,"props":49078,"children":49079},{"class":254,"line":2310},[49080],{"type":15,"tag":252,"props":49081,"children":49082},{"emptyLinePlaceholder":2053},[49083],{"type":21,"value":2056},{"type":15,"tag":252,"props":49085,"children":49086},{"class":254,"line":2370},[49087,49092],{"type":15,"tag":252,"props":49088,"children":49089},{"style":601},[49090],{"type":21,"value":49091},"                match",{"type":15,"tag":252,"props":49093,"children":49094},{"style":447},[49095],{"type":21,"value":37444},{"type":15,"tag":252,"props":49097,"children":49098},{"class":254,"line":2418},[49099,49103,49107,49111,49115,49119,49123,49127,49131,49135,49139,49144,49149,49154],{"type":15,"tag":252,"props":49100,"children":49101},{"style":259},[49102],{"type":21,"value":38046},{"type":15,"tag":252,"props":49104,"children":49105},{"style":601},[49106],{"type":21,"value":804},{"type":15,"tag":252,"props":49108,"children":49109},{"style":259},[49110],{"type":21,"value":47762},{"type":15,"tag":252,"props":49112,"children":49113},{"style":601},[49114],{"type":21,"value":804},{"type":15,"tag":252,"props":49116,"children":49117},{"style":259},[49118],{"type":21,"value":46646},{"type":15,"tag":252,"props":49120,"children":49121},{"style":601},[49122],{"type":21,"value":9226},{"type":15,"tag":252,"props":49124,"children":49125},{"style":276},[49126],{"type":21,"value":7244},{"type":15,"tag":252,"props":49128,"children":49129},{"style":601},[49130],{"type":21,"value":432},{"type":15,"tag":252,"props":49132,"children":49133},{"style":447},[49134],{"type":21,"value":930},{"type":15,"tag":252,"props":49136,"children":49137},{"style":601},[49138],{"type":21,"value":432},{"type":15,"tag":252,"props":49140,"children":49141},{"style":259},[49142],{"type":21,"value":49143},"build_int_add",{"type":15,"tag":252,"props":49145,"children":49146},{"style":447},[49147],{"type":21,"value":49148},"(left, right, ",{"type":15,"tag":252,"props":49150,"children":49151},{"style":265},[49152],{"type":21,"value":49153},"\"Plus\"",{"type":15,"tag":252,"props":49155,"children":49156},{"style":447},[49157],{"type":21,"value":5899},{"type":15,"tag":252,"props":49159,"children":49160},{"class":254,"line":2426},[49161,49165,49169,49173,49177,49181,49185,49189,49193,49197,49201,49206,49210,49215],{"type":15,"tag":252,"props":49162,"children":49163},{"style":259},[49164],{"type":21,"value":38046},{"type":15,"tag":252,"props":49166,"children":49167},{"style":601},[49168],{"type":21,"value":804},{"type":15,"tag":252,"props":49170,"children":49171},{"style":259},[49172],{"type":21,"value":47762},{"type":15,"tag":252,"props":49174,"children":49175},{"style":601},[49176],{"type":21,"value":804},{"type":15,"tag":252,"props":49178,"children":49179},{"style":259},[49180],{"type":21,"value":39379},{"type":15,"tag":252,"props":49182,"children":49183},{"style":601},[49184],{"type":21,"value":9226},{"type":15,"tag":252,"props":49186,"children":49187},{"style":276},[49188],{"type":21,"value":7244},{"type":15,"tag":252,"props":49190,"children":49191},{"style":601},[49192],{"type":21,"value":432},{"type":15,"tag":252,"props":49194,"children":49195},{"style":447},[49196],{"type":21,"value":930},{"type":15,"tag":252,"props":49198,"children":49199},{"style":601},[49200],{"type":21,"value":432},{"type":15,"tag":252,"props":49202,"children":49203},{"style":259},[49204],{"type":21,"value":49205},"build_int_sub",{"type":15,"tag":252,"props":49207,"children":49208},{"style":447},[49209],{"type":21,"value":49148},{"type":15,"tag":252,"props":49211,"children":49212},{"style":265},[49213],{"type":21,"value":49214},"\"Minus\"",{"type":15,"tag":252,"props":49216,"children":49217},{"style":447},[49218],{"type":21,"value":5899},{"type":15,"tag":252,"props":49220,"children":49221},{"class":254,"line":2474},[49222,49226,49230,49234,49238,49242,49246],{"type":15,"tag":252,"props":49223,"children":49224},{"style":259},[49225],{"type":21,"value":38046},{"type":15,"tag":252,"props":49227,"children":49228},{"style":601},[49229],{"type":21,"value":804},{"type":15,"tag":252,"props":49231,"children":49232},{"style":259},[49233],{"type":21,"value":47762},{"type":15,"tag":252,"props":49235,"children":49236},{"style":601},[49237],{"type":21,"value":804},{"type":15,"tag":252,"props":49239,"children":49240},{"style":259},[49241],{"type":21,"value":47033},{"type":15,"tag":252,"props":49243,"children":49244},{"style":601},[49245],{"type":21,"value":9226},{"type":15,"tag":252,"props":49247,"children":49248},{"style":447},[49249],{"type":21,"value":3769},{"type":15,"tag":252,"props":49251,"children":49252},{"class":254,"line":2522},[49253,49257,49261,49265,49269,49274,49278,49283],{"type":15,"tag":252,"props":49254,"children":49255},{"style":276},[49256],{"type":21,"value":31337},{"type":15,"tag":252,"props":49258,"children":49259},{"style":601},[49260],{"type":21,"value":432},{"type":15,"tag":252,"props":49262,"children":49263},{"style":447},[49264],{"type":21,"value":930},{"type":15,"tag":252,"props":49266,"children":49267},{"style":601},[49268],{"type":21,"value":432},{"type":15,"tag":252,"props":49270,"children":49271},{"style":259},[49272],{"type":21,"value":49273},"build_int_mul",{"type":15,"tag":252,"props":49275,"children":49276},{"style":447},[49277],{"type":21,"value":49148},{"type":15,"tag":252,"props":49279,"children":49280},{"style":265},[49281],{"type":21,"value":49282},"\"Multiply\"",{"type":15,"tag":252,"props":49284,"children":49285},{"style":447},[49286],{"type":21,"value":7327},{"type":15,"tag":252,"props":49288,"children":49289},{"class":254,"line":2530},[49290],{"type":15,"tag":252,"props":49291,"children":49292},{"style":447},[49293],{"type":21,"value":24209},{"type":15,"tag":252,"props":49295,"children":49296},{"class":254,"line":2570},[49297,49301,49305,49309,49313,49317,49321],{"type":15,"tag":252,"props":49298,"children":49299},{"style":259},[49300],{"type":21,"value":38046},{"type":15,"tag":252,"props":49302,"children":49303},{"style":601},[49304],{"type":21,"value":804},{"type":15,"tag":252,"props":49306,"children":49307},{"style":259},[49308],{"type":21,"value":47762},{"type":15,"tag":252,"props":49310,"children":49311},{"style":601},[49312],{"type":21,"value":804},{"type":15,"tag":252,"props":49314,"children":49315},{"style":259},[49316],{"type":21,"value":47082},{"type":15,"tag":252,"props":49318,"children":49319},{"style":601},[49320],{"type":21,"value":9226},{"type":15,"tag":252,"props":49322,"children":49323},{"style":447},[49324],{"type":21,"value":3769},{"type":15,"tag":252,"props":49326,"children":49327},{"class":254,"line":2591},[49328,49332,49336,49340,49344,49349,49353,49358],{"type":15,"tag":252,"props":49329,"children":49330},{"style":276},[49331],{"type":21,"value":31337},{"type":15,"tag":252,"props":49333,"children":49334},{"style":601},[49335],{"type":21,"value":432},{"type":15,"tag":252,"props":49337,"children":49338},{"style":447},[49339],{"type":21,"value":930},{"type":15,"tag":252,"props":49341,"children":49342},{"style":601},[49343],{"type":21,"value":432},{"type":15,"tag":252,"props":49345,"children":49346},{"style":259},[49347],{"type":21,"value":49348},"build_int_signed_div",{"type":15,"tag":252,"props":49350,"children":49351},{"style":447},[49352],{"type":21,"value":49148},{"type":15,"tag":252,"props":49354,"children":49355},{"style":265},[49356],{"type":21,"value":49357},"\"Divide\"",{"type":15,"tag":252,"props":49359,"children":49360},{"style":447},[49361],{"type":21,"value":7327},{"type":15,"tag":252,"props":49363,"children":49364},{"class":254,"line":2599},[49365],{"type":15,"tag":252,"props":49366,"children":49367},{"style":447},[49368],{"type":21,"value":24209},{"type":15,"tag":252,"props":49370,"children":49371},{"class":254,"line":2647},[49372],{"type":15,"tag":252,"props":49373,"children":49374},{"style":447},[49375],{"type":21,"value":10093},{"type":15,"tag":252,"props":49377,"children":49378},{"class":254,"line":2679},[49379],{"type":15,"tag":252,"props":49380,"children":49381},{"style":447},[49382],{"type":21,"value":8814},{"type":15,"tag":252,"props":49384,"children":49385},{"class":254,"line":2727},[49386],{"type":15,"tag":252,"props":49387,"children":49388},{"style":447},[49389],{"type":21,"value":4087},{"type":15,"tag":252,"props":49391,"children":49392},{"class":254,"line":2735},[49393],{"type":15,"tag":252,"props":49394,"children":49395},{"style":447},[49396],{"type":21,"value":4095},{"type":15,"tag":192,"props":49398,"children":49400},{"id":49399},"binary-operators-bools",[49401],{"type":21,"value":49402},"Binary Operators - bools",{"type":15,"tag":23,"props":49404,"children":49405},{},[49406],{"type":21,"value":49407},"This is going to be very similar, in fact I trust you can do it yourself! But I will give you the tests:",{"type":15,"tag":95,"props":49409,"children":49411},{"code":49410},"${\n    assert true && true;\n    assert !true && false;\n    assert !false && true;\n    assert !false && false;\n\n    assert true || true;\n    assert true || false;\n    assert false || true;\n    assert !false || false;\n\n    assert 1 == 1 && 2 == 2;\n    assert 1 == 1 || 2 == 0;\n}\n",[49412],{"type":15,"tag":81,"props":49413,"children":49414},{"__ignoreMap":8},[49415],{"type":21,"value":49410},{"type":15,"tag":59,"props":49417,"children":49418},{"id":35219},[49419],{"type":21,"value":5541},{"type":15,"tag":23,"props":49421,"children":49422},{},[49423,49425,49431,49432,49438,49440,49446,49447,49453],{"type":21,"value":49424},"Then you will add tokens for ",{"type":15,"tag":81,"props":49426,"children":49428},{"className":49427},[],[49429],{"type":21,"value":49430},"AndAnd",{"type":21,"value":3071},{"type":15,"tag":81,"props":49433,"children":49435},{"className":49434},[],[49436],{"type":21,"value":49437},"OrOr",{"type":21,"value":49439}," (and also ",{"type":15,"tag":81,"props":49441,"children":49443},{"className":49442},[],[49444],{"type":21,"value":49445},"And",{"type":21,"value":3071},{"type":15,"tag":81,"props":49448,"children":49450},{"className":49449},[],[49451],{"type":21,"value":49452},"Or",{"type":21,"value":49454},", but we wont use those yet!)",{"type":15,"tag":23,"props":49456,"children":49457},{},[49458,49460,49465,49466,49471,49473,49478],{"type":21,"value":49459},"We also add the ",{"type":15,"tag":81,"props":49461,"children":49463},{"className":49462},[],[49464],{"type":21,"value":49445},{"type":21,"value":3071},{"type":15,"tag":81,"props":49467,"children":49469},{"className":49468},[],[49470],{"type":21,"value":49452},{"type":21,"value":49472}," tokens to the AST, and then we add them to the ",{"type":15,"tag":81,"props":49474,"children":49476},{"className":49475},[],[49477],{"type":21,"value":43255},{"type":21,"value":49479}," static:",{"type":15,"tag":95,"props":49481,"children":49483},{"code":49482,"language":772,"meta":8,"className":773,"style":8},"lazy_static! {\n    static ref OPERATORS: Vec\u003COperatorType> = vec![\n        OperatorType::Prefix(TokenType::Bang, ast::PrefixOp::Not),\n        OperatorType::Binary(vec![\n            (TokenType::AndAnd, ast::BinaryOp::And),\n            (TokenType::OrOr, ast::BinaryOp::Or)\n        ]),\n        OperatorType::Comparison(vec![\n            // ...\n        ]),\n        // ...\n    ];\n}\n",[49484],{"type":15,"tag":81,"props":49485,"children":49486},{"__ignoreMap":8},[49487,49498,49545,49604,49631,49678,49725,49732,49759,49766,49773,49780,49787],{"type":15,"tag":252,"props":49488,"children":49489},{"class":254,"line":255},[49490,49494],{"type":15,"tag":252,"props":49491,"children":49492},{"style":259},[49493],{"type":21,"value":39787},{"type":15,"tag":252,"props":49495,"children":49496},{"style":447},[49497],{"type":21,"value":3769},{"type":15,"tag":252,"props":49499,"children":49500},{"class":254,"line":334},[49501,49505,49509,49513,49517,49521,49525,49529,49533,49537,49541],{"type":15,"tag":252,"props":49502,"children":49503},{"style":601},[49504],{"type":21,"value":39815},{"type":15,"tag":252,"props":49506,"children":49507},{"style":601},[49508],{"type":21,"value":39820},{"type":15,"tag":252,"props":49510,"children":49511},{"style":276},[49512],{"type":21,"value":39825},{"type":15,"tag":252,"props":49514,"children":49515},{"style":601},[49516],{"type":21,"value":3374},{"type":15,"tag":252,"props":49518,"children":49519},{"style":259},[49520],{"type":21,"value":5821},{"type":15,"tag":252,"props":49522,"children":49523},{"style":447},[49524],{"type":21,"value":5826},{"type":15,"tag":252,"props":49526,"children":49527},{"style":259},[49528],{"type":21,"value":39842},{"type":15,"tag":252,"props":49530,"children":49531},{"style":447},[49532],{"type":21,"value":7120},{"type":15,"tag":252,"props":49534,"children":49535},{"style":601},[49536],{"type":21,"value":614},{"type":15,"tag":252,"props":49538,"children":49539},{"style":259},[49540],{"type":21,"value":39855},{"type":15,"tag":252,"props":49542,"children":49543},{"style":447},[49544],{"type":21,"value":6104},{"type":15,"tag":252,"props":49546,"children":49547},{"class":254,"line":390},[49548,49552,49556,49560,49564,49568,49572,49576,49580,49584,49588,49592,49596,49600],{"type":15,"tag":252,"props":49549,"children":49550},{"style":259},[49551],{"type":21,"value":39867},{"type":15,"tag":252,"props":49553,"children":49554},{"style":601},[49555],{"type":21,"value":804},{"type":15,"tag":252,"props":49557,"children":49558},{"style":259},[49559],{"type":21,"value":39876},{"type":15,"tag":252,"props":49561,"children":49562},{"style":447},[49563],{"type":21,"value":849},{"type":15,"tag":252,"props":49565,"children":49566},{"style":259},[49567],{"type":21,"value":8846},{"type":15,"tag":252,"props":49569,"children":49570},{"style":601},[49571],{"type":21,"value":804},{"type":15,"tag":252,"props":49573,"children":49574},{"style":259},[49575],{"type":21,"value":39372},{"type":15,"tag":252,"props":49577,"children":49578},{"style":447},[49579],{"type":21,"value":1076},{"type":15,"tag":252,"props":49581,"children":49582},{"style":259},[49583],{"type":21,"value":5623},{"type":15,"tag":252,"props":49585,"children":49586},{"style":601},[49587],{"type":21,"value":804},{"type":15,"tag":252,"props":49589,"children":49590},{"style":259},[49591],{"type":21,"value":39516},{"type":15,"tag":252,"props":49593,"children":49594},{"style":601},[49595],{"type":21,"value":804},{"type":15,"tag":252,"props":49597,"children":49598},{"style":259},[49599],{"type":21,"value":39917},{"type":15,"tag":252,"props":49601,"children":49602},{"style":447},[49603],{"type":21,"value":5899},{"type":15,"tag":252,"props":49605,"children":49606},{"class":254,"line":2077},[49607,49611,49615,49619,49623,49627],{"type":15,"tag":252,"props":49608,"children":49609},{"style":259},[49610],{"type":21,"value":39867},{"type":15,"tag":252,"props":49612,"children":49613},{"style":601},[49614],{"type":21,"value":804},{"type":15,"tag":252,"props":49616,"children":49617},{"style":259},[49618],{"type":21,"value":40534},{"type":15,"tag":252,"props":49620,"children":49621},{"style":447},[49622],{"type":21,"value":849},{"type":15,"tag":252,"props":49624,"children":49625},{"style":259},[49626],{"type":21,"value":6099},{"type":15,"tag":252,"props":49628,"children":49629},{"style":447},[49630],{"type":21,"value":6104},{"type":15,"tag":252,"props":49632,"children":49633},{"class":254,"line":2110},[49634,49638,49642,49646,49650,49654,49658,49662,49666,49670,49674],{"type":15,"tag":252,"props":49635,"children":49636},{"style":447},[49637],{"type":21,"value":43423},{"type":15,"tag":252,"props":49639,"children":49640},{"style":259},[49641],{"type":21,"value":8846},{"type":15,"tag":252,"props":49643,"children":49644},{"style":601},[49645],{"type":21,"value":804},{"type":15,"tag":252,"props":49647,"children":49648},{"style":259},[49649],{"type":21,"value":49430},{"type":15,"tag":252,"props":49651,"children":49652},{"style":447},[49653],{"type":21,"value":1076},{"type":15,"tag":252,"props":49655,"children":49656},{"style":259},[49657],{"type":21,"value":5623},{"type":15,"tag":252,"props":49659,"children":49660},{"style":601},[49661],{"type":21,"value":804},{"type":15,"tag":252,"props":49663,"children":49664},{"style":259},[49665],{"type":21,"value":36180},{"type":15,"tag":252,"props":49667,"children":49668},{"style":601},[49669],{"type":21,"value":804},{"type":15,"tag":252,"props":49671,"children":49672},{"style":259},[49673],{"type":21,"value":49445},{"type":15,"tag":252,"props":49675,"children":49676},{"style":447},[49677],{"type":21,"value":5899},{"type":15,"tag":252,"props":49679,"children":49680},{"class":254,"line":2150},[49681,49685,49689,49693,49697,49701,49705,49709,49713,49717,49721],{"type":15,"tag":252,"props":49682,"children":49683},{"style":447},[49684],{"type":21,"value":43423},{"type":15,"tag":252,"props":49686,"children":49687},{"style":259},[49688],{"type":21,"value":8846},{"type":15,"tag":252,"props":49690,"children":49691},{"style":601},[49692],{"type":21,"value":804},{"type":15,"tag":252,"props":49694,"children":49695},{"style":259},[49696],{"type":21,"value":49437},{"type":15,"tag":252,"props":49698,"children":49699},{"style":447},[49700],{"type":21,"value":1076},{"type":15,"tag":252,"props":49702,"children":49703},{"style":259},[49704],{"type":21,"value":5623},{"type":15,"tag":252,"props":49706,"children":49707},{"style":601},[49708],{"type":21,"value":804},{"type":15,"tag":252,"props":49710,"children":49711},{"style":259},[49712],{"type":21,"value":36180},{"type":15,"tag":252,"props":49714,"children":49715},{"style":601},[49716],{"type":21,"value":804},{"type":15,"tag":252,"props":49718,"children":49719},{"style":259},[49720],{"type":21,"value":49452},{"type":15,"tag":252,"props":49722,"children":49723},{"style":447},[49724],{"type":21,"value":7327},{"type":15,"tag":252,"props":49726,"children":49727},{"class":254,"line":2182},[49728],{"type":15,"tag":252,"props":49729,"children":49730},{"style":447},[49731],{"type":21,"value":43716},{"type":15,"tag":252,"props":49733,"children":49734},{"class":254,"line":2190},[49735,49739,49743,49747,49751,49755],{"type":15,"tag":252,"props":49736,"children":49737},{"style":259},[49738],{"type":21,"value":39867},{"type":15,"tag":252,"props":49740,"children":49741},{"style":601},[49742],{"type":21,"value":804},{"type":15,"tag":252,"props":49744,"children":49745},{"style":259},[49746],{"type":21,"value":35185},{"type":15,"tag":252,"props":49748,"children":49749},{"style":447},[49750],{"type":21,"value":849},{"type":15,"tag":252,"props":49752,"children":49753},{"style":259},[49754],{"type":21,"value":6099},{"type":15,"tag":252,"props":49756,"children":49757},{"style":447},[49758],{"type":21,"value":6104},{"type":15,"tag":252,"props":49760,"children":49761},{"class":254,"line":2222},[49762],{"type":15,"tag":252,"props":49763,"children":49764},{"style":3287},[49765],{"type":21,"value":22842},{"type":15,"tag":252,"props":49767,"children":49768},{"class":254,"line":2270},[49769],{"type":15,"tag":252,"props":49770,"children":49771},{"style":447},[49772],{"type":21,"value":43716},{"type":15,"tag":252,"props":49774,"children":49775},{"class":254,"line":2302},[49776],{"type":15,"tag":252,"props":49777,"children":49778},{"style":3287},[49779],{"type":21,"value":26918},{"type":15,"tag":252,"props":49781,"children":49782},{"class":254,"line":2310},[49783],{"type":15,"tag":252,"props":49784,"children":49785},{"style":447},[49786],{"type":21,"value":39989},{"type":15,"tag":252,"props":49788,"children":49789},{"class":254,"line":2370},[49790],{"type":15,"tag":252,"props":49791,"children":49792},{"style":447},[49793],{"type":21,"value":2854},{"type":15,"tag":59,"props":49795,"children":49796},{"id":36900},[49797],{"type":21,"value":14560},{"type":15,"tag":23,"props":49799,"children":49800},{},[49801],{"type":21,"value":49802},"The ir modification is the same as with the int, and same for the type resolution! You should be able to figure those out yourself!",{"type":15,"tag":59,"props":49804,"children":49805},{"id":37183},[49806],{"type":21,"value":26061},{"type":15,"tag":23,"props":49808,"children":49809},{},[49810,49812,49818],{"type":21,"value":49811},"Now, we need to decide wether we want short-circuit or not, what do I mean with this? If say we had ",{"type":15,"tag":81,"props":49813,"children":49815},{"className":49814},[],[49816],{"type":21,"value":49817},"true | ...",{"type":21,"value":49819}," the right hand side wont get executed if we short-circuit, because we already know the result will be true! But if we dont short-circuit it will get executed, and then we will check the result.",{"type":15,"tag":23,"props":49821,"children":49822},{},[49823],{"type":21,"value":49824},"Short-circuits require more work because we need to check the result of the left side and then decide wether to execute the right side or not. And this gets tricky, because you might model this as:",{"type":15,"tag":95,"props":49826,"children":49828},{"code":49827,"language":772,"meta":8,"className":773,"style":8},"let mut result = ...;\nif !left {\n    result = right;\n} else {\n    result = true;\n}\n\n",[49829],{"type":15,"tag":81,"props":49830,"children":49831},{"__ignoreMap":8},[49832,49860,49876,49893,49909,49928],{"type":15,"tag":252,"props":49833,"children":49834},{"class":254,"line":255},[49835,49839,49843,49847,49851,49856],{"type":15,"tag":252,"props":49836,"children":49837},{"style":601},[49838],{"type":21,"value":785},{"type":15,"tag":252,"props":49840,"children":49841},{"style":601},[49842],{"type":21,"value":8623},{"type":15,"tag":252,"props":49844,"children":49845},{"style":447},[49846],{"type":21,"value":13288},{"type":15,"tag":252,"props":49848,"children":49849},{"style":601},[49850],{"type":21,"value":614},{"type":15,"tag":252,"props":49852,"children":49853},{"style":601},[49854],{"type":21,"value":49855}," ...",{"type":15,"tag":252,"props":49857,"children":49858},{"style":447},[49859],{"type":21,"value":3325},{"type":15,"tag":252,"props":49861,"children":49862},{"class":254,"line":334},[49863,49867,49871],{"type":15,"tag":252,"props":49864,"children":49865},{"style":601},[49866],{"type":21,"value":1627},{"type":15,"tag":252,"props":49868,"children":49869},{"style":601},[49870],{"type":21,"value":19905},{"type":15,"tag":252,"props":49872,"children":49873},{"style":447},[49874],{"type":21,"value":49875},"left {\n",{"type":15,"tag":252,"props":49877,"children":49878},{"class":254,"line":390},[49879,49884,49888],{"type":15,"tag":252,"props":49880,"children":49881},{"style":447},[49882],{"type":21,"value":49883},"    result ",{"type":15,"tag":252,"props":49885,"children":49886},{"style":601},[49887],{"type":21,"value":614},{"type":15,"tag":252,"props":49889,"children":49890},{"style":447},[49891],{"type":21,"value":49892}," right;\n",{"type":15,"tag":252,"props":49894,"children":49895},{"class":254,"line":2077},[49896,49901,49905],{"type":15,"tag":252,"props":49897,"children":49898},{"style":447},[49899],{"type":21,"value":49900},"} ",{"type":15,"tag":252,"props":49902,"children":49903},{"style":601},[49904],{"type":21,"value":8396},{"type":15,"tag":252,"props":49906,"children":49907},{"style":447},[49908],{"type":21,"value":3769},{"type":15,"tag":252,"props":49910,"children":49911},{"class":254,"line":2110},[49912,49916,49920,49924],{"type":15,"tag":252,"props":49913,"children":49914},{"style":447},[49915],{"type":21,"value":49883},{"type":15,"tag":252,"props":49917,"children":49918},{"style":601},[49919],{"type":21,"value":614},{"type":15,"tag":252,"props":49921,"children":49922},{"style":276},[49923],{"type":21,"value":15095},{"type":15,"tag":252,"props":49925,"children":49926},{"style":447},[49927],{"type":21,"value":3325},{"type":15,"tag":252,"props":49929,"children":49930},{"class":254,"line":2150},[49931],{"type":15,"tag":252,"props":49932,"children":49933},{"style":447},[49934],{"type":21,"value":2854},{"type":15,"tag":23,"props":49936,"children":49937},{},[49938,49940],{"type":21,"value":49939},"But there is an issue, we cant just create code like this in LLVM! Why? well in LLVM every var is immutable, so we cant just assign to the same value in multiple locations ",{"type":15,"tag":128,"props":49941,"children":49942},{},[],{"type":15,"tag":23,"props":49944,"children":49945},{},[49946],{"type":21,"value":49947},"What will we do? We will allocate the value on the stack and store a reference to it, this isnt like a normal pointer, it is a abstract idea in LLVM land. So it might actually look like:",{"type":15,"tag":95,"props":49949,"children":49951},{"code":49950,"language":772,"meta":8,"className":773,"style":8},"let pointer = allocate();\nif !left {\n    store(pointer, right);\n} else {\n    store(pointer, true);\n}\nlet result = load(pointer)\n",[49952],{"type":15,"tag":81,"props":49953,"children":49954},{"__ignoreMap":8},[49955,49980,49995,50008,50023,50043,50050],{"type":15,"tag":252,"props":49956,"children":49957},{"class":254,"line":255},[49958,49962,49967,49971,49976],{"type":15,"tag":252,"props":49959,"children":49960},{"style":601},[49961],{"type":21,"value":785},{"type":15,"tag":252,"props":49963,"children":49964},{"style":447},[49965],{"type":21,"value":49966}," pointer ",{"type":15,"tag":252,"props":49968,"children":49969},{"style":601},[49970],{"type":21,"value":614},{"type":15,"tag":252,"props":49972,"children":49973},{"style":259},[49974],{"type":21,"value":49975}," allocate",{"type":15,"tag":252,"props":49977,"children":49978},{"style":447},[49979],{"type":21,"value":814},{"type":15,"tag":252,"props":49981,"children":49982},{"class":254,"line":334},[49983,49987,49991],{"type":15,"tag":252,"props":49984,"children":49985},{"style":601},[49986],{"type":21,"value":1627},{"type":15,"tag":252,"props":49988,"children":49989},{"style":601},[49990],{"type":21,"value":19905},{"type":15,"tag":252,"props":49992,"children":49993},{"style":447},[49994],{"type":21,"value":49875},{"type":15,"tag":252,"props":49996,"children":49997},{"class":254,"line":390},[49998,50003],{"type":15,"tag":252,"props":49999,"children":50000},{"style":259},[50001],{"type":21,"value":50002},"    store",{"type":15,"tag":252,"props":50004,"children":50005},{"style":447},[50006],{"type":21,"value":50007},"(pointer, right);\n",{"type":15,"tag":252,"props":50009,"children":50010},{"class":254,"line":2077},[50011,50015,50019],{"type":15,"tag":252,"props":50012,"children":50013},{"style":447},[50014],{"type":21,"value":49900},{"type":15,"tag":252,"props":50016,"children":50017},{"style":601},[50018],{"type":21,"value":8396},{"type":15,"tag":252,"props":50020,"children":50021},{"style":447},[50022],{"type":21,"value":3769},{"type":15,"tag":252,"props":50024,"children":50025},{"class":254,"line":2110},[50026,50030,50035,50039],{"type":15,"tag":252,"props":50027,"children":50028},{"style":259},[50029],{"type":21,"value":50002},{"type":15,"tag":252,"props":50031,"children":50032},{"style":447},[50033],{"type":21,"value":50034},"(pointer, ",{"type":15,"tag":252,"props":50036,"children":50037},{"style":276},[50038],{"type":21,"value":1195},{"type":15,"tag":252,"props":50040,"children":50041},{"style":447},[50042],{"type":21,"value":859},{"type":15,"tag":252,"props":50044,"children":50045},{"class":254,"line":2150},[50046],{"type":15,"tag":252,"props":50047,"children":50048},{"style":447},[50049],{"type":21,"value":2854},{"type":15,"tag":252,"props":50051,"children":50052},{"class":254,"line":2182},[50053,50057,50061,50065,50070],{"type":15,"tag":252,"props":50054,"children":50055},{"style":601},[50056],{"type":21,"value":785},{"type":15,"tag":252,"props":50058,"children":50059},{"style":447},[50060],{"type":21,"value":13288},{"type":15,"tag":252,"props":50062,"children":50063},{"style":601},[50064],{"type":21,"value":614},{"type":15,"tag":252,"props":50066,"children":50067},{"style":259},[50068],{"type":21,"value":50069}," load",{"type":15,"tag":252,"props":50071,"children":50072},{"style":447},[50073],{"type":21,"value":50074},"(pointer)\n",{"type":15,"tag":23,"props":50076,"children":50077},{},[50078,50080,50086,50088,50094],{"type":21,"value":50079},"This is a bit annoying, but it is the only way to do it. We will do that same thing when we add variables later. And ofc LLVM will optimize away this check if the result is clear and so on, like if you did ",{"type":15,"tag":81,"props":50081,"children":50083},{"className":50082},[],[50084],{"type":21,"value":50085},"true || x",{"type":21,"value":50087}," it will be optimized to just ",{"type":15,"tag":81,"props":50089,"children":50091},{"className":50090},[],[50092],{"type":21,"value":50093},"x",{"type":21,"value":5726},{"type":15,"tag":23,"props":50096,"children":50097},{},[50098],{"type":21,"value":50099},"Okay lets describe the short-circuits in detail, we will use truth tables to see this clearly.",{"type":21,"value":50101},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":15,"tag":50103,"props":50104,"children":50105},"table",{},[50106,50133],{"type":15,"tag":50107,"props":50108,"children":50109},"thead",{},[50110],{"type":15,"tag":50111,"props":50112,"children":50113},"tr",{},[50114,50120,50125,50129],{"type":15,"tag":50115,"props":50116,"children":50117},"th",{},[50118],{"type":21,"value":50119},"Left",{"type":15,"tag":50115,"props":50121,"children":50122},{},[50123],{"type":21,"value":50124},"Right",{"type":15,"tag":50115,"props":50126,"children":50127},{},[50128],{"type":21,"value":49445},{"type":15,"tag":50115,"props":50130,"children":50131},{},[50132],{"type":21,"value":49452},{"type":15,"tag":50134,"props":50135,"children":50136},"tbody",{},[50137,50157,50176,50195],{"type":15,"tag":50111,"props":50138,"children":50139},{},[50140,50145,50149,50153],{"type":15,"tag":50141,"props":50142,"children":50143},"td",{},[50144],{"type":21,"value":27016},{"type":15,"tag":50141,"props":50146,"children":50147},{},[50148],{"type":21,"value":27016},{"type":15,"tag":50141,"props":50150,"children":50151},{},[50152],{"type":21,"value":27016},{"type":15,"tag":50141,"props":50154,"children":50155},{},[50156],{"type":21,"value":27016},{"type":15,"tag":50111,"props":50158,"children":50159},{},[50160,50164,50168,50172],{"type":15,"tag":50141,"props":50161,"children":50162},{},[50163],{"type":21,"value":27016},{"type":15,"tag":50141,"props":50165,"children":50166},{},[50167],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50169,"children":50170},{},[50171],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50173,"children":50174},{},[50175],{"type":21,"value":27016},{"type":15,"tag":50111,"props":50177,"children":50178},{},[50179,50183,50187,50191],{"type":15,"tag":50141,"props":50180,"children":50181},{},[50182],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50184,"children":50185},{},[50186],{"type":21,"value":27016},{"type":15,"tag":50141,"props":50188,"children":50189},{},[50190],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50192,"children":50193},{},[50194],{"type":21,"value":27016},{"type":15,"tag":50111,"props":50196,"children":50197},{},[50198,50202,50206,50210],{"type":15,"tag":50141,"props":50199,"children":50200},{},[50201],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50203,"children":50204},{},[50205],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50207,"children":50208},{},[50209],{"type":21,"value":27045},{"type":15,"tag":50141,"props":50211,"children":50212},{},[50213],{"type":21,"value":27045},{"type":15,"tag":23,"props":50215,"children":50216},{},[50217,50219,50225,50226,50231,50233,50238,50240,50245,50247,50252,50253,50258],{"type":21,"value":50218},"So ",{"type":15,"tag":81,"props":50220,"children":50222},{"className":50221},[],[50223],{"type":21,"value":50224},"or",{"type":21,"value":3071},{"type":15,"tag":81,"props":50227,"children":50229},{"className":50228},[],[50230],{"type":21,"value":46567},{"type":21,"value":50232}," are kinda opposites, for ",{"type":15,"tag":81,"props":50234,"children":50236},{"className":50235},[],[50237],{"type":21,"value":50224},{"type":21,"value":50239}," if the left side is ",{"type":15,"tag":81,"props":50241,"children":50243},{"className":50242},[],[50244],{"type":21,"value":1456},{"type":21,"value":50246}," then the result is the right side, and for ",{"type":15,"tag":81,"props":50248,"children":50250},{"className":50249},[],[50251],{"type":21,"value":46567},{"type":21,"value":50239},{"type":15,"tag":81,"props":50254,"children":50256},{"className":50255},[],[50257],{"type":21,"value":1195},{"type":21,"value":50259}," then the result is the right side.",{"type":15,"tag":23,"props":50261,"children":50262},{},[50263,50265,50270,50272,50277,50279,50284,50285,50290],{"type":21,"value":50264},"We also have to consider what the result is when we do short circuit, for ",{"type":15,"tag":81,"props":50266,"children":50268},{"className":50267},[],[50269],{"type":21,"value":46567},{"type":21,"value":50271}," it is ",{"type":15,"tag":81,"props":50273,"children":50275},{"className":50274},[],[50276],{"type":21,"value":1456},{"type":21,"value":50278}," and for ",{"type":15,"tag":81,"props":50280,"children":50282},{"className":50281},[],[50283],{"type":21,"value":50224},{"type":21,"value":50271},{"type":15,"tag":81,"props":50286,"children":50288},{"className":50287},[],[50289],{"type":21,"value":1195},{"type":21,"value":5726},{"type":15,"tag":23,"props":50292,"children":50293},{},[50294],{"type":21,"value":50295},"Lets implement both of these:",{"type":15,"tag":95,"props":50297,"children":50299},{"code":50298,"language":772,"meta":8,"className":773,"style":8},"            ir::BooleanExpression::Operator(left, op, right) => {\n                let left = self.compile_bool_expression(left);\n\n                let current_block = self.builder.get_insert_block().unwrap();\n                let right_block = self\n                    .context\n                    .insert_basic_block_after(current_block, \"right_block\");\n                let short_block = self\n                    .context\n                    .insert_basic_block_after(right_block, \"short_block\");\n                let continue_block = self\n                    .context\n                    .insert_basic_block_after(short_block, \"continue_block\");\n\n                let pointer = self\n                    .builder\n                    .build_alloca(self.context.bool_type(), \"pointer\");\n\n                match op {\n                    ir::BooleanOperator::And => {\n                        self.builder\n                            .build_conditional_branch(left, right_block, short_block);\n                    }\n                    ir::BooleanOperator::Or => {\n                        self.builder\n                            .build_conditional_branch(left, short_block, right_block);\n                    }\n                }\n\n                self.builder.position_at_end(right_block);\n                let right = self.compile_bool_expression(right);\n                self.builder.build_store(pointer, right);\n                self.builder.build_unconditional_branch(continue_block);\n\n                self.builder.position_at_end(short_block);\n                let short_result = match op {\n                    ir::BooleanOperator::And => self.context.bool_type().const_int(0, false),\n                    ir::BooleanOperator::Or => self.context.bool_type().const_int(1, false),\n                };\n                self.builder.build_store(pointer, short_result);\n                self.builder.build_unconditional_branch(continue_block);\n\n                self.builder.position_at_end(continue_block);\n                self.builder\n                    .build_load(self.context.bool_type(), pointer, \"result\")\n                    .into_int_value()\n            }\n",[50300],{"type":15,"tag":81,"props":50301,"children":50302},{"__ignoreMap":8},[50303,50339,50370,50377,50428,50448,50459,50483,50503,50514,50539,50558,50569,50593,50600,50619,50630,50679,50686,50697,50729,50744,50760,50767,50798,50813,50829,50836,50843,50850,50878,50909,50937,50965,50972,51000,51024,51103,51182,51189,51217,51244,51251,51278,51293,51343,51359],{"type":15,"tag":252,"props":50304,"children":50305},{"class":254,"line":255},[50306,50310,50314,50318,50322,50327,50331,50335],{"type":15,"tag":252,"props":50307,"children":50308},{"style":259},[50309],{"type":21,"value":18575},{"type":15,"tag":252,"props":50311,"children":50312},{"style":601},[50313],{"type":21,"value":804},{"type":15,"tag":252,"props":50315,"children":50316},{"style":259},[50317],{"type":21,"value":27991},{"type":15,"tag":252,"props":50319,"children":50320},{"style":601},[50321],{"type":21,"value":804},{"type":15,"tag":252,"props":50323,"children":50324},{"style":259},[50325],{"type":21,"value":50326},"Operator",{"type":15,"tag":252,"props":50328,"children":50329},{"style":447},[50330],{"type":21,"value":37351},{"type":15,"tag":252,"props":50332,"children":50333},{"style":601},[50334],{"type":21,"value":4054},{"type":15,"tag":252,"props":50336,"children":50337},{"style":447},[50338],{"type":21,"value":3769},{"type":15,"tag":252,"props":50340,"children":50341},{"class":254,"line":334},[50342,50346,50350,50354,50358,50362,50366],{"type":15,"tag":252,"props":50343,"children":50344},{"style":601},[50345],{"type":21,"value":13283},{"type":15,"tag":252,"props":50347,"children":50348},{"style":447},[50349],{"type":21,"value":37371},{"type":15,"tag":252,"props":50351,"children":50352},{"style":601},[50353],{"type":21,"value":614},{"type":15,"tag":252,"props":50355,"children":50356},{"style":276},[50357],{"type":21,"value":7244},{"type":15,"tag":252,"props":50359,"children":50360},{"style":601},[50361],{"type":21,"value":432},{"type":15,"tag":252,"props":50363,"children":50364},{"style":259},[50365],{"type":21,"value":29798},{"type":15,"tag":252,"props":50367,"children":50368},{"style":447},[50369],{"type":21,"value":37975},{"type":15,"tag":252,"props":50371,"children":50372},{"class":254,"line":390},[50373],{"type":15,"tag":252,"props":50374,"children":50375},{"emptyLinePlaceholder":2053},[50376],{"type":21,"value":2056},{"type":15,"tag":252,"props":50378,"children":50379},{"class":254,"line":2077},[50380,50384,50388,50392,50396,50400,50404,50408,50412,50416,50420,50424],{"type":15,"tag":252,"props":50381,"children":50382},{"style":601},[50383],{"type":21,"value":13283},{"type":15,"tag":252,"props":50385,"children":50386},{"style":447},[50387],{"type":21,"value":33092},{"type":15,"tag":252,"props":50389,"children":50390},{"style":601},[50391],{"type":21,"value":614},{"type":15,"tag":252,"props":50393,"children":50394},{"style":276},[50395],{"type":21,"value":7244},{"type":15,"tag":252,"props":50397,"children":50398},{"style":601},[50399],{"type":21,"value":432},{"type":15,"tag":252,"props":50401,"children":50402},{"style":447},[50403],{"type":21,"value":930},{"type":15,"tag":252,"props":50405,"children":50406},{"style":601},[50407],{"type":21,"value":432},{"type":15,"tag":252,"props":50409,"children":50410},{"style":259},[50411],{"type":21,"value":33117},{"type":15,"tag":252,"props":50413,"children":50414},{"style":447},[50415],{"type":21,"value":7305},{"type":15,"tag":252,"props":50417,"children":50418},{"style":601},[50419],{"type":21,"value":432},{"type":15,"tag":252,"props":50421,"children":50422},{"style":259},[50423],{"type":21,"value":1984},{"type":15,"tag":252,"props":50425,"children":50426},{"style":447},[50427],{"type":21,"value":814},{"type":15,"tag":252,"props":50429,"children":50430},{"class":254,"line":2110},[50431,50435,50440,50444],{"type":15,"tag":252,"props":50432,"children":50433},{"style":601},[50434],{"type":21,"value":13283},{"type":15,"tag":252,"props":50436,"children":50437},{"style":447},[50438],{"type":21,"value":50439}," right_block ",{"type":15,"tag":252,"props":50441,"children":50442},{"style":601},[50443],{"type":21,"value":614},{"type":15,"tag":252,"props":50445,"children":50446},{"style":276},[50447],{"type":21,"value":18902},{"type":15,"tag":252,"props":50449,"children":50450},{"class":254,"line":2150},[50451,50455],{"type":15,"tag":252,"props":50452,"children":50453},{"style":601},[50454],{"type":21,"value":26477},{"type":15,"tag":252,"props":50456,"children":50457},{"style":447},[50458],{"type":21,"value":33165},{"type":15,"tag":252,"props":50460,"children":50461},{"class":254,"line":2182},[50462,50466,50470,50474,50479],{"type":15,"tag":252,"props":50463,"children":50464},{"style":601},[50465],{"type":21,"value":26477},{"type":15,"tag":252,"props":50467,"children":50468},{"style":259},[50469],{"type":21,"value":33177},{"type":15,"tag":252,"props":50471,"children":50472},{"style":447},[50473],{"type":21,"value":33182},{"type":15,"tag":252,"props":50475,"children":50476},{"style":265},[50477],{"type":21,"value":50478},"\"right_block\"",{"type":15,"tag":252,"props":50480,"children":50481},{"style":447},[50482],{"type":21,"value":859},{"type":15,"tag":252,"props":50484,"children":50485},{"class":254,"line":2190},[50486,50490,50495,50499],{"type":15,"tag":252,"props":50487,"children":50488},{"style":601},[50489],{"type":21,"value":13283},{"type":15,"tag":252,"props":50491,"children":50492},{"style":447},[50493],{"type":21,"value":50494}," short_block ",{"type":15,"tag":252,"props":50496,"children":50497},{"style":601},[50498],{"type":21,"value":614},{"type":15,"tag":252,"props":50500,"children":50501},{"style":276},[50502],{"type":21,"value":18902},{"type":15,"tag":252,"props":50504,"children":50505},{"class":254,"line":2222},[50506,50510],{"type":15,"tag":252,"props":50507,"children":50508},{"style":601},[50509],{"type":21,"value":26477},{"type":15,"tag":252,"props":50511,"children":50512},{"style":447},[50513],{"type":21,"value":33165},{"type":15,"tag":252,"props":50515,"children":50516},{"class":254,"line":2270},[50517,50521,50525,50530,50535],{"type":15,"tag":252,"props":50518,"children":50519},{"style":601},[50520],{"type":21,"value":26477},{"type":15,"tag":252,"props":50522,"children":50523},{"style":259},[50524],{"type":21,"value":33177},{"type":15,"tag":252,"props":50526,"children":50527},{"style":447},[50528],{"type":21,"value":50529},"(right_block, ",{"type":15,"tag":252,"props":50531,"children":50532},{"style":265},[50533],{"type":21,"value":50534},"\"short_block\"",{"type":15,"tag":252,"props":50536,"children":50537},{"style":447},[50538],{"type":21,"value":859},{"type":15,"tag":252,"props":50540,"children":50541},{"class":254,"line":2302},[50542,50546,50550,50554],{"type":15,"tag":252,"props":50543,"children":50544},{"style":601},[50545],{"type":21,"value":13283},{"type":15,"tag":252,"props":50547,"children":50548},{"style":447},[50549],{"type":21,"value":33203},{"type":15,"tag":252,"props":50551,"children":50552},{"style":601},[50553],{"type":21,"value":614},{"type":15,"tag":252,"props":50555,"children":50556},{"style":276},[50557],{"type":21,"value":18902},{"type":15,"tag":252,"props":50559,"children":50560},{"class":254,"line":2310},[50561,50565],{"type":15,"tag":252,"props":50562,"children":50563},{"style":601},[50564],{"type":21,"value":26477},{"type":15,"tag":252,"props":50566,"children":50567},{"style":447},[50568],{"type":21,"value":33165},{"type":15,"tag":252,"props":50570,"children":50571},{"class":254,"line":2370},[50572,50576,50580,50585,50589],{"type":15,"tag":252,"props":50573,"children":50574},{"style":601},[50575],{"type":21,"value":26477},{"type":15,"tag":252,"props":50577,"children":50578},{"style":259},[50579],{"type":21,"value":33177},{"type":15,"tag":252,"props":50581,"children":50582},{"style":447},[50583],{"type":21,"value":50584},"(short_block, ",{"type":15,"tag":252,"props":50586,"children":50587},{"style":265},[50588],{"type":21,"value":33243},{"type":15,"tag":252,"props":50590,"children":50591},{"style":447},[50592],{"type":21,"value":859},{"type":15,"tag":252,"props":50594,"children":50595},{"class":254,"line":2418},[50596],{"type":15,"tag":252,"props":50597,"children":50598},{"emptyLinePlaceholder":2053},[50599],{"type":21,"value":2056},{"type":15,"tag":252,"props":50601,"children":50602},{"class":254,"line":2426},[50603,50607,50611,50615],{"type":15,"tag":252,"props":50604,"children":50605},{"style":601},[50606],{"type":21,"value":13283},{"type":15,"tag":252,"props":50608,"children":50609},{"style":447},[50610],{"type":21,"value":49966},{"type":15,"tag":252,"props":50612,"children":50613},{"style":601},[50614],{"type":21,"value":614},{"type":15,"tag":252,"props":50616,"children":50617},{"style":276},[50618],{"type":21,"value":18902},{"type":15,"tag":252,"props":50620,"children":50621},{"class":254,"line":2474},[50622,50626],{"type":15,"tag":252,"props":50623,"children":50624},{"style":601},[50625],{"type":21,"value":26477},{"type":15,"tag":252,"props":50627,"children":50628},{"style":447},[50629],{"type":21,"value":18914},{"type":15,"tag":252,"props":50631,"children":50632},{"class":254,"line":2522},[50633,50637,50642,50646,50650,50654,50658,50662,50666,50670,50675],{"type":15,"tag":252,"props":50634,"children":50635},{"style":601},[50636],{"type":21,"value":26477},{"type":15,"tag":252,"props":50638,"children":50639},{"style":259},[50640],{"type":21,"value":50641},"build_alloca",{"type":15,"tag":252,"props":50643,"children":50644},{"style":447},[50645],{"type":21,"value":849},{"type":15,"tag":252,"props":50647,"children":50648},{"style":276},[50649],{"type":21,"value":7432},{"type":15,"tag":252,"props":50651,"children":50652},{"style":601},[50653],{"type":21,"value":432},{"type":15,"tag":252,"props":50655,"children":50656},{"style":447},[50657],{"type":21,"value":908},{"type":15,"tag":252,"props":50659,"children":50660},{"style":601},[50661],{"type":21,"value":432},{"type":15,"tag":252,"props":50663,"children":50664},{"style":259},[50665],{"type":21,"value":38333},{"type":15,"tag":252,"props":50667,"children":50668},{"style":447},[50669],{"type":21,"value":20357},{"type":15,"tag":252,"props":50671,"children":50672},{"style":265},[50673],{"type":21,"value":50674},"\"pointer\"",{"type":15,"tag":252,"props":50676,"children":50677},{"style":447},[50678],{"type":21,"value":859},{"type":15,"tag":252,"props":50680,"children":50681},{"class":254,"line":2530},[50682],{"type":15,"tag":252,"props":50683,"children":50684},{"emptyLinePlaceholder":2053},[50685],{"type":21,"value":2056},{"type":15,"tag":252,"props":50687,"children":50688},{"class":254,"line":2570},[50689,50693],{"type":15,"tag":252,"props":50690,"children":50691},{"style":601},[50692],{"type":21,"value":49091},{"type":15,"tag":252,"props":50694,"children":50695},{"style":447},[50696],{"type":21,"value":37444},{"type":15,"tag":252,"props":50698,"children":50699},{"class":254,"line":2591},[50700,50704,50708,50713,50717,50721,50725],{"type":15,"tag":252,"props":50701,"children":50702},{"style":259},[50703],{"type":21,"value":38046},{"type":15,"tag":252,"props":50705,"children":50706},{"style":601},[50707],{"type":21,"value":804},{"type":15,"tag":252,"props":50709,"children":50710},{"style":259},[50711],{"type":21,"value":50712},"BooleanOperator",{"type":15,"tag":252,"props":50714,"children":50715},{"style":601},[50716],{"type":21,"value":804},{"type":15,"tag":252,"props":50718,"children":50719},{"style":259},[50720],{"type":21,"value":49445},{"type":15,"tag":252,"props":50722,"children":50723},{"style":601},[50724],{"type":21,"value":9226},{"type":15,"tag":252,"props":50726,"children":50727},{"style":447},[50728],{"type":21,"value":3769},{"type":15,"tag":252,"props":50730,"children":50731},{"class":254,"line":2599},[50732,50736,50740],{"type":15,"tag":252,"props":50733,"children":50734},{"style":276},[50735],{"type":21,"value":31337},{"type":15,"tag":252,"props":50737,"children":50738},{"style":601},[50739],{"type":21,"value":432},{"type":15,"tag":252,"props":50741,"children":50742},{"style":447},[50743],{"type":21,"value":18914},{"type":15,"tag":252,"props":50745,"children":50746},{"class":254,"line":2647},[50747,50751,50755],{"type":15,"tag":252,"props":50748,"children":50749},{"style":601},[50750],{"type":21,"value":46282},{"type":15,"tag":252,"props":50752,"children":50753},{"style":259},[50754],{"type":21,"value":33281},{"type":15,"tag":252,"props":50756,"children":50757},{"style":447},[50758],{"type":21,"value":50759},"(left, right_block, short_block);\n",{"type":15,"tag":252,"props":50761,"children":50762},{"class":254,"line":2679},[50763],{"type":15,"tag":252,"props":50764,"children":50765},{"style":447},[50766],{"type":21,"value":24209},{"type":15,"tag":252,"props":50768,"children":50769},{"class":254,"line":2727},[50770,50774,50778,50782,50786,50790,50794],{"type":15,"tag":252,"props":50771,"children":50772},{"style":259},[50773],{"type":21,"value":38046},{"type":15,"tag":252,"props":50775,"children":50776},{"style":601},[50777],{"type":21,"value":804},{"type":15,"tag":252,"props":50779,"children":50780},{"style":259},[50781],{"type":21,"value":50712},{"type":15,"tag":252,"props":50783,"children":50784},{"style":601},[50785],{"type":21,"value":804},{"type":15,"tag":252,"props":50787,"children":50788},{"style":259},[50789],{"type":21,"value":49452},{"type":15,"tag":252,"props":50791,"children":50792},{"style":601},[50793],{"type":21,"value":9226},{"type":15,"tag":252,"props":50795,"children":50796},{"style":447},[50797],{"type":21,"value":3769},{"type":15,"tag":252,"props":50799,"children":50800},{"class":254,"line":2735},[50801,50805,50809],{"type":15,"tag":252,"props":50802,"children":50803},{"style":276},[50804],{"type":21,"value":31337},{"type":15,"tag":252,"props":50806,"children":50807},{"style":601},[50808],{"type":21,"value":432},{"type":15,"tag":252,"props":50810,"children":50811},{"style":447},[50812],{"type":21,"value":18914},{"type":15,"tag":252,"props":50814,"children":50815},{"class":254,"line":2799},[50816,50820,50824],{"type":15,"tag":252,"props":50817,"children":50818},{"style":601},[50819],{"type":21,"value":46282},{"type":15,"tag":252,"props":50821,"children":50822},{"style":259},[50823],{"type":21,"value":33281},{"type":15,"tag":252,"props":50825,"children":50826},{"style":447},[50827],{"type":21,"value":50828},"(left, short_block, right_block);\n",{"type":15,"tag":252,"props":50830,"children":50831},{"class":254,"line":2807},[50832],{"type":15,"tag":252,"props":50833,"children":50834},{"style":447},[50835],{"type":21,"value":24209},{"type":15,"tag":252,"props":50837,"children":50838},{"class":254,"line":2848},[50839],{"type":15,"tag":252,"props":50840,"children":50841},{"style":447},[50842],{"type":21,"value":10093},{"type":15,"tag":252,"props":50844,"children":50845},{"class":254,"line":4645},[50846],{"type":15,"tag":252,"props":50847,"children":50848},{"emptyLinePlaceholder":2053},[50849],{"type":21,"value":2056},{"type":15,"tag":252,"props":50851,"children":50852},{"class":254,"line":4654},[50853,50857,50861,50865,50869,50873],{"type":15,"tag":252,"props":50854,"children":50855},{"style":276},[50856],{"type":21,"value":8765},{"type":15,"tag":252,"props":50858,"children":50859},{"style":601},[50860],{"type":21,"value":432},{"type":15,"tag":252,"props":50862,"children":50863},{"style":447},[50864],{"type":21,"value":930},{"type":15,"tag":252,"props":50866,"children":50867},{"style":601},[50868],{"type":21,"value":432},{"type":15,"tag":252,"props":50870,"children":50871},{"style":259},[50872],{"type":21,"value":1595},{"type":15,"tag":252,"props":50874,"children":50875},{"style":447},[50876],{"type":21,"value":50877},"(right_block);\n",{"type":15,"tag":252,"props":50879,"children":50880},{"class":254,"line":4675},[50881,50885,50889,50893,50897,50901,50905],{"type":15,"tag":252,"props":50882,"children":50883},{"style":601},[50884],{"type":21,"value":13283},{"type":15,"tag":252,"props":50886,"children":50887},{"style":447},[50888],{"type":21,"value":37404},{"type":15,"tag":252,"props":50890,"children":50891},{"style":601},[50892],{"type":21,"value":614},{"type":15,"tag":252,"props":50894,"children":50895},{"style":276},[50896],{"type":21,"value":7244},{"type":15,"tag":252,"props":50898,"children":50899},{"style":601},[50900],{"type":21,"value":432},{"type":15,"tag":252,"props":50902,"children":50903},{"style":259},[50904],{"type":21,"value":29798},{"type":15,"tag":252,"props":50906,"children":50907},{"style":447},[50908],{"type":21,"value":38007},{"type":15,"tag":252,"props":50910,"children":50911},{"class":254,"line":8160},[50912,50916,50920,50924,50928,50933],{"type":15,"tag":252,"props":50913,"children":50914},{"style":276},[50915],{"type":21,"value":8765},{"type":15,"tag":252,"props":50917,"children":50918},{"style":601},[50919],{"type":21,"value":432},{"type":15,"tag":252,"props":50921,"children":50922},{"style":447},[50923],{"type":21,"value":930},{"type":15,"tag":252,"props":50925,"children":50926},{"style":601},[50927],{"type":21,"value":432},{"type":15,"tag":252,"props":50929,"children":50930},{"style":259},[50931],{"type":21,"value":50932},"build_store",{"type":15,"tag":252,"props":50934,"children":50935},{"style":447},[50936],{"type":21,"value":50007},{"type":15,"tag":252,"props":50938,"children":50939},{"class":254,"line":8168},[50940,50944,50948,50952,50956,50961],{"type":15,"tag":252,"props":50941,"children":50942},{"style":276},[50943],{"type":21,"value":8765},{"type":15,"tag":252,"props":50945,"children":50946},{"style":601},[50947],{"type":21,"value":432},{"type":15,"tag":252,"props":50949,"children":50950},{"style":447},[50951],{"type":21,"value":930},{"type":15,"tag":252,"props":50953,"children":50954},{"style":601},[50955],{"type":21,"value":432},{"type":15,"tag":252,"props":50957,"children":50958},{"style":259},[50959],{"type":21,"value":50960},"build_unconditional_branch",{"type":15,"tag":252,"props":50962,"children":50963},{"style":447},[50964],{"type":21,"value":33632},{"type":15,"tag":252,"props":50966,"children":50967},{"class":254,"line":8176},[50968],{"type":15,"tag":252,"props":50969,"children":50970},{"emptyLinePlaceholder":2053},[50971],{"type":21,"value":2056},{"type":15,"tag":252,"props":50973,"children":50974},{"class":254,"line":8225},[50975,50979,50983,50987,50991,50995],{"type":15,"tag":252,"props":50976,"children":50977},{"style":276},[50978],{"type":21,"value":8765},{"type":15,"tag":252,"props":50980,"children":50981},{"style":601},[50982],{"type":21,"value":432},{"type":15,"tag":252,"props":50984,"children":50985},{"style":447},[50986],{"type":21,"value":930},{"type":15,"tag":252,"props":50988,"children":50989},{"style":601},[50990],{"type":21,"value":432},{"type":15,"tag":252,"props":50992,"children":50993},{"style":259},[50994],{"type":21,"value":1595},{"type":15,"tag":252,"props":50996,"children":50997},{"style":447},[50998],{"type":21,"value":50999},"(short_block);\n",{"type":15,"tag":252,"props":51001,"children":51002},{"class":254,"line":8289},[51003,51007,51012,51016,51020],{"type":15,"tag":252,"props":51004,"children":51005},{"style":601},[51006],{"type":21,"value":13283},{"type":15,"tag":252,"props":51008,"children":51009},{"style":447},[51010],{"type":21,"value":51011}," short_result ",{"type":15,"tag":252,"props":51013,"children":51014},{"style":601},[51015],{"type":21,"value":614},{"type":15,"tag":252,"props":51017,"children":51018},{"style":601},[51019],{"type":21,"value":18821},{"type":15,"tag":252,"props":51021,"children":51022},{"style":447},[51023],{"type":21,"value":37444},{"type":15,"tag":252,"props":51025,"children":51026},{"class":254,"line":8326},[51027,51031,51035,51039,51043,51047,51051,51055,51059,51063,51067,51071,51075,51079,51083,51087,51091,51095,51099],{"type":15,"tag":252,"props":51028,"children":51029},{"style":259},[51030],{"type":21,"value":38046},{"type":15,"tag":252,"props":51032,"children":51033},{"style":601},[51034],{"type":21,"value":804},{"type":15,"tag":252,"props":51036,"children":51037},{"style":259},[51038],{"type":21,"value":50712},{"type":15,"tag":252,"props":51040,"children":51041},{"style":601},[51042],{"type":21,"value":804},{"type":15,"tag":252,"props":51044,"children":51045},{"style":259},[51046],{"type":21,"value":49445},{"type":15,"tag":252,"props":51048,"children":51049},{"style":601},[51050],{"type":21,"value":9226},{"type":15,"tag":252,"props":51052,"children":51053},{"style":276},[51054],{"type":21,"value":7244},{"type":15,"tag":252,"props":51056,"children":51057},{"style":601},[51058],{"type":21,"value":432},{"type":15,"tag":252,"props":51060,"children":51061},{"style":447},[51062],{"type":21,"value":908},{"type":15,"tag":252,"props":51064,"children":51065},{"style":601},[51066],{"type":21,"value":432},{"type":15,"tag":252,"props":51068,"children":51069},{"style":259},[51070],{"type":21,"value":38333},{"type":15,"tag":252,"props":51072,"children":51073},{"style":447},[51074],{"type":21,"value":7305},{"type":15,"tag":252,"props":51076,"children":51077},{"style":601},[51078],{"type":21,"value":432},{"type":15,"tag":252,"props":51080,"children":51081},{"style":259},[51082],{"type":21,"value":1892},{"type":15,"tag":252,"props":51084,"children":51085},{"style":447},[51086],{"type":21,"value":849},{"type":15,"tag":252,"props":51088,"children":51089},{"style":276},[51090],{"type":21,"value":1901},{"type":15,"tag":252,"props":51092,"children":51093},{"style":447},[51094],{"type":21,"value":1076},{"type":15,"tag":252,"props":51096,"children":51097},{"style":276},[51098],{"type":21,"value":1456},{"type":15,"tag":252,"props":51100,"children":51101},{"style":447},[51102],{"type":21,"value":5899},{"type":15,"tag":252,"props":51104,"children":51105},{"class":254,"line":8357},[51106,51110,51114,51118,51122,51126,51130,51134,51138,51142,51146,51150,51154,51158,51162,51166,51170,51174,51178],{"type":15,"tag":252,"props":51107,"children":51108},{"style":259},[51109],{"type":21,"value":38046},{"type":15,"tag":252,"props":51111,"children":51112},{"style":601},[51113],{"type":21,"value":804},{"type":15,"tag":252,"props":51115,"children":51116},{"style":259},[51117],{"type":21,"value":50712},{"type":15,"tag":252,"props":51119,"children":51120},{"style":601},[51121],{"type":21,"value":804},{"type":15,"tag":252,"props":51123,"children":51124},{"style":259},[51125],{"type":21,"value":49452},{"type":15,"tag":252,"props":51127,"children":51128},{"style":601},[51129],{"type":21,"value":9226},{"type":15,"tag":252,"props":51131,"children":51132},{"style":276},[51133],{"type":21,"value":7244},{"type":15,"tag":252,"props":51135,"children":51136},{"style":601},[51137],{"type":21,"value":432},{"type":15,"tag":252,"props":51139,"children":51140},{"style":447},[51141],{"type":21,"value":908},{"type":15,"tag":252,"props":51143,"children":51144},{"style":601},[51145],{"type":21,"value":432},{"type":15,"tag":252,"props":51147,"children":51148},{"style":259},[51149],{"type":21,"value":38333},{"type":15,"tag":252,"props":51151,"children":51152},{"style":447},[51153],{"type":21,"value":7305},{"type":15,"tag":252,"props":51155,"children":51156},{"style":601},[51157],{"type":21,"value":432},{"type":15,"tag":252,"props":51159,"children":51160},{"style":259},[51161],{"type":21,"value":1892},{"type":15,"tag":252,"props":51163,"children":51164},{"style":447},[51165],{"type":21,"value":849},{"type":15,"tag":252,"props":51167,"children":51168},{"style":276},[51169],{"type":21,"value":6162},{"type":15,"tag":252,"props":51171,"children":51172},{"style":447},[51173],{"type":21,"value":1076},{"type":15,"tag":252,"props":51175,"children":51176},{"style":276},[51177],{"type":21,"value":1456},{"type":15,"tag":252,"props":51179,"children":51180},{"style":447},[51181],{"type":21,"value":5899},{"type":15,"tag":252,"props":51183,"children":51184},{"class":254,"line":8385},[51185],{"type":15,"tag":252,"props":51186,"children":51187},{"style":447},[51188],{"type":21,"value":31547},{"type":15,"tag":252,"props":51190,"children":51191},{"class":254,"line":8403},[51192,51196,51200,51204,51208,51212],{"type":15,"tag":252,"props":51193,"children":51194},{"style":276},[51195],{"type":21,"value":8765},{"type":15,"tag":252,"props":51197,"children":51198},{"style":601},[51199],{"type":21,"value":432},{"type":15,"tag":252,"props":51201,"children":51202},{"style":447},[51203],{"type":21,"value":930},{"type":15,"tag":252,"props":51205,"children":51206},{"style":601},[51207],{"type":21,"value":432},{"type":15,"tag":252,"props":51209,"children":51210},{"style":259},[51211],{"type":21,"value":50932},{"type":15,"tag":252,"props":51213,"children":51214},{"style":447},[51215],{"type":21,"value":51216},"(pointer, short_result);\n",{"type":15,"tag":252,"props":51218,"children":51219},{"class":254,"line":8432},[51220,51224,51228,51232,51236,51240],{"type":15,"tag":252,"props":51221,"children":51222},{"style":276},[51223],{"type":21,"value":8765},{"type":15,"tag":252,"props":51225,"children":51226},{"style":601},[51227],{"type":21,"value":432},{"type":15,"tag":252,"props":51229,"children":51230},{"style":447},[51231],{"type":21,"value":930},{"type":15,"tag":252,"props":51233,"children":51234},{"style":601},[51235],{"type":21,"value":432},{"type":15,"tag":252,"props":51237,"children":51238},{"style":259},[51239],{"type":21,"value":50960},{"type":15,"tag":252,"props":51241,"children":51242},{"style":447},[51243],{"type":21,"value":33632},{"type":15,"tag":252,"props":51245,"children":51246},{"class":254,"line":8440},[51247],{"type":15,"tag":252,"props":51248,"children":51249},{"emptyLinePlaceholder":2053},[51250],{"type":21,"value":2056},{"type":15,"tag":252,"props":51252,"children":51253},{"class":254,"line":8454},[51254,51258,51262,51266,51270,51274],{"type":15,"tag":252,"props":51255,"children":51256},{"style":276},[51257],{"type":21,"value":8765},{"type":15,"tag":252,"props":51259,"children":51260},{"style":601},[51261],{"type":21,"value":432},{"type":15,"tag":252,"props":51263,"children":51264},{"style":447},[51265],{"type":21,"value":930},{"type":15,"tag":252,"props":51267,"children":51268},{"style":601},[51269],{"type":21,"value":432},{"type":15,"tag":252,"props":51271,"children":51272},{"style":259},[51273],{"type":21,"value":1595},{"type":15,"tag":252,"props":51275,"children":51276},{"style":447},[51277],{"type":21,"value":33632},{"type":15,"tag":252,"props":51279,"children":51280},{"class":254,"line":8462},[51281,51285,51289],{"type":15,"tag":252,"props":51282,"children":51283},{"style":276},[51284],{"type":21,"value":8765},{"type":15,"tag":252,"props":51286,"children":51287},{"style":601},[51288],{"type":21,"value":432},{"type":15,"tag":252,"props":51290,"children":51291},{"style":447},[51292],{"type":21,"value":18914},{"type":15,"tag":252,"props":51294,"children":51295},{"class":254,"line":8470},[51296,51300,51305,51309,51313,51317,51321,51325,51329,51334,51339],{"type":15,"tag":252,"props":51297,"children":51298},{"style":601},[51299],{"type":21,"value":26477},{"type":15,"tag":252,"props":51301,"children":51302},{"style":259},[51303],{"type":21,"value":51304},"build_load",{"type":15,"tag":252,"props":51306,"children":51307},{"style":447},[51308],{"type":21,"value":849},{"type":15,"tag":252,"props":51310,"children":51311},{"style":276},[51312],{"type":21,"value":7432},{"type":15,"tag":252,"props":51314,"children":51315},{"style":601},[51316],{"type":21,"value":432},{"type":15,"tag":252,"props":51318,"children":51319},{"style":447},[51320],{"type":21,"value":908},{"type":15,"tag":252,"props":51322,"children":51323},{"style":601},[51324],{"type":21,"value":432},{"type":15,"tag":252,"props":51326,"children":51327},{"style":259},[51328],{"type":21,"value":38333},{"type":15,"tag":252,"props":51330,"children":51331},{"style":447},[51332],{"type":21,"value":51333},"(), pointer, ",{"type":15,"tag":252,"props":51335,"children":51336},{"style":265},[51337],{"type":21,"value":51338},"\"result\"",{"type":15,"tag":252,"props":51340,"children":51341},{"style":447},[51342],{"type":21,"value":7327},{"type":15,"tag":252,"props":51344,"children":51345},{"class":254,"line":8498},[51346,51350,51355],{"type":15,"tag":252,"props":51347,"children":51348},{"style":601},[51349],{"type":21,"value":26477},{"type":15,"tag":252,"props":51351,"children":51352},{"style":259},[51353],{"type":21,"value":51354},"into_int_value",{"type":15,"tag":252,"props":51356,"children":51357},{"style":447},[51358],{"type":21,"value":10672},{"type":15,"tag":252,"props":51360,"children":51361},{"class":254,"line":8518},[51362],{"type":15,"tag":252,"props":51363,"children":51364},{"style":447},[51365],{"type":21,"value":8814},{"type":15,"tag":23,"props":51367,"children":51368},{},[51369],{"type":21,"value":51370},"First we compile the left side, then we create our blocks, we need one for the right hand case, one for the short-circuit case, and ofc one for the continue after the check.",{"type":15,"tag":23,"props":51372,"children":51373},{},[51374,51376,51382],{"type":21,"value":51375},"We then create the allocated \"pointer\", and then we create the branch based on the operator type, you might have expected to see a ",{"type":15,"tag":81,"props":51377,"children":51379},{"className":51378},[],[51380],{"type":21,"value":51381},"not",{"type":21,"value":51383}," in there, but we can just swap the branches and we get the same effect.",{"type":15,"tag":23,"props":51385,"children":51386},{},[51387],{"type":21,"value":51388},"Then in the right hand side block we compile the right hand side, and then we store it in the pointer, and then we jump to the continue block.",{"type":15,"tag":23,"props":51390,"children":51391},{},[51392],{"type":21,"value":51393},"Similar in the short block we decide what the result should be and then we store that in the pointer, and then we jump to the continue block.",{"type":15,"tag":23,"props":51395,"children":51396},{},[51397],{"type":21,"value":51398},"In the continue block we load our value!",{"type":15,"tag":192,"props":51400,"children":51402},{"id":51401},"groups",[51403],{"type":21,"value":51404},"Groups",{"type":15,"tag":23,"props":51406,"children":51407},{},[51408,51410,51415],{"type":21,"value":51409},"Now lets add groups, i.e parenthesis, this lets us \"break\" precedence, ",{"type":15,"tag":81,"props":51411,"children":51413},{"className":51412},[],[51414],{"type":21,"value":38752},{"type":21,"value":51416},", The code thing is that this is totally in the parsing stage, we dont even have to touch the AST! Because the ast already encodes the precedence, so we just need to change the parsing logic!",{"type":15,"tag":23,"props":51418,"children":51419},{},[51420],{"type":21,"value":51421},"but first... TESTS!",{"type":15,"tag":95,"props":51423,"children":51425},{"code":51424},"${\n    assert (1 + 2) * 3 == 9;\n    assert ((((((((5)))))))) == 5;\n    assert -(2) == -2;\n    assert -(1 + 2) == -3;\n}\n",[51426],{"type":15,"tag":81,"props":51427,"children":51428},{"__ignoreMap":8},[51429],{"type":21,"value":51424},{"type":15,"tag":59,"props":51431,"children":51433},{"id":51432},"parsing-4",[51434],{"type":21,"value":5541},{"type":15,"tag":23,"props":51436,"children":51437},{},[51438,51440,51445,51446,51451],{"type":21,"value":51439},"But we do have to add new tokens, ",{"type":15,"tag":81,"props":51441,"children":51443},{"className":51442},[],[51444],{"type":21,"value":849},{"type":21,"value":3071},{"type":15,"tag":81,"props":51447,"children":51449},{"className":51448},[],[51450],{"type":21,"value":1975},{"type":21,"value":5726},{"type":15,"tag":95,"props":51453,"children":51455},{"code":51454,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\n    fn group(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        if self.peek()? == &TokenType::ParenOpen {\n            self.0.void();\n            let expression = self.expression()?;\n            self.expect(TokenType::ParenClose)?;\n            Ok(expression)\n        } else {\n            Ok(ast::Expression::Literal(self.literal()?))\n        }\n    }\n\n    fn expression_precedence(&mut self, precedence: usize) -> anyhow::Result\u003Cast::Expression> {\n        let level = match OPERATORS.get(precedence) {\n            Some(level) => level,\n            None => return self.group(),\n        };\n        // ...\n    }\n",[51456],{"type":15,"tag":81,"props":51457,"children":51458},{"__ignoreMap":8},[51459,51466,51526,51578,51601,51640,51684,51696,51711,51770,51777,51784,51791,51862,51897,51916,51947,51954,51961],{"type":15,"tag":252,"props":51460,"children":51461},{"class":254,"line":255},[51462],{"type":15,"tag":252,"props":51463,"children":51464},{"style":3287},[51465],{"type":21,"value":11380},{"type":15,"tag":252,"props":51467,"children":51468},{"class":254,"line":334},[51469,51473,51478,51482,51486,51490,51494,51498,51502,51506,51510,51514,51518,51522],{"type":15,"tag":252,"props":51470,"children":51471},{"style":601},[51472],{"type":21,"value":7146},{"type":15,"tag":252,"props":51474,"children":51475},{"style":259},[51476],{"type":21,"value":51477}," group",{"type":15,"tag":252,"props":51479,"children":51480},{"style":447},[51481],{"type":21,"value":849},{"type":15,"tag":252,"props":51483,"children":51484},{"style":601},[51485],{"type":21,"value":7239},{"type":15,"tag":252,"props":51487,"children":51488},{"style":276},[51489],{"type":21,"value":7244},{"type":15,"tag":252,"props":51491,"children":51492},{"style":447},[51493],{"type":21,"value":4943},{"type":15,"tag":252,"props":51495,"children":51496},{"style":601},[51497],{"type":21,"value":3947},{"type":15,"tag":252,"props":51499,"children":51500},{"style":259},[51501],{"type":21,"value":3952},{"type":15,"tag":252,"props":51503,"children":51504},{"style":601},[51505],{"type":21,"value":804},{"type":15,"tag":252,"props":51507,"children":51508},{"style":259},[51509],{"type":21,"value":3961},{"type":15,"tag":252,"props":51511,"children":51512},{"style":447},[51513],{"type":21,"value":10502},{"type":15,"tag":252,"props":51515,"children":51516},{"style":601},[51517],{"type":21,"value":804},{"type":15,"tag":252,"props":51519,"children":51520},{"style":259},[51521],{"type":21,"value":5716},{"type":15,"tag":252,"props":51523,"children":51524},{"style":447},[51525],{"type":21,"value":7138},{"type":15,"tag":252,"props":51527,"children":51528},{"class":254,"line":390},[51529,51533,51537,51541,51545,51549,51553,51557,51561,51565,51569,51574],{"type":15,"tag":252,"props":51530,"children":51531},{"style":601},[51532],{"type":21,"value":8295},{"type":15,"tag":252,"props":51534,"children":51535},{"style":276},[51536],{"type":21,"value":7244},{"type":15,"tag":252,"props":51538,"children":51539},{"style":601},[51540],{"type":21,"value":432},{"type":15,"tag":252,"props":51542,"children":51543},{"style":259},[51544],{"type":21,"value":8696},{"type":15,"tag":252,"props":51546,"children":51547},{"style":447},[51548],{"type":21,"value":7305},{"type":15,"tag":252,"props":51550,"children":51551},{"style":601},[51552],{"type":21,"value":5468},{"type":15,"tag":252,"props":51554,"children":51555},{"style":601},[51556],{"type":21,"value":40327},{"type":15,"tag":252,"props":51558,"children":51559},{"style":601},[51560],{"type":21,"value":4920},{"type":15,"tag":252,"props":51562,"children":51563},{"style":259},[51564],{"type":21,"value":8846},{"type":15,"tag":252,"props":51566,"children":51567},{"style":601},[51568],{"type":21,"value":804},{"type":15,"tag":252,"props":51570,"children":51571},{"style":259},[51572],{"type":21,"value":51573},"ParenOpen",{"type":15,"tag":252,"props":51575,"children":51576},{"style":447},[51577],{"type":21,"value":3769},{"type":15,"tag":252,"props":51579,"children":51580},{"class":254,"line":2077},[51581,51585,51589,51593,51597],{"type":15,"tag":252,"props":51582,"children":51583},{"style":276},[51584],{"type":21,"value":8332},{"type":15,"tag":252,"props":51586,"children":51587},{"style":601},[51588],{"type":21,"value":432},{"type":15,"tag":252,"props":51590,"children":51591},{"style":276},[51592],{"type":21,"value":7295},{"type":15,"tag":252,"props":51594,"children":51595},{"style":259},[51596],{"type":21,"value":8774},{"type":15,"tag":252,"props":51598,"children":51599},{"style":447},[51600],{"type":21,"value":814},{"type":15,"tag":252,"props":51602,"children":51603},{"class":254,"line":2110},[51604,51608,51612,51616,51620,51624,51628,51632,51636],{"type":15,"tag":252,"props":51605,"children":51606},{"style":601},[51607],{"type":21,"value":15892},{"type":15,"tag":252,"props":51609,"children":51610},{"style":447},[51611],{"type":21,"value":31233},{"type":15,"tag":252,"props":51613,"children":51614},{"style":601},[51615],{"type":21,"value":614},{"type":15,"tag":252,"props":51617,"children":51618},{"style":276},[51619],{"type":21,"value":7244},{"type":15,"tag":252,"props":51621,"children":51622},{"style":601},[51623],{"type":21,"value":432},{"type":15,"tag":252,"props":51625,"children":51626},{"style":259},[51627],{"type":21,"value":13329},{"type":15,"tag":252,"props":51629,"children":51630},{"style":447},[51631],{"type":21,"value":7305},{"type":15,"tag":252,"props":51633,"children":51634},{"style":601},[51635],{"type":21,"value":5468},{"type":15,"tag":252,"props":51637,"children":51638},{"style":447},[51639],{"type":21,"value":3325},{"type":15,"tag":252,"props":51641,"children":51642},{"class":254,"line":2150},[51643,51647,51651,51655,51659,51663,51667,51672,51676,51680],{"type":15,"tag":252,"props":51644,"children":51645},{"style":276},[51646],{"type":21,"value":8332},{"type":15,"tag":252,"props":51648,"children":51649},{"style":601},[51650],{"type":21,"value":432},{"type":15,"tag":252,"props":51652,"children":51653},{"style":259},[51654],{"type":21,"value":12596},{"type":15,"tag":252,"props":51656,"children":51657},{"style":447},[51658],{"type":21,"value":849},{"type":15,"tag":252,"props":51660,"children":51661},{"style":259},[51662],{"type":21,"value":8846},{"type":15,"tag":252,"props":51664,"children":51665},{"style":601},[51666],{"type":21,"value":804},{"type":15,"tag":252,"props":51668,"children":51669},{"style":259},[51670],{"type":21,"value":51671},"ParenClose",{"type":15,"tag":252,"props":51673,"children":51674},{"style":447},[51675],{"type":21,"value":1975},{"type":15,"tag":252,"props":51677,"children":51678},{"style":601},[51679],{"type":21,"value":5468},{"type":15,"tag":252,"props":51681,"children":51682},{"style":447},[51683],{"type":21,"value":3325},{"type":15,"tag":252,"props":51685,"children":51686},{"class":254,"line":2182},[51687,51691],{"type":15,"tag":252,"props":51688,"children":51689},{"style":259},[51690],{"type":21,"value":12492},{"type":15,"tag":252,"props":51692,"children":51693},{"style":447},[51694],{"type":21,"value":51695},"(expression)\n",{"type":15,"tag":252,"props":51697,"children":51698},{"class":254,"line":2190},[51699,51703,51707],{"type":15,"tag":252,"props":51700,"children":51701},{"style":447},[51702],{"type":21,"value":8391},{"type":15,"tag":252,"props":51704,"children":51705},{"style":601},[51706],{"type":21,"value":8396},{"type":15,"tag":252,"props":51708,"children":51709},{"style":447},[51710],{"type":21,"value":3769},{"type":15,"tag":252,"props":51712,"children":51713},{"class":254,"line":2222},[51714,51718,51722,51726,51730,51734,51738,51742,51746,51750,51754,51758,51762,51766],{"type":15,"tag":252,"props":51715,"children":51716},{"style":259},[51717],{"type":21,"value":12492},{"type":15,"tag":252,"props":51719,"children":51720},{"style":447},[51721],{"type":21,"value":849},{"type":15,"tag":252,"props":51723,"children":51724},{"style":259},[51725],{"type":21,"value":5623},{"type":15,"tag":252,"props":51727,"children":51728},{"style":601},[51729],{"type":21,"value":804},{"type":15,"tag":252,"props":51731,"children":51732},{"style":259},[51733],{"type":21,"value":5716},{"type":15,"tag":252,"props":51735,"children":51736},{"style":601},[51737],{"type":21,"value":804},{"type":15,"tag":252,"props":51739,"children":51740},{"style":259},[51741],{"type":21,"value":5724},{"type":15,"tag":252,"props":51743,"children":51744},{"style":447},[51745],{"type":21,"value":849},{"type":15,"tag":252,"props":51747,"children":51748},{"style":276},[51749],{"type":21,"value":7432},{"type":15,"tag":252,"props":51751,"children":51752},{"style":601},[51753],{"type":21,"value":432},{"type":15,"tag":252,"props":51755,"children":51756},{"style":259},[51757],{"type":21,"value":13024},{"type":15,"tag":252,"props":51759,"children":51760},{"style":447},[51761],{"type":21,"value":7305},{"type":15,"tag":252,"props":51763,"children":51764},{"style":601},[51765],{"type":21,"value":5468},{"type":15,"tag":252,"props":51767,"children":51768},{"style":447},[51769],{"type":21,"value":27802},{"type":15,"tag":252,"props":51771,"children":51772},{"class":254,"line":2270},[51773],{"type":15,"tag":252,"props":51774,"children":51775},{"style":447},[51776],{"type":21,"value":4087},{"type":15,"tag":252,"props":51778,"children":51779},{"class":254,"line":2302},[51780],{"type":15,"tag":252,"props":51781,"children":51782},{"style":447},[51783],{"type":21,"value":4095},{"type":15,"tag":252,"props":51785,"children":51786},{"class":254,"line":2310},[51787],{"type":15,"tag":252,"props":51788,"children":51789},{"emptyLinePlaceholder":2053},[51790],{"type":21,"value":2056},{"type":15,"tag":252,"props":51792,"children":51793},{"class":254,"line":2370},[51794,51798,51802,51806,51810,51814,51818,51822,51826,51830,51834,51838,51842,51846,51850,51854,51858],{"type":15,"tag":252,"props":51795,"children":51796},{"style":601},[51797],{"type":21,"value":7146},{"type":15,"tag":252,"props":51799,"children":51800},{"style":259},[51801],{"type":21,"value":40046},{"type":15,"tag":252,"props":51803,"children":51804},{"style":447},[51805],{"type":21,"value":849},{"type":15,"tag":252,"props":51807,"children":51808},{"style":601},[51809],{"type":21,"value":7239},{"type":15,"tag":252,"props":51811,"children":51812},{"style":276},[51813],{"type":21,"value":7244},{"type":15,"tag":252,"props":51815,"children":51816},{"style":447},[51817],{"type":21,"value":40063},{"type":15,"tag":252,"props":51819,"children":51820},{"style":601},[51821],{"type":21,"value":3374},{"type":15,"tag":252,"props":51823,"children":51824},{"style":259},[51825],{"type":21,"value":3379},{"type":15,"tag":252,"props":51827,"children":51828},{"style":447},[51829],{"type":21,"value":4943},{"type":15,"tag":252,"props":51831,"children":51832},{"style":601},[51833],{"type":21,"value":3947},{"type":15,"tag":252,"props":51835,"children":51836},{"style":259},[51837],{"type":21,"value":3952},{"type":15,"tag":252,"props":51839,"children":51840},{"style":601},[51841],{"type":21,"value":804},{"type":15,"tag":252,"props":51843,"children":51844},{"style":259},[51845],{"type":21,"value":3961},{"type":15,"tag":252,"props":51847,"children":51848},{"style":447},[51849],{"type":21,"value":10502},{"type":15,"tag":252,"props":51851,"children":51852},{"style":601},[51853],{"type":21,"value":804},{"type":15,"tag":252,"props":51855,"children":51856},{"style":259},[51857],{"type":21,"value":5716},{"type":15,"tag":252,"props":51859,"children":51860},{"style":447},[51861],{"type":21,"value":7138},{"type":15,"tag":252,"props":51863,"children":51864},{"class":254,"line":2418},[51865,51869,51873,51877,51881,51885,51889,51893],{"type":15,"tag":252,"props":51866,"children":51867},{"style":601},[51868],{"type":21,"value":8231},{"type":15,"tag":252,"props":51870,"children":51871},{"style":447},[51872],{"type":21,"value":40119},{"type":15,"tag":252,"props":51874,"children":51875},{"style":601},[51876],{"type":21,"value":614},{"type":15,"tag":252,"props":51878,"children":51879},{"style":601},[51880],{"type":21,"value":18821},{"type":15,"tag":252,"props":51882,"children":51883},{"style":276},[51884],{"type":21,"value":39825},{"type":15,"tag":252,"props":51886,"children":51887},{"style":601},[51888],{"type":21,"value":432},{"type":15,"tag":252,"props":51890,"children":51891},{"style":259},[51892],{"type":21,"value":40140},{"type":15,"tag":252,"props":51894,"children":51895},{"style":447},[51896],{"type":21,"value":39135},{"type":15,"tag":252,"props":51898,"children":51899},{"class":254,"line":2426},[51900,51904,51908,51912],{"type":15,"tag":252,"props":51901,"children":51902},{"style":259},[51903],{"type":21,"value":40152},{"type":15,"tag":252,"props":51905,"children":51906},{"style":447},[51907],{"type":21,"value":40157},{"type":15,"tag":252,"props":51909,"children":51910},{"style":601},[51911],{"type":21,"value":4054},{"type":15,"tag":252,"props":51913,"children":51914},{"style":447},[51915],{"type":21,"value":40166},{"type":15,"tag":252,"props":51917,"children":51918},{"class":254,"line":2474},[51919,51923,51927,51931,51935,51939,51943],{"type":15,"tag":252,"props":51920,"children":51921},{"style":259},[51922],{"type":21,"value":40174},{"type":15,"tag":252,"props":51924,"children":51925},{"style":601},[51926],{"type":21,"value":9226},{"type":15,"tag":252,"props":51928,"children":51929},{"style":601},[51930],{"type":21,"value":40183},{"type":15,"tag":252,"props":51932,"children":51933},{"style":276},[51934],{"type":21,"value":7244},{"type":15,"tag":252,"props":51936,"children":51937},{"style":601},[51938],{"type":21,"value":432},{"type":15,"tag":252,"props":51940,"children":51941},{"style":259},[51942],{"type":21,"value":40676},{"type":15,"tag":252,"props":51944,"children":51945},{"style":447},[51946],{"type":21,"value":10142},{"type":15,"tag":252,"props":51948,"children":51949},{"class":254,"line":2522},[51950],{"type":15,"tag":252,"props":51951,"children":51952},{"style":447},[51953],{"type":21,"value":18882},{"type":15,"tag":252,"props":51955,"children":51956},{"class":254,"line":2530},[51957],{"type":15,"tag":252,"props":51958,"children":51959},{"style":3287},[51960],{"type":21,"value":26918},{"type":15,"tag":252,"props":51962,"children":51963},{"class":254,"line":2570},[51964],{"type":15,"tag":252,"props":51965,"children":51966},{"style":447},[51967],{"type":21,"value":4095},{"type":15,"tag":23,"props":51969,"children":51970},{},[51971],{"type":21,"value":51972},"And it was that easy.",{"type":15,"tag":192,"props":51974,"children":51975},{"id":3113},[51976],{"type":21,"value":3116},{"type":15,"tag":23,"props":51978,"children":51979},{},[51980],{"type":21,"value":51981},"We now have operators, so basically we got a very overgrown calculator! Yay! Now we can start adding more fun stuff, like variables, control flow, functions, etc.",{"type":15,"tag":3134,"props":51983,"children":51984},{},[51985],{"type":21,"value":3138},{"title":8,"searchDepth":334,"depth":334,"links":51987},[51988,51989,51990,51991,51992,51993,51998,52003,52008,52013,52016],{"id":38555,"depth":390,"text":38558},{"id":38654,"depth":390,"text":38657},{"id":38724,"depth":390,"text":38727},{"id":38897,"depth":390,"text":38900},{"id":39298,"depth":334,"text":39301},{"id":39317,"depth":334,"text":38657,"children":51994},[51995,51996,51997],{"id":5538,"depth":390,"text":5541},{"id":14557,"depth":390,"text":14560},{"id":26058,"depth":390,"text":26061},{"id":42799,"depth":334,"text":42802,"children":51999},[52000,52001,52002],{"id":26734,"depth":390,"text":5541},{"id":27901,"depth":390,"text":14560},{"id":29095,"depth":390,"text":26061},{"id":46590,"depth":334,"text":46593,"children":52004},[52005,52006,52007],{"id":30034,"depth":390,"text":5541},{"id":31708,"depth":390,"text":14560},{"id":32242,"depth":390,"text":26061},{"id":49399,"depth":334,"text":49402,"children":52009},[52010,52011,52012],{"id":35219,"depth":390,"text":5541},{"id":36900,"depth":390,"text":14560},{"id":37183,"depth":390,"text":26061},{"id":51401,"depth":334,"text":51404,"children":52014},[52015],{"id":51432,"depth":390,"text":5541},{"id":3113,"depth":334,"text":3116},"content:blog:5.compiler_5.md","blog/5.compiler_5.md",{"_path":52020,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":52021,"description":52022,"body":52023,"_type":3151,"_id":60988,"_source":3153,"_file":60989,"_extension":3155},"/blog/compiler_6","Compiler part 5 - Variables","So in todays blog post we will be implementing variables. This is what will make this more than a overgrown calculator and start looking more like a real programming lang.",{"type":12,"children":52024,"toc":60972},[52025,52030,52034,52045,52051,52056,52063,52157,52162,52298,52310,52322,52498,52503,52625,52631,52636,52641,52647,52652,52658,52679,52725,52757,52765,52791,52799,52804,52812,52818,52829,52931,52936,53336,53341,53851,53856,53862,53867,53872,53880,53885,53893,53921,53925,53944,54232,54242,54259,54737,54742,55168,55174,55179,55751,55779,56054,56059,56266,56271,56543,56548,56657,56662,57302,57307,57882,57887,58450,58455,58859,58863,58868,59196,59209,59806,59825,60170,60175,60363,60371,60376,60382,60401,60406,60411,60549,60554,60811,60815,60820,60941,60946,60950,60968],{"type":15,"tag":16,"props":52026,"children":52028},{"id":52027},"compiler-part-5-variables",[52029],{"type":21,"value":52021},{"type":15,"tag":23,"props":52031,"children":52032},{},[52033],{"type":21,"value":52022},{"type":15,"tag":23,"props":52035,"children":52036},{},[52037,52039],{"type":21,"value":52038},"And as always here is the repo: ",{"type":15,"tag":43,"props":52040,"children":52043},{"href":52041,"rel":52042},"https://github.com/vivax3794/viv_script_blog/tree/fdf3c7cca395f51b801e7f4363841b0e0b05e01d",[47],[52044],{"type":21,"value":52041},{"type":15,"tag":59,"props":52046,"children":52048},{"id":52047},"how-shall-we-keep-track-of-scope",[52049],{"type":21,"value":52050},"How shall we keep track of scope",{"type":15,"tag":23,"props":52052,"children":52053},{},[52054],{"type":21,"value":52055},"So the question of scope, how big should scopes be? We can do what python does and have function scope, or like rust with blog scope. what do I mean with this?",{"type":15,"tag":52057,"props":52058,"children":52060},"h4",{"id":52059},"how-rust-and-python-do-it",[52061],{"type":21,"value":52062},"How rust and python do it.",{"type":15,"tag":95,"props":52064,"children":52068},{"code":52065,"language":52066,"meta":8,"className":52067,"style":8},"def foo():\n    y = True\n    if y:\n        x = 123\n    print(x)\n    # x and y go out of scope\n","python","language-python shiki shiki-themes github-dark",[52069],{"type":15,"tag":81,"props":52070,"children":52071},{"__ignoreMap":8},[52072,52090,52107,52119,52136,52149],{"type":15,"tag":252,"props":52073,"children":52074},{"class":254,"line":255},[52075,52080,52085],{"type":15,"tag":252,"props":52076,"children":52077},{"style":601},[52078],{"type":21,"value":52079},"def",{"type":15,"tag":252,"props":52081,"children":52082},{"style":259},[52083],{"type":21,"value":52084}," foo",{"type":15,"tag":252,"props":52086,"children":52087},{"style":447},[52088],{"type":21,"value":52089},"():\n",{"type":15,"tag":252,"props":52091,"children":52092},{"class":254,"line":334},[52093,52098,52102],{"type":15,"tag":252,"props":52094,"children":52095},{"style":447},[52096],{"type":21,"value":52097},"    y ",{"type":15,"tag":252,"props":52099,"children":52100},{"style":601},[52101],{"type":21,"value":614},{"type":15,"tag":252,"props":52103,"children":52104},{"style":276},[52105],{"type":21,"value":52106}," True\n",{"type":15,"tag":252,"props":52108,"children":52109},{"class":254,"line":390},[52110,52114],{"type":15,"tag":252,"props":52111,"children":52112},{"style":601},[52113],{"type":21,"value":10611},{"type":15,"tag":252,"props":52115,"children":52116},{"style":447},[52117],{"type":21,"value":52118}," y:\n",{"type":15,"tag":252,"props":52120,"children":52121},{"class":254,"line":2077},[52122,52127,52131],{"type":15,"tag":252,"props":52123,"children":52124},{"style":447},[52125],{"type":21,"value":52126},"        x ",{"type":15,"tag":252,"props":52128,"children":52129},{"style":601},[52130],{"type":21,"value":614},{"type":15,"tag":252,"props":52132,"children":52133},{"style":276},[52134],{"type":21,"value":52135}," 123\n",{"type":15,"tag":252,"props":52137,"children":52138},{"class":254,"line":2110},[52139,52144],{"type":15,"tag":252,"props":52140,"children":52141},{"style":276},[52142],{"type":21,"value":52143},"    print",{"type":15,"tag":252,"props":52145,"children":52146},{"style":447},[52147],{"type":21,"value":52148},"(x)\n",{"type":15,"tag":252,"props":52150,"children":52151},{"class":254,"line":2150},[52152],{"type":15,"tag":252,"props":52153,"children":52154},{"style":3287},[52155],{"type":21,"value":52156},"    # x and y go out of scope\n",{"type":15,"tag":23,"props":52158,"children":52159},{},[52160],{"type":21,"value":52161},"in python this works, while in rust this wont:",{"type":15,"tag":95,"props":52163,"children":52165},{"code":52164,"language":772,"meta":8,"className":773,"style":8},"fn bar() {\n    let y = true;\n    if y {\n        let x = 123;\n    } // x goes out of scope\n    println!(\"{x}\"); // Error, x is not in scope\n} // y goes out of scope\n",[52166],{"type":15,"tag":81,"props":52167,"children":52168},{"__ignoreMap":8},[52169,52185,52209,52221,52246,52259,52286],{"type":15,"tag":252,"props":52170,"children":52171},{"class":254,"line":255},[52172,52176,52181],{"type":15,"tag":252,"props":52173,"children":52174},{"style":601},[52175],{"type":21,"value":2064},{"type":15,"tag":252,"props":52177,"children":52178},{"style":259},[52179],{"type":21,"value":52180}," bar",{"type":15,"tag":252,"props":52182,"children":52183},{"style":447},[52184],{"type":21,"value":2074},{"type":15,"tag":252,"props":52186,"children":52187},{"class":254,"line":334},[52188,52192,52197,52201,52205],{"type":15,"tag":252,"props":52189,"children":52190},{"style":601},[52191],{"type":21,"value":2083},{"type":15,"tag":252,"props":52193,"children":52194},{"style":447},[52195],{"type":21,"value":52196}," y ",{"type":15,"tag":252,"props":52198,"children":52199},{"style":601},[52200],{"type":21,"value":614},{"type":15,"tag":252,"props":52202,"children":52203},{"style":276},[52204],{"type":21,"value":15095},{"type":15,"tag":252,"props":52206,"children":52207},{"style":447},[52208],{"type":21,"value":3325},{"type":15,"tag":252,"props":52210,"children":52211},{"class":254,"line":390},[52212,52216],{"type":15,"tag":252,"props":52213,"children":52214},{"style":601},[52215],{"type":21,"value":10611},{"type":15,"tag":252,"props":52217,"children":52218},{"style":447},[52219],{"type":21,"value":52220}," y {\n",{"type":15,"tag":252,"props":52222,"children":52223},{"class":254,"line":2077},[52224,52228,52233,52237,52242],{"type":15,"tag":252,"props":52225,"children":52226},{"style":601},[52227],{"type":21,"value":8231},{"type":15,"tag":252,"props":52229,"children":52230},{"style":447},[52231],{"type":21,"value":52232}," x ",{"type":15,"tag":252,"props":52234,"children":52235},{"style":601},[52236],{"type":21,"value":614},{"type":15,"tag":252,"props":52238,"children":52239},{"style":276},[52240],{"type":21,"value":52241}," 123",{"type":15,"tag":252,"props":52243,"children":52244},{"style":447},[52245],{"type":21,"value":3325},{"type":15,"tag":252,"props":52247,"children":52248},{"class":254,"line":2110},[52249,52254],{"type":15,"tag":252,"props":52250,"children":52251},{"style":447},[52252],{"type":21,"value":52253},"    }",{"type":15,"tag":252,"props":52255,"children":52256},{"style":3287},[52257],{"type":21,"value":52258}," // x goes out of scope\n",{"type":15,"tag":252,"props":52260,"children":52261},{"class":254,"line":2150},[52262,52267,52271,52276,52281],{"type":15,"tag":252,"props":52263,"children":52264},{"style":259},[52265],{"type":21,"value":52266},"    println!",{"type":15,"tag":252,"props":52268,"children":52269},{"style":447},[52270],{"type":21,"value":849},{"type":15,"tag":252,"props":52272,"children":52273},{"style":265},[52274],{"type":21,"value":52275},"\"{x}\"",{"type":15,"tag":252,"props":52277,"children":52278},{"style":447},[52279],{"type":21,"value":52280},");",{"type":15,"tag":252,"props":52282,"children":52283},{"style":3287},[52284],{"type":21,"value":52285}," // Error, x is not in scope\n",{"type":15,"tag":252,"props":52287,"children":52288},{"class":254,"line":2182},[52289,52293],{"type":15,"tag":252,"props":52290,"children":52291},{"style":447},[52292],{"type":21,"value":23326},{"type":15,"tag":252,"props":52294,"children":52295},{"style":3287},[52296],{"type":21,"value":52297}," // y goes out of scope\n",{"type":15,"tag":23,"props":52299,"children":52300},{},[52301,52303,52308],{"type":21,"value":52302},"In rust this wont work because ",{"type":15,"tag":81,"props":52304,"children":52306},{"className":52305},[],[52307],{"type":21,"value":50093},{"type":21,"value":52309}," goes out of scope at the end of the if block.\nHow does rust deal with something like this then? Well for one we need a else case, because if the condition doesn't run then x might be undefined!",{"type":15,"tag":23,"props":52311,"children":52312},{},[52313,52315,52320],{"type":21,"value":52314},"And we can then make a mutable ",{"type":15,"tag":81,"props":52316,"children":52318},{"className":52317},[],[52319],{"type":21,"value":50093},{"type":21,"value":52321}," out side the if.",{"type":15,"tag":95,"props":52323,"children":52325},{"code":52324,"language":772,"meta":8,"className":773,"style":8},"fn bar() {\n    let y = true;\n    let mut x = -1;\n    if y {\n        x = 123;\n    } else {\n        x = 3794\n    }\n    println!(\"{x}\");\n} // x and y goes out of scope\n",[52326],{"type":15,"tag":81,"props":52327,"children":52328},{"__ignoreMap":8},[52329,52344,52367,52399,52410,52429,52444,52460,52467,52486],{"type":15,"tag":252,"props":52330,"children":52331},{"class":254,"line":255},[52332,52336,52340],{"type":15,"tag":252,"props":52333,"children":52334},{"style":601},[52335],{"type":21,"value":2064},{"type":15,"tag":252,"props":52337,"children":52338},{"style":259},[52339],{"type":21,"value":52180},{"type":15,"tag":252,"props":52341,"children":52342},{"style":447},[52343],{"type":21,"value":2074},{"type":15,"tag":252,"props":52345,"children":52346},{"class":254,"line":334},[52347,52351,52355,52359,52363],{"type":15,"tag":252,"props":52348,"children":52349},{"style":601},[52350],{"type":21,"value":2083},{"type":15,"tag":252,"props":52352,"children":52353},{"style":447},[52354],{"type":21,"value":52196},{"type":15,"tag":252,"props":52356,"children":52357},{"style":601},[52358],{"type":21,"value":614},{"type":15,"tag":252,"props":52360,"children":52361},{"style":276},[52362],{"type":21,"value":15095},{"type":15,"tag":252,"props":52364,"children":52365},{"style":447},[52366],{"type":21,"value":3325},{"type":15,"tag":252,"props":52368,"children":52369},{"class":254,"line":390},[52370,52374,52378,52382,52386,52391,52395],{"type":15,"tag":252,"props":52371,"children":52372},{"style":601},[52373],{"type":21,"value":2083},{"type":15,"tag":252,"props":52375,"children":52376},{"style":601},[52377],{"type":21,"value":8623},{"type":15,"tag":252,"props":52379,"children":52380},{"style":447},[52381],{"type":21,"value":52232},{"type":15,"tag":252,"props":52383,"children":52384},{"style":601},[52385],{"type":21,"value":614},{"type":15,"tag":252,"props":52387,"children":52388},{"style":601},[52389],{"type":21,"value":52390}," -",{"type":15,"tag":252,"props":52392,"children":52393},{"style":276},[52394],{"type":21,"value":6162},{"type":15,"tag":252,"props":52396,"children":52397},{"style":447},[52398],{"type":21,"value":3325},{"type":15,"tag":252,"props":52400,"children":52401},{"class":254,"line":2077},[52402,52406],{"type":15,"tag":252,"props":52403,"children":52404},{"style":601},[52405],{"type":21,"value":10611},{"type":15,"tag":252,"props":52407,"children":52408},{"style":447},[52409],{"type":21,"value":52220},{"type":15,"tag":252,"props":52411,"children":52412},{"class":254,"line":2110},[52413,52417,52421,52425],{"type":15,"tag":252,"props":52414,"children":52415},{"style":447},[52416],{"type":21,"value":52126},{"type":15,"tag":252,"props":52418,"children":52419},{"style":601},[52420],{"type":21,"value":614},{"type":15,"tag":252,"props":52422,"children":52423},{"style":276},[52424],{"type":21,"value":52241},{"type":15,"tag":252,"props":52426,"children":52427},{"style":447},[52428],{"type":21,"value":3325},{"type":15,"tag":252,"props":52430,"children":52431},{"class":254,"line":2150},[52432,52436,52440],{"type":15,"tag":252,"props":52433,"children":52434},{"style":447},[52435],{"type":21,"value":34534},{"type":15,"tag":252,"props":52437,"children":52438},{"style":601},[52439],{"type":21,"value":8396},{"type":15,"tag":252,"props":52441,"children":52442},{"style":447},[52443],{"type":21,"value":3769},{"type":15,"tag":252,"props":52445,"children":52446},{"class":254,"line":2182},[52447,52451,52455],{"type":15,"tag":252,"props":52448,"children":52449},{"style":447},[52450],{"type":21,"value":52126},{"type":15,"tag":252,"props":52452,"children":52453},{"style":601},[52454],{"type":21,"value":614},{"type":15,"tag":252,"props":52456,"children":52457},{"style":276},[52458],{"type":21,"value":52459}," 3794\n",{"type":15,"tag":252,"props":52461,"children":52462},{"class":254,"line":2190},[52463],{"type":15,"tag":252,"props":52464,"children":52465},{"style":447},[52466],{"type":21,"value":4095},{"type":15,"tag":252,"props":52468,"children":52469},{"class":254,"line":2222},[52470,52474,52478,52482],{"type":15,"tag":252,"props":52471,"children":52472},{"style":259},[52473],{"type":21,"value":52266},{"type":15,"tag":252,"props":52475,"children":52476},{"style":447},[52477],{"type":21,"value":849},{"type":15,"tag":252,"props":52479,"children":52480},{"style":265},[52481],{"type":21,"value":52275},{"type":15,"tag":252,"props":52483,"children":52484},{"style":447},[52485],{"type":21,"value":859},{"type":15,"tag":252,"props":52487,"children":52488},{"class":254,"line":2270},[52489,52493],{"type":15,"tag":252,"props":52490,"children":52491},{"style":447},[52492],{"type":21,"value":23326},{"type":15,"tag":252,"props":52494,"children":52495},{"style":3287},[52496],{"type":21,"value":52497}," // x and y goes out of scope\n",{"type":15,"tag":23,"props":52499,"children":52500},{},[52501],{"type":21,"value":52502},"Although in rust this is better written using a if-expression, because it avoids the mut.",{"type":15,"tag":95,"props":52504,"children":52506},{"code":52505,"language":772,"meta":8,"className":773,"style":8},"fn bar() {\n    let y = true;\n    let x = if y {123} else {3794};\n    println!(\"{x}\");\n}\n",[52507],{"type":15,"tag":81,"props":52508,"children":52509},{"__ignoreMap":8},[52510,52525,52548,52599,52618],{"type":15,"tag":252,"props":52511,"children":52512},{"class":254,"line":255},[52513,52517,52521],{"type":15,"tag":252,"props":52514,"children":52515},{"style":601},[52516],{"type":21,"value":2064},{"type":15,"tag":252,"props":52518,"children":52519},{"style":259},[52520],{"type":21,"value":52180},{"type":15,"tag":252,"props":52522,"children":52523},{"style":447},[52524],{"type":21,"value":2074},{"type":15,"tag":252,"props":52526,"children":52527},{"class":254,"line":334},[52528,52532,52536,52540,52544],{"type":15,"tag":252,"props":52529,"children":52530},{"style":601},[52531],{"type":21,"value":2083},{"type":15,"tag":252,"props":52533,"children":52534},{"style":447},[52535],{"type":21,"value":52196},{"type":15,"tag":252,"props":52537,"children":52538},{"style":601},[52539],{"type":21,"value":614},{"type":15,"tag":252,"props":52541,"children":52542},{"style":276},[52543],{"type":21,"value":15095},{"type":15,"tag":252,"props":52545,"children":52546},{"style":447},[52547],{"type":21,"value":3325},{"type":15,"tag":252,"props":52549,"children":52550},{"class":254,"line":390},[52551,52555,52559,52563,52568,52573,52578,52582,52586,52590,52595],{"type":15,"tag":252,"props":52552,"children":52553},{"style":601},[52554],{"type":21,"value":2083},{"type":15,"tag":252,"props":52556,"children":52557},{"style":447},[52558],{"type":21,"value":52232},{"type":15,"tag":252,"props":52560,"children":52561},{"style":601},[52562],{"type":21,"value":614},{"type":15,"tag":252,"props":52564,"children":52565},{"style":601},[52566],{"type":21,"value":52567}," if",{"type":15,"tag":252,"props":52569,"children":52570},{"style":447},[52571],{"type":21,"value":52572}," y {",{"type":15,"tag":252,"props":52574,"children":52575},{"style":276},[52576],{"type":21,"value":52577},"123",{"type":15,"tag":252,"props":52579,"children":52580},{"style":447},[52581],{"type":21,"value":49900},{"type":15,"tag":252,"props":52583,"children":52584},{"style":601},[52585],{"type":21,"value":8396},{"type":15,"tag":252,"props":52587,"children":52588},{"style":447},[52589],{"type":21,"value":14536},{"type":15,"tag":252,"props":52591,"children":52592},{"style":276},[52593],{"type":21,"value":52594},"3794",{"type":15,"tag":252,"props":52596,"children":52597},{"style":447},[52598],{"type":21,"value":2047},{"type":15,"tag":252,"props":52600,"children":52601},{"class":254,"line":2077},[52602,52606,52610,52614],{"type":15,"tag":252,"props":52603,"children":52604},{"style":259},[52605],{"type":21,"value":52266},{"type":15,"tag":252,"props":52607,"children":52608},{"style":447},[52609],{"type":21,"value":849},{"type":15,"tag":252,"props":52611,"children":52612},{"style":265},[52613],{"type":21,"value":52275},{"type":15,"tag":252,"props":52615,"children":52616},{"style":447},[52617],{"type":21,"value":859},{"type":15,"tag":252,"props":52619,"children":52620},{"class":254,"line":2110},[52621],{"type":15,"tag":252,"props":52622,"children":52623},{"style":447},[52624],{"type":21,"value":2854},{"type":15,"tag":52057,"props":52626,"children":52628},{"id":52627},"what-should-we-do",[52629],{"type":21,"value":52630},"What should we do?",{"type":15,"tag":23,"props":52632,"children":52633},{},[52634],{"type":21,"value":52635},"The benefit of rusts smaller scopes is that you can never have a undefined var, like we saw in the first rust snippet. We could do similar to python, and check that every branch declares a variable, some python linters actually do this.",{"type":15,"tag":23,"props":52637,"children":52638},{},[52639],{"type":21,"value":52640},"But that is a lot of work, and it is easier to have smaller scope. But then we run into the issue of what if we do want to affect vars in the outer scope.\nOne easy option is having separate syntax for declaring and modifying variables.\nAnd that is what we will do. And we will make it simple and have all vars be mutable.",{"type":15,"tag":59,"props":52642,"children":52644},{"id":52643},"how-should-we-handle-types",[52645],{"type":21,"value":52646},"How should we handle types",{"type":15,"tag":23,"props":52648,"children":52649},{},[52650],{"type":21,"value":52651},"We already know the type of the expression so we can use that to determine the type. And then on writes check that the type matches.",{"type":15,"tag":59,"props":52653,"children":52655},{"id":52654},"how-should-we-store-vars-in-the-llvm",[52656],{"type":21,"value":52657},"How should we store vars in the LLVM",{"type":15,"tag":23,"props":52659,"children":52660},{},[52661,52663,52669,52671,52677],{"type":21,"value":52662},"We are going to be storing them on the stack, same way we did during the short circuiting logic. where we used ",{"type":15,"tag":81,"props":52664,"children":52666},{"className":52665},[],[52667],{"type":21,"value":52668},"alloca",{"type":21,"value":52670}," to allocate the ",{"type":15,"tag":81,"props":52672,"children":52674},{"className":52673},[],[52675],{"type":21,"value":52676},"result",{"type":21,"value":52678}," value on the stack so we could modify it in the different branches, like we did in rust above.",{"type":15,"tag":23,"props":52680,"children":52681},{},[52682,52684,52689,52691,52696,52698,52703,52705,52711,52713,52718,52720],{"type":21,"value":52683},"Think of ",{"type":15,"tag":81,"props":52685,"children":52687},{"className":52686},[],[52688],{"type":21,"value":52668},{"type":21,"value":52690}," vs not-",{"type":15,"tag":81,"props":52692,"children":52694},{"className":52693},[],[52695],{"type":21,"value":52668},{"type":21,"value":52697}," like this, ",{"type":15,"tag":81,"props":52699,"children":52701},{"className":52700},[],[52702],{"type":21,"value":52668},{"type":21,"value":52704}," is ",{"type":15,"tag":81,"props":52706,"children":52708},{"className":52707},[],[52709],{"type":21,"value":52710},"let mut",{"type":21,"value":52712},", no ",{"type":15,"tag":81,"props":52714,"children":52716},{"className":52715},[],[52717],{"type":21,"value":52668},{"type":21,"value":52719}," is just ",{"type":15,"tag":81,"props":52721,"children":52723},{"className":52722},[],[52724],{"type":21,"value":785},{"type":15,"tag":23,"props":52726,"children":52727},{},[52728,52730,52735,52737,52742,52744,52748,52750,52755],{"type":21,"value":52729},"Another important thing is that you likely noticed during out short-cutting logic that we never free the ",{"type":15,"tag":81,"props":52731,"children":52733},{"className":52732},[],[52734],{"type":21,"value":52668},{"type":21,"value":52736},", because it does it for us, ",{"type":15,"tag":3181,"props":52738,"children":52739},{},[52740],{"type":21,"value":52741},"at the end of the function",{"type":21,"value":52743},", and that means that we should ",{"type":15,"tag":39065,"props":52745,"children":52746},{},[52747],{"type":21,"value":51381},{"type":21,"value":52749}," have ",{"type":15,"tag":81,"props":52751,"children":52753},{"className":52752},[],[52754],{"type":21,"value":52668},{"type":21,"value":52756}," in a loop.",{"type":15,"tag":95,"props":52758,"children":52760},{"code":52759},"fn foo() {\n    while true {\n        let x = 1;\n    }\n}\n",[52761],{"type":15,"tag":81,"props":52762,"children":52763},{"__ignoreMap":8},[52764],{"type":21,"value":52759},{"type":15,"tag":23,"props":52766,"children":52767},{},[52768,52770,52775,52776,52782,52783,52789],{"type":21,"value":52769},"lets imagine ",{"type":15,"tag":81,"props":52771,"children":52773},{"className":52772},[],[52774],{"type":21,"value":52668},{"type":21,"value":36300},{"type":15,"tag":81,"props":52777,"children":52779},{"className":52778},[],[52780],{"type":21,"value":52781},"malloc",{"type":21,"value":5718},{"type":15,"tag":81,"props":52784,"children":52786},{"className":52785},[],[52787],{"type":21,"value":52788},"free(*)",{"type":21,"value":52790}," to mean \"free everything\"\nThe naive way would be.",{"type":15,"tag":95,"props":52792,"children":52794},{"code":52793},"fn foo() {\n    while true {\n        x = malloc(...);\n        x.store(1);\n    }\n    free(*);\n}\n",[52795],{"type":15,"tag":81,"props":52796,"children":52797},{"__ignoreMap":8},[52798],{"type":21,"value":52793},{"type":15,"tag":23,"props":52800,"children":52801},{},[52802],{"type":21,"value":52803},"And you can see that this will leak a LOT of memory.\nmeanwhile what we should do is collect all vars that will be created in a function beforehand and then allocate them at the start of the function:",{"type":15,"tag":95,"props":52805,"children":52807},{"code":52806},"fn foo() {\n    x = malloc(...);\n    while true {\n        x.store(1);\n    }\n    free(*);\n}\n",[52808],{"type":15,"tag":81,"props":52809,"children":52810},{"__ignoreMap":8},[52811],{"type":21,"value":52806},{"type":15,"tag":192,"props":52813,"children":52815},{"id":52814},"changing-how-main-is-done",[52816],{"type":21,"value":52817},"Changing how main is done.",{"type":15,"tag":23,"props":52819,"children":52820},{},[52821,52823,52827],{"type":21,"value":52822},"Since all this logic needs to be applied to all functions, including main, we are going to make main just a normal function on the ",{"type":15,"tag":39065,"props":52824,"children":52825},{},[52826],{"type":21,"value":31711},{"type":21,"value":52828}," level.",{"type":15,"tag":95,"props":52830,"children":52832},{"code":52831,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug)]\npub enum ToplevelStatement {\n    Function { name: String, body: Vec\u003CStatement> },\n}\n",[52833],{"type":15,"tag":81,"props":52834,"children":52835},{"__ignoreMap":8},[52836,52843,52858,52877,52924],{"type":15,"tag":252,"props":52837,"children":52838},{"class":254,"line":255},[52839],{"type":15,"tag":252,"props":52840,"children":52841},{"style":3287},[52842],{"type":21,"value":25314},{"type":15,"tag":252,"props":52844,"children":52845},{"class":254,"line":334},[52846,52850,52854],{"type":15,"tag":252,"props":52847,"children":52848},{"style":447},[52849],{"type":21,"value":3742},{"type":15,"tag":252,"props":52851,"children":52852},{"style":259},[52853],{"type":21,"value":5788},{"type":15,"tag":252,"props":52855,"children":52856},{"style":447},[52857],{"type":21,"value":3751},{"type":15,"tag":252,"props":52859,"children":52860},{"class":254,"line":390},[52861,52865,52869,52873],{"type":15,"tag":252,"props":52862,"children":52863},{"style":601},[52864],{"type":21,"value":4740},{"type":15,"tag":252,"props":52866,"children":52867},{"style":601},[52868],{"type":21,"value":5869},{"type":15,"tag":252,"props":52870,"children":52871},{"style":259},[52872],{"type":21,"value":24412},{"type":15,"tag":252,"props":52874,"children":52875},{"style":447},[52876],{"type":21,"value":3769},{"type":15,"tag":252,"props":52878,"children":52879},{"class":254,"line":2077},[52880,52885,52890,52894,52898,52903,52907,52911,52915,52919],{"type":15,"tag":252,"props":52881,"children":52882},{"style":259},[52883],{"type":21,"value":52884},"    Function",{"type":15,"tag":252,"props":52886,"children":52887},{"style":447},[52888],{"type":21,"value":52889}," { name",{"type":15,"tag":252,"props":52891,"children":52892},{"style":601},[52893],{"type":21,"value":3374},{"type":15,"tag":252,"props":52895,"children":52896},{"style":259},[52897],{"type":21,"value":3799},{"type":15,"tag":252,"props":52899,"children":52900},{"style":447},[52901],{"type":21,"value":52902},", body",{"type":15,"tag":252,"props":52904,"children":52905},{"style":601},[52906],{"type":21,"value":3374},{"type":15,"tag":252,"props":52908,"children":52909},{"style":259},[52910],{"type":21,"value":5821},{"type":15,"tag":252,"props":52912,"children":52913},{"style":447},[52914],{"type":21,"value":5826},{"type":15,"tag":252,"props":52916,"children":52917},{"style":259},[52918],{"type":21,"value":5709},{"type":15,"tag":252,"props":52920,"children":52921},{"style":447},[52922],{"type":21,"value":52923},"> },\n",{"type":15,"tag":252,"props":52925,"children":52926},{"class":254,"line":2110},[52927],{"type":15,"tag":252,"props":52928,"children":52929},{"style":447},[52930],{"type":21,"value":2854},{"type":15,"tag":23,"props":52932,"children":52933},{},[52934],{"type":21,"value":52935},"And then in our type analyzer we will include \"main\" as the function name:",{"type":15,"tag":95,"props":52937,"children":52939},{"code":52938,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\npub fn resolve_top_level_statement(\n    statement: &ast::ToplevelStatement,\n) -> anyhow::Result\u003Cir::ToplevelStatement> {\n    match statement {\n        ast::ToplevelStatement::MainFunction(statements) => {\n            let mut ir_statements = Vec::new();\n\n            for statement in statements {\n                let ir_statement = resolve_statement(statement)?;\n\n                ir_statements.push(ir_statement);\n            }\n\n            Ok(ir::ToplevelStatement::Function {\n                name: String::from(\"main\"),\n                body: ir_statements,\n            })\n        }\n    }\n}\n",[52940],{"type":15,"tag":81,"props":52941,"children":52942},{"__ignoreMap":8},[52943,52950,52969,53000,53039,53050,53085,53120,53127,53146,53177,53184,53203,53210,53217,53253,53290,53307,53315,53322,53329],{"type":15,"tag":252,"props":52944,"children":52945},{"class":254,"line":255},[52946],{"type":15,"tag":252,"props":52947,"children":52948},{"style":3287},[52949],{"type":21,"value":14916},{"type":15,"tag":252,"props":52951,"children":52952},{"class":254,"line":334},[52953,52957,52961,52965],{"type":15,"tag":252,"props":52954,"children":52955},{"style":601},[52956],{"type":21,"value":4740},{"type":15,"tag":252,"props":52958,"children":52959},{"style":601},[52960],{"type":21,"value":4901},{"type":15,"tag":252,"props":52962,"children":52963},{"style":259},[52964],{"type":21,"value":25478},{"type":15,"tag":252,"props":52966,"children":52967},{"style":447},[52968],{"type":21,"value":14196},{"type":15,"tag":252,"props":52970,"children":52971},{"class":254,"line":390},[52972,52976,52980,52984,52988,52992,52996],{"type":15,"tag":252,"props":52973,"children":52974},{"style":447},[52975],{"type":21,"value":25490},{"type":15,"tag":252,"props":52977,"children":52978},{"style":601},[52979],{"type":21,"value":3374},{"type":15,"tag":252,"props":52981,"children":52982},{"style":601},[52983],{"type":21,"value":4920},{"type":15,"tag":252,"props":52985,"children":52986},{"style":259},[52987],{"type":21,"value":5623},{"type":15,"tag":252,"props":52989,"children":52990},{"style":601},[52991],{"type":21,"value":804},{"type":15,"tag":252,"props":52993,"children":52994},{"style":259},[52995],{"type":21,"value":24370},{"type":15,"tag":252,"props":52997,"children":52998},{"style":447},[52999],{"type":21,"value":3879},{"type":15,"tag":252,"props":53001,"children":53002},{"class":254,"line":2077},[53003,53007,53011,53015,53019,53023,53027,53031,53035],{"type":15,"tag":252,"props":53004,"children":53005},{"style":447},[53006],{"type":21,"value":4943},{"type":15,"tag":252,"props":53008,"children":53009},{"style":601},[53010],{"type":21,"value":3947},{"type":15,"tag":252,"props":53012,"children":53013},{"style":259},[53014],{"type":21,"value":3952},{"type":15,"tag":252,"props":53016,"children":53017},{"style":601},[53018],{"type":21,"value":804},{"type":15,"tag":252,"props":53020,"children":53021},{"style":259},[53022],{"type":21,"value":3961},{"type":15,"tag":252,"props":53024,"children":53025},{"style":447},[53026],{"type":21,"value":15620},{"type":15,"tag":252,"props":53028,"children":53029},{"style":601},[53030],{"type":21,"value":804},{"type":15,"tag":252,"props":53032,"children":53033},{"style":259},[53034],{"type":21,"value":24370},{"type":15,"tag":252,"props":53036,"children":53037},{"style":447},[53038],{"type":21,"value":7138},{"type":15,"tag":252,"props":53040,"children":53041},{"class":254,"line":2110},[53042,53046],{"type":15,"tag":252,"props":53043,"children":53044},{"style":601},[53045],{"type":21,"value":4014},{"type":15,"tag":252,"props":53047,"children":53048},{"style":447},[53049],{"type":21,"value":15848},{"type":15,"tag":252,"props":53051,"children":53052},{"class":254,"line":2150},[53053,53057,53061,53065,53069,53073,53077,53081],{"type":15,"tag":252,"props":53054,"children":53055},{"style":259},[53056],{"type":21,"value":15305},{"type":15,"tag":252,"props":53058,"children":53059},{"style":601},[53060],{"type":21,"value":804},{"type":15,"tag":252,"props":53062,"children":53063},{"style":259},[53064],{"type":21,"value":24370},{"type":15,"tag":252,"props":53066,"children":53067},{"style":601},[53068],{"type":21,"value":804},{"type":15,"tag":252,"props":53070,"children":53071},{"style":259},[53072],{"type":21,"value":24799},{"type":15,"tag":252,"props":53074,"children":53075},{"style":447},[53076],{"type":21,"value":25592},{"type":15,"tag":252,"props":53078,"children":53079},{"style":601},[53080],{"type":21,"value":4054},{"type":15,"tag":252,"props":53082,"children":53083},{"style":447},[53084],{"type":21,"value":3769},{"type":15,"tag":252,"props":53086,"children":53087},{"class":254,"line":2182},[53088,53092,53096,53100,53104,53108,53112,53116],{"type":15,"tag":252,"props":53089,"children":53090},{"style":601},[53091],{"type":21,"value":15892},{"type":15,"tag":252,"props":53093,"children":53094},{"style":601},[53095],{"type":21,"value":8623},{"type":15,"tag":252,"props":53097,"children":53098},{"style":447},[53099],{"type":21,"value":16081},{"type":15,"tag":252,"props":53101,"children":53102},{"style":601},[53103],{"type":21,"value":614},{"type":15,"tag":252,"props":53105,"children":53106},{"style":259},[53107],{"type":21,"value":5821},{"type":15,"tag":252,"props":53109,"children":53110},{"style":601},[53111],{"type":21,"value":804},{"type":15,"tag":252,"props":53113,"children":53114},{"style":259},[53115],{"type":21,"value":7761},{"type":15,"tag":252,"props":53117,"children":53118},{"style":447},[53119],{"type":21,"value":814},{"type":15,"tag":252,"props":53121,"children":53122},{"class":254,"line":2190},[53123],{"type":15,"tag":252,"props":53124,"children":53125},{"emptyLinePlaceholder":2053},[53126],{"type":21,"value":2056},{"type":15,"tag":252,"props":53128,"children":53129},{"class":254,"line":2222},[53130,53134,53138,53142],{"type":15,"tag":252,"props":53131,"children":53132},{"style":601},[53133],{"type":21,"value":25650},{"type":15,"tag":252,"props":53135,"children":53136},{"style":447},[53137],{"type":21,"value":16121},{"type":15,"tag":252,"props":53139,"children":53140},{"style":601},[53141],{"type":21,"value":16126},{"type":15,"tag":252,"props":53143,"children":53144},{"style":447},[53145],{"type":21,"value":25663},{"type":15,"tag":252,"props":53147,"children":53148},{"class":254,"line":2270},[53149,53153,53157,53161,53165,53169,53173],{"type":15,"tag":252,"props":53150,"children":53151},{"style":601},[53152],{"type":21,"value":13283},{"type":15,"tag":252,"props":53154,"children":53155},{"style":447},[53156],{"type":21,"value":16158},{"type":15,"tag":252,"props":53158,"children":53159},{"style":601},[53160],{"type":21,"value":614},{"type":15,"tag":252,"props":53162,"children":53163},{"style":259},[53164],{"type":21,"value":15775},{"type":15,"tag":252,"props":53166,"children":53167},{"style":447},[53168],{"type":21,"value":16171},{"type":15,"tag":252,"props":53170,"children":53171},{"style":601},[53172],{"type":21,"value":5468},{"type":15,"tag":252,"props":53174,"children":53175},{"style":447},[53176],{"type":21,"value":3325},{"type":15,"tag":252,"props":53178,"children":53179},{"class":254,"line":2302},[53180],{"type":15,"tag":252,"props":53181,"children":53182},{"emptyLinePlaceholder":2053},[53183],{"type":21,"value":2056},{"type":15,"tag":252,"props":53185,"children":53186},{"class":254,"line":2310},[53187,53191,53195,53199],{"type":15,"tag":252,"props":53188,"children":53189},{"style":447},[53190],{"type":21,"value":25709},{"type":15,"tag":252,"props":53192,"children":53193},{"style":601},[53194],{"type":21,"value":432},{"type":15,"tag":252,"props":53196,"children":53197},{"style":259},[53198],{"type":21,"value":8743},{"type":15,"tag":252,"props":53200,"children":53201},{"style":447},[53202],{"type":21,"value":16207},{"type":15,"tag":252,"props":53204,"children":53205},{"class":254,"line":2370},[53206],{"type":15,"tag":252,"props":53207,"children":53208},{"style":447},[53209],{"type":21,"value":8814},{"type":15,"tag":252,"props":53211,"children":53212},{"class":254,"line":2418},[53213],{"type":15,"tag":252,"props":53214,"children":53215},{"emptyLinePlaceholder":2053},[53216],{"type":21,"value":2056},{"type":15,"tag":252,"props":53218,"children":53219},{"class":254,"line":2426},[53220,53224,53228,53232,53236,53240,53244,53249],{"type":15,"tag":252,"props":53221,"children":53222},{"style":259},[53223],{"type":21,"value":12492},{"type":15,"tag":252,"props":53225,"children":53226},{"style":447},[53227],{"type":21,"value":849},{"type":15,"tag":252,"props":53229,"children":53230},{"style":259},[53231],{"type":21,"value":14557},{"type":15,"tag":252,"props":53233,"children":53234},{"style":601},[53235],{"type":21,"value":804},{"type":15,"tag":252,"props":53237,"children":53238},{"style":259},[53239],{"type":21,"value":24370},{"type":15,"tag":252,"props":53241,"children":53242},{"style":601},[53243],{"type":21,"value":804},{"type":15,"tag":252,"props":53245,"children":53246},{"style":259},[53247],{"type":21,"value":53248},"Function",{"type":15,"tag":252,"props":53250,"children":53251},{"style":447},[53252],{"type":21,"value":3769},{"type":15,"tag":252,"props":53254,"children":53255},{"class":254,"line":2474},[53256,53261,53265,53269,53273,53278,53282,53286],{"type":15,"tag":252,"props":53257,"children":53258},{"style":447},[53259],{"type":21,"value":53260},"                name",{"type":15,"tag":252,"props":53262,"children":53263},{"style":601},[53264],{"type":21,"value":3374},{"type":15,"tag":252,"props":53266,"children":53267},{"style":259},[53268],{"type":21,"value":3799},{"type":15,"tag":252,"props":53270,"children":53271},{"style":601},[53272],{"type":21,"value":804},{"type":15,"tag":252,"props":53274,"children":53275},{"style":259},[53276],{"type":21,"value":53277},"from",{"type":15,"tag":252,"props":53279,"children":53280},{"style":447},[53281],{"type":21,"value":849},{"type":15,"tag":252,"props":53283,"children":53284},{"style":265},[53285],{"type":21,"value":1497},{"type":15,"tag":252,"props":53287,"children":53288},{"style":447},[53289],{"type":21,"value":5899},{"type":15,"tag":252,"props":53291,"children":53292},{"class":254,"line":2522},[53293,53298,53302],{"type":15,"tag":252,"props":53294,"children":53295},{"style":447},[53296],{"type":21,"value":53297},"                body",{"type":15,"tag":252,"props":53299,"children":53300},{"style":601},[53301],{"type":21,"value":3374},{"type":15,"tag":252,"props":53303,"children":53304},{"style":447},[53305],{"type":21,"value":53306}," ir_statements,\n",{"type":15,"tag":252,"props":53308,"children":53309},{"class":254,"line":2530},[53310],{"type":15,"tag":252,"props":53311,"children":53312},{"style":447},[53313],{"type":21,"value":53314},"            })\n",{"type":15,"tag":252,"props":53316,"children":53317},{"class":254,"line":2570},[53318],{"type":15,"tag":252,"props":53319,"children":53320},{"style":447},[53321],{"type":21,"value":4087},{"type":15,"tag":252,"props":53323,"children":53324},{"class":254,"line":2591},[53325],{"type":15,"tag":252,"props":53326,"children":53327},{"style":447},[53328],{"type":21,"value":4095},{"type":15,"tag":252,"props":53330,"children":53331},{"class":254,"line":2599},[53332],{"type":15,"tag":252,"props":53333,"children":53334},{"style":447},[53335],{"type":21,"value":2854},{"type":15,"tag":23,"props":53337,"children":53338},{},[53339],{"type":21,"value":53340},"And then we use this name in the code gen:",{"type":15,"tag":95,"props":53342,"children":53344},{"code":53343,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\nfn compile_top_level_statement(&self, statement: &ir::ToplevelStatement) {\n    match statement {\n        ir::ToplevelStatement::Function {\n            name,\n            body: statements,\n        } => {\n            let i32_type = self.context.i32_type();\n            let function_type = i32_type.fn_type(&[], false);\n            let function = self.module.add_function(name, function_type, None);\n            let entry_block = self.context.append_basic_block(function, \"entry\");\n            self.builder.position_at_end(entry_block);\n\n            for statement in statements {\n                self.compile_statement(statement);\n            }\n\n            self.builder\n                .build_return(Some(&i32_type.const_int(0, false)));\n        }\n    }\n}\n",[53345],{"type":15,"tag":81,"props":53346,"children":53347},{"__ignoreMap":8},[53348,53355,53406,53417,53444,53452,53469,53484,53523,53571,53620,53669,53697,53704,53723,53742,53749,53756,53771,53830,53837,53844],{"type":15,"tag":252,"props":53349,"children":53350},{"class":254,"line":255},[53351],{"type":15,"tag":252,"props":53352,"children":53353},{"style":3287},[53354],{"type":21,"value":26081},{"type":15,"tag":252,"props":53356,"children":53357},{"class":254,"line":334},[53358,53362,53366,53370,53374,53378,53382,53386,53390,53394,53398,53402],{"type":15,"tag":252,"props":53359,"children":53360},{"style":601},[53361],{"type":21,"value":2064},{"type":15,"tag":252,"props":53363,"children":53364},{"style":259},[53365],{"type":21,"value":26093},{"type":15,"tag":252,"props":53367,"children":53368},{"style":447},[53369],{"type":21,"value":849},{"type":15,"tag":252,"props":53371,"children":53372},{"style":601},[53373],{"type":21,"value":1171},{"type":15,"tag":252,"props":53375,"children":53376},{"style":276},[53377],{"type":21,"value":7432},{"type":15,"tag":252,"props":53379,"children":53380},{"style":447},[53381],{"type":21,"value":18709},{"type":15,"tag":252,"props":53383,"children":53384},{"style":601},[53385],{"type":21,"value":3374},{"type":15,"tag":252,"props":53387,"children":53388},{"style":601},[53389],{"type":21,"value":4920},{"type":15,"tag":252,"props":53391,"children":53392},{"style":259},[53393],{"type":21,"value":14557},{"type":15,"tag":252,"props":53395,"children":53396},{"style":601},[53397],{"type":21,"value":804},{"type":15,"tag":252,"props":53399,"children":53400},{"style":259},[53401],{"type":21,"value":24370},{"type":15,"tag":252,"props":53403,"children":53404},{"style":447},[53405],{"type":21,"value":7370},{"type":15,"tag":252,"props":53407,"children":53408},{"class":254,"line":390},[53409,53413],{"type":15,"tag":252,"props":53410,"children":53411},{"style":601},[53412],{"type":21,"value":4014},{"type":15,"tag":252,"props":53414,"children":53415},{"style":447},[53416],{"type":21,"value":15848},{"type":15,"tag":252,"props":53418,"children":53419},{"class":254,"line":2077},[53420,53424,53428,53432,53436,53440],{"type":15,"tag":252,"props":53421,"children":53422},{"style":259},[53423],{"type":21,"value":45314},{"type":15,"tag":252,"props":53425,"children":53426},{"style":601},[53427],{"type":21,"value":804},{"type":15,"tag":252,"props":53429,"children":53430},{"style":259},[53431],{"type":21,"value":24370},{"type":15,"tag":252,"props":53433,"children":53434},{"style":601},[53435],{"type":21,"value":804},{"type":15,"tag":252,"props":53437,"children":53438},{"style":259},[53439],{"type":21,"value":53248},{"type":15,"tag":252,"props":53441,"children":53442},{"style":447},[53443],{"type":21,"value":3769},{"type":15,"tag":252,"props":53445,"children":53446},{"class":254,"line":2110},[53447],{"type":15,"tag":252,"props":53448,"children":53449},{"style":447},[53450],{"type":21,"value":53451},"            name,\n",{"type":15,"tag":252,"props":53453,"children":53454},{"class":254,"line":2150},[53455,53460,53464],{"type":15,"tag":252,"props":53456,"children":53457},{"style":447},[53458],{"type":21,"value":53459},"            body",{"type":15,"tag":252,"props":53461,"children":53462},{"style":601},[53463],{"type":21,"value":3374},{"type":15,"tag":252,"props":53465,"children":53466},{"style":447},[53467],{"type":21,"value":53468}," statements,\n",{"type":15,"tag":252,"props":53470,"children":53471},{"class":254,"line":2182},[53472,53476,53480],{"type":15,"tag":252,"props":53473,"children":53474},{"style":447},[53475],{"type":21,"value":8391},{"type":15,"tag":252,"props":53477,"children":53478},{"style":601},[53479],{"type":21,"value":4054},{"type":15,"tag":252,"props":53481,"children":53482},{"style":447},[53483],{"type":21,"value":3769},{"type":15,"tag":252,"props":53485,"children":53486},{"class":254,"line":2190},[53487,53491,53495,53499,53503,53507,53511,53515,53519],{"type":15,"tag":252,"props":53488,"children":53489},{"style":601},[53490],{"type":21,"value":15892},{"type":15,"tag":252,"props":53492,"children":53493},{"style":447},[53494],{"type":21,"value":1042},{"type":15,"tag":252,"props":53496,"children":53497},{"style":601},[53498],{"type":21,"value":614},{"type":15,"tag":252,"props":53500,"children":53501},{"style":276},[53502],{"type":21,"value":7244},{"type":15,"tag":252,"props":53504,"children":53505},{"style":601},[53506],{"type":21,"value":432},{"type":15,"tag":252,"props":53508,"children":53509},{"style":447},[53510],{"type":21,"value":908},{"type":15,"tag":252,"props":53512,"children":53513},{"style":601},[53514],{"type":21,"value":432},{"type":15,"tag":252,"props":53516,"children":53517},{"style":259},[53518],{"type":21,"value":1059},{"type":15,"tag":252,"props":53520,"children":53521},{"style":447},[53522],{"type":21,"value":814},{"type":15,"tag":252,"props":53524,"children":53525},{"class":254,"line":2222},[53526,53530,53535,53539,53543,53547,53551,53555,53559,53563,53567],{"type":15,"tag":252,"props":53527,"children":53528},{"style":601},[53529],{"type":21,"value":15892},{"type":15,"tag":252,"props":53531,"children":53532},{"style":447},[53533],{"type":21,"value":53534}," function_type ",{"type":15,"tag":252,"props":53536,"children":53537},{"style":601},[53538],{"type":21,"value":614},{"type":15,"tag":252,"props":53540,"children":53541},{"style":447},[53542],{"type":21,"value":1153},{"type":15,"tag":252,"props":53544,"children":53545},{"style":601},[53546],{"type":21,"value":432},{"type":15,"tag":252,"props":53548,"children":53549},{"style":259},[53550],{"type":21,"value":1162},{"type":15,"tag":252,"props":53552,"children":53553},{"style":447},[53554],{"type":21,"value":849},{"type":15,"tag":252,"props":53556,"children":53557},{"style":601},[53558],{"type":21,"value":1171},{"type":15,"tag":252,"props":53560,"children":53561},{"style":447},[53562],{"type":21,"value":1451},{"type":15,"tag":252,"props":53564,"children":53565},{"style":276},[53566],{"type":21,"value":1456},{"type":15,"tag":252,"props":53568,"children":53569},{"style":447},[53570],{"type":21,"value":859},{"type":15,"tag":252,"props":53572,"children":53573},{"class":254,"line":2270},[53574,53578,53583,53587,53591,53595,53599,53603,53607,53612,53616],{"type":15,"tag":252,"props":53575,"children":53576},{"style":601},[53577],{"type":21,"value":15892},{"type":15,"tag":252,"props":53579,"children":53580},{"style":447},[53581],{"type":21,"value":53582}," function ",{"type":15,"tag":252,"props":53584,"children":53585},{"style":601},[53586],{"type":21,"value":614},{"type":15,"tag":252,"props":53588,"children":53589},{"style":276},[53590],{"type":21,"value":7244},{"type":15,"tag":252,"props":53592,"children":53593},{"style":601},[53594],{"type":21,"value":432},{"type":15,"tag":252,"props":53596,"children":53597},{"style":447},[53598],{"type":21,"value":919},{"type":15,"tag":252,"props":53600,"children":53601},{"style":601},[53602],{"type":21,"value":432},{"type":15,"tag":252,"props":53604,"children":53605},{"style":259},[53606],{"type":21,"value":1229},{"type":15,"tag":252,"props":53608,"children":53609},{"style":447},[53610],{"type":21,"value":53611},"(name, function_type, ",{"type":15,"tag":252,"props":53613,"children":53614},{"style":259},[53615],{"type":21,"value":1248},{"type":15,"tag":252,"props":53617,"children":53618},{"style":447},[53619],{"type":21,"value":859},{"type":15,"tag":252,"props":53621,"children":53622},{"class":254,"line":2302},[53623,53627,53632,53636,53640,53644,53648,53652,53656,53661,53665],{"type":15,"tag":252,"props":53624,"children":53625},{"style":601},[53626],{"type":21,"value":15892},{"type":15,"tag":252,"props":53628,"children":53629},{"style":447},[53630],{"type":21,"value":53631}," entry_block ",{"type":15,"tag":252,"props":53633,"children":53634},{"style":601},[53635],{"type":21,"value":614},{"type":15,"tag":252,"props":53637,"children":53638},{"style":276},[53639],{"type":21,"value":7244},{"type":15,"tag":252,"props":53641,"children":53642},{"style":601},[53643],{"type":21,"value":432},{"type":15,"tag":252,"props":53645,"children":53646},{"style":447},[53647],{"type":21,"value":908},{"type":15,"tag":252,"props":53649,"children":53650},{"style":601},[53651],{"type":21,"value":432},{"type":15,"tag":252,"props":53653,"children":53654},{"style":259},[53655],{"type":21,"value":1565},{"type":15,"tag":252,"props":53657,"children":53658},{"style":447},[53659],{"type":21,"value":53660},"(function, ",{"type":15,"tag":252,"props":53662,"children":53663},{"style":265},[53664],{"type":21,"value":1575},{"type":15,"tag":252,"props":53666,"children":53667},{"style":447},[53668],{"type":21,"value":859},{"type":15,"tag":252,"props":53670,"children":53671},{"class":254,"line":2310},[53672,53676,53680,53684,53688,53692],{"type":15,"tag":252,"props":53673,"children":53674},{"style":276},[53675],{"type":21,"value":8332},{"type":15,"tag":252,"props":53677,"children":53678},{"style":601},[53679],{"type":21,"value":432},{"type":15,"tag":252,"props":53681,"children":53682},{"style":447},[53683],{"type":21,"value":930},{"type":15,"tag":252,"props":53685,"children":53686},{"style":601},[53687],{"type":21,"value":432},{"type":15,"tag":252,"props":53689,"children":53690},{"style":259},[53691],{"type":21,"value":1595},{"type":15,"tag":252,"props":53693,"children":53694},{"style":447},[53695],{"type":21,"value":53696},"(entry_block);\n",{"type":15,"tag":252,"props":53698,"children":53699},{"class":254,"line":2370},[53700],{"type":15,"tag":252,"props":53701,"children":53702},{"emptyLinePlaceholder":2053},[53703],{"type":21,"value":2056},{"type":15,"tag":252,"props":53705,"children":53706},{"class":254,"line":2418},[53707,53711,53715,53719],{"type":15,"tag":252,"props":53708,"children":53709},{"style":601},[53710],{"type":21,"value":25650},{"type":15,"tag":252,"props":53712,"children":53713},{"style":447},[53714],{"type":21,"value":16121},{"type":15,"tag":252,"props":53716,"children":53717},{"style":601},[53718],{"type":21,"value":16126},{"type":15,"tag":252,"props":53720,"children":53721},{"style":447},[53722],{"type":21,"value":25663},{"type":15,"tag":252,"props":53724,"children":53725},{"class":254,"line":2426},[53726,53730,53734,53738],{"type":15,"tag":252,"props":53727,"children":53728},{"style":276},[53729],{"type":21,"value":8765},{"type":15,"tag":252,"props":53731,"children":53732},{"style":601},[53733],{"type":21,"value":432},{"type":15,"tag":252,"props":53735,"children":53736},{"style":259},[53737],{"type":21,"value":19675},{"type":15,"tag":252,"props":53739,"children":53740},{"style":447},[53741],{"type":21,"value":19680},{"type":15,"tag":252,"props":53743,"children":53744},{"class":254,"line":2474},[53745],{"type":15,"tag":252,"props":53746,"children":53747},{"style":447},[53748],{"type":21,"value":8814},{"type":15,"tag":252,"props":53750,"children":53751},{"class":254,"line":2522},[53752],{"type":15,"tag":252,"props":53753,"children":53754},{"emptyLinePlaceholder":2053},[53755],{"type":21,"value":2056},{"type":15,"tag":252,"props":53757,"children":53758},{"class":254,"line":2530},[53759,53763,53767],{"type":15,"tag":252,"props":53760,"children":53761},{"style":276},[53762],{"type":21,"value":8332},{"type":15,"tag":252,"props":53764,"children":53765},{"style":601},[53766],{"type":21,"value":432},{"type":15,"tag":252,"props":53768,"children":53769},{"style":447},[53770],{"type":21,"value":18914},{"type":15,"tag":252,"props":53772,"children":53773},{"class":254,"line":2570},[53774,53778,53782,53786,53790,53794,53798,53802,53806,53810,53814,53818,53822,53826],{"type":15,"tag":252,"props":53775,"children":53776},{"style":601},[53777],{"type":21,"value":22445},{"type":15,"tag":252,"props":53779,"children":53780},{"style":259},[53781],{"type":21,"value":1862},{"type":15,"tag":252,"props":53783,"children":53784},{"style":447},[53785],{"type":21,"value":849},{"type":15,"tag":252,"props":53787,"children":53788},{"style":259},[53789],{"type":21,"value":1871},{"type":15,"tag":252,"props":53791,"children":53792},{"style":447},[53793],{"type":21,"value":849},{"type":15,"tag":252,"props":53795,"children":53796},{"style":601},[53797],{"type":21,"value":1171},{"type":15,"tag":252,"props":53799,"children":53800},{"style":447},[53801],{"type":21,"value":1059},{"type":15,"tag":252,"props":53803,"children":53804},{"style":601},[53805],{"type":21,"value":432},{"type":15,"tag":252,"props":53807,"children":53808},{"style":259},[53809],{"type":21,"value":1892},{"type":15,"tag":252,"props":53811,"children":53812},{"style":447},[53813],{"type":21,"value":849},{"type":15,"tag":252,"props":53815,"children":53816},{"style":276},[53817],{"type":21,"value":1901},{"type":15,"tag":252,"props":53819,"children":53820},{"style":447},[53821],{"type":21,"value":1076},{"type":15,"tag":252,"props":53823,"children":53824},{"style":276},[53825],{"type":21,"value":1456},{"type":15,"tag":252,"props":53827,"children":53828},{"style":447},[53829],{"type":21,"value":1914},{"type":15,"tag":252,"props":53831,"children":53832},{"class":254,"line":2591},[53833],{"type":15,"tag":252,"props":53834,"children":53835},{"style":447},[53836],{"type":21,"value":4087},{"type":15,"tag":252,"props":53838,"children":53839},{"class":254,"line":2599},[53840],{"type":15,"tag":252,"props":53841,"children":53842},{"style":447},[53843],{"type":21,"value":4095},{"type":15,"tag":252,"props":53845,"children":53846},{"class":254,"line":2647},[53847],{"type":15,"tag":252,"props":53848,"children":53849},{"style":447},[53850],{"type":21,"value":2854},{"type":15,"tag":23,"props":53852,"children":53853},{},[53854],{"type":21,"value":53855},"Yes we are still hardcoding the return type and statement, when we add proper function support we will rework that.",{"type":15,"tag":192,"props":53857,"children":53859},{"id":53858},"adding-variables",[53860],{"type":21,"value":53861},"Adding variables",{"type":15,"tag":23,"props":53863,"children":53864},{},[53865],{"type":21,"value":53866},"We are going to have a two scope structs. Function scope and block scope. As mentioned we need to allocate the vars at the start of the function, so the function scope will store a reference to all the vars.",{"type":15,"tag":23,"props":53868,"children":53869},{},[53870],{"type":21,"value":53871},"Meanwhile the block scope will be used during type resolution. We are going be to be generating unique ids for the vars, because for example here we are referring to different xs.",{"type":15,"tag":95,"props":53873,"children":53875},{"code":53874},"let x = 1;\nif true {\n    let x = 2;\n    assert x == 2;\n}\nassert x == 1;\n",[53876],{"type":15,"tag":81,"props":53877,"children":53878},{"__ignoreMap":8},[53879],{"type":21,"value":53874},{"type":15,"tag":23,"props":53881,"children":53882},{},[53883],{"type":21,"value":53884},"And ofc here are the tests:",{"type":15,"tag":95,"props":53886,"children":53888},{"code":53887},"${\n    let x = 1;\n    let y = 3;\n    assert x == 1;\n    assert y == 3;\n    \n    set x = 2;\n    assert x == 2;\n\n    let z = true;\n    assert z;\n\n    set z = false;\n    assert !z;\n}\n",[53889],{"type":15,"tag":81,"props":53890,"children":53891},{"__ignoreMap":8},[53892],{"type":21,"value":53887},{"type":15,"tag":23,"props":53894,"children":53895},{},[53896,53898,53904,53906,53912,53914,53919],{"type":21,"value":53897},"The reason we use ",{"type":15,"tag":81,"props":53899,"children":53901},{"className":53900},[],[53902],{"type":21,"value":53903},"set x = y",{"type":21,"value":53905}," instead of just ",{"type":15,"tag":81,"props":53907,"children":53909},{"className":53908},[],[53910],{"type":21,"value":53911},"x = y",{"type":21,"value":53913}," is that ",{"type":15,"tag":81,"props":53915,"children":53917},{"className":53916},[],[53918],{"type":21,"value":53903},{"type":21,"value":53920}," is much easier to parse.",{"type":15,"tag":59,"props":53922,"children":53923},{"id":5538},[53924],{"type":21,"value":5541},{"type":15,"tag":23,"props":53926,"children":53927},{},[53928,53930,53935,53936,53942],{"type":21,"value":53929},"We need add a token for ",{"type":15,"tag":81,"props":53931,"children":53933},{"className":53932},[],[53934],{"type":21,"value":785},{"type":21,"value":3071},{"type":15,"tag":81,"props":53937,"children":53939},{"className":53938},[],[53940],{"type":21,"value":53941},"set",{"type":21,"value":53943},", and then lets modify the ast:",{"type":15,"tag":95,"props":53945,"children":53947},{"code":53946,"language":772,"meta":8,"className":773,"style":8},"// parser/ast.rs\n#[derive(Debug)]\npub enum Statement {\n    Print(Expression),\n    Assert(Expression, Option\u003CString>),\n    // let x = 1;\n    Declaration(String, Expression),\n    // x = 1;\n    Assignment(String, Expression),\n}\n\n#[derive(Debug)]\npub enum Literal {\n    Integer(IntType),\n    Boolean(bool),\n    Variable(String),\n}\n",[53948],{"type":15,"tag":81,"props":53949,"children":53950},{"__ignoreMap":8},[53951,53959,53974,53993,54012,54047,54055,54083,54091,54119,54126,54133,54148,54167,54186,54205,54225],{"type":15,"tag":252,"props":53952,"children":53953},{"class":254,"line":255},[53954],{"type":15,"tag":252,"props":53955,"children":53956},{"style":3287},[53957],{"type":21,"value":53958},"// parser/ast.rs\n",{"type":15,"tag":252,"props":53960,"children":53961},{"class":254,"line":334},[53962,53966,53970],{"type":15,"tag":252,"props":53963,"children":53964},{"style":447},[53965],{"type":21,"value":3742},{"type":15,"tag":252,"props":53967,"children":53968},{"style":259},[53969],{"type":21,"value":5788},{"type":15,"tag":252,"props":53971,"children":53972},{"style":447},[53973],{"type":21,"value":3751},{"type":15,"tag":252,"props":53975,"children":53976},{"class":254,"line":390},[53977,53981,53985,53989],{"type":15,"tag":252,"props":53978,"children":53979},{"style":601},[53980],{"type":21,"value":4740},{"type":15,"tag":252,"props":53982,"children":53983},{"style":601},[53984],{"type":21,"value":5869},{"type":15,"tag":252,"props":53986,"children":53987},{"style":259},[53988],{"type":21,"value":5874},{"type":15,"tag":252,"props":53990,"children":53991},{"style":447},[53992],{"type":21,"value":3769},{"type":15,"tag":252,"props":53994,"children":53995},{"class":254,"line":2077},[53996,54000,54004,54008],{"type":15,"tag":252,"props":53997,"children":53998},{"style":259},[53999],{"type":21,"value":5886},{"type":15,"tag":252,"props":54001,"children":54002},{"style":447},[54003],{"type":21,"value":849},{"type":15,"tag":252,"props":54005,"children":54006},{"style":259},[54007],{"type":21,"value":5716},{"type":15,"tag":252,"props":54009,"children":54010},{"style":447},[54011],{"type":21,"value":5899},{"type":15,"tag":252,"props":54013,"children":54014},{"class":254,"line":2110},[54015,54019,54023,54027,54031,54035,54039,54043],{"type":15,"tag":252,"props":54016,"children":54017},{"style":259},[54018],{"type":21,"value":30989},{"type":15,"tag":252,"props":54020,"children":54021},{"style":447},[54022],{"type":21,"value":849},{"type":15,"tag":252,"props":54024,"children":54025},{"style":259},[54026],{"type":21,"value":5716},{"type":15,"tag":252,"props":54028,"children":54029},{"style":447},[54030],{"type":21,"value":1076},{"type":15,"tag":252,"props":54032,"children":54033},{"style":259},[54034],{"type":21,"value":31006},{"type":15,"tag":252,"props":54036,"children":54037},{"style":447},[54038],{"type":21,"value":5826},{"type":15,"tag":252,"props":54040,"children":54041},{"style":259},[54042],{"type":21,"value":6503},{"type":15,"tag":252,"props":54044,"children":54045},{"style":447},[54046],{"type":21,"value":24445},{"type":15,"tag":252,"props":54048,"children":54049},{"class":254,"line":2150},[54050],{"type":15,"tag":252,"props":54051,"children":54052},{"style":3287},[54053],{"type":21,"value":54054},"    // let x = 1;\n",{"type":15,"tag":252,"props":54056,"children":54057},{"class":254,"line":2182},[54058,54063,54067,54071,54075,54079],{"type":15,"tag":252,"props":54059,"children":54060},{"style":259},[54061],{"type":21,"value":54062},"    Declaration",{"type":15,"tag":252,"props":54064,"children":54065},{"style":447},[54066],{"type":21,"value":849},{"type":15,"tag":252,"props":54068,"children":54069},{"style":259},[54070],{"type":21,"value":6503},{"type":15,"tag":252,"props":54072,"children":54073},{"style":447},[54074],{"type":21,"value":1076},{"type":15,"tag":252,"props":54076,"children":54077},{"style":259},[54078],{"type":21,"value":5716},{"type":15,"tag":252,"props":54080,"children":54081},{"style":447},[54082],{"type":21,"value":5899},{"type":15,"tag":252,"props":54084,"children":54085},{"class":254,"line":2190},[54086],{"type":15,"tag":252,"props":54087,"children":54088},{"style":3287},[54089],{"type":21,"value":54090},"    // x = 1;\n",{"type":15,"tag":252,"props":54092,"children":54093},{"class":254,"line":2222},[54094,54099,54103,54107,54111,54115],{"type":15,"tag":252,"props":54095,"children":54096},{"style":259},[54097],{"type":21,"value":54098},"    Assignment",{"type":15,"tag":252,"props":54100,"children":54101},{"style":447},[54102],{"type":21,"value":849},{"type":15,"tag":252,"props":54104,"children":54105},{"style":259},[54106],{"type":21,"value":6503},{"type":15,"tag":252,"props":54108,"children":54109},{"style":447},[54110],{"type":21,"value":1076},{"type":15,"tag":252,"props":54112,"children":54113},{"style":259},[54114],{"type":21,"value":5716},{"type":15,"tag":252,"props":54116,"children":54117},{"style":447},[54118],{"type":21,"value":5899},{"type":15,"tag":252,"props":54120,"children":54121},{"class":254,"line":2270},[54122],{"type":15,"tag":252,"props":54123,"children":54124},{"style":447},[54125],{"type":21,"value":2854},{"type":15,"tag":252,"props":54127,"children":54128},{"class":254,"line":2302},[54129],{"type":15,"tag":252,"props":54130,"children":54131},{"emptyLinePlaceholder":2053},[54132],{"type":21,"value":2056},{"type":15,"tag":252,"props":54134,"children":54135},{"class":254,"line":2310},[54136,54140,54144],{"type":15,"tag":252,"props":54137,"children":54138},{"style":447},[54139],{"type":21,"value":3742},{"type":15,"tag":252,"props":54141,"children":54142},{"style":259},[54143],{"type":21,"value":5788},{"type":15,"tag":252,"props":54145,"children":54146},{"style":447},[54147],{"type":21,"value":3751},{"type":15,"tag":252,"props":54149,"children":54150},{"class":254,"line":2370},[54151,54155,54159,54163],{"type":15,"tag":252,"props":54152,"children":54153},{"style":601},[54154],{"type":21,"value":4740},{"type":15,"tag":252,"props":54156,"children":54157},{"style":601},[54158],{"type":21,"value":5869},{"type":15,"tag":252,"props":54160,"children":54161},{"style":259},[54162],{"type":21,"value":6013},{"type":15,"tag":252,"props":54164,"children":54165},{"style":447},[54166],{"type":21,"value":3769},{"type":15,"tag":252,"props":54168,"children":54169},{"class":254,"line":2418},[54170,54174,54178,54182],{"type":15,"tag":252,"props":54171,"children":54172},{"style":259},[54173],{"type":21,"value":6025},{"type":15,"tag":252,"props":54175,"children":54176},{"style":447},[54177],{"type":21,"value":849},{"type":15,"tag":252,"props":54179,"children":54180},{"style":259},[54181],{"type":21,"value":5765},{"type":15,"tag":252,"props":54183,"children":54184},{"style":447},[54185],{"type":21,"value":5899},{"type":15,"tag":252,"props":54187,"children":54188},{"class":254,"line":2426},[54189,54193,54197,54201],{"type":15,"tag":252,"props":54190,"children":54191},{"style":259},[54192],{"type":21,"value":27190},{"type":15,"tag":252,"props":54194,"children":54195},{"style":447},[54196],{"type":21,"value":849},{"type":15,"tag":252,"props":54198,"children":54199},{"style":259},[54200],{"type":21,"value":27199},{"type":15,"tag":252,"props":54202,"children":54203},{"style":447},[54204],{"type":21,"value":5899},{"type":15,"tag":252,"props":54206,"children":54207},{"class":254,"line":2474},[54208,54213,54217,54221],{"type":15,"tag":252,"props":54209,"children":54210},{"style":259},[54211],{"type":21,"value":54212},"    Variable",{"type":15,"tag":252,"props":54214,"children":54215},{"style":447},[54216],{"type":21,"value":849},{"type":15,"tag":252,"props":54218,"children":54219},{"style":259},[54220],{"type":21,"value":6503},{"type":15,"tag":252,"props":54222,"children":54223},{"style":447},[54224],{"type":21,"value":5899},{"type":15,"tag":252,"props":54226,"children":54227},{"class":254,"line":2522},[54228],{"type":15,"tag":252,"props":54229,"children":54230},{"style":447},[54231],{"type":21,"value":2854},{"type":15,"tag":23,"props":54233,"children":54234},{},[54235,54237],{"type":21,"value":54236},"We also add a variable expression in the ",{"type":15,"tag":81,"props":54238,"children":54240},{"className":54239},[],[54241],{"type":21,"value":5724},{"type":15,"tag":23,"props":54243,"children":54244},{},[54245,54247,54252,54253,54258],{"type":21,"value":54246},"And we can use the same parsing for ",{"type":15,"tag":81,"props":54248,"children":54250},{"className":54249},[],[54251],{"type":21,"value":785},{"type":21,"value":3071},{"type":15,"tag":81,"props":54254,"children":54256},{"className":54255},[],[54257],{"type":21,"value":53941},{"type":21,"value":3374},{"type":15,"tag":95,"props":54260,"children":54262},{"code":54261,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\nTokenType::Let | TokenType::Set => {\n    let identifier = self.advance()?;\n    match identifier._type {\n        TokenType::Identifier(name) => {\n            self.expect(TokenType::Eq)?;\n            let expression = self.expression()?;\n            self.expect(TokenType::SemiColon)?;\n            Ok(match token._type {\n                TokenType::Let => ast::Statement::Declaration(name, expression),\n                TokenType::Set => ast::Statement::Assignment(name, expression),\n                _ => unreachable!(),\n            })\n        }\n        _ => Err(error(identifier, \"Identifier\".to_string()))?,\n    }\n",[54263],{"type":15,"tag":81,"props":54264,"children":54265},{"__ignoreMap":8},[54266,54273,54314,54353,54372,54401,54444,54483,54526,54553,54599,54643,54663,54670,54677,54730],{"type":15,"tag":252,"props":54267,"children":54268},{"class":254,"line":255},[54269],{"type":15,"tag":252,"props":54270,"children":54271},{"style":3287},[54272],{"type":21,"value":11380},{"type":15,"tag":252,"props":54274,"children":54275},{"class":254,"line":334},[54276,54280,54284,54289,54293,54297,54301,54306,54310],{"type":15,"tag":252,"props":54277,"children":54278},{"style":259},[54279],{"type":21,"value":8846},{"type":15,"tag":252,"props":54281,"children":54282},{"style":601},[54283],{"type":21,"value":804},{"type":15,"tag":252,"props":54285,"children":54286},{"style":259},[54287],{"type":21,"value":54288},"Let",{"type":15,"tag":252,"props":54290,"children":54291},{"style":601},[54292],{"type":21,"value":27722},{"type":15,"tag":252,"props":54294,"children":54295},{"style":259},[54296],{"type":21,"value":6463},{"type":15,"tag":252,"props":54298,"children":54299},{"style":601},[54300],{"type":21,"value":804},{"type":15,"tag":252,"props":54302,"children":54303},{"style":259},[54304],{"type":21,"value":54305},"Set",{"type":15,"tag":252,"props":54307,"children":54308},{"style":601},[54309],{"type":21,"value":9226},{"type":15,"tag":252,"props":54311,"children":54312},{"style":447},[54313],{"type":21,"value":3769},{"type":15,"tag":252,"props":54315,"children":54316},{"class":254,"line":390},[54317,54321,54325,54329,54333,54337,54341,54345,54349],{"type":15,"tag":252,"props":54318,"children":54319},{"style":601},[54320],{"type":21,"value":2083},{"type":15,"tag":252,"props":54322,"children":54323},{"style":447},[54324],{"type":21,"value":8986},{"type":15,"tag":252,"props":54326,"children":54327},{"style":601},[54328],{"type":21,"value":614},{"type":15,"tag":252,"props":54330,"children":54331},{"style":276},[54332],{"type":21,"value":7244},{"type":15,"tag":252,"props":54334,"children":54335},{"style":601},[54336],{"type":21,"value":432},{"type":15,"tag":252,"props":54338,"children":54339},{"style":259},[54340],{"type":21,"value":8261},{"type":15,"tag":252,"props":54342,"children":54343},{"style":447},[54344],{"type":21,"value":7305},{"type":15,"tag":252,"props":54346,"children":54347},{"style":601},[54348],{"type":21,"value":5468},{"type":15,"tag":252,"props":54350,"children":54351},{"style":447},[54352],{"type":21,"value":3325},{"type":15,"tag":252,"props":54354,"children":54355},{"class":254,"line":2077},[54356,54360,54364,54368],{"type":15,"tag":252,"props":54357,"children":54358},{"style":601},[54359],{"type":21,"value":4014},{"type":15,"tag":252,"props":54361,"children":54362},{"style":447},[54363],{"type":21,"value":9200},{"type":15,"tag":252,"props":54365,"children":54366},{"style":601},[54367],{"type":21,"value":432},{"type":15,"tag":252,"props":54369,"children":54370},{"style":447},[54371],{"type":21,"value":12730},{"type":15,"tag":252,"props":54373,"children":54374},{"class":254,"line":2110},[54375,54380,54384,54388,54393,54397],{"type":15,"tag":252,"props":54376,"children":54377},{"style":259},[54378],{"type":21,"value":54379},"        TokenType",{"type":15,"tag":252,"props":54381,"children":54382},{"style":601},[54383],{"type":21,"value":804},{"type":15,"tag":252,"props":54385,"children":54386},{"style":259},[54387],{"type":21,"value":6666},{"type":15,"tag":252,"props":54389,"children":54390},{"style":447},[54391],{"type":21,"value":54392},"(name) ",{"type":15,"tag":252,"props":54394,"children":54395},{"style":601},[54396],{"type":21,"value":4054},{"type":15,"tag":252,"props":54398,"children":54399},{"style":447},[54400],{"type":21,"value":3769},{"type":15,"tag":252,"props":54402,"children":54403},{"class":254,"line":2150},[54404,54408,54412,54416,54420,54424,54428,54432,54436,54440],{"type":15,"tag":252,"props":54405,"children":54406},{"style":276},[54407],{"type":21,"value":8332},{"type":15,"tag":252,"props":54409,"children":54410},{"style":601},[54411],{"type":21,"value":432},{"type":15,"tag":252,"props":54413,"children":54414},{"style":259},[54415],{"type":21,"value":12596},{"type":15,"tag":252,"props":54417,"children":54418},{"style":447},[54419],{"type":21,"value":849},{"type":15,"tag":252,"props":54421,"children":54422},{"style":259},[54423],{"type":21,"value":8846},{"type":15,"tag":252,"props":54425,"children":54426},{"style":601},[54427],{"type":21,"value":804},{"type":15,"tag":252,"props":54429,"children":54430},{"style":259},[54431],{"type":21,"value":6443},{"type":15,"tag":252,"props":54433,"children":54434},{"style":447},[54435],{"type":21,"value":1975},{"type":15,"tag":252,"props":54437,"children":54438},{"style":601},[54439],{"type":21,"value":5468},{"type":15,"tag":252,"props":54441,"children":54442},{"style":447},[54443],{"type":21,"value":3325},{"type":15,"tag":252,"props":54445,"children":54446},{"class":254,"line":2182},[54447,54451,54455,54459,54463,54467,54471,54475,54479],{"type":15,"tag":252,"props":54448,"children":54449},{"style":601},[54450],{"type":21,"value":15892},{"type":15,"tag":252,"props":54452,"children":54453},{"style":447},[54454],{"type":21,"value":31233},{"type":15,"tag":252,"props":54456,"children":54457},{"style":601},[54458],{"type":21,"value":614},{"type":15,"tag":252,"props":54460,"children":54461},{"style":276},[54462],{"type":21,"value":7244},{"type":15,"tag":252,"props":54464,"children":54465},{"style":601},[54466],{"type":21,"value":432},{"type":15,"tag":252,"props":54468,"children":54469},{"style":259},[54470],{"type":21,"value":13329},{"type":15,"tag":252,"props":54472,"children":54473},{"style":447},[54474],{"type":21,"value":7305},{"type":15,"tag":252,"props":54476,"children":54477},{"style":601},[54478],{"type":21,"value":5468},{"type":15,"tag":252,"props":54480,"children":54481},{"style":447},[54482],{"type":21,"value":3325},{"type":15,"tag":252,"props":54484,"children":54485},{"class":254,"line":2190},[54486,54490,54494,54498,54502,54506,54510,54514,54518,54522],{"type":15,"tag":252,"props":54487,"children":54488},{"style":276},[54489],{"type":21,"value":8332},{"type":15,"tag":252,"props":54491,"children":54492},{"style":601},[54493],{"type":21,"value":432},{"type":15,"tag":252,"props":54495,"children":54496},{"style":259},[54497],{"type":21,"value":12596},{"type":15,"tag":252,"props":54499,"children":54500},{"style":447},[54501],{"type":21,"value":849},{"type":15,"tag":252,"props":54503,"children":54504},{"style":259},[54505],{"type":21,"value":8846},{"type":15,"tag":252,"props":54507,"children":54508},{"style":601},[54509],{"type":21,"value":804},{"type":15,"tag":252,"props":54511,"children":54512},{"style":259},[54513],{"type":21,"value":10060},{"type":15,"tag":252,"props":54515,"children":54516},{"style":447},[54517],{"type":21,"value":1975},{"type":15,"tag":252,"props":54519,"children":54520},{"style":601},[54521],{"type":21,"value":5468},{"type":15,"tag":252,"props":54523,"children":54524},{"style":447},[54525],{"type":21,"value":3325},{"type":15,"tag":252,"props":54527,"children":54528},{"class":254,"line":2222},[54529,54533,54537,54541,54545,54549],{"type":15,"tag":252,"props":54530,"children":54531},{"style":259},[54532],{"type":21,"value":12492},{"type":15,"tag":252,"props":54534,"children":54535},{"style":447},[54536],{"type":21,"value":849},{"type":15,"tag":252,"props":54538,"children":54539},{"style":601},[54540],{"type":21,"value":9195},{"type":15,"tag":252,"props":54542,"children":54543},{"style":447},[54544],{"type":21,"value":8039},{"type":15,"tag":252,"props":54546,"children":54547},{"style":601},[54548],{"type":21,"value":432},{"type":15,"tag":252,"props":54550,"children":54551},{"style":447},[54552],{"type":21,"value":12730},{"type":15,"tag":252,"props":54554,"children":54555},{"class":254,"line":2270},[54556,54561,54565,54569,54573,54577,54581,54585,54589,54594],{"type":15,"tag":252,"props":54557,"children":54558},{"style":259},[54559],{"type":21,"value":54560},"                TokenType",{"type":15,"tag":252,"props":54562,"children":54563},{"style":601},[54564],{"type":21,"value":804},{"type":15,"tag":252,"props":54566,"children":54567},{"style":259},[54568],{"type":21,"value":54288},{"type":15,"tag":252,"props":54570,"children":54571},{"style":601},[54572],{"type":21,"value":9226},{"type":15,"tag":252,"props":54574,"children":54575},{"style":259},[54576],{"type":21,"value":5678},{"type":15,"tag":252,"props":54578,"children":54579},{"style":601},[54580],{"type":21,"value":804},{"type":15,"tag":252,"props":54582,"children":54583},{"style":259},[54584],{"type":21,"value":5709},{"type":15,"tag":252,"props":54586,"children":54587},{"style":601},[54588],{"type":21,"value":804},{"type":15,"tag":252,"props":54590,"children":54591},{"style":259},[54592],{"type":21,"value":54593},"Declaration",{"type":15,"tag":252,"props":54595,"children":54596},{"style":447},[54597],{"type":21,"value":54598},"(name, expression),\n",{"type":15,"tag":252,"props":54600,"children":54601},{"class":254,"line":2302},[54602,54606,54610,54614,54618,54622,54626,54630,54634,54639],{"type":15,"tag":252,"props":54603,"children":54604},{"style":259},[54605],{"type":21,"value":54560},{"type":15,"tag":252,"props":54607,"children":54608},{"style":601},[54609],{"type":21,"value":804},{"type":15,"tag":252,"props":54611,"children":54612},{"style":259},[54613],{"type":21,"value":54305},{"type":15,"tag":252,"props":54615,"children":54616},{"style":601},[54617],{"type":21,"value":9226},{"type":15,"tag":252,"props":54619,"children":54620},{"style":259},[54621],{"type":21,"value":5678},{"type":15,"tag":252,"props":54623,"children":54624},{"style":601},[54625],{"type":21,"value":804},{"type":15,"tag":252,"props":54627,"children":54628},{"style":259},[54629],{"type":21,"value":5709},{"type":15,"tag":252,"props":54631,"children":54632},{"style":601},[54633],{"type":21,"value":804},{"type":15,"tag":252,"props":54635,"children":54636},{"style":259},[54637],{"type":21,"value":54638},"Assignment",{"type":15,"tag":252,"props":54640,"children":54641},{"style":447},[54642],{"type":21,"value":54598},{"type":15,"tag":252,"props":54644,"children":54645},{"class":254,"line":2310},[54646,54650,54654,54659],{"type":15,"tag":252,"props":54647,"children":54648},{"style":447},[54649],{"type":21,"value":10179},{"type":15,"tag":252,"props":54651,"children":54652},{"style":601},[54653],{"type":21,"value":4054},{"type":15,"tag":252,"props":54655,"children":54656},{"style":259},[54657],{"type":21,"value":54658}," unreachable!",{"type":15,"tag":252,"props":54660,"children":54661},{"style":447},[54662],{"type":21,"value":10142},{"type":15,"tag":252,"props":54664,"children":54665},{"class":254,"line":2370},[54666],{"type":15,"tag":252,"props":54667,"children":54668},{"style":447},[54669],{"type":21,"value":53314},{"type":15,"tag":252,"props":54671,"children":54672},{"class":254,"line":2418},[54673],{"type":15,"tag":252,"props":54674,"children":54675},{"style":447},[54676],{"type":21,"value":4087},{"type":15,"tag":252,"props":54678,"children":54679},{"class":254,"line":2426},[54680,54684,54688,54692,54696,54700,54705,54710,54714,54718,54722,54726],{"type":15,"tag":252,"props":54681,"children":54682},{"style":447},[54683],{"type":21,"value":48612},{"type":15,"tag":252,"props":54685,"children":54686},{"style":601},[54687],{"type":21,"value":4054},{"type":15,"tag":252,"props":54689,"children":54690},{"style":259},[54691],{"type":21,"value":12804},{"type":15,"tag":252,"props":54693,"children":54694},{"style":447},[54695],{"type":21,"value":849},{"type":15,"tag":252,"props":54697,"children":54698},{"style":259},[54699],{"type":21,"value":10203},{"type":15,"tag":252,"props":54701,"children":54702},{"style":447},[54703],{"type":21,"value":54704},"(identifier, ",{"type":15,"tag":252,"props":54706,"children":54707},{"style":265},[54708],{"type":21,"value":54709},"\"Identifier\"",{"type":15,"tag":252,"props":54711,"children":54712},{"style":601},[54713],{"type":21,"value":432},{"type":15,"tag":252,"props":54715,"children":54716},{"style":259},[54717],{"type":21,"value":12830},{"type":15,"tag":252,"props":54719,"children":54720},{"style":447},[54721],{"type":21,"value":12835},{"type":15,"tag":252,"props":54723,"children":54724},{"style":601},[54725],{"type":21,"value":5468},{"type":15,"tag":252,"props":54727,"children":54728},{"style":447},[54729],{"type":21,"value":3879},{"type":15,"tag":252,"props":54731,"children":54732},{"class":254,"line":2474},[54733],{"type":15,"tag":252,"props":54734,"children":54735},{"style":447},[54736],{"type":21,"value":4095},{"type":15,"tag":23,"props":54738,"children":54739},{},[54740],{"type":21,"value":54741},"And we will parse that literal as well:",{"type":15,"tag":95,"props":54743,"children":54745},{"code":54744,"language":772,"meta":8,"className":773,"style":8},"// parsing/parser.rs\n    fn literal(&mut self) -> anyhow::Result\u003Cast::Literal> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Integer(i) => Ok(ast::Literal::Integer(i)),\n            TokenType::True => Ok(ast::Literal::Boolean(true)),\n            TokenType::False => Ok(ast::Literal::Boolean(false)),\n            TokenType::Identifier(name) => Ok(ast::Literal::Variable(name)),\n            _ => Err(error(token, \"Literal\".to_string()))?,\n        }\n    }\n",[54746],{"type":15,"tag":81,"props":54747,"children":54748},{"__ignoreMap":8},[54749,54756,54815,54854,54873,54928,54987,55046,55103,55154,55161],{"type":15,"tag":252,"props":54750,"children":54751},{"class":254,"line":255},[54752],{"type":15,"tag":252,"props":54753,"children":54754},{"style":3287},[54755],{"type":21,"value":11380},{"type":15,"tag":252,"props":54757,"children":54758},{"class":254,"line":334},[54759,54763,54767,54771,54775,54779,54783,54787,54791,54795,54799,54803,54807,54811],{"type":15,"tag":252,"props":54760,"children":54761},{"style":601},[54762],{"type":21,"value":7146},{"type":15,"tag":252,"props":54764,"children":54765},{"style":259},[54766],{"type":21,"value":12622},{"type":15,"tag":252,"props":54768,"children":54769},{"style":447},[54770],{"type":21,"value":849},{"type":15,"tag":252,"props":54772,"children":54773},{"style":601},[54774],{"type":21,"value":7239},{"type":15,"tag":252,"props":54776,"children":54777},{"style":276},[54778],{"type":21,"value":7244},{"type":15,"tag":252,"props":54780,"children":54781},{"style":447},[54782],{"type":21,"value":4943},{"type":15,"tag":252,"props":54784,"children":54785},{"style":601},[54786],{"type":21,"value":3947},{"type":15,"tag":252,"props":54788,"children":54789},{"style":259},[54790],{"type":21,"value":3952},{"type":15,"tag":252,"props":54792,"children":54793},{"style":601},[54794],{"type":21,"value":804},{"type":15,"tag":252,"props":54796,"children":54797},{"style":259},[54798],{"type":21,"value":3961},{"type":15,"tag":252,"props":54800,"children":54801},{"style":447},[54802],{"type":21,"value":10502},{"type":15,"tag":252,"props":54804,"children":54805},{"style":601},[54806],{"type":21,"value":804},{"type":15,"tag":252,"props":54808,"children":54809},{"style":259},[54810],{"type":21,"value":5724},{"type":15,"tag":252,"props":54812,"children":54813},{"style":447},[54814],{"type":21,"value":7138},{"type":15,"tag":252,"props":54816,"children":54817},{"class":254,"line":390},[54818,54822,54826,54830,54834,54838,54842,54846,54850],{"type":15,"tag":252,"props":54819,"children":54820},{"style":601},[54821],{"type":21,"value":8231},{"type":15,"tag":252,"props":54823,"children":54824},{"style":447},[54825],{"type":21,"value":12420},{"type":15,"tag":252,"props":54827,"children":54828},{"style":601},[54829],{"type":21,"value":614},{"type":15,"tag":252,"props":54831,"children":54832},{"style":276},[54833],{"type":21,"value":7244},{"type":15,"tag":252,"props":54835,"children":54836},{"style":601},[54837],{"type":21,"value":432},{"type":15,"tag":252,"props":54839,"children":54840},{"style":259},[54841],{"type":21,"value":8261},{"type":15,"tag":252,"props":54843,"children":54844},{"style":447},[54845],{"type":21,"value":7305},{"type":15,"tag":252,"props":54847,"children":54848},{"style":601},[54849],{"type":21,"value":5468},{"type":15,"tag":252,"props":54851,"children":54852},{"style":447},[54853],{"type":21,"value":3325},{"type":15,"tag":252,"props":54855,"children":54856},{"class":254,"line":2077},[54857,54861,54865,54869],{"type":15,"tag":252,"props":54858,"children":54859},{"style":601},[54860],{"type":21,"value":12717},{"type":15,"tag":252,"props":54862,"children":54863},{"style":447},[54864],{"type":21,"value":8039},{"type":15,"tag":252,"props":54866,"children":54867},{"style":601},[54868],{"type":21,"value":432},{"type":15,"tag":252,"props":54870,"children":54871},{"style":447},[54872],{"type":21,"value":12730},{"type":15,"tag":252,"props":54874,"children":54875},{"class":254,"line":2110},[54876,54880,54884,54888,54892,54896,54900,54904,54908,54912,54916,54920,54924],{"type":15,"tag":252,"props":54877,"children":54878},{"style":259},[54879],{"type":21,"value":12738},{"type":15,"tag":252,"props":54881,"children":54882},{"style":601},[54883],{"type":21,"value":804},{"type":15,"tag":252,"props":54885,"children":54886},{"style":259},[54887],{"type":21,"value":6153},{"type":15,"tag":252,"props":54889,"children":54890},{"style":447},[54891],{"type":21,"value":12751},{"type":15,"tag":252,"props":54893,"children":54894},{"style":601},[54895],{"type":21,"value":4054},{"type":15,"tag":252,"props":54897,"children":54898},{"style":259},[54899],{"type":21,"value":8666},{"type":15,"tag":252,"props":54901,"children":54902},{"style":447},[54903],{"type":21,"value":849},{"type":15,"tag":252,"props":54905,"children":54906},{"style":259},[54907],{"type":21,"value":5623},{"type":15,"tag":252,"props":54909,"children":54910},{"style":601},[54911],{"type":21,"value":804},{"type":15,"tag":252,"props":54913,"children":54914},{"style":259},[54915],{"type":21,"value":5724},{"type":15,"tag":252,"props":54917,"children":54918},{"style":601},[54919],{"type":21,"value":804},{"type":15,"tag":252,"props":54921,"children":54922},{"style":259},[54923],{"type":21,"value":6153},{"type":15,"tag":252,"props":54925,"children":54926},{"style":447},[54927],{"type":21,"value":12788},{"type":15,"tag":252,"props":54929,"children":54930},{"class":254,"line":2150},[54931,54935,54939,54943,54947,54951,54955,54959,54963,54967,54971,54975,54979,54983],{"type":15,"tag":252,"props":54932,"children":54933},{"style":259},[54934],{"type":21,"value":12738},{"type":15,"tag":252,"props":54936,"children":54937},{"style":601},[54938],{"type":21,"value":804},{"type":15,"tag":252,"props":54940,"children":54941},{"style":259},[54942],{"type":21,"value":27016},{"type":15,"tag":252,"props":54944,"children":54945},{"style":601},[54946],{"type":21,"value":9226},{"type":15,"tag":252,"props":54948,"children":54949},{"style":259},[54950],{"type":21,"value":8666},{"type":15,"tag":252,"props":54952,"children":54953},{"style":447},[54954],{"type":21,"value":849},{"type":15,"tag":252,"props":54956,"children":54957},{"style":259},[54958],{"type":21,"value":5623},{"type":15,"tag":252,"props":54960,"children":54961},{"style":601},[54962],{"type":21,"value":804},{"type":15,"tag":252,"props":54964,"children":54965},{"style":259},[54966],{"type":21,"value":5724},{"type":15,"tag":252,"props":54968,"children":54969},{"style":601},[54970],{"type":21,"value":804},{"type":15,"tag":252,"props":54972,"children":54973},{"style":259},[54974],{"type":21,"value":27449},{"type":15,"tag":252,"props":54976,"children":54977},{"style":447},[54978],{"type":21,"value":849},{"type":15,"tag":252,"props":54980,"children":54981},{"style":276},[54982],{"type":21,"value":1195},{"type":15,"tag":252,"props":54984,"children":54985},{"style":447},[54986],{"type":21,"value":13037},{"type":15,"tag":252,"props":54988,"children":54989},{"class":254,"line":2182},[54990,54994,54998,55002,55006,55010,55014,55018,55022,55026,55030,55034,55038,55042],{"type":15,"tag":252,"props":54991,"children":54992},{"style":259},[54993],{"type":21,"value":12738},{"type":15,"tag":252,"props":54995,"children":54996},{"style":601},[54997],{"type":21,"value":804},{"type":15,"tag":252,"props":54999,"children":55000},{"style":259},[55001],{"type":21,"value":27045},{"type":15,"tag":252,"props":55003,"children":55004},{"style":601},[55005],{"type":21,"value":9226},{"type":15,"tag":252,"props":55007,"children":55008},{"style":259},[55009],{"type":21,"value":8666},{"type":15,"tag":252,"props":55011,"children":55012},{"style":447},[55013],{"type":21,"value":849},{"type":15,"tag":252,"props":55015,"children":55016},{"style":259},[55017],{"type":21,"value":5623},{"type":15,"tag":252,"props":55019,"children":55020},{"style":601},[55021],{"type":21,"value":804},{"type":15,"tag":252,"props":55023,"children":55024},{"style":259},[55025],{"type":21,"value":5724},{"type":15,"tag":252,"props":55027,"children":55028},{"style":601},[55029],{"type":21,"value":804},{"type":15,"tag":252,"props":55031,"children":55032},{"style":259},[55033],{"type":21,"value":27449},{"type":15,"tag":252,"props":55035,"children":55036},{"style":447},[55037],{"type":21,"value":849},{"type":15,"tag":252,"props":55039,"children":55040},{"style":276},[55041],{"type":21,"value":1456},{"type":15,"tag":252,"props":55043,"children":55044},{"style":447},[55045],{"type":21,"value":13037},{"type":15,"tag":252,"props":55047,"children":55048},{"class":254,"line":2190},[55049,55053,55057,55061,55065,55069,55073,55077,55081,55085,55089,55093,55098],{"type":15,"tag":252,"props":55050,"children":55051},{"style":259},[55052],{"type":21,"value":12738},{"type":15,"tag":252,"props":55054,"children":55055},{"style":601},[55056],{"type":21,"value":804},{"type":15,"tag":252,"props":55058,"children":55059},{"style":259},[55060],{"type":21,"value":6666},{"type":15,"tag":252,"props":55062,"children":55063},{"style":447},[55064],{"type":21,"value":54392},{"type":15,"tag":252,"props":55066,"children":55067},{"style":601},[55068],{"type":21,"value":4054},{"type":15,"tag":252,"props":55070,"children":55071},{"style":259},[55072],{"type":21,"value":8666},{"type":15,"tag":252,"props":55074,"children":55075},{"style":447},[55076],{"type":21,"value":849},{"type":15,"tag":252,"props":55078,"children":55079},{"style":259},[55080],{"type":21,"value":5623},{"type":15,"tag":252,"props":55082,"children":55083},{"style":601},[55084],{"type":21,"value":804},{"type":15,"tag":252,"props":55086,"children":55087},{"style":259},[55088],{"type":21,"value":5724},{"type":15,"tag":252,"props":55090,"children":55091},{"style":601},[55092],{"type":21,"value":804},{"type":15,"tag":252,"props":55094,"children":55095},{"style":259},[55096],{"type":21,"value":55097},"Variable",{"type":15,"tag":252,"props":55099,"children":55100},{"style":447},[55101],{"type":21,"value":55102},"(name)),\n",{"type":15,"tag":252,"props":55104,"children":55105},{"class":254,"line":2222},[55106,55110,55114,55118,55122,55126,55130,55134,55138,55142,55146,55150],{"type":15,"tag":252,"props":55107,"children":55108},{"style":447},[55109],{"type":21,"value":9250},{"type":15,"tag":252,"props":55111,"children":55112},{"style":601},[55113],{"type":21,"value":4054},{"type":15,"tag":252,"props":55115,"children":55116},{"style":259},[55117],{"type":21,"value":12804},{"type":15,"tag":252,"props":55119,"children":55120},{"style":447},[55121],{"type":21,"value":849},{"type":15,"tag":252,"props":55123,"children":55124},{"style":259},[55125],{"type":21,"value":10203},{"type":15,"tag":252,"props":55127,"children":55128},{"style":447},[55129],{"type":21,"value":12541},{"type":15,"tag":252,"props":55131,"children":55132},{"style":265},[55133],{"type":21,"value":12821},{"type":15,"tag":252,"props":55135,"children":55136},{"style":601},[55137],{"type":21,"value":432},{"type":15,"tag":252,"props":55139,"children":55140},{"style":259},[55141],{"type":21,"value":12830},{"type":15,"tag":252,"props":55143,"children":55144},{"style":447},[55145],{"type":21,"value":12835},{"type":15,"tag":252,"props":55147,"children":55148},{"style":601},[55149],{"type":21,"value":5468},{"type":15,"tag":252,"props":55151,"children":55152},{"style":447},[55153],{"type":21,"value":3879},{"type":15,"tag":252,"props":55155,"children":55156},{"class":254,"line":2270},[55157],{"type":15,"tag":252,"props":55158,"children":55159},{"style":447},[55160],{"type":21,"value":4087},{"type":15,"tag":252,"props":55162,"children":55163},{"class":254,"line":2302},[55164],{"type":15,"tag":252,"props":55165,"children":55166},{"style":447},[55167],{"type":21,"value":4095},{"type":15,"tag":59,"props":55169,"children":55171},{"id":55170},"type-resolution",[55172],{"type":21,"value":55173},"Type resolution",{"type":15,"tag":23,"props":55175,"children":55176},{},[55177],{"type":21,"value":55178},"First lets add the assignment to the IR!",{"type":15,"tag":95,"props":55180,"children":55182},{"code":55181,"language":772,"meta":8,"className":773,"style":8},"// ir.rs\n#[derive(Debug, PartialEq, Eq, Clone, Copy)]\npub enum VarType {\n    Int,\n    Boolean,\n}\n\n#[derive(Debug, PartialEq, Eq, Hash, Copy, Clone)]\npub struct VariableIdentifier(pub usize);\n\n#[derive(Debug)]\npub enum Statement {\n    Print(PrintStatement),\n    Assert(BooleanExpression, Option\u003CString>),\n    Assignment(VariableIdentifier, AssignmentStatement),\n}\n\n#[derive(Debug)]\npub enum AssignmentStatement {\n    Int(IntExpression),\n    Boolean(BooleanExpression),\n}\n\n#[derive(Debug)]\npub enum IntExpression {\n    // ...\n    Var(VariableIdentifier),\n}\n\n#[derive(Debug)]\npub enum BooleanExpression {\n    // ...\n    Var(VariableIdentifier),\n}\n",[55183],{"type":15,"tag":81,"props":55184,"children":55185},{"__ignoreMap":8},[55186,55193,55240,55260,55271,55282,55289,55296,55352,55384,55391,55406,55425,55444,55479,55508,55515,55522,55537,55557,55576,55595,55602,55609,55624,55643,55650,55670,55677,55684,55699,55718,55725,55744],{"type":15,"tag":252,"props":55187,"children":55188},{"class":254,"line":255},[55189],{"type":15,"tag":252,"props":55190,"children":55191},{"style":3287},[55192],{"type":21,"value":25314},{"type":15,"tag":252,"props":55194,"children":55195},{"class":254,"line":334},[55196,55200,55204,55208,55212,55216,55220,55224,55228,55232,55236],{"type":15,"tag":252,"props":55197,"children":55198},{"style":447},[55199],{"type":21,"value":3742},{"type":15,"tag":252,"props":55201,"children":55202},{"style":259},[55203],{"type":21,"value":5788},{"type":15,"tag":252,"props":55205,"children":55206},{"style":447},[55207],{"type":21,"value":1076},{"type":15,"tag":252,"props":55209,"children":55210},{"style":259},[55211],{"type":21,"value":6434},{"type":15,"tag":252,"props":55213,"children":55214},{"style":447},[55215],{"type":21,"value":1076},{"type":15,"tag":252,"props":55217,"children":55218},{"style":259},[55219],{"type":21,"value":6443},{"type":15,"tag":252,"props":55221,"children":55222},{"style":447},[55223],{"type":21,"value":1076},{"type":15,"tag":252,"props":55225,"children":55226},{"style":259},[55227],{"type":21,"value":39579},{"type":15,"tag":252,"props":55229,"children":55230},{"style":447},[55231],{"type":21,"value":1076},{"type":15,"tag":252,"props":55233,"children":55234},{"style":259},[55235],{"type":21,"value":39570},{"type":15,"tag":252,"props":55237,"children":55238},{"style":447},[55239],{"type":21,"value":3751},{"type":15,"tag":252,"props":55241,"children":55242},{"class":254,"line":390},[55243,55247,55251,55256],{"type":15,"tag":252,"props":55244,"children":55245},{"style":601},[55246],{"type":21,"value":4740},{"type":15,"tag":252,"props":55248,"children":55249},{"style":601},[55250],{"type":21,"value":5869},{"type":15,"tag":252,"props":55252,"children":55253},{"style":259},[55254],{"type":21,"value":55255}," VarType",{"type":15,"tag":252,"props":55257,"children":55258},{"style":447},[55259],{"type":21,"value":3769},{"type":15,"tag":252,"props":55261,"children":55262},{"class":254,"line":2077},[55263,55267],{"type":15,"tag":252,"props":55264,"children":55265},{"style":259},[55266],{"type":21,"value":14789},{"type":15,"tag":252,"props":55268,"children":55269},{"style":447},[55270],{"type":21,"value":3879},{"type":15,"tag":252,"props":55272,"children":55273},{"class":254,"line":2110},[55274,55278],{"type":15,"tag":252,"props":55275,"children":55276},{"style":259},[55277],{"type":21,"value":27190},{"type":15,"tag":252,"props":55279,"children":55280},{"style":447},[55281],{"type":21,"value":3879},{"type":15,"tag":252,"props":55283,"children":55284},{"class":254,"line":2150},[55285],{"type":15,"tag":252,"props":55286,"children":55287},{"style":447},[55288],{"type":21,"value":2854},{"type":15,"tag":252,"props":55290,"children":55291},{"class":254,"line":2182},[55292],{"type":15,"tag":252,"props":55293,"children":55294},{"emptyLinePlaceholder":2053},[55295],{"type":21,"value":2056},{"type":15,"tag":252,"props":55297,"children":55298},{"class":254,"line":2190},[55299,55303,55307,55311,55315,55319,55323,55327,55332,55336,55340,55344,55348],{"type":15,"tag":252,"props":55300,"children":55301},{"style":447},[55302],{"type":21,"value":3742},{"type":15,"tag":252,"props":55304,"children":55305},{"style":259},[55306],{"type":21,"value":5788},{"type":15,"tag":252,"props":55308,"children":55309},{"style":447},[55310],{"type":21,"value":1076},{"type":15,"tag":252,"props":55312,"children":55313},{"style":259},[55314],{"type":21,"value":6434},{"type":15,"tag":252,"props":55316,"children":55317},{"style":447},[55318],{"type":21,"value":1076},{"type":15,"tag":252,"props":55320,"children":55321},{"style":259},[55322],{"type":21,"value":6443},{"type":15,"tag":252,"props":55324,"children":55325},{"style":447},[55326],{"type":21,"value":1076},{"type":15,"tag":252,"props":55328,"children":55329},{"style":259},[55330],{"type":21,"value":55331},"Hash",{"type":15,"tag":252,"props":55333,"children":55334},{"style":447},[55335],{"type":21,"value":1076},{"type":15,"tag":252,"props":55337,"children":55338},{"style":259},[55339],{"type":21,"value":39570},{"type":15,"tag":252,"props":55341,"children":55342},{"style":447},[55343],{"type":21,"value":1076},{"type":15,"tag":252,"props":55345,"children":55346},{"style":259},[55347],{"type":21,"value":39579},{"type":15,"tag":252,"props":55349,"children":55350},{"style":447},[55351],{"type":21,"value":3751},{"type":15,"tag":252,"props":55353,"children":55354},{"class":254,"line":2222},[55355,55359,55363,55368,55372,55376,55380],{"type":15,"tag":252,"props":55356,"children":55357},{"style":601},[55358],{"type":21,"value":4740},{"type":15,"tag":252,"props":55360,"children":55361},{"style":601},[55362],{"type":21,"value":4745},{"type":15,"tag":252,"props":55364,"children":55365},{"style":259},[55366],{"type":21,"value":55367}," VariableIdentifier",{"type":15,"tag":252,"props":55369,"children":55370},{"style":447},[55371],{"type":21,"value":849},{"type":15,"tag":252,"props":55373,"children":55374},{"style":601},[55375],{"type":21,"value":4740},{"type":15,"tag":252,"props":55377,"children":55378},{"style":259},[55379],{"type":21,"value":3379},{"type":15,"tag":252,"props":55381,"children":55382},{"style":447},[55383],{"type":21,"value":859},{"type":15,"tag":252,"props":55385,"children":55386},{"class":254,"line":2270},[55387],{"type":15,"tag":252,"props":55388,"children":55389},{"emptyLinePlaceholder":2053},[55390],{"type":21,"value":2056},{"type":15,"tag":252,"props":55392,"children":55393},{"class":254,"line":2302},[55394,55398,55402],{"type":15,"tag":252,"props":55395,"children":55396},{"style":447},[55397],{"type":21,"value":3742},{"type":15,"tag":252,"props":55399,"children":55400},{"style":259},[55401],{"type":21,"value":5788},{"type":15,"tag":252,"props":55403,"children":55404},{"style":447},[55405],{"type":21,"value":3751},{"type":15,"tag":252,"props":55407,"children":55408},{"class":254,"line":2310},[55409,55413,55417,55421],{"type":15,"tag":252,"props":55410,"children":55411},{"style":601},[55412],{"type":21,"value":4740},{"type":15,"tag":252,"props":55414,"children":55415},{"style":601},[55416],{"type":21,"value":5869},{"type":15,"tag":252,"props":55418,"children":55419},{"style":259},[55420],{"type":21,"value":5874},{"type":15,"tag":252,"props":55422,"children":55423},{"style":447},[55424],{"type":21,"value":3769},{"type":15,"tag":252,"props":55426,"children":55427},{"class":254,"line":2370},[55428,55432,55436,55440],{"type":15,"tag":252,"props":55429,"children":55430},{"style":259},[55431],{"type":21,"value":5886},{"type":15,"tag":252,"props":55433,"children":55434},{"style":447},[55435],{"type":21,"value":849},{"type":15,"tag":252,"props":55437,"children":55438},{"style":259},[55439],{"type":21,"value":14728},{"type":15,"tag":252,"props":55441,"children":55442},{"style":447},[55443],{"type":21,"value":5899},{"type":15,"tag":252,"props":55445,"children":55446},{"class":254,"line":2418},[55447,55451,55455,55459,55463,55467,55471,55475],{"type":15,"tag":252,"props":55448,"children":55449},{"style":259},[55450],{"type":21,"value":30989},{"type":15,"tag":252,"props":55452,"children":55453},{"style":447},[55454],{"type":21,"value":849},{"type":15,"tag":252,"props":55456,"children":55457},{"style":259},[55458],{"type":21,"value":27991},{"type":15,"tag":252,"props":55460,"children":55461},{"style":447},[55462],{"type":21,"value":1076},{"type":15,"tag":252,"props":55464,"children":55465},{"style":259},[55466],{"type":21,"value":31006},{"type":15,"tag":252,"props":55468,"children":55469},{"style":447},[55470],{"type":21,"value":5826},{"type":15,"tag":252,"props":55472,"children":55473},{"style":259},[55474],{"type":21,"value":6503},{"type":15,"tag":252,"props":55476,"children":55477},{"style":447},[55478],{"type":21,"value":24445},{"type":15,"tag":252,"props":55480,"children":55481},{"class":254,"line":2426},[55482,55486,55490,55495,55499,55504],{"type":15,"tag":252,"props":55483,"children":55484},{"style":259},[55485],{"type":21,"value":54098},{"type":15,"tag":252,"props":55487,"children":55488},{"style":447},[55489],{"type":21,"value":849},{"type":15,"tag":252,"props":55491,"children":55492},{"style":259},[55493],{"type":21,"value":55494},"VariableIdentifier",{"type":15,"tag":252,"props":55496,"children":55497},{"style":447},[55498],{"type":21,"value":1076},{"type":15,"tag":252,"props":55500,"children":55501},{"style":259},[55502],{"type":21,"value":55503},"AssignmentStatement",{"type":15,"tag":252,"props":55505,"children":55506},{"style":447},[55507],{"type":21,"value":5899},{"type":15,"tag":252,"props":55509,"children":55510},{"class":254,"line":2474},[55511],{"type":15,"tag":252,"props":55512,"children":55513},{"style":447},[55514],{"type":21,"value":2854},{"type":15,"tag":252,"props":55516,"children":55517},{"class":254,"line":2522},[55518],{"type":15,"tag":252,"props":55519,"children":55520},{"emptyLinePlaceholder":2053},[55521],{"type":21,"value":2056},{"type":15,"tag":252,"props":55523,"children":55524},{"class":254,"line":2530},[55525,55529,55533],{"type":15,"tag":252,"props":55526,"children":55527},{"style":447},[55528],{"type":21,"value":3742},{"type":15,"tag":252,"props":55530,"children":55531},{"style":259},[55532],{"type":21,"value":5788},{"type":15,"tag":252,"props":55534,"children":55535},{"style":447},[55536],{"type":21,"value":3751},{"type":15,"tag":252,"props":55538,"children":55539},{"class":254,"line":2570},[55540,55544,55548,55553],{"type":15,"tag":252,"props":55541,"children":55542},{"style":601},[55543],{"type":21,"value":4740},{"type":15,"tag":252,"props":55545,"children":55546},{"style":601},[55547],{"type":21,"value":5869},{"type":15,"tag":252,"props":55549,"children":55550},{"style":259},[55551],{"type":21,"value":55552}," AssignmentStatement",{"type":15,"tag":252,"props":55554,"children":55555},{"style":447},[55556],{"type":21,"value":3769},{"type":15,"tag":252,"props":55558,"children":55559},{"class":254,"line":2591},[55560,55564,55568,55572],{"type":15,"tag":252,"props":55561,"children":55562},{"style":259},[55563],{"type":21,"value":14789},{"type":15,"tag":252,"props":55565,"children":55566},{"style":447},[55567],{"type":21,"value":849},{"type":15,"tag":252,"props":55569,"children":55570},{"style":259},[55571],{"type":21,"value":14798},{"type":15,"tag":252,"props":55573,"children":55574},{"style":447},[55575],{"type":21,"value":5899},{"type":15,"tag":252,"props":55577,"children":55578},{"class":254,"line":2599},[55579,55583,55587,55591],{"type":15,"tag":252,"props":55580,"children":55581},{"style":259},[55582],{"type":21,"value":27190},{"type":15,"tag":252,"props":55584,"children":55585},{"style":447},[55586],{"type":21,"value":849},{"type":15,"tag":252,"props":55588,"children":55589},{"style":259},[55590],{"type":21,"value":27991},{"type":15,"tag":252,"props":55592,"children":55593},{"style":447},[55594],{"type":21,"value":5899},{"type":15,"tag":252,"props":55596,"children":55597},{"class":254,"line":2647},[55598],{"type":15,"tag":252,"props":55599,"children":55600},{"style":447},[55601],{"type":21,"value":2854},{"type":15,"tag":252,"props":55603,"children":55604},{"class":254,"line":2679},[55605],{"type":15,"tag":252,"props":55606,"children":55607},{"emptyLinePlaceholder":2053},[55608],{"type":21,"value":2056},{"type":15,"tag":252,"props":55610,"children":55611},{"class":254,"line":2727},[55612,55616,55620],{"type":15,"tag":252,"props":55613,"children":55614},{"style":447},[55615],{"type":21,"value":3742},{"type":15,"tag":252,"props":55617,"children":55618},{"style":259},[55619],{"type":21,"value":5788},{"type":15,"tag":252,"props":55621,"children":55622},{"style":447},[55623],{"type":21,"value":3751},{"type":15,"tag":252,"props":55625,"children":55626},{"class":254,"line":2735},[55627,55631,55635,55639],{"type":15,"tag":252,"props":55628,"children":55629},{"style":601},[55630],{"type":21,"value":4740},{"type":15,"tag":252,"props":55632,"children":55633},{"style":601},[55634],{"type":21,"value":5869},{"type":15,"tag":252,"props":55636,"children":55637},{"style":259},[55638],{"type":21,"value":14847},{"type":15,"tag":252,"props":55640,"children":55641},{"style":447},[55642],{"type":21,"value":3769},{"type":15,"tag":252,"props":55644,"children":55645},{"class":254,"line":2799},[55646],{"type":15,"tag":252,"props":55647,"children":55648},{"style":3287},[55649],{"type":21,"value":21839},{"type":15,"tag":252,"props":55651,"children":55652},{"class":254,"line":2807},[55653,55658,55662,55666],{"type":15,"tag":252,"props":55654,"children":55655},{"style":259},[55656],{"type":21,"value":55657},"    Var",{"type":15,"tag":252,"props":55659,"children":55660},{"style":447},[55661],{"type":21,"value":849},{"type":15,"tag":252,"props":55663,"children":55664},{"style":259},[55665],{"type":21,"value":55494},{"type":15,"tag":252,"props":55667,"children":55668},{"style":447},[55669],{"type":21,"value":5899},{"type":15,"tag":252,"props":55671,"children":55672},{"class":254,"line":2848},[55673],{"type":15,"tag":252,"props":55674,"children":55675},{"style":447},[55676],{"type":21,"value":2854},{"type":15,"tag":252,"props":55678,"children":55679},{"class":254,"line":4645},[55680],{"type":15,"tag":252,"props":55681,"children":55682},{"emptyLinePlaceholder":2053},[55683],{"type":21,"value":2056},{"type":15,"tag":252,"props":55685,"children":55686},{"class":254,"line":4654},[55687,55691,55695],{"type":15,"tag":252,"props":55688,"children":55689},{"style":447},[55690],{"type":21,"value":3742},{"type":15,"tag":252,"props":55692,"children":55693},{"style":259},[55694],{"type":21,"value":5788},{"type":15,"tag":252,"props":55696,"children":55697},{"style":447},[55698],{"type":21,"value":3751},{"type":15,"tag":252,"props":55700,"children":55701},{"class":254,"line":4675},[55702,55706,55710,55714],{"type":15,"tag":252,"props":55703,"children":55704},{"style":601},[55705],{"type":21,"value":4740},{"type":15,"tag":252,"props":55707,"children":55708},{"style":601},[55709],{"type":21,"value":5869},{"type":15,"tag":252,"props":55711,"children":55712},{"style":259},[55713],{"type":21,"value":28040},{"type":15,"tag":252,"props":55715,"children":55716},{"style":447},[55717],{"type":21,"value":3769},{"type":15,"tag":252,"props":55719,"children":55720},{"class":254,"line":8160},[55721],{"type":15,"tag":252,"props":55722,"children":55723},{"style":3287},[55724],{"type":21,"value":21839},{"type":15,"tag":252,"props":55726,"children":55727},{"class":254,"line":8168},[55728,55732,55736,55740],{"type":15,"tag":252,"props":55729,"children":55730},{"style":259},[55731],{"type":21,"value":55657},{"type":15,"tag":252,"props":55733,"children":55734},{"style":447},[55735],{"type":21,"value":849},{"type":15,"tag":252,"props":55737,"children":55738},{"style":259},[55739],{"type":21,"value":55494},{"type":15,"tag":252,"props":55741,"children":55742},{"style":447},[55743],{"type":21,"value":5899},{"type":15,"tag":252,"props":55745,"children":55746},{"class":254,"line":8176},[55747],{"type":15,"tag":252,"props":55748,"children":55749},{"style":447},[55750],{"type":21,"value":2854},{"type":15,"tag":23,"props":55752,"children":55753},{},[55754,55756,55761,55763,55769,55771,55777],{"type":21,"value":55755},"So now we need some global state in the type analyzer, which means we need to make it into a struct, something I ",{"type":15,"tag":39065,"props":55757,"children":55758},{},[55759],{"type":21,"value":55760},"really",{"type":21,"value":55762}," should have done from the start... So just wrap it in a struct and add ",{"type":15,"tag":81,"props":55764,"children":55766},{"className":55765},[],[55767],{"type":21,"value":55768},"&mut self",{"type":21,"value":55770}," to all the functions and also ",{"type":15,"tag":81,"props":55772,"children":55774},{"className":55773},[],[55775],{"type":21,"value":55776},"self.",{"type":21,"value":55778}," in front of the method calls. (if you want a shortcut just copy from the github repo).",{"type":15,"tag":95,"props":55780,"children":55782},{"code":55781,"language":772,"meta":8,"className":773,"style":8},"// type_analyzer.rs\nstruct VarInfo {\n    identifier: ir::VariableIdentifier,\n    var_type: ir::VarType,\n}\n\nstruct VarScope {\n    parent: Option\u003CBox\u003CVarScope>>,\n    variables: HashMap\u003CString, VarInfo>,\n}\n\nstruct FunctionMetadata {\n    locals: Vec\u003C(ir::VariableIdentifier, ir::VarType)>,\n}\n",[55783],{"type":15,"tag":81,"props":55784,"children":55785},{"__ignoreMap":8},[55786,55793,55809,55837,55866,55873,55880,55896,55933,55971,55978,55985,56001,56047],{"type":15,"tag":252,"props":55787,"children":55788},{"class":254,"line":255},[55789],{"type":15,"tag":252,"props":55790,"children":55791},{"style":3287},[55792],{"type":21,"value":14916},{"type":15,"tag":252,"props":55794,"children":55795},{"class":254,"line":334},[55796,55800,55805],{"type":15,"tag":252,"props":55797,"children":55798},{"style":601},[55799],{"type":21,"value":3841},{"type":15,"tag":252,"props":55801,"children":55802},{"style":259},[55803],{"type":21,"value":55804}," VarInfo",{"type":15,"tag":252,"props":55806,"children":55807},{"style":447},[55808],{"type":21,"value":3769},{"type":15,"tag":252,"props":55810,"children":55811},{"class":254,"line":390},[55812,55817,55821,55825,55829,55833],{"type":15,"tag":252,"props":55813,"children":55814},{"style":447},[55815],{"type":21,"value":55816},"    identifier",{"type":15,"tag":252,"props":55818,"children":55819},{"style":601},[55820],{"type":21,"value":3374},{"type":15,"tag":252,"props":55822,"children":55823},{"style":259},[55824],{"type":21,"value":44887},{"type":15,"tag":252,"props":55826,"children":55827},{"style":601},[55828],{"type":21,"value":804},{"type":15,"tag":252,"props":55830,"children":55831},{"style":259},[55832],{"type":21,"value":55494},{"type":15,"tag":252,"props":55834,"children":55835},{"style":447},[55836],{"type":21,"value":3879},{"type":15,"tag":252,"props":55838,"children":55839},{"class":254,"line":2077},[55840,55845,55849,55853,55857,55862],{"type":15,"tag":252,"props":55841,"children":55842},{"style":447},[55843],{"type":21,"value":55844},"    var_type",{"type":15,"tag":252,"props":55846,"children":55847},{"style":601},[55848],{"type":21,"value":3374},{"type":15,"tag":252,"props":55850,"children":55851},{"style":259},[55852],{"type":21,"value":44887},{"type":15,"tag":252,"props":55854,"children":55855},{"style":601},[55856],{"type":21,"value":804},{"type":15,"tag":252,"props":55858,"children":55859},{"style":259},[55860],{"type":21,"value":55861},"VarType",{"type":15,"tag":252,"props":55863,"children":55864},{"style":447},[55865],{"type":21,"value":3879},{"type":15,"tag":252,"props":55867,"children":55868},{"class":254,"line":2110},[55869],{"type":15,"tag":252,"props":55870,"children":55871},{"style":447},[55872],{"type":21,"value":2854},{"type":15,"tag":252,"props":55874,"children":55875},{"class":254,"line":2150},[55876],{"type":15,"tag":252,"props":55877,"children":55878},{"emptyLinePlaceholder":2053},[55879],{"type":21,"value":2056},{"type":15,"tag":252,"props":55881,"children":55882},{"class":254,"line":2182},[55883,55887,55892],{"type":15,"tag":252,"props":55884,"children":55885},{"style":601},[55886],{"type":21,"value":3841},{"type":15,"tag":252,"props":55888,"children":55889},{"style":259},[55890],{"type":21,"value":55891}," VarScope",{"type":15,"tag":252,"props":55893,"children":55894},{"style":447},[55895],{"type":21,"value":3769},{"type":15,"tag":252,"props":55897,"children":55898},{"class":254,"line":2190},[55899,55904,55908,55912,55916,55920,55924,55929],{"type":15,"tag":252,"props":55900,"children":55901},{"style":447},[55902],{"type":21,"value":55903},"    parent",{"type":15,"tag":252,"props":55905,"children":55906},{"style":601},[55907],{"type":21,"value":3374},{"type":15,"tag":252,"props":55909,"children":55910},{"style":259},[55911],{"type":21,"value":8210},{"type":15,"tag":252,"props":55913,"children":55914},{"style":447},[55915],{"type":21,"value":5826},{"type":15,"tag":252,"props":55917,"children":55918},{"style":259},[55919],{"type":21,"value":36163},{"type":15,"tag":252,"props":55921,"children":55922},{"style":447},[55923],{"type":21,"value":5826},{"type":15,"tag":252,"props":55925,"children":55926},{"style":259},[55927],{"type":21,"value":55928},"VarScope",{"type":15,"tag":252,"props":55930,"children":55931},{"style":447},[55932],{"type":21,"value":17127},{"type":15,"tag":252,"props":55934,"children":55935},{"class":254,"line":2222},[55936,55941,55945,55950,55954,55958,55962,55967],{"type":15,"tag":252,"props":55937,"children":55938},{"style":447},[55939],{"type":21,"value":55940},"    variables",{"type":15,"tag":252,"props":55942,"children":55943},{"style":601},[55944],{"type":21,"value":3374},{"type":15,"tag":252,"props":55946,"children":55947},{"style":259},[55948],{"type":21,"value":55949}," HashMap",{"type":15,"tag":252,"props":55951,"children":55952},{"style":447},[55953],{"type":21,"value":5826},{"type":15,"tag":252,"props":55955,"children":55956},{"style":259},[55957],{"type":21,"value":6503},{"type":15,"tag":252,"props":55959,"children":55960},{"style":447},[55961],{"type":21,"value":1076},{"type":15,"tag":252,"props":55963,"children":55964},{"style":259},[55965],{"type":21,"value":55966},"VarInfo",{"type":15,"tag":252,"props":55968,"children":55969},{"style":447},[55970],{"type":21,"value":7608},{"type":15,"tag":252,"props":55972,"children":55973},{"class":254,"line":2270},[55974],{"type":15,"tag":252,"props":55975,"children":55976},{"style":447},[55977],{"type":21,"value":2854},{"type":15,"tag":252,"props":55979,"children":55980},{"class":254,"line":2302},[55981],{"type":15,"tag":252,"props":55982,"children":55983},{"emptyLinePlaceholder":2053},[55984],{"type":21,"value":2056},{"type":15,"tag":252,"props":55986,"children":55987},{"class":254,"line":2310},[55988,55992,55997],{"type":15,"tag":252,"props":55989,"children":55990},{"style":601},[55991],{"type":21,"value":3841},{"type":15,"tag":252,"props":55993,"children":55994},{"style":259},[55995],{"type":21,"value":55996}," FunctionMetadata",{"type":15,"tag":252,"props":55998,"children":55999},{"style":447},[56000],{"type":21,"value":3769},{"type":15,"tag":252,"props":56002,"children":56003},{"class":254,"line":2370},[56004,56009,56013,56017,56022,56026,56030,56035,56039,56043],{"type":15,"tag":252,"props":56005,"children":56006},{"style":447},[56007],{"type":21,"value":56008},"    locals",{"type":15,"tag":252,"props":56010,"children":56011},{"style":601},[56012],{"type":21,"value":3374},{"type":15,"tag":252,"props":56014,"children":56015},{"style":259},[56016],{"type":21,"value":5821},{"type":15,"tag":252,"props":56018,"children":56019},{"style":447},[56020],{"type":21,"value":56021},"\u003C(ir",{"type":15,"tag":252,"props":56023,"children":56024},{"style":601},[56025],{"type":21,"value":804},{"type":15,"tag":252,"props":56027,"children":56028},{"style":259},[56029],{"type":21,"value":55494},{"type":15,"tag":252,"props":56031,"children":56032},{"style":447},[56033],{"type":21,"value":56034},", ir",{"type":15,"tag":252,"props":56036,"children":56037},{"style":601},[56038],{"type":21,"value":804},{"type":15,"tag":252,"props":56040,"children":56041},{"style":259},[56042],{"type":21,"value":55861},{"type":15,"tag":252,"props":56044,"children":56045},{"style":447},[56046],{"type":21,"value":44581},{"type":15,"tag":252,"props":56048,"children":56049},{"class":254,"line":2418},[56050],{"type":15,"tag":252,"props":56051,"children":56052},{"style":447},[56053],{"type":21,"value":2854},{"type":15,"tag":23,"props":56055,"children":56056},{},[56057],{"type":21,"value":56058},"These will help us keep track of the state as we resolve the types.",{"type":15,"tag":95,"props":56060,"children":56062},{"code":56061,"language":772,"meta":8,"className":773,"style":8},"impl TypedExpression {\n    // ...\n    fn to_var_type(&self) -> ir::VarType {\n        match self {\n            TypedExpression::Int(_) => ir::VarType::Int,\n            TypedExpression::Boolean(_) => ir::VarType::Boolean,\n        }\n    }\n}\n",[56063],{"type":15,"tag":81,"props":56064,"children":56065},{"__ignoreMap":8},[56066,56081,56088,56136,56151,56198,56245,56252,56259],{"type":15,"tag":252,"props":56067,"children":56068},{"class":254,"line":255},[56069,56073,56077],{"type":15,"tag":252,"props":56070,"children":56071},{"style":601},[56072],{"type":21,"value":7107},{"type":15,"tag":252,"props":56074,"children":56075},{"style":259},[56076],{"type":21,"value":14951},{"type":15,"tag":252,"props":56078,"children":56079},{"style":447},[56080],{"type":21,"value":3769},{"type":15,"tag":252,"props":56082,"children":56083},{"class":254,"line":334},[56084],{"type":15,"tag":252,"props":56085,"children":56086},{"style":3287},[56087],{"type":21,"value":21839},{"type":15,"tag":252,"props":56089,"children":56090},{"class":254,"line":390},[56091,56095,56100,56104,56108,56112,56116,56120,56124,56128,56132],{"type":15,"tag":252,"props":56092,"children":56093},{"style":601},[56094],{"type":21,"value":7146},{"type":15,"tag":252,"props":56096,"children":56097},{"style":259},[56098],{"type":21,"value":56099}," to_var_type",{"type":15,"tag":252,"props":56101,"children":56102},{"style":447},[56103],{"type":21,"value":849},{"type":15,"tag":252,"props":56105,"children":56106},{"style":601},[56107],{"type":21,"value":1171},{"type":15,"tag":252,"props":56109,"children":56110},{"style":276},[56111],{"type":21,"value":7432},{"type":15,"tag":252,"props":56113,"children":56114},{"style":447},[56115],{"type":21,"value":4943},{"type":15,"tag":252,"props":56117,"children":56118},{"style":601},[56119],{"type":21,"value":3947},{"type":15,"tag":252,"props":56121,"children":56122},{"style":259},[56123],{"type":21,"value":44887},{"type":15,"tag":252,"props":56125,"children":56126},{"style":601},[56127],{"type":21,"value":804},{"type":15,"tag":252,"props":56129,"children":56130},{"style":259},[56131],{"type":21,"value":55861},{"type":15,"tag":252,"props":56133,"children":56134},{"style":447},[56135],{"type":21,"value":3769},{"type":15,"tag":252,"props":56137,"children":56138},{"class":254,"line":2077},[56139,56143,56147],{"type":15,"tag":252,"props":56140,"children":56141},{"style":601},[56142],{"type":21,"value":12717},{"type":15,"tag":252,"props":56144,"children":56145},{"style":276},[56146],{"type":21,"value":7244},{"type":15,"tag":252,"props":56148,"children":56149},{"style":447},[56150],{"type":21,"value":3769},{"type":15,"tag":252,"props":56152,"children":56153},{"class":254,"line":2110},[56154,56158,56162,56166,56170,56174,56178,56182,56186,56190,56194],{"type":15,"tag":252,"props":56155,"children":56156},{"style":259},[56157],{"type":21,"value":15074},{"type":15,"tag":252,"props":56159,"children":56160},{"style":601},[56161],{"type":21,"value":804},{"type":15,"tag":252,"props":56163,"children":56164},{"style":259},[56165],{"type":21,"value":14888},{"type":15,"tag":252,"props":56167,"children":56168},{"style":447},[56169],{"type":21,"value":12975},{"type":15,"tag":252,"props":56171,"children":56172},{"style":601},[56173],{"type":21,"value":4054},{"type":15,"tag":252,"props":56175,"children":56176},{"style":259},[56177],{"type":21,"value":44887},{"type":15,"tag":252,"props":56179,"children":56180},{"style":601},[56181],{"type":21,"value":804},{"type":15,"tag":252,"props":56183,"children":56184},{"style":259},[56185],{"type":21,"value":55861},{"type":15,"tag":252,"props":56187,"children":56188},{"style":601},[56189],{"type":21,"value":804},{"type":15,"tag":252,"props":56191,"children":56192},{"style":259},[56193],{"type":21,"value":14888},{"type":15,"tag":252,"props":56195,"children":56196},{"style":447},[56197],{"type":21,"value":3879},{"type":15,"tag":252,"props":56199,"children":56200},{"class":254,"line":2150},[56201,56205,56209,56213,56217,56221,56225,56229,56233,56237,56241],{"type":15,"tag":252,"props":56202,"children":56203},{"style":259},[56204],{"type":21,"value":15074},{"type":15,"tag":252,"props":56206,"children":56207},{"style":601},[56208],{"type":21,"value":804},{"type":15,"tag":252,"props":56210,"children":56211},{"style":259},[56212],{"type":21,"value":27449},{"type":15,"tag":252,"props":56214,"children":56215},{"style":447},[56216],{"type":21,"value":12975},{"type":15,"tag":252,"props":56218,"children":56219},{"style":601},[56220],{"type":21,"value":4054},{"type":15,"tag":252,"props":56222,"children":56223},{"style":259},[56224],{"type":21,"value":44887},{"type":15,"tag":252,"props":56226,"children":56227},{"style":601},[56228],{"type":21,"value":804},{"type":15,"tag":252,"props":56230,"children":56231},{"style":259},[56232],{"type":21,"value":55861},{"type":15,"tag":252,"props":56234,"children":56235},{"style":601},[56236],{"type":21,"value":804},{"type":15,"tag":252,"props":56238,"children":56239},{"style":259},[56240],{"type":21,"value":27449},{"type":15,"tag":252,"props":56242,"children":56243},{"style":447},[56244],{"type":21,"value":3879},{"type":15,"tag":252,"props":56246,"children":56247},{"class":254,"line":2182},[56248],{"type":15,"tag":252,"props":56249,"children":56250},{"style":447},[56251],{"type":21,"value":4087},{"type":15,"tag":252,"props":56253,"children":56254},{"class":254,"line":2190},[56255],{"type":15,"tag":252,"props":56256,"children":56257},{"style":447},[56258],{"type":21,"value":4095},{"type":15,"tag":252,"props":56260,"children":56261},{"class":254,"line":2222},[56262],{"type":15,"tag":252,"props":56263,"children":56264},{"style":447},[56265],{"type":21,"value":2854},{"type":15,"tag":23,"props":56267,"children":56268},{},[56269],{"type":21,"value":56270},"Then we will store the metadata, in our analyzer:",{"type":15,"tag":95,"props":56272,"children":56274},{"code":56273,"language":772,"meta":8,"className":773,"style":8},"pub struct Analyzer {\n    scopes: Vec\u003CVarScope>,\n    function_metadata: Option\u003CFunctionMetadata>,\n    current_identifier: usize,\n}\n\nimpl Analyzer {\n    // ...\n    pub fn new() -> Self {\n        Self {\n            scopes: Vec::new(),\n            function_metadata: None,\n            current_identifier: 0,\n        }\n    }\n}\n",[56275],{"type":15,"tag":81,"props":56276,"children":56277},{"__ignoreMap":8},[56278,56298,56326,56355,56375,56382,56389,56404,56411,56442,56453,56481,56501,56522,56529,56536],{"type":15,"tag":252,"props":56279,"children":56280},{"class":254,"line":255},[56281,56285,56289,56294],{"type":15,"tag":252,"props":56282,"children":56283},{"style":601},[56284],{"type":21,"value":4740},{"type":15,"tag":252,"props":56286,"children":56287},{"style":601},[56288],{"type":21,"value":4745},{"type":15,"tag":252,"props":56290,"children":56291},{"style":259},[56292],{"type":21,"value":56293}," Analyzer",{"type":15,"tag":252,"props":56295,"children":56296},{"style":447},[56297],{"type":21,"value":3769},{"type":15,"tag":252,"props":56299,"children":56300},{"class":254,"line":334},[56301,56306,56310,56314,56318,56322],{"type":15,"tag":252,"props":56302,"children":56303},{"style":447},[56304],{"type":21,"value":56305},"    scopes",{"type":15,"tag":252,"props":56307,"children":56308},{"style":601},[56309],{"type":21,"value":3374},{"type":15,"tag":252,"props":56311,"children":56312},{"style":259},[56313],{"type":21,"value":5821},{"type":15,"tag":252,"props":56315,"children":56316},{"style":447},[56317],{"type":21,"value":5826},{"type":15,"tag":252,"props":56319,"children":56320},{"style":259},[56321],{"type":21,"value":55928},{"type":15,"tag":252,"props":56323,"children":56324},{"style":447},[56325],{"type":21,"value":7608},{"type":15,"tag":252,"props":56327,"children":56328},{"class":254,"line":390},[56329,56334,56338,56342,56346,56351],{"type":15,"tag":252,"props":56330,"children":56331},{"style":447},[56332],{"type":21,"value":56333},"    function_metadata",{"type":15,"tag":252,"props":56335,"children":56336},{"style":601},[56337],{"type":21,"value":3374},{"type":15,"tag":252,"props":56339,"children":56340},{"style":259},[56341],{"type":21,"value":8210},{"type":15,"tag":252,"props":56343,"children":56344},{"style":447},[56345],{"type":21,"value":5826},{"type":15,"tag":252,"props":56347,"children":56348},{"style":259},[56349],{"type":21,"value":56350},"FunctionMetadata",{"type":15,"tag":252,"props":56352,"children":56353},{"style":447},[56354],{"type":21,"value":7608},{"type":15,"tag":252,"props":56356,"children":56357},{"class":254,"line":2077},[56358,56363,56367,56371],{"type":15,"tag":252,"props":56359,"children":56360},{"style":447},[56361],{"type":21,"value":56362},"    current_identifier",{"type":15,"tag":252,"props":56364,"children":56365},{"style":601},[56366],{"type":21,"value":3374},{"type":15,"tag":252,"props":56368,"children":56369},{"style":259},[56370],{"type":21,"value":3379},{"type":15,"tag":252,"props":56372,"children":56373},{"style":447},[56374],{"type":21,"value":3879},{"type":15,"tag":252,"props":56376,"children":56377},{"class":254,"line":2110},[56378],{"type":15,"tag":252,"props":56379,"children":56380},{"style":447},[56381],{"type":21,"value":2854},{"type":15,"tag":252,"props":56383,"children":56384},{"class":254,"line":2150},[56385],{"type":15,"tag":252,"props":56386,"children":56387},{"emptyLinePlaceholder":2053},[56388],{"type":21,"value":2056},{"type":15,"tag":252,"props":56390,"children":56391},{"class":254,"line":2182},[56392,56396,56400],{"type":15,"tag":252,"props":56393,"children":56394},{"style":601},[56395],{"type":21,"value":7107},{"type":15,"tag":252,"props":56397,"children":56398},{"style":259},[56399],{"type":21,"value":56293},{"type":15,"tag":252,"props":56401,"children":56402},{"style":447},[56403],{"type":21,"value":3769},{"type":15,"tag":252,"props":56405,"children":56406},{"class":254,"line":2190},[56407],{"type":15,"tag":252,"props":56408,"children":56409},{"style":3287},[56410],{"type":21,"value":21839},{"type":15,"tag":252,"props":56412,"children":56413},{"class":254,"line":2222},[56414,56418,56422,56426,56430,56434,56438],{"type":15,"tag":252,"props":56415,"children":56416},{"style":601},[56417],{"type":21,"value":4762},{"type":15,"tag":252,"props":56419,"children":56420},{"style":601},[56421],{"type":21,"value":4901},{"type":15,"tag":252,"props":56423,"children":56424},{"style":259},[56425],{"type":21,"value":7151},{"type":15,"tag":252,"props":56427,"children":56428},{"style":447},[56429],{"type":21,"value":3942},{"type":15,"tag":252,"props":56431,"children":56432},{"style":601},[56433],{"type":21,"value":3947},{"type":15,"tag":252,"props":56435,"children":56436},{"style":276},[56437],{"type":21,"value":7187},{"type":15,"tag":252,"props":56439,"children":56440},{"style":447},[56441],{"type":21,"value":3769},{"type":15,"tag":252,"props":56443,"children":56444},{"class":254,"line":2270},[56445,56449],{"type":15,"tag":252,"props":56446,"children":56447},{"style":276},[56448],{"type":21,"value":7199},{"type":15,"tag":252,"props":56450,"children":56451},{"style":447},[56452],{"type":21,"value":3769},{"type":15,"tag":252,"props":56454,"children":56455},{"class":254,"line":2302},[56456,56461,56465,56469,56473,56477],{"type":15,"tag":252,"props":56457,"children":56458},{"style":447},[56459],{"type":21,"value":56460},"            scopes",{"type":15,"tag":252,"props":56462,"children":56463},{"style":601},[56464],{"type":21,"value":3374},{"type":15,"tag":252,"props":56466,"children":56467},{"style":259},[56468],{"type":21,"value":5821},{"type":15,"tag":252,"props":56470,"children":56471},{"style":601},[56472],{"type":21,"value":804},{"type":15,"tag":252,"props":56474,"children":56475},{"style":259},[56476],{"type":21,"value":7761},{"type":15,"tag":252,"props":56478,"children":56479},{"style":447},[56480],{"type":21,"value":10142},{"type":15,"tag":252,"props":56482,"children":56483},{"class":254,"line":2310},[56484,56489,56493,56497],{"type":15,"tag":252,"props":56485,"children":56486},{"style":447},[56487],{"type":21,"value":56488},"            function_metadata",{"type":15,"tag":252,"props":56490,"children":56491},{"style":601},[56492],{"type":21,"value":3374},{"type":15,"tag":252,"props":56494,"children":56495},{"style":259},[56496],{"type":21,"value":31535},{"type":15,"tag":252,"props":56498,"children":56499},{"style":447},[56500],{"type":21,"value":3879},{"type":15,"tag":252,"props":56502,"children":56503},{"class":254,"line":2370},[56504,56509,56513,56518],{"type":15,"tag":252,"props":56505,"children":56506},{"style":447},[56507],{"type":21,"value":56508},"            current_identifier",{"type":15,"tag":252,"props":56510,"children":56511},{"style":601},[56512],{"type":21,"value":3374},{"type":15,"tag":252,"props":56514,"children":56515},{"style":276},[56516],{"type":21,"value":56517}," 0",{"type":15,"tag":252,"props":56519,"children":56520},{"style":447},[56521],{"type":21,"value":3879},{"type":15,"tag":252,"props":56523,"children":56524},{"class":254,"line":2418},[56525],{"type":15,"tag":252,"props":56526,"children":56527},{"style":447},[56528],{"type":21,"value":4087},{"type":15,"tag":252,"props":56530,"children":56531},{"class":254,"line":2426},[56532],{"type":15,"tag":252,"props":56533,"children":56534},{"style":447},[56535],{"type":21,"value":4095},{"type":15,"tag":252,"props":56537,"children":56538},{"class":254,"line":2474},[56539],{"type":15,"tag":252,"props":56540,"children":56541},{"style":447},[56542],{"type":21,"value":2854},{"type":15,"tag":23,"props":56544,"children":56545},{},[56546],{"type":21,"value":56547},"Because of this chang we now need to change how we are calling the type analyzer.",{"type":15,"tag":95,"props":56549,"children":56551},{"code":56550,"language":772,"meta":8,"className":773,"style":8},"// lib.rs\n    let ir = type_analyzer::Analyzer::new()\n        .resolve_module(&ast)\n        .context(\"Resolving types\")?;\n",[56552],{"type":15,"tag":81,"props":56553,"children":56554},{"__ignoreMap":8},[56555,56562,56602,56626],{"type":15,"tag":252,"props":56556,"children":56557},{"class":254,"line":255},[56558],{"type":15,"tag":252,"props":56559,"children":56560},{"style":3287},[56561],{"type":21,"value":3290},{"type":15,"tag":252,"props":56563,"children":56564},{"class":254,"line":334},[56565,56569,56573,56577,56581,56585,56590,56594,56598],{"type":15,"tag":252,"props":56566,"children":56567},{"style":601},[56568],{"type":21,"value":2083},{"type":15,"tag":252,"props":56570,"children":56571},{"style":447},[56572],{"type":21,"value":16517},{"type":15,"tag":252,"props":56574,"children":56575},{"style":601},[56576],{"type":21,"value":614},{"type":15,"tag":252,"props":56578,"children":56579},{"style":259},[56580],{"type":21,"value":16526},{"type":15,"tag":252,"props":56582,"children":56583},{"style":601},[56584],{"type":21,"value":804},{"type":15,"tag":252,"props":56586,"children":56587},{"style":259},[56588],{"type":21,"value":56589},"Analyzer",{"type":15,"tag":252,"props":56591,"children":56592},{"style":601},[56593],{"type":21,"value":804},{"type":15,"tag":252,"props":56595,"children":56596},{"style":259},[56597],{"type":21,"value":7761},{"type":15,"tag":252,"props":56599,"children":56600},{"style":447},[56601],{"type":21,"value":10672},{"type":15,"tag":252,"props":56603,"children":56604},{"class":254,"line":390},[56605,56609,56613,56617,56621],{"type":15,"tag":252,"props":56606,"children":56607},{"style":601},[56608],{"type":21,"value":21144},{"type":15,"tag":252,"props":56610,"children":56611},{"style":259},[56612],{"type":21,"value":16535},{"type":15,"tag":252,"props":56614,"children":56615},{"style":447},[56616],{"type":21,"value":849},{"type":15,"tag":252,"props":56618,"children":56619},{"style":601},[56620],{"type":21,"value":1171},{"type":15,"tag":252,"props":56622,"children":56623},{"style":447},[56624],{"type":21,"value":56625},"ast)\n",{"type":15,"tag":252,"props":56627,"children":56628},{"class":254,"line":2077},[56629,56633,56637,56641,56645,56649,56653],{"type":15,"tag":252,"props":56630,"children":56631},{"style":601},[56632],{"type":21,"value":21144},{"type":15,"tag":252,"props":56634,"children":56635},{"style":259},[56636],{"type":21,"value":908},{"type":15,"tag":252,"props":56638,"children":56639},{"style":447},[56640],{"type":21,"value":849},{"type":15,"tag":252,"props":56642,"children":56643},{"style":265},[56644],{"type":21,"value":16565},{"type":15,"tag":252,"props":56646,"children":56647},{"style":447},[56648],{"type":21,"value":1975},{"type":15,"tag":252,"props":56650,"children":56651},{"style":601},[56652],{"type":21,"value":5468},{"type":15,"tag":252,"props":56654,"children":56655},{"style":447},[56656],{"type":21,"value":3325},{"type":15,"tag":23,"props":56658,"children":56659},{},[56660],{"type":21,"value":56661},"Then when we analyze a function (in this case just main) we setup the metadata:",{"type":15,"tag":95,"props":56663,"children":56665},{"code":56664,"language":772,"meta":8,"className":773,"style":8},"pub fn resolve_top_level_statement(\n    &mut self,\n    statement: &ast::ToplevelStatement,\n) -> anyhow::Result\u003Cir::ToplevelStatement> {\n    match statement {\n        ast::ToplevelStatement::MainFunction(statements) => {\n            self.function_metadata = Some(FunctionMetadata { locals: Vec::new() });\n            self.scopes.push(VarScope {\n                parent: None,\n                variables: HashMap::new(),\n            });\n\n            let mut ir_statements = Vec::new();\n\n            for statement in statements {\n                let ir_statement = self.resolve_statement(statement)?;\n\n                ir_statements.push(ir_statement);\n            }\n\n            Ok(ir::ToplevelStatement::Function {\n                name: String::from(\"main\"),\n                body: ir_statements,\n                locals: self.function_metadata.as_ref().unwrap().locals.clone(),\n            })\n        }\n    }\n}\n",[56666],{"type":15,"tag":81,"props":56667,"children":56668},{"__ignoreMap":8},[56669,56688,56704,56735,56774,56785,56820,56878,56914,56934,56962,56970,56977,57012,57019,57038,57078,57085,57104,57111,57118,57153,57188,57203,57274,57281,57288,57295],{"type":15,"tag":252,"props":56670,"children":56671},{"class":254,"line":255},[56672,56676,56680,56684],{"type":15,"tag":252,"props":56673,"children":56674},{"style":601},[56675],{"type":21,"value":4740},{"type":15,"tag":252,"props":56677,"children":56678},{"style":601},[56679],{"type":21,"value":4901},{"type":15,"tag":252,"props":56681,"children":56682},{"style":259},[56683],{"type":21,"value":25478},{"type":15,"tag":252,"props":56685,"children":56686},{"style":447},[56687],{"type":21,"value":14196},{"type":15,"tag":252,"props":56689,"children":56690},{"class":254,"line":334},[56691,56696,56700],{"type":15,"tag":252,"props":56692,"children":56693},{"style":601},[56694],{"type":21,"value":56695},"    &mut",{"type":15,"tag":252,"props":56697,"children":56698},{"style":276},[56699],{"type":21,"value":7244},{"type":15,"tag":252,"props":56701,"children":56702},{"style":447},[56703],{"type":21,"value":3879},{"type":15,"tag":252,"props":56705,"children":56706},{"class":254,"line":390},[56707,56711,56715,56719,56723,56727,56731],{"type":15,"tag":252,"props":56708,"children":56709},{"style":447},[56710],{"type":21,"value":25490},{"type":15,"tag":252,"props":56712,"children":56713},{"style":601},[56714],{"type":21,"value":3374},{"type":15,"tag":252,"props":56716,"children":56717},{"style":601},[56718],{"type":21,"value":4920},{"type":15,"tag":252,"props":56720,"children":56721},{"style":259},[56722],{"type":21,"value":5623},{"type":15,"tag":252,"props":56724,"children":56725},{"style":601},[56726],{"type":21,"value":804},{"type":15,"tag":252,"props":56728,"children":56729},{"style":259},[56730],{"type":21,"value":24370},{"type":15,"tag":252,"props":56732,"children":56733},{"style":447},[56734],{"type":21,"value":3879},{"type":15,"tag":252,"props":56736,"children":56737},{"class":254,"line":2077},[56738,56742,56746,56750,56754,56758,56762,56766,56770],{"type":15,"tag":252,"props":56739,"children":56740},{"style":447},[56741],{"type":21,"value":4943},{"type":15,"tag":252,"props":56743,"children":56744},{"style":601},[56745],{"type":21,"value":3947},{"type":15,"tag":252,"props":56747,"children":56748},{"style":259},[56749],{"type":21,"value":3952},{"type":15,"tag":252,"props":56751,"children":56752},{"style":601},[56753],{"type":21,"value":804},{"type":15,"tag":252,"props":56755,"children":56756},{"style":259},[56757],{"type":21,"value":3961},{"type":15,"tag":252,"props":56759,"children":56760},{"style":447},[56761],{"type":21,"value":15620},{"type":15,"tag":252,"props":56763,"children":56764},{"style":601},[56765],{"type":21,"value":804},{"type":15,"tag":252,"props":56767,"children":56768},{"style":259},[56769],{"type":21,"value":24370},{"type":15,"tag":252,"props":56771,"children":56772},{"style":447},[56773],{"type":21,"value":7138},{"type":15,"tag":252,"props":56775,"children":56776},{"class":254,"line":2110},[56777,56781],{"type":15,"tag":252,"props":56778,"children":56779},{"style":601},[56780],{"type":21,"value":4014},{"type":15,"tag":252,"props":56782,"children":56783},{"style":447},[56784],{"type":21,"value":15848},{"type":15,"tag":252,"props":56786,"children":56787},{"class":254,"line":2150},[56788,56792,56796,56800,56804,56808,56812,56816],{"type":15,"tag":252,"props":56789,"children":56790},{"style":259},[56791],{"type":21,"value":15305},{"type":15,"tag":252,"props":56793,"children":56794},{"style":601},[56795],{"type":21,"value":804},{"type":15,"tag":252,"props":56797,"children":56798},{"style":259},[56799],{"type":21,"value":24370},{"type":15,"tag":252,"props":56801,"children":56802},{"style":601},[56803],{"type":21,"value":804},{"type":15,"tag":252,"props":56805,"children":56806},{"style":259},[56807],{"type":21,"value":24799},{"type":15,"tag":252,"props":56809,"children":56810},{"style":447},[56811],{"type":21,"value":25592},{"type":15,"tag":252,"props":56813,"children":56814},{"style":601},[56815],{"type":21,"value":4054},{"type":15,"tag":252,"props":56817,"children":56818},{"style":447},[56819],{"type":21,"value":3769},{"type":15,"tag":252,"props":56821,"children":56822},{"class":254,"line":2182},[56823,56827,56831,56836,56840,56844,56848,56852,56857,56861,56865,56869,56873],{"type":15,"tag":252,"props":56824,"children":56825},{"style":276},[56826],{"type":21,"value":8332},{"type":15,"tag":252,"props":56828,"children":56829},{"style":601},[56830],{"type":21,"value":432},{"type":15,"tag":252,"props":56832,"children":56833},{"style":447},[56834],{"type":21,"value":56835},"function_metadata ",{"type":15,"tag":252,"props":56837,"children":56838},{"style":601},[56839],{"type":21,"value":614},{"type":15,"tag":252,"props":56841,"children":56842},{"style":259},[56843],{"type":21,"value":20696},{"type":15,"tag":252,"props":56845,"children":56846},{"style":447},[56847],{"type":21,"value":849},{"type":15,"tag":252,"props":56849,"children":56850},{"style":259},[56851],{"type":21,"value":56350},{"type":15,"tag":252,"props":56853,"children":56854},{"style":447},[56855],{"type":21,"value":56856}," { locals",{"type":15,"tag":252,"props":56858,"children":56859},{"style":601},[56860],{"type":21,"value":3374},{"type":15,"tag":252,"props":56862,"children":56863},{"style":259},[56864],{"type":21,"value":5821},{"type":15,"tag":252,"props":56866,"children":56867},{"style":601},[56868],{"type":21,"value":804},{"type":15,"tag":252,"props":56870,"children":56871},{"style":259},[56872],{"type":21,"value":7761},{"type":15,"tag":252,"props":56874,"children":56875},{"style":447},[56876],{"type":21,"value":56877},"() });\n",{"type":15,"tag":252,"props":56879,"children":56880},{"class":254,"line":2190},[56881,56885,56889,56894,56898,56902,56906,56910],{"type":15,"tag":252,"props":56882,"children":56883},{"style":276},[56884],{"type":21,"value":8332},{"type":15,"tag":252,"props":56886,"children":56887},{"style":601},[56888],{"type":21,"value":432},{"type":15,"tag":252,"props":56890,"children":56891},{"style":447},[56892],{"type":21,"value":56893},"scopes",{"type":15,"tag":252,"props":56895,"children":56896},{"style":601},[56897],{"type":21,"value":432},{"type":15,"tag":252,"props":56899,"children":56900},{"style":259},[56901],{"type":21,"value":8743},{"type":15,"tag":252,"props":56903,"children":56904},{"style":447},[56905],{"type":21,"value":849},{"type":15,"tag":252,"props":56907,"children":56908},{"style":259},[56909],{"type":21,"value":55928},{"type":15,"tag":252,"props":56911,"children":56912},{"style":447},[56913],{"type":21,"value":3769},{"type":15,"tag":252,"props":56915,"children":56916},{"class":254,"line":2222},[56917,56922,56926,56930],{"type":15,"tag":252,"props":56918,"children":56919},{"style":447},[56920],{"type":21,"value":56921},"                parent",{"type":15,"tag":252,"props":56923,"children":56924},{"style":601},[56925],{"type":21,"value":3374},{"type":15,"tag":252,"props":56927,"children":56928},{"style":259},[56929],{"type":21,"value":31535},{"type":15,"tag":252,"props":56931,"children":56932},{"style":447},[56933],{"type":21,"value":3879},{"type":15,"tag":252,"props":56935,"children":56936},{"class":254,"line":2270},[56937,56942,56946,56950,56954,56958],{"type":15,"tag":252,"props":56938,"children":56939},{"style":447},[56940],{"type":21,"value":56941},"                variables",{"type":15,"tag":252,"props":56943,"children":56944},{"style":601},[56945],{"type":21,"value":3374},{"type":15,"tag":252,"props":56947,"children":56948},{"style":259},[56949],{"type":21,"value":55949},{"type":15,"tag":252,"props":56951,"children":56952},{"style":601},[56953],{"type":21,"value":804},{"type":15,"tag":252,"props":56955,"children":56956},{"style":259},[56957],{"type":21,"value":7761},{"type":15,"tag":252,"props":56959,"children":56960},{"style":447},[56961],{"type":21,"value":10142},{"type":15,"tag":252,"props":56963,"children":56964},{"class":254,"line":2302},[56965],{"type":15,"tag":252,"props":56966,"children":56967},{"style":447},[56968],{"type":21,"value":56969},"            });\n",{"type":15,"tag":252,"props":56971,"children":56972},{"class":254,"line":2310},[56973],{"type":15,"tag":252,"props":56974,"children":56975},{"emptyLinePlaceholder":2053},[56976],{"type":21,"value":2056},{"type":15,"tag":252,"props":56978,"children":56979},{"class":254,"line":2370},[56980,56984,56988,56992,56996,57000,57004,57008],{"type":15,"tag":252,"props":56981,"children":56982},{"style":601},[56983],{"type":21,"value":15892},{"type":15,"tag":252,"props":56985,"children":56986},{"style":601},[56987],{"type":21,"value":8623},{"type":15,"tag":252,"props":56989,"children":56990},{"style":447},[56991],{"type":21,"value":16081},{"type":15,"tag":252,"props":56993,"children":56994},{"style":601},[56995],{"type":21,"value":614},{"type":15,"tag":252,"props":56997,"children":56998},{"style":259},[56999],{"type":21,"value":5821},{"type":15,"tag":252,"props":57001,"children":57002},{"style":601},[57003],{"type":21,"value":804},{"type":15,"tag":252,"props":57005,"children":57006},{"style":259},[57007],{"type":21,"value":7761},{"type":15,"tag":252,"props":57009,"children":57010},{"style":447},[57011],{"type":21,"value":814},{"type":15,"tag":252,"props":57013,"children":57014},{"class":254,"line":2418},[57015],{"type":15,"tag":252,"props":57016,"children":57017},{"emptyLinePlaceholder":2053},[57018],{"type":21,"value":2056},{"type":15,"tag":252,"props":57020,"children":57021},{"class":254,"line":2426},[57022,57026,57030,57034],{"type":15,"tag":252,"props":57023,"children":57024},{"style":601},[57025],{"type":21,"value":25650},{"type":15,"tag":252,"props":57027,"children":57028},{"style":447},[57029],{"type":21,"value":16121},{"type":15,"tag":252,"props":57031,"children":57032},{"style":601},[57033],{"type":21,"value":16126},{"type":15,"tag":252,"props":57035,"children":57036},{"style":447},[57037],{"type":21,"value":25663},{"type":15,"tag":252,"props":57039,"children":57040},{"class":254,"line":2474},[57041,57045,57049,57053,57057,57061,57066,57070,57074],{"type":15,"tag":252,"props":57042,"children":57043},{"style":601},[57044],{"type":21,"value":13283},{"type":15,"tag":252,"props":57046,"children":57047},{"style":447},[57048],{"type":21,"value":16158},{"type":15,"tag":252,"props":57050,"children":57051},{"style":601},[57052],{"type":21,"value":614},{"type":15,"tag":252,"props":57054,"children":57055},{"style":276},[57056],{"type":21,"value":7244},{"type":15,"tag":252,"props":57058,"children":57059},{"style":601},[57060],{"type":21,"value":432},{"type":15,"tag":252,"props":57062,"children":57063},{"style":259},[57064],{"type":21,"value":57065},"resolve_statement",{"type":15,"tag":252,"props":57067,"children":57068},{"style":447},[57069],{"type":21,"value":16171},{"type":15,"tag":252,"props":57071,"children":57072},{"style":601},[57073],{"type":21,"value":5468},{"type":15,"tag":252,"props":57075,"children":57076},{"style":447},[57077],{"type":21,"value":3325},{"type":15,"tag":252,"props":57079,"children":57080},{"class":254,"line":2522},[57081],{"type":15,"tag":252,"props":57082,"children":57083},{"emptyLinePlaceholder":2053},[57084],{"type":21,"value":2056},{"type":15,"tag":252,"props":57086,"children":57087},{"class":254,"line":2530},[57088,57092,57096,57100],{"type":15,"tag":252,"props":57089,"children":57090},{"style":447},[57091],{"type":21,"value":25709},{"type":15,"tag":252,"props":57093,"children":57094},{"style":601},[57095],{"type":21,"value":432},{"type":15,"tag":252,"props":57097,"children":57098},{"style":259},[57099],{"type":21,"value":8743},{"type":15,"tag":252,"props":57101,"children":57102},{"style":447},[57103],{"type":21,"value":16207},{"type":15,"tag":252,"props":57105,"children":57106},{"class":254,"line":2570},[57107],{"type":15,"tag":252,"props":57108,"children":57109},{"style":447},[57110],{"type":21,"value":8814},{"type":15,"tag":252,"props":57112,"children":57113},{"class":254,"line":2591},[57114],{"type":15,"tag":252,"props":57115,"children":57116},{"emptyLinePlaceholder":2053},[57117],{"type":21,"value":2056},{"type":15,"tag":252,"props":57119,"children":57120},{"class":254,"line":2599},[57121,57125,57129,57133,57137,57141,57145,57149],{"type":15,"tag":252,"props":57122,"children":57123},{"style":259},[57124],{"type":21,"value":12492},{"type":15,"tag":252,"props":57126,"children":57127},{"style":447},[57128],{"type":21,"value":849},{"type":15,"tag":252,"props":57130,"children":57131},{"style":259},[57132],{"type":21,"value":14557},{"type":15,"tag":252,"props":57134,"children":57135},{"style":601},[57136],{"type":21,"value":804},{"type":15,"tag":252,"props":57138,"children":57139},{"style":259},[57140],{"type":21,"value":24370},{"type":15,"tag":252,"props":57142,"children":57143},{"style":601},[57144],{"type":21,"value":804},{"type":15,"tag":252,"props":57146,"children":57147},{"style":259},[57148],{"type":21,"value":53248},{"type":15,"tag":252,"props":57150,"children":57151},{"style":447},[57152],{"type":21,"value":3769},{"type":15,"tag":252,"props":57154,"children":57155},{"class":254,"line":2647},[57156,57160,57164,57168,57172,57176,57180,57184],{"type":15,"tag":252,"props":57157,"children":57158},{"style":447},[57159],{"type":21,"value":53260},{"type":15,"tag":252,"props":57161,"children":57162},{"style":601},[57163],{"type":21,"value":3374},{"type":15,"tag":252,"props":57165,"children":57166},{"style":259},[57167],{"type":21,"value":3799},{"type":15,"tag":252,"props":57169,"children":57170},{"style":601},[57171],{"type":21,"value":804},{"type":15,"tag":252,"props":57173,"children":57174},{"style":259},[57175],{"type":21,"value":53277},{"type":15,"tag":252,"props":57177,"children":57178},{"style":447},[57179],{"type":21,"value":849},{"type":15,"tag":252,"props":57181,"children":57182},{"style":265},[57183],{"type":21,"value":1497},{"type":15,"tag":252,"props":57185,"children":57186},{"style":447},[57187],{"type":21,"value":5899},{"type":15,"tag":252,"props":57189,"children":57190},{"class":254,"line":2679},[57191,57195,57199],{"type":15,"tag":252,"props":57192,"children":57193},{"style":447},[57194],{"type":21,"value":53297},{"type":15,"tag":252,"props":57196,"children":57197},{"style":601},[57198],{"type":21,"value":3374},{"type":15,"tag":252,"props":57200,"children":57201},{"style":447},[57202],{"type":21,"value":53306},{"type":15,"tag":252,"props":57204,"children":57205},{"class":254,"line":2727},[57206,57211,57215,57219,57223,57228,57232,57237,57241,57245,57249,57253,57257,57262,57266,57270],{"type":15,"tag":252,"props":57207,"children":57208},{"style":447},[57209],{"type":21,"value":57210},"                locals",{"type":15,"tag":252,"props":57212,"children":57213},{"style":601},[57214],{"type":21,"value":3374},{"type":15,"tag":252,"props":57216,"children":57217},{"style":276},[57218],{"type":21,"value":7244},{"type":15,"tag":252,"props":57220,"children":57221},{"style":601},[57222],{"type":21,"value":432},{"type":15,"tag":252,"props":57224,"children":57225},{"style":447},[57226],{"type":21,"value":57227},"function_metadata",{"type":15,"tag":252,"props":57229,"children":57230},{"style":601},[57231],{"type":21,"value":432},{"type":15,"tag":252,"props":57233,"children":57234},{"style":259},[57235],{"type":21,"value":57236},"as_ref",{"type":15,"tag":252,"props":57238,"children":57239},{"style":447},[57240],{"type":21,"value":7305},{"type":15,"tag":252,"props":57242,"children":57243},{"style":601},[57244],{"type":21,"value":432},{"type":15,"tag":252,"props":57246,"children":57247},{"style":259},[57248],{"type":21,"value":1984},{"type":15,"tag":252,"props":57250,"children":57251},{"style":447},[57252],{"type":21,"value":7305},{"type":15,"tag":252,"props":57254,"children":57255},{"style":601},[57256],{"type":21,"value":432},{"type":15,"tag":252,"props":57258,"children":57259},{"style":447},[57260],{"type":21,"value":57261},"locals",{"type":15,"tag":252,"props":57263,"children":57264},{"style":601},[57265],{"type":21,"value":432},{"type":15,"tag":252,"props":57267,"children":57268},{"style":259},[57269],{"type":21,"value":32202},{"type":15,"tag":252,"props":57271,"children":57272},{"style":447},[57273],{"type":21,"value":10142},{"type":15,"tag":252,"props":57275,"children":57276},{"class":254,"line":2735},[57277],{"type":15,"tag":252,"props":57278,"children":57279},{"style":447},[57280],{"type":21,"value":53314},{"type":15,"tag":252,"props":57282,"children":57283},{"class":254,"line":2799},[57284],{"type":15,"tag":252,"props":57285,"children":57286},{"style":447},[57287],{"type":21,"value":4087},{"type":15,"tag":252,"props":57289,"children":57290},{"class":254,"line":2807},[57291],{"type":15,"tag":252,"props":57292,"children":57293},{"style":447},[57294],{"type":21,"value":4095},{"type":15,"tag":252,"props":57296,"children":57297},{"class":254,"line":2848},[57298],{"type":15,"tag":252,"props":57299,"children":57300},{"style":447},[57301],{"type":21,"value":2854},{"type":15,"tag":23,"props":57303,"children":57304},{},[57305],{"type":21,"value":57306},"When we analyze a declaration we add the variable to the current scope and the list of the functions locals vars.",{"type":15,"tag":95,"props":57308,"children":57310},{"code":57309,"language":772,"meta":8,"className":773,"style":8},"ast::Statement::Declaration(name, expression) => {\n    let identifier = self.get_free_identifier();\n    let typed_expression = self.resolve_expression(expression)?;\n\n    let var_type = typed_expression.to_var_type();\n    self.function_metadata\n        .as_mut()\n        .unwrap()\n        .locals\n        .push((identifier, var_type));\n\n    let assignment = match typed_expression {\n        TypedExpression::Int(int_expression) => {\n            ir::AssignmentStatement::Int(int_expression)\n        }\n        TypedExpression::Boolean(boolean_expression) => {\n            ir::AssignmentStatement::Boolean(boolean_expression)\n        }\n    };\n\n    self.scopes.last_mut().unwrap().variables.insert(\n        name.clone(),\n        VarInfo {\n            identifier,\n            var_type,\n        },\n    );\n\n    Ok(ir::Statement::Assignment(identifier, assignment))\n}\n",[57311],{"type":15,"tag":81,"props":57312,"children":57313},{"__ignoreMap":8},[57314,57350,57382,57421,57428,57462,57479,57495,57510,57522,57538,57545,57569,57596,57624,57631,57658,57686,57693,57700,57707,57769,57789,57801,57809,57817,57824,57832,57839,57875],{"type":15,"tag":252,"props":57315,"children":57316},{"class":254,"line":255},[57317,57321,57325,57329,57333,57337,57342,57346],{"type":15,"tag":252,"props":57318,"children":57319},{"style":259},[57320],{"type":21,"value":5623},{"type":15,"tag":252,"props":57322,"children":57323},{"style":601},[57324],{"type":21,"value":804},{"type":15,"tag":252,"props":57326,"children":57327},{"style":259},[57328],{"type":21,"value":5709},{"type":15,"tag":252,"props":57330,"children":57331},{"style":601},[57332],{"type":21,"value":804},{"type":15,"tag":252,"props":57334,"children":57335},{"style":259},[57336],{"type":21,"value":54593},{"type":15,"tag":252,"props":57338,"children":57339},{"style":447},[57340],{"type":21,"value":57341},"(name, expression) ",{"type":15,"tag":252,"props":57343,"children":57344},{"style":601},[57345],{"type":21,"value":4054},{"type":15,"tag":252,"props":57347,"children":57348},{"style":447},[57349],{"type":21,"value":3769},{"type":15,"tag":252,"props":57351,"children":57352},{"class":254,"line":334},[57353,57357,57361,57365,57369,57373,57378],{"type":15,"tag":252,"props":57354,"children":57355},{"style":601},[57356],{"type":21,"value":2083},{"type":15,"tag":252,"props":57358,"children":57359},{"style":447},[57360],{"type":21,"value":8986},{"type":15,"tag":252,"props":57362,"children":57363},{"style":601},[57364],{"type":21,"value":614},{"type":15,"tag":252,"props":57366,"children":57367},{"style":276},[57368],{"type":21,"value":7244},{"type":15,"tag":252,"props":57370,"children":57371},{"style":601},[57372],{"type":21,"value":432},{"type":15,"tag":252,"props":57374,"children":57375},{"style":259},[57376],{"type":21,"value":57377},"get_free_identifier",{"type":15,"tag":252,"props":57379,"children":57380},{"style":447},[57381],{"type":21,"value":814},{"type":15,"tag":252,"props":57383,"children":57384},{"class":254,"line":390},[57385,57389,57393,57397,57401,57405,57409,57413,57417],{"type":15,"tag":252,"props":57386,"children":57387},{"style":601},[57388],{"type":21,"value":2083},{"type":15,"tag":252,"props":57390,"children":57391},{"style":447},[57392],{"type":21,"value":15644},{"type":15,"tag":252,"props":57394,"children":57395},{"style":601},[57396],{"type":21,"value":614},{"type":15,"tag":252,"props":57398,"children":57399},{"style":276},[57400],{"type":21,"value":7244},{"type":15,"tag":252,"props":57402,"children":57403},{"style":601},[57404],{"type":21,"value":432},{"type":15,"tag":252,"props":57406,"children":57407},{"style":259},[57408],{"type":21,"value":15201},{"type":15,"tag":252,"props":57410,"children":57411},{"style":447},[57412],{"type":21,"value":15657},{"type":15,"tag":252,"props":57414,"children":57415},{"style":601},[57416],{"type":21,"value":5468},{"type":15,"tag":252,"props":57418,"children":57419},{"style":447},[57420],{"type":21,"value":3325},{"type":15,"tag":252,"props":57422,"children":57423},{"class":254,"line":2077},[57424],{"type":15,"tag":252,"props":57425,"children":57426},{"emptyLinePlaceholder":2053},[57427],{"type":21,"value":2056},{"type":15,"tag":252,"props":57429,"children":57430},{"class":254,"line":2110},[57431,57435,57440,57444,57449,57453,57458],{"type":15,"tag":252,"props":57432,"children":57433},{"style":601},[57434],{"type":21,"value":2083},{"type":15,"tag":252,"props":57436,"children":57437},{"style":447},[57438],{"type":21,"value":57439}," var_type ",{"type":15,"tag":252,"props":57441,"children":57442},{"style":601},[57443],{"type":21,"value":614},{"type":15,"tag":252,"props":57445,"children":57446},{"style":447},[57447],{"type":21,"value":57448}," typed_expression",{"type":15,"tag":252,"props":57450,"children":57451},{"style":601},[57452],{"type":21,"value":432},{"type":15,"tag":252,"props":57454,"children":57455},{"style":259},[57456],{"type":21,"value":57457},"to_var_type",{"type":15,"tag":252,"props":57459,"children":57460},{"style":447},[57461],{"type":21,"value":814},{"type":15,"tag":252,"props":57463,"children":57464},{"class":254,"line":2150},[57465,57470,57474],{"type":15,"tag":252,"props":57466,"children":57467},{"style":276},[57468],{"type":21,"value":57469},"    self",{"type":15,"tag":252,"props":57471,"children":57472},{"style":601},[57473],{"type":21,"value":432},{"type":15,"tag":252,"props":57475,"children":57476},{"style":447},[57477],{"type":21,"value":57478},"function_metadata\n",{"type":15,"tag":252,"props":57480,"children":57481},{"class":254,"line":2182},[57482,57486,57491],{"type":15,"tag":252,"props":57483,"children":57484},{"style":601},[57485],{"type":21,"value":21144},{"type":15,"tag":252,"props":57487,"children":57488},{"style":259},[57489],{"type":21,"value":57490},"as_mut",{"type":15,"tag":252,"props":57492,"children":57493},{"style":447},[57494],{"type":21,"value":10672},{"type":15,"tag":252,"props":57496,"children":57497},{"class":254,"line":2190},[57498,57502,57506],{"type":15,"tag":252,"props":57499,"children":57500},{"style":601},[57501],{"type":21,"value":21144},{"type":15,"tag":252,"props":57503,"children":57504},{"style":259},[57505],{"type":21,"value":1984},{"type":15,"tag":252,"props":57507,"children":57508},{"style":447},[57509],{"type":21,"value":10672},{"type":15,"tag":252,"props":57511,"children":57512},{"class":254,"line":2222},[57513,57517],{"type":15,"tag":252,"props":57514,"children":57515},{"style":601},[57516],{"type":21,"value":21144},{"type":15,"tag":252,"props":57518,"children":57519},{"style":447},[57520],{"type":21,"value":57521},"locals\n",{"type":15,"tag":252,"props":57523,"children":57524},{"class":254,"line":2270},[57525,57529,57533],{"type":15,"tag":252,"props":57526,"children":57527},{"style":601},[57528],{"type":21,"value":21144},{"type":15,"tag":252,"props":57530,"children":57531},{"style":259},[57532],{"type":21,"value":8743},{"type":15,"tag":252,"props":57534,"children":57535},{"style":447},[57536],{"type":21,"value":57537},"((identifier, var_type));\n",{"type":15,"tag":252,"props":57539,"children":57540},{"class":254,"line":2302},[57541],{"type":15,"tag":252,"props":57542,"children":57543},{"emptyLinePlaceholder":2053},[57544],{"type":21,"value":2056},{"type":15,"tag":252,"props":57546,"children":57547},{"class":254,"line":2310},[57548,57552,57557,57561,57565],{"type":15,"tag":252,"props":57549,"children":57550},{"style":601},[57551],{"type":21,"value":2083},{"type":15,"tag":252,"props":57553,"children":57554},{"style":447},[57555],{"type":21,"value":57556}," assignment ",{"type":15,"tag":252,"props":57558,"children":57559},{"style":601},[57560],{"type":21,"value":614},{"type":15,"tag":252,"props":57562,"children":57563},{"style":601},[57564],{"type":21,"value":18821},{"type":15,"tag":252,"props":57566,"children":57567},{"style":447},[57568],{"type":21,"value":15684},{"type":15,"tag":252,"props":57570,"children":57571},{"class":254,"line":2370},[57572,57576,57580,57584,57588,57592],{"type":15,"tag":252,"props":57573,"children":57574},{"style":259},[57575],{"type":21,"value":15692},{"type":15,"tag":252,"props":57577,"children":57578},{"style":601},[57579],{"type":21,"value":804},{"type":15,"tag":252,"props":57581,"children":57582},{"style":259},[57583],{"type":21,"value":14888},{"type":15,"tag":252,"props":57585,"children":57586},{"style":447},[57587],{"type":21,"value":15705},{"type":15,"tag":252,"props":57589,"children":57590},{"style":601},[57591],{"type":21,"value":4054},{"type":15,"tag":252,"props":57593,"children":57594},{"style":447},[57595],{"type":21,"value":3769},{"type":15,"tag":252,"props":57597,"children":57598},{"class":254,"line":2418},[57599,57603,57607,57611,57615,57619],{"type":15,"tag":252,"props":57600,"children":57601},{"style":259},[57602],{"type":21,"value":18575},{"type":15,"tag":252,"props":57604,"children":57605},{"style":601},[57606],{"type":21,"value":804},{"type":15,"tag":252,"props":57608,"children":57609},{"style":259},[57610],{"type":21,"value":55503},{"type":15,"tag":252,"props":57612,"children":57613},{"style":601},[57614],{"type":21,"value":804},{"type":15,"tag":252,"props":57616,"children":57617},{"style":259},[57618],{"type":21,"value":14888},{"type":15,"tag":252,"props":57620,"children":57621},{"style":447},[57622],{"type":21,"value":57623},"(int_expression)\n",{"type":15,"tag":252,"props":57625,"children":57626},{"class":254,"line":2426},[57627],{"type":15,"tag":252,"props":57628,"children":57629},{"style":447},[57630],{"type":21,"value":4087},{"type":15,"tag":252,"props":57632,"children":57633},{"class":254,"line":2474},[57634,57638,57642,57646,57650,57654],{"type":15,"tag":252,"props":57635,"children":57636},{"style":259},[57637],{"type":21,"value":15692},{"type":15,"tag":252,"props":57639,"children":57640},{"style":601},[57641],{"type":21,"value":804},{"type":15,"tag":252,"props":57643,"children":57644},{"style":259},[57645],{"type":21,"value":27449},{"type":15,"tag":252,"props":57647,"children":57648},{"style":447},[57649],{"type":21,"value":29027},{"type":15,"tag":252,"props":57651,"children":57652},{"style":601},[57653],{"type":21,"value":4054},{"type":15,"tag":252,"props":57655,"children":57656},{"style":447},[57657],{"type":21,"value":3769},{"type":15,"tag":252,"props":57659,"children":57660},{"class":254,"line":2522},[57661,57665,57669,57673,57677,57681],{"type":15,"tag":252,"props":57662,"children":57663},{"style":259},[57664],{"type":21,"value":18575},{"type":15,"tag":252,"props":57666,"children":57667},{"style":601},[57668],{"type":21,"value":804},{"type":15,"tag":252,"props":57670,"children":57671},{"style":259},[57672],{"type":21,"value":55503},{"type":15,"tag":252,"props":57674,"children":57675},{"style":601},[57676],{"type":21,"value":804},{"type":15,"tag":252,"props":57678,"children":57679},{"style":259},[57680],{"type":21,"value":27449},{"type":15,"tag":252,"props":57682,"children":57683},{"style":447},[57684],{"type":21,"value":57685},"(boolean_expression)\n",{"type":15,"tag":252,"props":57687,"children":57688},{"class":254,"line":2530},[57689],{"type":15,"tag":252,"props":57690,"children":57691},{"style":447},[57692],{"type":21,"value":4087},{"type":15,"tag":252,"props":57694,"children":57695},{"class":254,"line":2570},[57696],{"type":15,"tag":252,"props":57697,"children":57698},{"style":447},[57699],{"type":21,"value":5376},{"type":15,"tag":252,"props":57701,"children":57702},{"class":254,"line":2591},[57703],{"type":15,"tag":252,"props":57704,"children":57705},{"emptyLinePlaceholder":2053},[57706],{"type":21,"value":2056},{"type":15,"tag":252,"props":57708,"children":57709},{"class":254,"line":2599},[57710,57714,57718,57722,57726,57731,57735,57739,57743,57747,57751,57756,57760,57765],{"type":15,"tag":252,"props":57711,"children":57712},{"style":276},[57713],{"type":21,"value":57469},{"type":15,"tag":252,"props":57715,"children":57716},{"style":601},[57717],{"type":21,"value":432},{"type":15,"tag":252,"props":57719,"children":57720},{"style":447},[57721],{"type":21,"value":56893},{"type":15,"tag":252,"props":57723,"children":57724},{"style":601},[57725],{"type":21,"value":432},{"type":15,"tag":252,"props":57727,"children":57728},{"style":259},[57729],{"type":21,"value":57730},"last_mut",{"type":15,"tag":252,"props":57732,"children":57733},{"style":447},[57734],{"type":21,"value":7305},{"type":15,"tag":252,"props":57736,"children":57737},{"style":601},[57738],{"type":21,"value":432},{"type":15,"tag":252,"props":57740,"children":57741},{"style":259},[57742],{"type":21,"value":1984},{"type":15,"tag":252,"props":57744,"children":57745},{"style":447},[57746],{"type":21,"value":7305},{"type":15,"tag":252,"props":57748,"children":57749},{"style":601},[57750],{"type":21,"value":432},{"type":15,"tag":252,"props":57752,"children":57753},{"style":447},[57754],{"type":21,"value":57755},"variables",{"type":15,"tag":252,"props":57757,"children":57758},{"style":601},[57759],{"type":21,"value":432},{"type":15,"tag":252,"props":57761,"children":57762},{"style":259},[57763],{"type":21,"value":57764},"insert",{"type":15,"tag":252,"props":57766,"children":57767},{"style":447},[57768],{"type":21,"value":14196},{"type":15,"tag":252,"props":57770,"children":57771},{"class":254,"line":2647},[57772,57777,57781,57785],{"type":15,"tag":252,"props":57773,"children":57774},{"style":447},[57775],{"type":21,"value":57776},"        name",{"type":15,"tag":252,"props":57778,"children":57779},{"style":601},[57780],{"type":21,"value":432},{"type":15,"tag":252,"props":57782,"children":57783},{"style":259},[57784],{"type":21,"value":32202},{"type":15,"tag":252,"props":57786,"children":57787},{"style":447},[57788],{"type":21,"value":10142},{"type":15,"tag":252,"props":57790,"children":57791},{"class":254,"line":2679},[57792,57797],{"type":15,"tag":252,"props":57793,"children":57794},{"style":259},[57795],{"type":21,"value":57796},"        VarInfo",{"type":15,"tag":252,"props":57798,"children":57799},{"style":447},[57800],{"type":21,"value":3769},{"type":15,"tag":252,"props":57802,"children":57803},{"class":254,"line":2727},[57804],{"type":15,"tag":252,"props":57805,"children":57806},{"style":447},[57807],{"type":21,"value":57808},"            identifier,\n",{"type":15,"tag":252,"props":57810,"children":57811},{"class":254,"line":2735},[57812],{"type":15,"tag":252,"props":57813,"children":57814},{"style":447},[57815],{"type":21,"value":57816},"            var_type,\n",{"type":15,"tag":252,"props":57818,"children":57819},{"class":254,"line":2799},[57820],{"type":15,"tag":252,"props":57821,"children":57822},{"style":447},[57823],{"type":21,"value":34310},{"type":15,"tag":252,"props":57825,"children":57826},{"class":254,"line":2807},[57827],{"type":15,"tag":252,"props":57828,"children":57829},{"style":447},[57830],{"type":21,"value":57831},"    );\n",{"type":15,"tag":252,"props":57833,"children":57834},{"class":254,"line":2848},[57835],{"type":15,"tag":252,"props":57836,"children":57837},{"emptyLinePlaceholder":2053},[57838],{"type":21,"value":2056},{"type":15,"tag":252,"props":57840,"children":57841},{"class":254,"line":4645},[57842,57846,57850,57854,57858,57862,57866,57870],{"type":15,"tag":252,"props":57843,"children":57844},{"style":259},[57845],{"type":21,"value":4110},{"type":15,"tag":252,"props":57847,"children":57848},{"style":447},[57849],{"type":21,"value":849},{"type":15,"tag":252,"props":57851,"children":57852},{"style":259},[57853],{"type":21,"value":14557},{"type":15,"tag":252,"props":57855,"children":57856},{"style":601},[57857],{"type":21,"value":804},{"type":15,"tag":252,"props":57859,"children":57860},{"style":259},[57861],{"type":21,"value":5709},{"type":15,"tag":252,"props":57863,"children":57864},{"style":601},[57865],{"type":21,"value":804},{"type":15,"tag":252,"props":57867,"children":57868},{"style":259},[57869],{"type":21,"value":54638},{"type":15,"tag":252,"props":57871,"children":57872},{"style":447},[57873],{"type":21,"value":57874},"(identifier, assignment))\n",{"type":15,"tag":252,"props":57876,"children":57877},{"class":254,"line":4654},[57878],{"type":15,"tag":252,"props":57879,"children":57880},{"style":447},[57881],{"type":21,"value":2854},{"type":15,"tag":23,"props":57883,"children":57884},{},[57885],{"type":21,"value":57886},"And for assignment we read the metadata and check that the type matches:",{"type":15,"tag":95,"props":57888,"children":57890},{"code":57889,"language":772,"meta":8,"className":773,"style":8},"ast::Statement::Assignment(name, expression) => {\n    let typed_expression = self.resolve_expression(expression)?;\n    let var_info = self\n        .scopes\n        .last()\n        .unwrap()\n        .variables\n        .get(name)\n        .ok_or(TypeError(format!(\"variable {name} not found\")))?;\n\n    let var_type = typed_expression.to_var_type();\n\n    if var_type != var_info.var_type {\n        Err(TypeError(format!(\n            \"expression is of type {var_type:?}, but variable {name} is not.\"\n        )))?;\n    }\n\n    let assignment = match typed_expression {\n        TypedExpression::Int(int_expression) => {\n            ir::AssignmentStatement::Int(int_expression)\n        }\n        TypedExpression::Boolean(boolean_expression) => {\n            ir::AssignmentStatement::Boolean(boolean_expression)\n        }\n    };\n    Ok(ir::Statement::Assignment(var_info.identifier, assignment))\n}\n",[57891],{"type":15,"tag":81,"props":57892,"children":57893},{"__ignoreMap":8},[57894,57929,57968,57988,58000,58016,58031,58043,58059,58107,58114,58145,58152,58181,58208,58216,58232,58239,58246,58269,58296,58323,58330,58357,58384,58391,58398,58443],{"type":15,"tag":252,"props":57895,"children":57896},{"class":254,"line":255},[57897,57901,57905,57909,57913,57917,57921,57925],{"type":15,"tag":252,"props":57898,"children":57899},{"style":259},[57900],{"type":21,"value":5623},{"type":15,"tag":252,"props":57902,"children":57903},{"style":601},[57904],{"type":21,"value":804},{"type":15,"tag":252,"props":57906,"children":57907},{"style":259},[57908],{"type":21,"value":5709},{"type":15,"tag":252,"props":57910,"children":57911},{"style":601},[57912],{"type":21,"value":804},{"type":15,"tag":252,"props":57914,"children":57915},{"style":259},[57916],{"type":21,"value":54638},{"type":15,"tag":252,"props":57918,"children":57919},{"style":447},[57920],{"type":21,"value":57341},{"type":15,"tag":252,"props":57922,"children":57923},{"style":601},[57924],{"type":21,"value":4054},{"type":15,"tag":252,"props":57926,"children":57927},{"style":447},[57928],{"type":21,"value":3769},{"type":15,"tag":252,"props":57930,"children":57931},{"class":254,"line":334},[57932,57936,57940,57944,57948,57952,57956,57960,57964],{"type":15,"tag":252,"props":57933,"children":57934},{"style":601},[57935],{"type":21,"value":2083},{"type":15,"tag":252,"props":57937,"children":57938},{"style":447},[57939],{"type":21,"value":15644},{"type":15,"tag":252,"props":57941,"children":57942},{"style":601},[57943],{"type":21,"value":614},{"type":15,"tag":252,"props":57945,"children":57946},{"style":276},[57947],{"type":21,"value":7244},{"type":15,"tag":252,"props":57949,"children":57950},{"style":601},[57951],{"type":21,"value":432},{"type":15,"tag":252,"props":57953,"children":57954},{"style":259},[57955],{"type":21,"value":15201},{"type":15,"tag":252,"props":57957,"children":57958},{"style":447},[57959],{"type":21,"value":15657},{"type":15,"tag":252,"props":57961,"children":57962},{"style":601},[57963],{"type":21,"value":5468},{"type":15,"tag":252,"props":57965,"children":57966},{"style":447},[57967],{"type":21,"value":3325},{"type":15,"tag":252,"props":57969,"children":57970},{"class":254,"line":390},[57971,57975,57980,57984],{"type":15,"tag":252,"props":57972,"children":57973},{"style":601},[57974],{"type":21,"value":2083},{"type":15,"tag":252,"props":57976,"children":57977},{"style":447},[57978],{"type":21,"value":57979}," var_info ",{"type":15,"tag":252,"props":57981,"children":57982},{"style":601},[57983],{"type":21,"value":614},{"type":15,"tag":252,"props":57985,"children":57986},{"style":276},[57987],{"type":21,"value":18902},{"type":15,"tag":252,"props":57989,"children":57990},{"class":254,"line":2077},[57991,57995],{"type":15,"tag":252,"props":57992,"children":57993},{"style":601},[57994],{"type":21,"value":21144},{"type":15,"tag":252,"props":57996,"children":57997},{"style":447},[57998],{"type":21,"value":57999},"scopes\n",{"type":15,"tag":252,"props":58001,"children":58002},{"class":254,"line":2110},[58003,58007,58012],{"type":15,"tag":252,"props":58004,"children":58005},{"style":601},[58006],{"type":21,"value":21144},{"type":15,"tag":252,"props":58008,"children":58009},{"style":259},[58010],{"type":21,"value":58011},"last",{"type":15,"tag":252,"props":58013,"children":58014},{"style":447},[58015],{"type":21,"value":10672},{"type":15,"tag":252,"props":58017,"children":58018},{"class":254,"line":2150},[58019,58023,58027],{"type":15,"tag":252,"props":58020,"children":58021},{"style":601},[58022],{"type":21,"value":21144},{"type":15,"tag":252,"props":58024,"children":58025},{"style":259},[58026],{"type":21,"value":1984},{"type":15,"tag":252,"props":58028,"children":58029},{"style":447},[58030],{"type":21,"value":10672},{"type":15,"tag":252,"props":58032,"children":58033},{"class":254,"line":2182},[58034,58038],{"type":15,"tag":252,"props":58035,"children":58036},{"style":601},[58037],{"type":21,"value":21144},{"type":15,"tag":252,"props":58039,"children":58040},{"style":447},[58041],{"type":21,"value":58042},"variables\n",{"type":15,"tag":252,"props":58044,"children":58045},{"class":254,"line":2190},[58046,58050,58054],{"type":15,"tag":252,"props":58047,"children":58048},{"style":601},[58049],{"type":21,"value":21144},{"type":15,"tag":252,"props":58051,"children":58052},{"style":259},[58053],{"type":21,"value":40140},{"type":15,"tag":252,"props":58055,"children":58056},{"style":447},[58057],{"type":21,"value":58058},"(name)\n",{"type":15,"tag":252,"props":58060,"children":58061},{"class":254,"line":2222},[58062,58066,58070,58074,58078,58082,58086,58090,58095,58099,58103],{"type":15,"tag":252,"props":58063,"children":58064},{"style":601},[58065],{"type":21,"value":21144},{"type":15,"tag":252,"props":58067,"children":58068},{"style":259},[58069],{"type":21,"value":7314},{"type":15,"tag":252,"props":58071,"children":58072},{"style":447},[58073],{"type":21,"value":849},{"type":15,"tag":252,"props":58075,"children":58076},{"style":259},[58077],{"type":21,"value":28314},{"type":15,"tag":252,"props":58079,"children":58080},{"style":447},[58081],{"type":21,"value":849},{"type":15,"tag":252,"props":58083,"children":58084},{"style":259},[58085],{"type":21,"value":10212},{"type":15,"tag":252,"props":58087,"children":58088},{"style":447},[58089],{"type":21,"value":849},{"type":15,"tag":252,"props":58091,"children":58092},{"style":265},[58093],{"type":21,"value":58094},"\"variable {name} not found\"",{"type":15,"tag":252,"props":58096,"children":58097},{"style":447},[58098],{"type":21,"value":12559},{"type":15,"tag":252,"props":58100,"children":58101},{"style":601},[58102],{"type":21,"value":5468},{"type":15,"tag":252,"props":58104,"children":58105},{"style":447},[58106],{"type":21,"value":3325},{"type":15,"tag":252,"props":58108,"children":58109},{"class":254,"line":2270},[58110],{"type":15,"tag":252,"props":58111,"children":58112},{"emptyLinePlaceholder":2053},[58113],{"type":21,"value":2056},{"type":15,"tag":252,"props":58115,"children":58116},{"class":254,"line":2302},[58117,58121,58125,58129,58133,58137,58141],{"type":15,"tag":252,"props":58118,"children":58119},{"style":601},[58120],{"type":21,"value":2083},{"type":15,"tag":252,"props":58122,"children":58123},{"style":447},[58124],{"type":21,"value":57439},{"type":15,"tag":252,"props":58126,"children":58127},{"style":601},[58128],{"type":21,"value":614},{"type":15,"tag":252,"props":58130,"children":58131},{"style":447},[58132],{"type":21,"value":57448},{"type":15,"tag":252,"props":58134,"children":58135},{"style":601},[58136],{"type":21,"value":432},{"type":15,"tag":252,"props":58138,"children":58139},{"style":259},[58140],{"type":21,"value":57457},{"type":15,"tag":252,"props":58142,"children":58143},{"style":447},[58144],{"type":21,"value":814},{"type":15,"tag":252,"props":58146,"children":58147},{"class":254,"line":2310},[58148],{"type":15,"tag":252,"props":58149,"children":58150},{"emptyLinePlaceholder":2053},[58151],{"type":21,"value":2056},{"type":15,"tag":252,"props":58153,"children":58154},{"class":254,"line":2370},[58155,58159,58163,58167,58172,58176],{"type":15,"tag":252,"props":58156,"children":58157},{"style":601},[58158],{"type":21,"value":10611},{"type":15,"tag":252,"props":58160,"children":58161},{"style":447},[58162],{"type":21,"value":57439},{"type":15,"tag":252,"props":58164,"children":58165},{"style":601},[58166],{"type":21,"value":38623},{"type":15,"tag":252,"props":58168,"children":58169},{"style":447},[58170],{"type":21,"value":58171}," var_info",{"type":15,"tag":252,"props":58173,"children":58174},{"style":601},[58175],{"type":21,"value":432},{"type":15,"tag":252,"props":58177,"children":58178},{"style":447},[58179],{"type":21,"value":58180},"var_type {\n",{"type":15,"tag":252,"props":58182,"children":58183},{"class":254,"line":2418},[58184,58188,58192,58196,58200,58204],{"type":15,"tag":252,"props":58185,"children":58186},{"style":259},[58187],{"type":21,"value":7925},{"type":15,"tag":252,"props":58189,"children":58190},{"style":447},[58191],{"type":21,"value":849},{"type":15,"tag":252,"props":58193,"children":58194},{"style":259},[58195],{"type":21,"value":28314},{"type":15,"tag":252,"props":58197,"children":58198},{"style":447},[58199],{"type":21,"value":849},{"type":15,"tag":252,"props":58201,"children":58202},{"style":259},[58203],{"type":21,"value":10212},{"type":15,"tag":252,"props":58205,"children":58206},{"style":447},[58207],{"type":21,"value":14196},{"type":15,"tag":252,"props":58209,"children":58210},{"class":254,"line":2426},[58211],{"type":15,"tag":252,"props":58212,"children":58213},{"style":265},[58214],{"type":21,"value":58215},"            \"expression is of type {var_type:?}, but variable {name} is not.\"\n",{"type":15,"tag":252,"props":58217,"children":58218},{"class":254,"line":2474},[58219,58224,58228],{"type":15,"tag":252,"props":58220,"children":58221},{"style":447},[58222],{"type":21,"value":58223},"        )))",{"type":15,"tag":252,"props":58225,"children":58226},{"style":601},[58227],{"type":21,"value":5468},{"type":15,"tag":252,"props":58229,"children":58230},{"style":447},[58231],{"type":21,"value":3325},{"type":15,"tag":252,"props":58233,"children":58234},{"class":254,"line":2522},[58235],{"type":15,"tag":252,"props":58236,"children":58237},{"style":447},[58238],{"type":21,"value":4095},{"type":15,"tag":252,"props":58240,"children":58241},{"class":254,"line":2530},[58242],{"type":15,"tag":252,"props":58243,"children":58244},{"emptyLinePlaceholder":2053},[58245],{"type":21,"value":2056},{"type":15,"tag":252,"props":58247,"children":58248},{"class":254,"line":2570},[58249,58253,58257,58261,58265],{"type":15,"tag":252,"props":58250,"children":58251},{"style":601},[58252],{"type":21,"value":2083},{"type":15,"tag":252,"props":58254,"children":58255},{"style":447},[58256],{"type":21,"value":57556},{"type":15,"tag":252,"props":58258,"children":58259},{"style":601},[58260],{"type":21,"value":614},{"type":15,"tag":252,"props":58262,"children":58263},{"style":601},[58264],{"type":21,"value":18821},{"type":15,"tag":252,"props":58266,"children":58267},{"style":447},[58268],{"type":21,"value":15684},{"type":15,"tag":252,"props":58270,"children":58271},{"class":254,"line":2591},[58272,58276,58280,58284,58288,58292],{"type":15,"tag":252,"props":58273,"children":58274},{"style":259},[58275],{"type":21,"value":15692},{"type":15,"tag":252,"props":58277,"children":58278},{"style":601},[58279],{"type":21,"value":804},{"type":15,"tag":252,"props":58281,"children":58282},{"style":259},[58283],{"type":21,"value":14888},{"type":15,"tag":252,"props":58285,"children":58286},{"style":447},[58287],{"type":21,"value":15705},{"type":15,"tag":252,"props":58289,"children":58290},{"style":601},[58291],{"type":21,"value":4054},{"type":15,"tag":252,"props":58293,"children":58294},{"style":447},[58295],{"type":21,"value":3769},{"type":15,"tag":252,"props":58297,"children":58298},{"class":254,"line":2599},[58299,58303,58307,58311,58315,58319],{"type":15,"tag":252,"props":58300,"children":58301},{"style":259},[58302],{"type":21,"value":18575},{"type":15,"tag":252,"props":58304,"children":58305},{"style":601},[58306],{"type":21,"value":804},{"type":15,"tag":252,"props":58308,"children":58309},{"style":259},[58310],{"type":21,"value":55503},{"type":15,"tag":252,"props":58312,"children":58313},{"style":601},[58314],{"type":21,"value":804},{"type":15,"tag":252,"props":58316,"children":58317},{"style":259},[58318],{"type":21,"value":14888},{"type":15,"tag":252,"props":58320,"children":58321},{"style":447},[58322],{"type":21,"value":57623},{"type":15,"tag":252,"props":58324,"children":58325},{"class":254,"line":2647},[58326],{"type":15,"tag":252,"props":58327,"children":58328},{"style":447},[58329],{"type":21,"value":4087},{"type":15,"tag":252,"props":58331,"children":58332},{"class":254,"line":2679},[58333,58337,58341,58345,58349,58353],{"type":15,"tag":252,"props":58334,"children":58335},{"style":259},[58336],{"type":21,"value":15692},{"type":15,"tag":252,"props":58338,"children":58339},{"style":601},[58340],{"type":21,"value":804},{"type":15,"tag":252,"props":58342,"children":58343},{"style":259},[58344],{"type":21,"value":27449},{"type":15,"tag":252,"props":58346,"children":58347},{"style":447},[58348],{"type":21,"value":29027},{"type":15,"tag":252,"props":58350,"children":58351},{"style":601},[58352],{"type":21,"value":4054},{"type":15,"tag":252,"props":58354,"children":58355},{"style":447},[58356],{"type":21,"value":3769},{"type":15,"tag":252,"props":58358,"children":58359},{"class":254,"line":2727},[58360,58364,58368,58372,58376,58380],{"type":15,"tag":252,"props":58361,"children":58362},{"style":259},[58363],{"type":21,"value":18575},{"type":15,"tag":252,"props":58365,"children":58366},{"style":601},[58367],{"type":21,"value":804},{"type":15,"tag":252,"props":58369,"children":58370},{"style":259},[58371],{"type":21,"value":55503},{"type":15,"tag":252,"props":58373,"children":58374},{"style":601},[58375],{"type":21,"value":804},{"type":15,"tag":252,"props":58377,"children":58378},{"style":259},[58379],{"type":21,"value":27449},{"type":15,"tag":252,"props":58381,"children":58382},{"style":447},[58383],{"type":21,"value":57685},{"type":15,"tag":252,"props":58385,"children":58386},{"class":254,"line":2735},[58387],{"type":15,"tag":252,"props":58388,"children":58389},{"style":447},[58390],{"type":21,"value":4087},{"type":15,"tag":252,"props":58392,"children":58393},{"class":254,"line":2799},[58394],{"type":15,"tag":252,"props":58395,"children":58396},{"style":447},[58397],{"type":21,"value":5376},{"type":15,"tag":252,"props":58399,"children":58400},{"class":254,"line":2807},[58401,58405,58409,58413,58417,58421,58425,58429,58434,58438],{"type":15,"tag":252,"props":58402,"children":58403},{"style":259},[58404],{"type":21,"value":4110},{"type":15,"tag":252,"props":58406,"children":58407},{"style":447},[58408],{"type":21,"value":849},{"type":15,"tag":252,"props":58410,"children":58411},{"style":259},[58412],{"type":21,"value":14557},{"type":15,"tag":252,"props":58414,"children":58415},{"style":601},[58416],{"type":21,"value":804},{"type":15,"tag":252,"props":58418,"children":58419},{"style":259},[58420],{"type":21,"value":5709},{"type":15,"tag":252,"props":58422,"children":58423},{"style":601},[58424],{"type":21,"value":804},{"type":15,"tag":252,"props":58426,"children":58427},{"style":259},[58428],{"type":21,"value":54638},{"type":15,"tag":252,"props":58430,"children":58431},{"style":447},[58432],{"type":21,"value":58433},"(var_info",{"type":15,"tag":252,"props":58435,"children":58436},{"style":601},[58437],{"type":21,"value":432},{"type":15,"tag":252,"props":58439,"children":58440},{"style":447},[58441],{"type":21,"value":58442},"identifier, assignment))\n",{"type":15,"tag":252,"props":58444,"children":58445},{"class":254,"line":2848},[58446],{"type":15,"tag":252,"props":58447,"children":58448},{"style":447},[58449],{"type":21,"value":2854},{"type":15,"tag":23,"props":58451,"children":58452},{},[58453],{"type":21,"value":58454},"And then analyzing the variable expression is similar:",{"type":15,"tag":95,"props":58456,"children":58458},{"code":58457,"language":772,"meta":8,"className":773,"style":8},"ast::Literal::Variable(name) => {\n    let var_info = self\n        .scopes\n        .last()\n        .unwrap()\n        .variables\n        .get(name)\n        .ok_or(TypeError(format!(\"variable {name} not found\")))?;\n\n    Ok(match var_info.var_type {\n        ir::VarType::Int => {\n            TypedExpression::Int(ir::IntExpression::Var(var_info.identifier))\n        }\n        ir::VarType::Boolean => {\n            TypedExpression::Boolean(ir::BooleanExpression::Var(var_info.identifier))\n        }\n    })\n}\n",[58459],{"type":15,"tag":81,"props":58460,"children":58461},{"__ignoreMap":8},[58462,58497,58516,58527,58542,58557,58568,58583,58630,58637,58664,58695,58748,58755,58786,58837,58844,58852],{"type":15,"tag":252,"props":58463,"children":58464},{"class":254,"line":255},[58465,58469,58473,58477,58481,58485,58489,58493],{"type":15,"tag":252,"props":58466,"children":58467},{"style":259},[58468],{"type":21,"value":5623},{"type":15,"tag":252,"props":58470,"children":58471},{"style":601},[58472],{"type":21,"value":804},{"type":15,"tag":252,"props":58474,"children":58475},{"style":259},[58476],{"type":21,"value":5724},{"type":15,"tag":252,"props":58478,"children":58479},{"style":601},[58480],{"type":21,"value":804},{"type":15,"tag":252,"props":58482,"children":58483},{"style":259},[58484],{"type":21,"value":55097},{"type":15,"tag":252,"props":58486,"children":58487},{"style":447},[58488],{"type":21,"value":54392},{"type":15,"tag":252,"props":58490,"children":58491},{"style":601},[58492],{"type":21,"value":4054},{"type":15,"tag":252,"props":58494,"children":58495},{"style":447},[58496],{"type":21,"value":3769},{"type":15,"tag":252,"props":58498,"children":58499},{"class":254,"line":334},[58500,58504,58508,58512],{"type":15,"tag":252,"props":58501,"children":58502},{"style":601},[58503],{"type":21,"value":2083},{"type":15,"tag":252,"props":58505,"children":58506},{"style":447},[58507],{"type":21,"value":57979},{"type":15,"tag":252,"props":58509,"children":58510},{"style":601},[58511],{"type":21,"value":614},{"type":15,"tag":252,"props":58513,"children":58514},{"style":276},[58515],{"type":21,"value":18902},{"type":15,"tag":252,"props":58517,"children":58518},{"class":254,"line":390},[58519,58523],{"type":15,"tag":252,"props":58520,"children":58521},{"style":601},[58522],{"type":21,"value":21144},{"type":15,"tag":252,"props":58524,"children":58525},{"style":447},[58526],{"type":21,"value":57999},{"type":15,"tag":252,"props":58528,"children":58529},{"class":254,"line":2077},[58530,58534,58538],{"type":15,"tag":252,"props":58531,"children":58532},{"style":601},[58533],{"type":21,"value":21144},{"type":15,"tag":252,"props":58535,"children":58536},{"style":259},[58537],{"type":21,"value":58011},{"type":15,"tag":252,"props":58539,"children":58540},{"style":447},[58541],{"type":21,"value":10672},{"type":15,"tag":252,"props":58543,"children":58544},{"class":254,"line":2110},[58545,58549,58553],{"type":15,"tag":252,"props":58546,"children":58547},{"style":601},[58548],{"type":21,"value":21144},{"type":15,"tag":252,"props":58550,"children":58551},{"style":259},[58552],{"type":21,"value":1984},{"type":15,"tag":252,"props":58554,"children":58555},{"style":447},[58556],{"type":21,"value":10672},{"type":15,"tag":252,"props":58558,"children":58559},{"class":254,"line":2150},[58560,58564],{"type":15,"tag":252,"props":58561,"children":58562},{"style":601},[58563],{"type":21,"value":21144},{"type":15,"tag":252,"props":58565,"children":58566},{"style":447},[58567],{"type":21,"value":58042},{"type":15,"tag":252,"props":58569,"children":58570},{"class":254,"line":2182},[58571,58575,58579],{"type":15,"tag":252,"props":58572,"children":58573},{"style":601},[58574],{"type":21,"value":21144},{"type":15,"tag":252,"props":58576,"children":58577},{"style":259},[58578],{"type":21,"value":40140},{"type":15,"tag":252,"props":58580,"children":58581},{"style":447},[58582],{"type":21,"value":58058},{"type":15,"tag":252,"props":58584,"children":58585},{"class":254,"line":2190},[58586,58590,58594,58598,58602,58606,58610,58614,58618,58622,58626],{"type":15,"tag":252,"props":58587,"children":58588},{"style":601},[58589],{"type":21,"value":21144},{"type":15,"tag":252,"props":58591,"children":58592},{"style":259},[58593],{"type":21,"value":7314},{"type":15,"tag":252,"props":58595,"children":58596},{"style":447},[58597],{"type":21,"value":849},{"type":15,"tag":252,"props":58599,"children":58600},{"style":259},[58601],{"type":21,"value":28314},{"type":15,"tag":252,"props":58603,"children":58604},{"style":447},[58605],{"type":21,"value":849},{"type":15,"tag":252,"props":58607,"children":58608},{"style":259},[58609],{"type":21,"value":10212},{"type":15,"tag":252,"props":58611,"children":58612},{"style":447},[58613],{"type":21,"value":849},{"type":15,"tag":252,"props":58615,"children":58616},{"style":265},[58617],{"type":21,"value":58094},{"type":15,"tag":252,"props":58619,"children":58620},{"style":447},[58621],{"type":21,"value":12559},{"type":15,"tag":252,"props":58623,"children":58624},{"style":601},[58625],{"type":21,"value":5468},{"type":15,"tag":252,"props":58627,"children":58628},{"style":447},[58629],{"type":21,"value":3325},{"type":15,"tag":252,"props":58631,"children":58632},{"class":254,"line":2222},[58633],{"type":15,"tag":252,"props":58634,"children":58635},{"emptyLinePlaceholder":2053},[58636],{"type":21,"value":2056},{"type":15,"tag":252,"props":58638,"children":58639},{"class":254,"line":2270},[58640,58644,58648,58652,58656,58660],{"type":15,"tag":252,"props":58641,"children":58642},{"style":259},[58643],{"type":21,"value":4110},{"type":15,"tag":252,"props":58645,"children":58646},{"style":447},[58647],{"type":21,"value":849},{"type":15,"tag":252,"props":58649,"children":58650},{"style":601},[58651],{"type":21,"value":9195},{"type":15,"tag":252,"props":58653,"children":58654},{"style":447},[58655],{"type":21,"value":58171},{"type":15,"tag":252,"props":58657,"children":58658},{"style":601},[58659],{"type":21,"value":432},{"type":15,"tag":252,"props":58661,"children":58662},{"style":447},[58663],{"type":21,"value":58180},{"type":15,"tag":252,"props":58665,"children":58666},{"class":254,"line":2302},[58667,58671,58675,58679,58683,58687,58691],{"type":15,"tag":252,"props":58668,"children":58669},{"style":259},[58670],{"type":21,"value":45314},{"type":15,"tag":252,"props":58672,"children":58673},{"style":601},[58674],{"type":21,"value":804},{"type":15,"tag":252,"props":58676,"children":58677},{"style":259},[58678],{"type":21,"value":55861},{"type":15,"tag":252,"props":58680,"children":58681},{"style":601},[58682],{"type":21,"value":804},{"type":15,"tag":252,"props":58684,"children":58685},{"style":259},[58686],{"type":21,"value":14888},{"type":15,"tag":252,"props":58688,"children":58689},{"style":601},[58690],{"type":21,"value":9226},{"type":15,"tag":252,"props":58692,"children":58693},{"style":447},[58694],{"type":21,"value":3769},{"type":15,"tag":252,"props":58696,"children":58697},{"class":254,"line":2310},[58698,58702,58706,58710,58714,58718,58722,58726,58730,58735,58739,58743],{"type":15,"tag":252,"props":58699,"children":58700},{"style":259},[58701],{"type":21,"value":15074},{"type":15,"tag":252,"props":58703,"children":58704},{"style":601},[58705],{"type":21,"value":804},{"type":15,"tag":252,"props":58707,"children":58708},{"style":259},[58709],{"type":21,"value":14888},{"type":15,"tag":252,"props":58711,"children":58712},{"style":447},[58713],{"type":21,"value":849},{"type":15,"tag":252,"props":58715,"children":58716},{"style":259},[58717],{"type":21,"value":14557},{"type":15,"tag":252,"props":58719,"children":58720},{"style":601},[58721],{"type":21,"value":804},{"type":15,"tag":252,"props":58723,"children":58724},{"style":259},[58725],{"type":21,"value":14798},{"type":15,"tag":252,"props":58727,"children":58728},{"style":601},[58729],{"type":21,"value":804},{"type":15,"tag":252,"props":58731,"children":58732},{"style":259},[58733],{"type":21,"value":58734},"Var",{"type":15,"tag":252,"props":58736,"children":58737},{"style":447},[58738],{"type":21,"value":58433},{"type":15,"tag":252,"props":58740,"children":58741},{"style":601},[58742],{"type":21,"value":432},{"type":15,"tag":252,"props":58744,"children":58745},{"style":447},[58746],{"type":21,"value":58747},"identifier))\n",{"type":15,"tag":252,"props":58749,"children":58750},{"class":254,"line":2370},[58751],{"type":15,"tag":252,"props":58752,"children":58753},{"style":447},[58754],{"type":21,"value":4087},{"type":15,"tag":252,"props":58756,"children":58757},{"class":254,"line":2418},[58758,58762,58766,58770,58774,58778,58782],{"type":15,"tag":252,"props":58759,"children":58760},{"style":259},[58761],{"type":21,"value":45314},{"type":15,"tag":252,"props":58763,"children":58764},{"style":601},[58765],{"type":21,"value":804},{"type":15,"tag":252,"props":58767,"children":58768},{"style":259},[58769],{"type":21,"value":55861},{"type":15,"tag":252,"props":58771,"children":58772},{"style":601},[58773],{"type":21,"value":804},{"type":15,"tag":252,"props":58775,"children":58776},{"style":259},[58777],{"type":21,"value":27449},{"type":15,"tag":252,"props":58779,"children":58780},{"style":601},[58781],{"type":21,"value":9226},{"type":15,"tag":252,"props":58783,"children":58784},{"style":447},[58785],{"type":21,"value":3769},{"type":15,"tag":252,"props":58787,"children":58788},{"class":254,"line":2426},[58789,58793,58797,58801,58805,58809,58813,58817,58821,58825,58829,58833],{"type":15,"tag":252,"props":58790,"children":58791},{"style":259},[58792],{"type":21,"value":15074},{"type":15,"tag":252,"props":58794,"children":58795},{"style":601},[58796],{"type":21,"value":804},{"type":15,"tag":252,"props":58798,"children":58799},{"style":259},[58800],{"type":21,"value":27449},{"type":15,"tag":252,"props":58802,"children":58803},{"style":447},[58804],{"type":21,"value":849},{"type":15,"tag":252,"props":58806,"children":58807},{"style":259},[58808],{"type":21,"value":14557},{"type":15,"tag":252,"props":58810,"children":58811},{"style":601},[58812],{"type":21,"value":804},{"type":15,"tag":252,"props":58814,"children":58815},{"style":259},[58816],{"type":21,"value":27991},{"type":15,"tag":252,"props":58818,"children":58819},{"style":601},[58820],{"type":21,"value":804},{"type":15,"tag":252,"props":58822,"children":58823},{"style":259},[58824],{"type":21,"value":58734},{"type":15,"tag":252,"props":58826,"children":58827},{"style":447},[58828],{"type":21,"value":58433},{"type":15,"tag":252,"props":58830,"children":58831},{"style":601},[58832],{"type":21,"value":432},{"type":15,"tag":252,"props":58834,"children":58835},{"style":447},[58836],{"type":21,"value":58747},{"type":15,"tag":252,"props":58838,"children":58839},{"class":254,"line":2474},[58840],{"type":15,"tag":252,"props":58841,"children":58842},{"style":447},[58843],{"type":21,"value":4087},{"type":15,"tag":252,"props":58845,"children":58846},{"class":254,"line":2522},[58847],{"type":15,"tag":252,"props":58848,"children":58849},{"style":447},[58850],{"type":21,"value":58851},"    })\n",{"type":15,"tag":252,"props":58853,"children":58854},{"class":254,"line":2530},[58855],{"type":15,"tag":252,"props":58856,"children":58857},{"style":447},[58858],{"type":21,"value":2854},{"type":15,"tag":59,"props":58860,"children":58861},{"id":26058},[58862],{"type":21,"value":26061},{"type":15,"tag":23,"props":58864,"children":58865},{},[58866],{"type":21,"value":58867},"We also need to add some metadata to our code generator, as we need to store references to the pointer values:",{"type":15,"tag":95,"props":58869,"children":58871},{"code":58870,"language":772,"meta":8,"className":773,"style":8},"// code_gen.rs\npub struct CodeGen\u003C'ctx> {\n    // ...\n    local_vars: HashMap\u003Cir::VariableIdentifier, inkwell::values::PointerValue\u003C'ctx>>,\n}\n\nimpl\u003C'ctx> CodeGen\u003C'ctx> {\n    pub fn new(context: &'ctx Context) -> Self {\n        // ...\n\n        Self {\n            context: &context,\n            module,\n            builder,\n            fpm,\n            local_vars: HashMap::new(),\n        }\n    }\n}\n",[58872],{"type":15,"tag":81,"props":58873,"children":58874},{"__ignoreMap":8},[58875,58882,58909,58916,58978,58985,58992,59027,59082,59089,59096,59107,59126,59133,59140,59147,59175,59182,59189],{"type":15,"tag":252,"props":58876,"children":58877},{"class":254,"line":255},[58878],{"type":15,"tag":252,"props":58879,"children":58880},{"style":3287},[58881],{"type":21,"value":26081},{"type":15,"tag":252,"props":58883,"children":58884},{"class":254,"line":334},[58885,58889,58893,58897,58901,58905],{"type":15,"tag":252,"props":58886,"children":58887},{"style":601},[58888],{"type":21,"value":4740},{"type":15,"tag":252,"props":58890,"children":58891},{"style":601},[58892],{"type":21,"value":4745},{"type":15,"tag":252,"props":58894,"children":58895},{"style":259},[58896],{"type":21,"value":16926},{"type":15,"tag":252,"props":58898,"children":58899},{"style":447},[58900],{"type":21,"value":16931},{"type":15,"tag":252,"props":58902,"children":58903},{"style":259},[58904],{"type":21,"value":16936},{"type":15,"tag":252,"props":58906,"children":58907},{"style":447},[58908],{"type":21,"value":7138},{"type":15,"tag":252,"props":58910,"children":58911},{"class":254,"line":390},[58912],{"type":15,"tag":252,"props":58913,"children":58914},{"style":3287},[58915],{"type":21,"value":21839},{"type":15,"tag":252,"props":58917,"children":58918},{"class":254,"line":2077},[58919,58924,58928,58932,58936,58940,58944,58949,58953,58957,58961,58966,58970,58974],{"type":15,"tag":252,"props":58920,"children":58921},{"style":447},[58922],{"type":21,"value":58923},"    local_vars",{"type":15,"tag":252,"props":58925,"children":58926},{"style":601},[58927],{"type":21,"value":3374},{"type":15,"tag":252,"props":58929,"children":58930},{"style":259},[58931],{"type":21,"value":55949},{"type":15,"tag":252,"props":58933,"children":58934},{"style":447},[58935],{"type":21,"value":15620},{"type":15,"tag":252,"props":58937,"children":58938},{"style":601},[58939],{"type":21,"value":804},{"type":15,"tag":252,"props":58941,"children":58942},{"style":259},[58943],{"type":21,"value":55494},{"type":15,"tag":252,"props":58945,"children":58946},{"style":447},[58947],{"type":21,"value":58948},", inkwell",{"type":15,"tag":252,"props":58950,"children":58951},{"style":601},[58952],{"type":21,"value":804},{"type":15,"tag":252,"props":58954,"children":58955},{"style":447},[58956],{"type":21,"value":18543},{"type":15,"tag":252,"props":58958,"children":58959},{"style":601},[58960],{"type":21,"value":804},{"type":15,"tag":252,"props":58962,"children":58963},{"style":259},[58964],{"type":21,"value":58965},"PointerValue",{"type":15,"tag":252,"props":58967,"children":58968},{"style":447},[58969],{"type":21,"value":16931},{"type":15,"tag":252,"props":58971,"children":58972},{"style":259},[58973],{"type":21,"value":16936},{"type":15,"tag":252,"props":58975,"children":58976},{"style":447},[58977],{"type":21,"value":17127},{"type":15,"tag":252,"props":58979,"children":58980},{"class":254,"line":2110},[58981],{"type":15,"tag":252,"props":58982,"children":58983},{"style":447},[58984],{"type":21,"value":2854},{"type":15,"tag":252,"props":58986,"children":58987},{"class":254,"line":2150},[58988],{"type":15,"tag":252,"props":58989,"children":58990},{"emptyLinePlaceholder":2053},[58991],{"type":21,"value":2056},{"type":15,"tag":252,"props":58993,"children":58994},{"class":254,"line":2182},[58995,58999,59003,59007,59011,59015,59019,59023],{"type":15,"tag":252,"props":58996,"children":58997},{"style":601},[58998],{"type":21,"value":7107},{"type":15,"tag":252,"props":59000,"children":59001},{"style":447},[59002],{"type":21,"value":16931},{"type":15,"tag":252,"props":59004,"children":59005},{"style":259},[59006],{"type":21,"value":16936},{"type":15,"tag":252,"props":59008,"children":59009},{"style":447},[59010],{"type":21,"value":7120},{"type":15,"tag":252,"props":59012,"children":59013},{"style":259},[59014],{"type":21,"value":17165},{"type":15,"tag":252,"props":59016,"children":59017},{"style":447},[59018],{"type":21,"value":16931},{"type":15,"tag":252,"props":59020,"children":59021},{"style":259},[59022],{"type":21,"value":16936},{"type":15,"tag":252,"props":59024,"children":59025},{"style":447},[59026],{"type":21,"value":7138},{"type":15,"tag":252,"props":59028,"children":59029},{"class":254,"line":2190},[59030,59034,59038,59042,59046,59050,59054,59058,59062,59066,59070,59074,59078],{"type":15,"tag":252,"props":59031,"children":59032},{"style":601},[59033],{"type":21,"value":4762},{"type":15,"tag":252,"props":59035,"children":59036},{"style":601},[59037],{"type":21,"value":4901},{"type":15,"tag":252,"props":59039,"children":59040},{"style":259},[59041],{"type":21,"value":7151},{"type":15,"tag":252,"props":59043,"children":59044},{"style":447},[59045],{"type":21,"value":17197},{"type":15,"tag":252,"props":59047,"children":59048},{"style":601},[59049],{"type":21,"value":3374},{"type":15,"tag":252,"props":59051,"children":59052},{"style":601},[59053],{"type":21,"value":4920},{"type":15,"tag":252,"props":59055,"children":59056},{"style":447},[59057],{"type":21,"value":8319},{"type":15,"tag":252,"props":59059,"children":59060},{"style":259},[59061],{"type":21,"value":16936},{"type":15,"tag":252,"props":59063,"children":59064},{"style":259},[59065],{"type":21,"value":799},{"type":15,"tag":252,"props":59067,"children":59068},{"style":447},[59069],{"type":21,"value":4943},{"type":15,"tag":252,"props":59071,"children":59072},{"style":601},[59073],{"type":21,"value":3947},{"type":15,"tag":252,"props":59075,"children":59076},{"style":276},[59077],{"type":21,"value":7187},{"type":15,"tag":252,"props":59079,"children":59080},{"style":447},[59081],{"type":21,"value":3769},{"type":15,"tag":252,"props":59083,"children":59084},{"class":254,"line":2222},[59085],{"type":15,"tag":252,"props":59086,"children":59087},{"style":3287},[59088],{"type":21,"value":26918},{"type":15,"tag":252,"props":59090,"children":59091},{"class":254,"line":2270},[59092],{"type":15,"tag":252,"props":59093,"children":59094},{"emptyLinePlaceholder":2053},[59095],{"type":21,"value":2056},{"type":15,"tag":252,"props":59097,"children":59098},{"class":254,"line":2302},[59099,59103],{"type":15,"tag":252,"props":59100,"children":59101},{"style":276},[59102],{"type":21,"value":7199},{"type":15,"tag":252,"props":59104,"children":59105},{"style":447},[59106],{"type":21,"value":3769},{"type":15,"tag":252,"props":59108,"children":59109},{"class":254,"line":2310},[59110,59114,59118,59122],{"type":15,"tag":252,"props":59111,"children":59112},{"style":447},[59113],{"type":21,"value":17774},{"type":15,"tag":252,"props":59115,"children":59116},{"style":601},[59117],{"type":21,"value":3374},{"type":15,"tag":252,"props":59119,"children":59120},{"style":601},[59121],{"type":21,"value":4920},{"type":15,"tag":252,"props":59123,"children":59124},{"style":447},[59125],{"type":21,"value":17787},{"type":15,"tag":252,"props":59127,"children":59128},{"class":254,"line":2370},[59129],{"type":15,"tag":252,"props":59130,"children":59131},{"style":447},[59132],{"type":21,"value":17795},{"type":15,"tag":252,"props":59134,"children":59135},{"class":254,"line":2418},[59136],{"type":15,"tag":252,"props":59137,"children":59138},{"style":447},[59139],{"type":21,"value":17803},{"type":15,"tag":252,"props":59141,"children":59142},{"class":254,"line":2426},[59143],{"type":15,"tag":252,"props":59144,"children":59145},{"style":447},[59146],{"type":21,"value":17811},{"type":15,"tag":252,"props":59148,"children":59149},{"class":254,"line":2474},[59150,59155,59159,59163,59167,59171],{"type":15,"tag":252,"props":59151,"children":59152},{"style":447},[59153],{"type":21,"value":59154},"            local_vars",{"type":15,"tag":252,"props":59156,"children":59157},{"style":601},[59158],{"type":21,"value":3374},{"type":15,"tag":252,"props":59160,"children":59161},{"style":259},[59162],{"type":21,"value":55949},{"type":15,"tag":252,"props":59164,"children":59165},{"style":601},[59166],{"type":21,"value":804},{"type":15,"tag":252,"props":59168,"children":59169},{"style":259},[59170],{"type":21,"value":7761},{"type":15,"tag":252,"props":59172,"children":59173},{"style":447},[59174],{"type":21,"value":10142},{"type":15,"tag":252,"props":59176,"children":59177},{"class":254,"line":2522},[59178],{"type":15,"tag":252,"props":59179,"children":59180},{"style":447},[59181],{"type":21,"value":4087},{"type":15,"tag":252,"props":59183,"children":59184},{"class":254,"line":2530},[59185],{"type":15,"tag":252,"props":59186,"children":59187},{"style":447},[59188],{"type":21,"value":4095},{"type":15,"tag":252,"props":59190,"children":59191},{"class":254,"line":2570},[59192],{"type":15,"tag":252,"props":59193,"children":59194},{"style":447},[59195],{"type":21,"value":2854},{"type":15,"tag":23,"props":59197,"children":59198},{},[59199,59201,59207],{"type":21,"value":59200},"One error I noticed because of the changes we are about to make is that every return value we have (at least those returning inkwell structs) should have ",{"type":15,"tag":81,"props":59202,"children":59204},{"className":59203},[],[59205],{"type":21,"value":59206},"\u003C'ctx>",{"type":21,"value":59208}," to avoid some lifetime issues.",{"type":15,"tag":95,"props":59210,"children":59212},{"code":59211,"language":772,"meta":8,"className":773,"style":8},"ir::ToplevelStatement::Function {\n    name,\n    body: statements,\n    locals,\n} => {\n\n    // ...\n    self.builder.position_at_end(entry_block);\n\n    self.local_vars.clear();\n    for (identifier, var_type) in locals {\n        match var_type {\n            ir::VarType::Int => {\n                let int_type = self.int_type();\n                let var = self\n                    .builder\n                    .build_alloca(int_type, &format!(\"var_{}\", identifier.0));\n                self.local_vars.insert(*identifier, var);\n            }\n            ir::VarType::Boolean => {\n                let bool_type = self.context.bool_type();\n                let var = self\n                    .builder\n                    .build_alloca(bool_type, &format!(\"var_{}\", identifier.0));\n                self.local_vars.insert(*identifier, var);\n            }\n        }\n    }\n    // ...\n}\n",[59213],{"type":15,"tag":81,"props":59214,"children":59215},{"__ignoreMap":8},[59216,59243,59251,59267,59275,59290,59297,59304,59331,59338,59367,59388,59400,59431,59463,59483,59494,59544,59580,59587,59618,59658,59677,59688,59736,59771,59778,59785,59792,59799],{"type":15,"tag":252,"props":59217,"children":59218},{"class":254,"line":255},[59219,59223,59227,59231,59235,59239],{"type":15,"tag":252,"props":59220,"children":59221},{"style":259},[59222],{"type":21,"value":14557},{"type":15,"tag":252,"props":59224,"children":59225},{"style":601},[59226],{"type":21,"value":804},{"type":15,"tag":252,"props":59228,"children":59229},{"style":259},[59230],{"type":21,"value":24370},{"type":15,"tag":252,"props":59232,"children":59233},{"style":601},[59234],{"type":21,"value":804},{"type":15,"tag":252,"props":59236,"children":59237},{"style":259},[59238],{"type":21,"value":53248},{"type":15,"tag":252,"props":59240,"children":59241},{"style":447},[59242],{"type":21,"value":3769},{"type":15,"tag":252,"props":59244,"children":59245},{"class":254,"line":334},[59246],{"type":15,"tag":252,"props":59247,"children":59248},{"style":447},[59249],{"type":21,"value":59250},"    name,\n",{"type":15,"tag":252,"props":59252,"children":59253},{"class":254,"line":390},[59254,59259,59263],{"type":15,"tag":252,"props":59255,"children":59256},{"style":447},[59257],{"type":21,"value":59258},"    body",{"type":15,"tag":252,"props":59260,"children":59261},{"style":601},[59262],{"type":21,"value":3374},{"type":15,"tag":252,"props":59264,"children":59265},{"style":447},[59266],{"type":21,"value":53468},{"type":15,"tag":252,"props":59268,"children":59269},{"class":254,"line":2077},[59270],{"type":15,"tag":252,"props":59271,"children":59272},{"style":447},[59273],{"type":21,"value":59274},"    locals,\n",{"type":15,"tag":252,"props":59276,"children":59277},{"class":254,"line":2110},[59278,59282,59286],{"type":15,"tag":252,"props":59279,"children":59280},{"style":447},[59281],{"type":21,"value":49900},{"type":15,"tag":252,"props":59283,"children":59284},{"style":601},[59285],{"type":21,"value":4054},{"type":15,"tag":252,"props":59287,"children":59288},{"style":447},[59289],{"type":21,"value":3769},{"type":15,"tag":252,"props":59291,"children":59292},{"class":254,"line":2150},[59293],{"type":15,"tag":252,"props":59294,"children":59295},{"emptyLinePlaceholder":2053},[59296],{"type":21,"value":2056},{"type":15,"tag":252,"props":59298,"children":59299},{"class":254,"line":2182},[59300],{"type":15,"tag":252,"props":59301,"children":59302},{"style":3287},[59303],{"type":21,"value":21839},{"type":15,"tag":252,"props":59305,"children":59306},{"class":254,"line":2190},[59307,59311,59315,59319,59323,59327],{"type":15,"tag":252,"props":59308,"children":59309},{"style":276},[59310],{"type":21,"value":57469},{"type":15,"tag":252,"props":59312,"children":59313},{"style":601},[59314],{"type":21,"value":432},{"type":15,"tag":252,"props":59316,"children":59317},{"style":447},[59318],{"type":21,"value":930},{"type":15,"tag":252,"props":59320,"children":59321},{"style":601},[59322],{"type":21,"value":432},{"type":15,"tag":252,"props":59324,"children":59325},{"style":259},[59326],{"type":21,"value":1595},{"type":15,"tag":252,"props":59328,"children":59329},{"style":447},[59330],{"type":21,"value":53696},{"type":15,"tag":252,"props":59332,"children":59333},{"class":254,"line":2222},[59334],{"type":15,"tag":252,"props":59335,"children":59336},{"emptyLinePlaceholder":2053},[59337],{"type":21,"value":2056},{"type":15,"tag":252,"props":59339,"children":59340},{"class":254,"line":2270},[59341,59345,59349,59354,59358,59363],{"type":15,"tag":252,"props":59342,"children":59343},{"style":276},[59344],{"type":21,"value":57469},{"type":15,"tag":252,"props":59346,"children":59347},{"style":601},[59348],{"type":21,"value":432},{"type":15,"tag":252,"props":59350,"children":59351},{"style":447},[59352],{"type":21,"value":59353},"local_vars",{"type":15,"tag":252,"props":59355,"children":59356},{"style":601},[59357],{"type":21,"value":432},{"type":15,"tag":252,"props":59359,"children":59360},{"style":259},[59361],{"type":21,"value":59362},"clear",{"type":15,"tag":252,"props":59364,"children":59365},{"style":447},[59366],{"type":21,"value":814},{"type":15,"tag":252,"props":59368,"children":59369},{"class":254,"line":2302},[59370,59374,59379,59383],{"type":15,"tag":252,"props":59371,"children":59372},{"style":601},[59373],{"type":21,"value":16116},{"type":15,"tag":252,"props":59375,"children":59376},{"style":447},[59377],{"type":21,"value":59378}," (identifier, var_type) ",{"type":15,"tag":252,"props":59380,"children":59381},{"style":601},[59382],{"type":21,"value":16126},{"type":15,"tag":252,"props":59384,"children":59385},{"style":447},[59386],{"type":21,"value":59387}," locals {\n",{"type":15,"tag":252,"props":59389,"children":59390},{"class":254,"line":2310},[59391,59395],{"type":15,"tag":252,"props":59392,"children":59393},{"style":601},[59394],{"type":21,"value":12717},{"type":15,"tag":252,"props":59396,"children":59397},{"style":447},[59398],{"type":21,"value":59399}," var_type {\n",{"type":15,"tag":252,"props":59401,"children":59402},{"class":254,"line":2370},[59403,59407,59411,59415,59419,59423,59427],{"type":15,"tag":252,"props":59404,"children":59405},{"style":259},[59406],{"type":21,"value":18575},{"type":15,"tag":252,"props":59408,"children":59409},{"style":601},[59410],{"type":21,"value":804},{"type":15,"tag":252,"props":59412,"children":59413},{"style":259},[59414],{"type":21,"value":55861},{"type":15,"tag":252,"props":59416,"children":59417},{"style":601},[59418],{"type":21,"value":804},{"type":15,"tag":252,"props":59420,"children":59421},{"style":259},[59422],{"type":21,"value":14888},{"type":15,"tag":252,"props":59424,"children":59425},{"style":601},[59426],{"type":21,"value":9226},{"type":15,"tag":252,"props":59428,"children":59429},{"style":447},[59430],{"type":21,"value":3769},{"type":15,"tag":252,"props":59432,"children":59433},{"class":254,"line":2418},[59434,59438,59443,59447,59451,59455,59459],{"type":15,"tag":252,"props":59435,"children":59436},{"style":601},[59437],{"type":21,"value":13283},{"type":15,"tag":252,"props":59439,"children":59440},{"style":447},[59441],{"type":21,"value":59442}," int_type ",{"type":15,"tag":252,"props":59444,"children":59445},{"style":601},[59446],{"type":21,"value":614},{"type":15,"tag":252,"props":59448,"children":59449},{"style":276},[59450],{"type":21,"value":7244},{"type":15,"tag":252,"props":59452,"children":59453},{"style":601},[59454],{"type":21,"value":432},{"type":15,"tag":252,"props":59456,"children":59457},{"style":259},[59458],{"type":21,"value":18612},{"type":15,"tag":252,"props":59460,"children":59461},{"style":447},[59462],{"type":21,"value":814},{"type":15,"tag":252,"props":59464,"children":59465},{"class":254,"line":2426},[59466,59470,59475,59479],{"type":15,"tag":252,"props":59467,"children":59468},{"style":601},[59469],{"type":21,"value":13283},{"type":15,"tag":252,"props":59471,"children":59472},{"style":447},[59473],{"type":21,"value":59474}," var ",{"type":15,"tag":252,"props":59476,"children":59477},{"style":601},[59478],{"type":21,"value":614},{"type":15,"tag":252,"props":59480,"children":59481},{"style":276},[59482],{"type":21,"value":18902},{"type":15,"tag":252,"props":59484,"children":59485},{"class":254,"line":2474},[59486,59490],{"type":15,"tag":252,"props":59487,"children":59488},{"style":601},[59489],{"type":21,"value":26477},{"type":15,"tag":252,"props":59491,"children":59492},{"style":447},[59493],{"type":21,"value":18914},{"type":15,"tag":252,"props":59495,"children":59496},{"class":254,"line":2522},[59497,59501,59505,59510,59514,59518,59522,59527,59532,59536,59540],{"type":15,"tag":252,"props":59498,"children":59499},{"style":601},[59500],{"type":21,"value":26477},{"type":15,"tag":252,"props":59502,"children":59503},{"style":259},[59504],{"type":21,"value":50641},{"type":15,"tag":252,"props":59506,"children":59507},{"style":447},[59508],{"type":21,"value":59509},"(int_type, ",{"type":15,"tag":252,"props":59511,"children":59512},{"style":601},[59513],{"type":21,"value":1171},{"type":15,"tag":252,"props":59515,"children":59516},{"style":259},[59517],{"type":21,"value":10212},{"type":15,"tag":252,"props":59519,"children":59520},{"style":447},[59521],{"type":21,"value":849},{"type":15,"tag":252,"props":59523,"children":59524},{"style":265},[59525],{"type":21,"value":59526},"\"var_{}\"",{"type":15,"tag":252,"props":59528,"children":59529},{"style":447},[59530],{"type":21,"value":59531},", identifier",{"type":15,"tag":252,"props":59533,"children":59534},{"style":601},[59535],{"type":21,"value":432},{"type":15,"tag":252,"props":59537,"children":59538},{"style":276},[59539],{"type":21,"value":1901},{"type":15,"tag":252,"props":59541,"children":59542},{"style":447},[59543],{"type":21,"value":10065},{"type":15,"tag":252,"props":59545,"children":59546},{"class":254,"line":2530},[59547,59551,59555,59559,59563,59567,59571,59575],{"type":15,"tag":252,"props":59548,"children":59549},{"style":276},[59550],{"type":21,"value":8765},{"type":15,"tag":252,"props":59552,"children":59553},{"style":601},[59554],{"type":21,"value":432},{"type":15,"tag":252,"props":59556,"children":59557},{"style":447},[59558],{"type":21,"value":59353},{"type":15,"tag":252,"props":59560,"children":59561},{"style":601},[59562],{"type":21,"value":432},{"type":15,"tag":252,"props":59564,"children":59565},{"style":259},[59566],{"type":21,"value":57764},{"type":15,"tag":252,"props":59568,"children":59569},{"style":447},[59570],{"type":21,"value":849},{"type":15,"tag":252,"props":59572,"children":59573},{"style":601},[59574],{"type":21,"value":8752},{"type":15,"tag":252,"props":59576,"children":59577},{"style":447},[59578],{"type":21,"value":59579},"identifier, var);\n",{"type":15,"tag":252,"props":59581,"children":59582},{"class":254,"line":2570},[59583],{"type":15,"tag":252,"props":59584,"children":59585},{"style":447},[59586],{"type":21,"value":8814},{"type":15,"tag":252,"props":59588,"children":59589},{"class":254,"line":2591},[59590,59594,59598,59602,59606,59610,59614],{"type":15,"tag":252,"props":59591,"children":59592},{"style":259},[59593],{"type":21,"value":18575},{"type":15,"tag":252,"props":59595,"children":59596},{"style":601},[59597],{"type":21,"value":804},{"type":15,"tag":252,"props":59599,"children":59600},{"style":259},[59601],{"type":21,"value":55861},{"type":15,"tag":252,"props":59603,"children":59604},{"style":601},[59605],{"type":21,"value":804},{"type":15,"tag":252,"props":59607,"children":59608},{"style":259},[59609],{"type":21,"value":27449},{"type":15,"tag":252,"props":59611,"children":59612},{"style":601},[59613],{"type":21,"value":9226},{"type":15,"tag":252,"props":59615,"children":59616},{"style":447},[59617],{"type":21,"value":3769},{"type":15,"tag":252,"props":59619,"children":59620},{"class":254,"line":2599},[59621,59625,59630,59634,59638,59642,59646,59650,59654],{"type":15,"tag":252,"props":59622,"children":59623},{"style":601},[59624],{"type":21,"value":13283},{"type":15,"tag":252,"props":59626,"children":59627},{"style":447},[59628],{"type":21,"value":59629}," bool_type ",{"type":15,"tag":252,"props":59631,"children":59632},{"style":601},[59633],{"type":21,"value":614},{"type":15,"tag":252,"props":59635,"children":59636},{"style":276},[59637],{"type":21,"value":7244},{"type":15,"tag":252,"props":59639,"children":59640},{"style":601},[59641],{"type":21,"value":432},{"type":15,"tag":252,"props":59643,"children":59644},{"style":447},[59645],{"type":21,"value":908},{"type":15,"tag":252,"props":59647,"children":59648},{"style":601},[59649],{"type":21,"value":432},{"type":15,"tag":252,"props":59651,"children":59652},{"style":259},[59653],{"type":21,"value":38333},{"type":15,"tag":252,"props":59655,"children":59656},{"style":447},[59657],{"type":21,"value":814},{"type":15,"tag":252,"props":59659,"children":59660},{"class":254,"line":2647},[59661,59665,59669,59673],{"type":15,"tag":252,"props":59662,"children":59663},{"style":601},[59664],{"type":21,"value":13283},{"type":15,"tag":252,"props":59666,"children":59667},{"style":447},[59668],{"type":21,"value":59474},{"type":15,"tag":252,"props":59670,"children":59671},{"style":601},[59672],{"type":21,"value":614},{"type":15,"tag":252,"props":59674,"children":59675},{"style":276},[59676],{"type":21,"value":18902},{"type":15,"tag":252,"props":59678,"children":59679},{"class":254,"line":2679},[59680,59684],{"type":15,"tag":252,"props":59681,"children":59682},{"style":601},[59683],{"type":21,"value":26477},{"type":15,"tag":252,"props":59685,"children":59686},{"style":447},[59687],{"type":21,"value":18914},{"type":15,"tag":252,"props":59689,"children":59690},{"class":254,"line":2727},[59691,59695,59699,59704,59708,59712,59716,59720,59724,59728,59732],{"type":15,"tag":252,"props":59692,"children":59693},{"style":601},[59694],{"type":21,"value":26477},{"type":15,"tag":252,"props":59696,"children":59697},{"style":259},[59698],{"type":21,"value":50641},{"type":15,"tag":252,"props":59700,"children":59701},{"style":447},[59702],{"type":21,"value":59703},"(bool_type, ",{"type":15,"tag":252,"props":59705,"children":59706},{"style":601},[59707],{"type":21,"value":1171},{"type":15,"tag":252,"props":59709,"children":59710},{"style":259},[59711],{"type":21,"value":10212},{"type":15,"tag":252,"props":59713,"children":59714},{"style":447},[59715],{"type":21,"value":849},{"type":15,"tag":252,"props":59717,"children":59718},{"style":265},[59719],{"type":21,"value":59526},{"type":15,"tag":252,"props":59721,"children":59722},{"style":447},[59723],{"type":21,"value":59531},{"type":15,"tag":252,"props":59725,"children":59726},{"style":601},[59727],{"type":21,"value":432},{"type":15,"tag":252,"props":59729,"children":59730},{"style":276},[59731],{"type":21,"value":1901},{"type":15,"tag":252,"props":59733,"children":59734},{"style":447},[59735],{"type":21,"value":10065},{"type":15,"tag":252,"props":59737,"children":59738},{"class":254,"line":2735},[59739,59743,59747,59751,59755,59759,59763,59767],{"type":15,"tag":252,"props":59740,"children":59741},{"style":276},[59742],{"type":21,"value":8765},{"type":15,"tag":252,"props":59744,"children":59745},{"style":601},[59746],{"type":21,"value":432},{"type":15,"tag":252,"props":59748,"children":59749},{"style":447},[59750],{"type":21,"value":59353},{"type":15,"tag":252,"props":59752,"children":59753},{"style":601},[59754],{"type":21,"value":432},{"type":15,"tag":252,"props":59756,"children":59757},{"style":259},[59758],{"type":21,"value":57764},{"type":15,"tag":252,"props":59760,"children":59761},{"style":447},[59762],{"type":21,"value":849},{"type":15,"tag":252,"props":59764,"children":59765},{"style":601},[59766],{"type":21,"value":8752},{"type":15,"tag":252,"props":59768,"children":59769},{"style":447},[59770],{"type":21,"value":59579},{"type":15,"tag":252,"props":59772,"children":59773},{"class":254,"line":2799},[59774],{"type":15,"tag":252,"props":59775,"children":59776},{"style":447},[59777],{"type":21,"value":8814},{"type":15,"tag":252,"props":59779,"children":59780},{"class":254,"line":2807},[59781],{"type":15,"tag":252,"props":59782,"children":59783},{"style":447},[59784],{"type":21,"value":4087},{"type":15,"tag":252,"props":59786,"children":59787},{"class":254,"line":2848},[59788],{"type":15,"tag":252,"props":59789,"children":59790},{"style":447},[59791],{"type":21,"value":4095},{"type":15,"tag":252,"props":59793,"children":59794},{"class":254,"line":4645},[59795],{"type":15,"tag":252,"props":59796,"children":59797},{"style":3287},[59798],{"type":21,"value":21839},{"type":15,"tag":252,"props":59800,"children":59801},{"class":254,"line":4654},[59802],{"type":15,"tag":252,"props":59803,"children":59804},{"style":447},[59805],{"type":21,"value":2854},{"type":15,"tag":23,"props":59807,"children":59808},{},[59809,59811,59816,59818,59823],{"type":21,"value":59810},"Here we create all those ",{"type":15,"tag":81,"props":59812,"children":59814},{"className":59813},[],[59815],{"type":21,"value":52668},{"type":21,"value":59817},"s at the start of the function, and store a reference to the pointers in the ",{"type":15,"tag":81,"props":59819,"children":59821},{"className":59820},[],[59822],{"type":21,"value":59353},{"type":21,"value":59824}," hash map.\nThen in the assignment we can lookup the pointer in the hashmap and use it:",{"type":15,"tag":95,"props":59826,"children":59828},{"code":59827,"language":772,"meta":8,"className":773,"style":8},"ir::Statement::Assignment(identifier, statement) => {\n    let pointer = self.local_vars.get(identifier).unwrap();\n\n    match statement {\n        ir::AssignmentStatement::Int(expression) => {\n            let value = self.compile_int_expression(expression);\n            self.builder.build_store(*pointer, value);\n        }\n        ir::AssignmentStatement::Boolean(expression) => {\n            let value = self.compile_bool_expression(expression);\n            self.builder.build_store(*pointer, value);\n        }\n    }\n}\n",[59829],{"type":15,"tag":81,"props":59830,"children":59831},{"__ignoreMap":8},[59832,59868,59920,59927,59938,59973,60005,60041,60048,60083,60114,60149,60156,60163],{"type":15,"tag":252,"props":59833,"children":59834},{"class":254,"line":255},[59835,59839,59843,59847,59851,59855,59860,59864],{"type":15,"tag":252,"props":59836,"children":59837},{"style":259},[59838],{"type":21,"value":14557},{"type":15,"tag":252,"props":59840,"children":59841},{"style":601},[59842],{"type":21,"value":804},{"type":15,"tag":252,"props":59844,"children":59845},{"style":259},[59846],{"type":21,"value":5709},{"type":15,"tag":252,"props":59848,"children":59849},{"style":601},[59850],{"type":21,"value":804},{"type":15,"tag":252,"props":59852,"children":59853},{"style":259},[59854],{"type":21,"value":54638},{"type":15,"tag":252,"props":59856,"children":59857},{"style":447},[59858],{"type":21,"value":59859},"(identifier, statement) ",{"type":15,"tag":252,"props":59861,"children":59862},{"style":601},[59863],{"type":21,"value":4054},{"type":15,"tag":252,"props":59865,"children":59866},{"style":447},[59867],{"type":21,"value":3769},{"type":15,"tag":252,"props":59869,"children":59870},{"class":254,"line":334},[59871,59875,59879,59883,59887,59891,59895,59899,59903,59908,59912,59916],{"type":15,"tag":252,"props":59872,"children":59873},{"style":601},[59874],{"type":21,"value":2083},{"type":15,"tag":252,"props":59876,"children":59877},{"style":447},[59878],{"type":21,"value":49966},{"type":15,"tag":252,"props":59880,"children":59881},{"style":601},[59882],{"type":21,"value":614},{"type":15,"tag":252,"props":59884,"children":59885},{"style":276},[59886],{"type":21,"value":7244},{"type":15,"tag":252,"props":59888,"children":59889},{"style":601},[59890],{"type":21,"value":432},{"type":15,"tag":252,"props":59892,"children":59893},{"style":447},[59894],{"type":21,"value":59353},{"type":15,"tag":252,"props":59896,"children":59897},{"style":601},[59898],{"type":21,"value":432},{"type":15,"tag":252,"props":59900,"children":59901},{"style":259},[59902],{"type":21,"value":40140},{"type":15,"tag":252,"props":59904,"children":59905},{"style":447},[59906],{"type":21,"value":59907},"(identifier)",{"type":15,"tag":252,"props":59909,"children":59910},{"style":601},[59911],{"type":21,"value":432},{"type":15,"tag":252,"props":59913,"children":59914},{"style":259},[59915],{"type":21,"value":1984},{"type":15,"tag":252,"props":59917,"children":59918},{"style":447},[59919],{"type":21,"value":814},{"type":15,"tag":252,"props":59921,"children":59922},{"class":254,"line":390},[59923],{"type":15,"tag":252,"props":59924,"children":59925},{"emptyLinePlaceholder":2053},[59926],{"type":21,"value":2056},{"type":15,"tag":252,"props":59928,"children":59929},{"class":254,"line":2077},[59930,59934],{"type":15,"tag":252,"props":59931,"children":59932},{"style":601},[59933],{"type":21,"value":4014},{"type":15,"tag":252,"props":59935,"children":59936},{"style":447},[59937],{"type":21,"value":15848},{"type":15,"tag":252,"props":59939,"children":59940},{"class":254,"line":2110},[59941,59945,59949,59953,59957,59961,59965,59969],{"type":15,"tag":252,"props":59942,"children":59943},{"style":259},[59944],{"type":21,"value":45314},{"type":15,"tag":252,"props":59946,"children":59947},{"style":601},[59948],{"type":21,"value":804},{"type":15,"tag":252,"props":59950,"children":59951},{"style":259},[59952],{"type":21,"value":55503},{"type":15,"tag":252,"props":59954,"children":59955},{"style":601},[59956],{"type":21,"value":804},{"type":15,"tag":252,"props":59958,"children":59959},{"style":259},[59960],{"type":21,"value":14888},{"type":15,"tag":252,"props":59962,"children":59963},{"style":447},[59964],{"type":21,"value":15876},{"type":15,"tag":252,"props":59966,"children":59967},{"style":601},[59968],{"type":21,"value":4054},{"type":15,"tag":252,"props":59970,"children":59971},{"style":447},[59972],{"type":21,"value":3769},{"type":15,"tag":252,"props":59974,"children":59975},{"class":254,"line":2150},[59976,59980,59985,59989,59993,59997,60001],{"type":15,"tag":252,"props":59977,"children":59978},{"style":601},[59979],{"type":21,"value":15892},{"type":15,"tag":252,"props":59981,"children":59982},{"style":447},[59983],{"type":21,"value":59984}," value ",{"type":15,"tag":252,"props":59986,"children":59987},{"style":601},[59988],{"type":21,"value":614},{"type":15,"tag":252,"props":59990,"children":59991},{"style":276},[59992],{"type":21,"value":7244},{"type":15,"tag":252,"props":59994,"children":59995},{"style":601},[59996],{"type":21,"value":432},{"type":15,"tag":252,"props":59998,"children":59999},{"style":259},[60000],{"type":21,"value":19036},{"type":15,"tag":252,"props":60002,"children":60003},{"style":447},[60004],{"type":21,"value":33073},{"type":15,"tag":252,"props":60006,"children":60007},{"class":254,"line":2182},[60008,60012,60016,60020,60024,60028,60032,60036],{"type":15,"tag":252,"props":60009,"children":60010},{"style":276},[60011],{"type":21,"value":8332},{"type":15,"tag":252,"props":60013,"children":60014},{"style":601},[60015],{"type":21,"value":432},{"type":15,"tag":252,"props":60017,"children":60018},{"style":447},[60019],{"type":21,"value":930},{"type":15,"tag":252,"props":60021,"children":60022},{"style":601},[60023],{"type":21,"value":432},{"type":15,"tag":252,"props":60025,"children":60026},{"style":259},[60027],{"type":21,"value":50932},{"type":15,"tag":252,"props":60029,"children":60030},{"style":447},[60031],{"type":21,"value":849},{"type":15,"tag":252,"props":60033,"children":60034},{"style":601},[60035],{"type":21,"value":8752},{"type":15,"tag":252,"props":60037,"children":60038},{"style":447},[60039],{"type":21,"value":60040},"pointer, value);\n",{"type":15,"tag":252,"props":60042,"children":60043},{"class":254,"line":2190},[60044],{"type":15,"tag":252,"props":60045,"children":60046},{"style":447},[60047],{"type":21,"value":4087},{"type":15,"tag":252,"props":60049,"children":60050},{"class":254,"line":2222},[60051,60055,60059,60063,60067,60071,60075,60079],{"type":15,"tag":252,"props":60052,"children":60053},{"style":259},[60054],{"type":21,"value":45314},{"type":15,"tag":252,"props":60056,"children":60057},{"style":601},[60058],{"type":21,"value":804},{"type":15,"tag":252,"props":60060,"children":60061},{"style":259},[60062],{"type":21,"value":55503},{"type":15,"tag":252,"props":60064,"children":60065},{"style":601},[60066],{"type":21,"value":804},{"type":15,"tag":252,"props":60068,"children":60069},{"style":259},[60070],{"type":21,"value":27449},{"type":15,"tag":252,"props":60072,"children":60073},{"style":447},[60074],{"type":21,"value":15876},{"type":15,"tag":252,"props":60076,"children":60077},{"style":601},[60078],{"type":21,"value":4054},{"type":15,"tag":252,"props":60080,"children":60081},{"style":447},[60082],{"type":21,"value":3769},{"type":15,"tag":252,"props":60084,"children":60085},{"class":254,"line":2270},[60086,60090,60094,60098,60102,60106,60110],{"type":15,"tag":252,"props":60087,"children":60088},{"style":601},[60089],{"type":21,"value":15892},{"type":15,"tag":252,"props":60091,"children":60092},{"style":447},[60093],{"type":21,"value":59984},{"type":15,"tag":252,"props":60095,"children":60096},{"style":601},[60097],{"type":21,"value":614},{"type":15,"tag":252,"props":60099,"children":60100},{"style":276},[60101],{"type":21,"value":7244},{"type":15,"tag":252,"props":60103,"children":60104},{"style":601},[60105],{"type":21,"value":432},{"type":15,"tag":252,"props":60107,"children":60108},{"style":259},[60109],{"type":21,"value":29798},{"type":15,"tag":252,"props":60111,"children":60112},{"style":447},[60113],{"type":21,"value":33073},{"type":15,"tag":252,"props":60115,"children":60116},{"class":254,"line":2302},[60117,60121,60125,60129,60133,60137,60141,60145],{"type":15,"tag":252,"props":60118,"children":60119},{"style":276},[60120],{"type":21,"value":8332},{"type":15,"tag":252,"props":60122,"children":60123},{"style":601},[60124],{"type":21,"value":432},{"type":15,"tag":252,"props":60126,"children":60127},{"style":447},[60128],{"type":21,"value":930},{"type":15,"tag":252,"props":60130,"children":60131},{"style":601},[60132],{"type":21,"value":432},{"type":15,"tag":252,"props":60134,"children":60135},{"style":259},[60136],{"type":21,"value":50932},{"type":15,"tag":252,"props":60138,"children":60139},{"style":447},[60140],{"type":21,"value":849},{"type":15,"tag":252,"props":60142,"children":60143},{"style":601},[60144],{"type":21,"value":8752},{"type":15,"tag":252,"props":60146,"children":60147},{"style":447},[60148],{"type":21,"value":60040},{"type":15,"tag":252,"props":60150,"children":60151},{"class":254,"line":2310},[60152],{"type":15,"tag":252,"props":60153,"children":60154},{"style":447},[60155],{"type":21,"value":4087},{"type":15,"tag":252,"props":60157,"children":60158},{"class":254,"line":2370},[60159],{"type":15,"tag":252,"props":60160,"children":60161},{"style":447},[60162],{"type":21,"value":4095},{"type":15,"tag":252,"props":60164,"children":60165},{"class":254,"line":2418},[60166],{"type":15,"tag":252,"props":60167,"children":60168},{"style":447},[60169],{"type":21,"value":2854},{"type":15,"tag":23,"props":60171,"children":60172},{},[60173],{"type":21,"value":60174},"And when we have a var expression we just load the type (and convert it to the expected one):",{"type":15,"tag":95,"props":60176,"children":60178},{"code":60177,"language":772,"meta":8,"className":773,"style":8},"ir::BooleanExpression::Var(identifier) => {\n    let pointer = self.local_vars.get(identifier).unwrap();\n    self.builder\n        .build_load(self.context.bool_type(), *pointer, \"Load\")\n        .into_int_value()\n}\n",[60179],{"type":15,"tag":81,"props":60180,"children":60181},{"__ignoreMap":8},[60182,60218,60269,60284,60341,60356],{"type":15,"tag":252,"props":60183,"children":60184},{"class":254,"line":255},[60185,60189,60193,60197,60201,60205,60210,60214],{"type":15,"tag":252,"props":60186,"children":60187},{"style":259},[60188],{"type":21,"value":14557},{"type":15,"tag":252,"props":60190,"children":60191},{"style":601},[60192],{"type":21,"value":804},{"type":15,"tag":252,"props":60194,"children":60195},{"style":259},[60196],{"type":21,"value":27991},{"type":15,"tag":252,"props":60198,"children":60199},{"style":601},[60200],{"type":21,"value":804},{"type":15,"tag":252,"props":60202,"children":60203},{"style":259},[60204],{"type":21,"value":58734},{"type":15,"tag":252,"props":60206,"children":60207},{"style":447},[60208],{"type":21,"value":60209},"(identifier) ",{"type":15,"tag":252,"props":60211,"children":60212},{"style":601},[60213],{"type":21,"value":4054},{"type":15,"tag":252,"props":60215,"children":60216},{"style":447},[60217],{"type":21,"value":3769},{"type":15,"tag":252,"props":60219,"children":60220},{"class":254,"line":334},[60221,60225,60229,60233,60237,60241,60245,60249,60253,60257,60261,60265],{"type":15,"tag":252,"props":60222,"children":60223},{"style":601},[60224],{"type":21,"value":2083},{"type":15,"tag":252,"props":60226,"children":60227},{"style":447},[60228],{"type":21,"value":49966},{"type":15,"tag":252,"props":60230,"children":60231},{"style":601},[60232],{"type":21,"value":614},{"type":15,"tag":252,"props":60234,"children":60235},{"style":276},[60236],{"type":21,"value":7244},{"type":15,"tag":252,"props":60238,"children":60239},{"style":601},[60240],{"type":21,"value":432},{"type":15,"tag":252,"props":60242,"children":60243},{"style":447},[60244],{"type":21,"value":59353},{"type":15,"tag":252,"props":60246,"children":60247},{"style":601},[60248],{"type":21,"value":432},{"type":15,"tag":252,"props":60250,"children":60251},{"style":259},[60252],{"type":21,"value":40140},{"type":15,"tag":252,"props":60254,"children":60255},{"style":447},[60256],{"type":21,"value":59907},{"type":15,"tag":252,"props":60258,"children":60259},{"style":601},[60260],{"type":21,"value":432},{"type":15,"tag":252,"props":60262,"children":60263},{"style":259},[60264],{"type":21,"value":1984},{"type":15,"tag":252,"props":60266,"children":60267},{"style":447},[60268],{"type":21,"value":814},{"type":15,"tag":252,"props":60270,"children":60271},{"class":254,"line":390},[60272,60276,60280],{"type":15,"tag":252,"props":60273,"children":60274},{"style":276},[60275],{"type":21,"value":57469},{"type":15,"tag":252,"props":60277,"children":60278},{"style":601},[60279],{"type":21,"value":432},{"type":15,"tag":252,"props":60281,"children":60282},{"style":447},[60283],{"type":21,"value":18914},{"type":15,"tag":252,"props":60285,"children":60286},{"class":254,"line":2077},[60287,60291,60295,60299,60303,60307,60311,60315,60319,60323,60327,60332,60337],{"type":15,"tag":252,"props":60288,"children":60289},{"style":601},[60290],{"type":21,"value":21144},{"type":15,"tag":252,"props":60292,"children":60293},{"style":259},[60294],{"type":21,"value":51304},{"type":15,"tag":252,"props":60296,"children":60297},{"style":447},[60298],{"type":21,"value":849},{"type":15,"tag":252,"props":60300,"children":60301},{"style":276},[60302],{"type":21,"value":7432},{"type":15,"tag":252,"props":60304,"children":60305},{"style":601},[60306],{"type":21,"value":432},{"type":15,"tag":252,"props":60308,"children":60309},{"style":447},[60310],{"type":21,"value":908},{"type":15,"tag":252,"props":60312,"children":60313},{"style":601},[60314],{"type":21,"value":432},{"type":15,"tag":252,"props":60316,"children":60317},{"style":259},[60318],{"type":21,"value":38333},{"type":15,"tag":252,"props":60320,"children":60321},{"style":447},[60322],{"type":21,"value":20357},{"type":15,"tag":252,"props":60324,"children":60325},{"style":601},[60326],{"type":21,"value":8752},{"type":15,"tag":252,"props":60328,"children":60329},{"style":447},[60330],{"type":21,"value":60331},"pointer, ",{"type":15,"tag":252,"props":60333,"children":60334},{"style":265},[60335],{"type":21,"value":60336},"\"Load\"",{"type":15,"tag":252,"props":60338,"children":60339},{"style":447},[60340],{"type":21,"value":7327},{"type":15,"tag":252,"props":60342,"children":60343},{"class":254,"line":2110},[60344,60348,60352],{"type":15,"tag":252,"props":60345,"children":60346},{"style":601},[60347],{"type":21,"value":21144},{"type":15,"tag":252,"props":60349,"children":60350},{"style":259},[60351],{"type":21,"value":51354},{"type":15,"tag":252,"props":60353,"children":60354},{"style":447},[60355],{"type":21,"value":10672},{"type":15,"tag":252,"props":60357,"children":60358},{"class":254,"line":2150},[60359],{"type":15,"tag":252,"props":60360,"children":60361},{"style":447},[60362],{"type":21,"value":2854},{"type":15,"tag":210,"props":60364,"children":60365},{},[60366],{"type":15,"tag":23,"props":60367,"children":60368},{},[60369],{"type":21,"value":60370},"It is the same for integers",{"type":15,"tag":23,"props":60372,"children":60373},{},[60374],{"type":21,"value":60375},"And now we should have variables, yay!",{"type":15,"tag":192,"props":60377,"children":60379},{"id":60378},"fixing-a-pretty-big-flaw-in-our-boolean-logic",[60380],{"type":21,"value":60381},"Fixing a pretty big flaw in our boolean logic",{"type":15,"tag":23,"props":60383,"children":60384},{},[60385,60387,60392,60394,60399],{"type":21,"value":60386},"When we did the boolean short circuiting logic in the last blog post we just used ",{"type":15,"tag":81,"props":60388,"children":60390},{"className":60389},[],[60391],{"type":21,"value":52668},{"type":21,"value":60393}," at the operator location, but as we discussed above this might put the ",{"type":15,"tag":81,"props":60395,"children":60397},{"className":60396},[],[60398],{"type":21,"value":52668},{"type":21,"value":60400}," in a loop, which would be really bad. to solve this we will also add vars when we analyze a boolean operation and use that var when doing short circuiting.",{"type":15,"tag":59,"props":60402,"children":60404},{"id":60403},"type-resolution-1",[60405],{"type":21,"value":55173},{"type":15,"tag":23,"props":60407,"children":60408},{},[60409],{"type":21,"value":60410},"We will add a variable reference to the boolean operator ir:",{"type":15,"tag":95,"props":60412,"children":60414},{"code":60413,"language":772,"meta":8,"className":773,"style":8},"#[derive(Debug)]\npub enum BooleanExpression {\n    // ...\n    Operator(\n        VariableIdentifier,\n        Box\u003CBooleanExpression>,\n        BooleanOperator,\n        Box\u003CBooleanExpression>,\n    ),\n}\n",[60415],{"type":15,"tag":81,"props":60416,"children":60417},{"__ignoreMap":8},[60418,60433,60452,60459,60471,60483,60503,60515,60534,60542],{"type":15,"tag":252,"props":60419,"children":60420},{"class":254,"line":255},[60421,60425,60429],{"type":15,"tag":252,"props":60422,"children":60423},{"style":447},[60424],{"type":21,"value":3742},{"type":15,"tag":252,"props":60426,"children":60427},{"style":259},[60428],{"type":21,"value":5788},{"type":15,"tag":252,"props":60430,"children":60431},{"style":447},[60432],{"type":21,"value":3751},{"type":15,"tag":252,"props":60434,"children":60435},{"class":254,"line":334},[60436,60440,60444,60448],{"type":15,"tag":252,"props":60437,"children":60438},{"style":601},[60439],{"type":21,"value":4740},{"type":15,"tag":252,"props":60441,"children":60442},{"style":601},[60443],{"type":21,"value":5869},{"type":15,"tag":252,"props":60445,"children":60446},{"style":259},[60447],{"type":21,"value":28040},{"type":15,"tag":252,"props":60449,"children":60450},{"style":447},[60451],{"type":21,"value":3769},{"type":15,"tag":252,"props":60453,"children":60454},{"class":254,"line":390},[60455],{"type":15,"tag":252,"props":60456,"children":60457},{"style":3287},[60458],{"type":21,"value":21839},{"type":15,"tag":252,"props":60460,"children":60461},{"class":254,"line":2077},[60462,60467],{"type":15,"tag":252,"props":60463,"children":60464},{"style":259},[60465],{"type":21,"value":60466},"    Operator",{"type":15,"tag":252,"props":60468,"children":60469},{"style":447},[60470],{"type":21,"value":14196},{"type":15,"tag":252,"props":60472,"children":60473},{"class":254,"line":2110},[60474,60479],{"type":15,"tag":252,"props":60475,"children":60476},{"style":259},[60477],{"type":21,"value":60478},"        VariableIdentifier",{"type":15,"tag":252,"props":60480,"children":60481},{"style":447},[60482],{"type":21,"value":3879},{"type":15,"tag":252,"props":60484,"children":60485},{"class":254,"line":2150},[60486,60491,60495,60499],{"type":15,"tag":252,"props":60487,"children":60488},{"style":259},[60489],{"type":21,"value":60490},"        Box",{"type":15,"tag":252,"props":60492,"children":60493},{"style":447},[60494],{"type":21,"value":5826},{"type":15,"tag":252,"props":60496,"children":60497},{"style":259},[60498],{"type":21,"value":27991},{"type":15,"tag":252,"props":60500,"children":60501},{"style":447},[60502],{"type":21,"value":7608},{"type":15,"tag":252,"props":60504,"children":60505},{"class":254,"line":2182},[60506,60511],{"type":15,"tag":252,"props":60507,"children":60508},{"style":259},[60509],{"type":21,"value":60510},"        BooleanOperator",{"type":15,"tag":252,"props":60512,"children":60513},{"style":447},[60514],{"type":21,"value":3879},{"type":15,"tag":252,"props":60516,"children":60517},{"class":254,"line":2190},[60518,60522,60526,60530],{"type":15,"tag":252,"props":60519,"children":60520},{"style":259},[60521],{"type":21,"value":60490},{"type":15,"tag":252,"props":60523,"children":60524},{"style":447},[60525],{"type":21,"value":5826},{"type":15,"tag":252,"props":60527,"children":60528},{"style":259},[60529],{"type":21,"value":27991},{"type":15,"tag":252,"props":60531,"children":60532},{"style":447},[60533],{"type":21,"value":7608},{"type":15,"tag":252,"props":60535,"children":60536},{"class":254,"line":2222},[60537],{"type":15,"tag":252,"props":60538,"children":60539},{"style":447},[60540],{"type":21,"value":60541},"    ),\n",{"type":15,"tag":252,"props":60543,"children":60544},{"class":254,"line":2270},[60545],{"type":15,"tag":252,"props":60546,"children":60547},{"style":447},[60548],{"type":21,"value":2854},{"type":15,"tag":23,"props":60550,"children":60551},{},[60552],{"type":21,"value":60553},"We will add a variable reference when we resolve a bool:",{"type":15,"tag":95,"props":60555,"children":60557},{"code":60556,"language":772,"meta":8,"className":773,"style":8},"let result_identifier = self.get_free_identifier();\nself.function_metadata\n    .as_mut()\n    .unwrap()\n    .locals\n    .push((result_identifier, ir::VarType::Boolean));\n\nOk(TypedExpression::Boolean(ir::BooleanExpression::Operator(\n    result_identifier,\n    Box::new(left),\n    op,\n    Box::new(right),\n)))\n",[60558],{"type":15,"tag":81,"props":60559,"children":60560},{"__ignoreMap":8},[60561,60593,60608,60624,60639,60650,60690,60697,60749,60757,60777,60785,60804],{"type":15,"tag":252,"props":60562,"children":60563},{"class":254,"line":255},[60564,60568,60573,60577,60581,60585,60589],{"type":15,"tag":252,"props":60565,"children":60566},{"style":601},[60567],{"type":21,"value":785},{"type":15,"tag":252,"props":60569,"children":60570},{"style":447},[60571],{"type":21,"value":60572}," result_identifier ",{"type":15,"tag":252,"props":60574,"children":60575},{"style":601},[60576],{"type":21,"value":614},{"type":15,"tag":252,"props":60578,"children":60579},{"style":276},[60580],{"type":21,"value":7244},{"type":15,"tag":252,"props":60582,"children":60583},{"style":601},[60584],{"type":21,"value":432},{"type":15,"tag":252,"props":60586,"children":60587},{"style":259},[60588],{"type":21,"value":57377},{"type":15,"tag":252,"props":60590,"children":60591},{"style":447},[60592],{"type":21,"value":814},{"type":15,"tag":252,"props":60594,"children":60595},{"class":254,"line":334},[60596,60600,60604],{"type":15,"tag":252,"props":60597,"children":60598},{"style":276},[60599],{"type":21,"value":7432},{"type":15,"tag":252,"props":60601,"children":60602},{"style":601},[60603],{"type":21,"value":432},{"type":15,"tag":252,"props":60605,"children":60606},{"style":447},[60607],{"type":21,"value":57478},{"type":15,"tag":252,"props":60609,"children":60610},{"class":254,"line":390},[60611,60616,60620],{"type":15,"tag":252,"props":60612,"children":60613},{"style":601},[60614],{"type":21,"value":60615},"    .",{"type":15,"tag":252,"props":60617,"children":60618},{"style":259},[60619],{"type":21,"value":57490},{"type":15,"tag":252,"props":60621,"children":60622},{"style":447},[60623],{"type":21,"value":10672},{"type":15,"tag":252,"props":60625,"children":60626},{"class":254,"line":2077},[60627,60631,60635],{"type":15,"tag":252,"props":60628,"children":60629},{"style":601},[60630],{"type":21,"value":60615},{"type":15,"tag":252,"props":60632,"children":60633},{"style":259},[60634],{"type":21,"value":1984},{"type":15,"tag":252,"props":60636,"children":60637},{"style":447},[60638],{"type":21,"value":10672},{"type":15,"tag":252,"props":60640,"children":60641},{"class":254,"line":2110},[60642,60646],{"type":15,"tag":252,"props":60643,"children":60644},{"style":601},[60645],{"type":21,"value":60615},{"type":15,"tag":252,"props":60647,"children":60648},{"style":447},[60649],{"type":21,"value":57521},{"type":15,"tag":252,"props":60651,"children":60652},{"class":254,"line":2150},[60653,60657,60661,60666,60670,60674,60678,60682,60686],{"type":15,"tag":252,"props":60654,"children":60655},{"style":601},[60656],{"type":21,"value":60615},{"type":15,"tag":252,"props":60658,"children":60659},{"style":259},[60660],{"type":21,"value":8743},{"type":15,"tag":252,"props":60662,"children":60663},{"style":447},[60664],{"type":21,"value":60665},"((result_identifier, ",{"type":15,"tag":252,"props":60667,"children":60668},{"style":259},[60669],{"type":21,"value":14557},{"type":15,"tag":252,"props":60671,"children":60672},{"style":601},[60673],{"type":21,"value":804},{"type":15,"tag":252,"props":60675,"children":60676},{"style":259},[60677],{"type":21,"value":55861},{"type":15,"tag":252,"props":60679,"children":60680},{"style":601},[60681],{"type":21,"value":804},{"type":15,"tag":252,"props":60683,"children":60684},{"style":259},[60685],{"type":21,"value":27449},{"type":15,"tag":252,"props":60687,"children":60688},{"style":447},[60689],{"type":21,"value":10065},{"type":15,"tag":252,"props":60691,"children":60692},{"class":254,"line":2182},[60693],{"type":15,"tag":252,"props":60694,"children":60695},{"emptyLinePlaceholder":2053},[60696],{"type":21,"value":2056},{"type":15,"tag":252,"props":60698,"children":60699},{"class":254,"line":2190},[60700,60705,60709,60713,60717,60721,60725,60729,60733,60737,60741,60745],{"type":15,"tag":252,"props":60701,"children":60702},{"style":259},[60703],{"type":21,"value":60704},"Ok",{"type":15,"tag":252,"props":60706,"children":60707},{"style":447},[60708],{"type":21,"value":849},{"type":15,"tag":252,"props":60710,"children":60711},{"style":259},[60712],{"type":21,"value":15281},{"type":15,"tag":252,"props":60714,"children":60715},{"style":601},[60716],{"type":21,"value":804},{"type":15,"tag":252,"props":60718,"children":60719},{"style":259},[60720],{"type":21,"value":27449},{"type":15,"tag":252,"props":60722,"children":60723},{"style":447},[60724],{"type":21,"value":849},{"type":15,"tag":252,"props":60726,"children":60727},{"style":259},[60728],{"type":21,"value":14557},{"type":15,"tag":252,"props":60730,"children":60731},{"style":601},[60732],{"type":21,"value":804},{"type":15,"tag":252,"props":60734,"children":60735},{"style":259},[60736],{"type":21,"value":27991},{"type":15,"tag":252,"props":60738,"children":60739},{"style":601},[60740],{"type":21,"value":804},{"type":15,"tag":252,"props":60742,"children":60743},{"style":259},[60744],{"type":21,"value":50326},{"type":15,"tag":252,"props":60746,"children":60747},{"style":447},[60748],{"type":21,"value":14196},{"type":15,"tag":252,"props":60750,"children":60751},{"class":254,"line":2222},[60752],{"type":15,"tag":252,"props":60753,"children":60754},{"style":447},[60755],{"type":21,"value":60756},"    result_identifier,\n",{"type":15,"tag":252,"props":60758,"children":60759},{"class":254,"line":2270},[60760,60765,60769,60773],{"type":15,"tag":252,"props":60761,"children":60762},{"style":259},[60763],{"type":21,"value":60764},"    Box",{"type":15,"tag":252,"props":60766,"children":60767},{"style":601},[60768],{"type":21,"value":804},{"type":15,"tag":252,"props":60770,"children":60771},{"style":259},[60772],{"type":21,"value":7761},{"type":15,"tag":252,"props":60774,"children":60775},{"style":447},[60776],{"type":21,"value":37667},{"type":15,"tag":252,"props":60778,"children":60779},{"class":254,"line":2302},[60780],{"type":15,"tag":252,"props":60781,"children":60782},{"style":447},[60783],{"type":21,"value":60784},"    op,\n",{"type":15,"tag":252,"props":60786,"children":60787},{"class":254,"line":2310},[60788,60792,60796,60800],{"type":15,"tag":252,"props":60789,"children":60790},{"style":259},[60791],{"type":21,"value":60764},{"type":15,"tag":252,"props":60793,"children":60794},{"style":601},[60795],{"type":21,"value":804},{"type":15,"tag":252,"props":60797,"children":60798},{"style":259},[60799],{"type":21,"value":7761},{"type":15,"tag":252,"props":60801,"children":60802},{"style":447},[60803],{"type":21,"value":37716},{"type":15,"tag":252,"props":60805,"children":60806},{"class":254,"line":2370},[60807],{"type":15,"tag":252,"props":60808,"children":60809},{"style":447},[60810],{"type":21,"value":6228},{"type":15,"tag":59,"props":60812,"children":60813},{"id":29095},[60814],{"type":21,"value":26061},{"type":15,"tag":23,"props":60816,"children":60817},{},[60818],{"type":21,"value":60819},"Now in the code gen instead of using a new pointer we will load one from the local vars:",{"type":15,"tag":95,"props":60821,"children":60823},{"code":60822,"language":772,"meta":8,"className":773,"style":8},"ir::BooleanExpression::Operator(result_identifier, left, op, right) => {\n    // ...\n    let pointer = *self.local_vars.get(result_identifier).unwrap();\n    // ...\n}\n",[60824],{"type":15,"tag":81,"props":60825,"children":60826},{"__ignoreMap":8},[60827,60863,60870,60927,60934],{"type":15,"tag":252,"props":60828,"children":60829},{"class":254,"line":255},[60830,60834,60838,60842,60846,60850,60855,60859],{"type":15,"tag":252,"props":60831,"children":60832},{"style":259},[60833],{"type":21,"value":14557},{"type":15,"tag":252,"props":60835,"children":60836},{"style":601},[60837],{"type":21,"value":804},{"type":15,"tag":252,"props":60839,"children":60840},{"style":259},[60841],{"type":21,"value":27991},{"type":15,"tag":252,"props":60843,"children":60844},{"style":601},[60845],{"type":21,"value":804},{"type":15,"tag":252,"props":60847,"children":60848},{"style":259},[60849],{"type":21,"value":50326},{"type":15,"tag":252,"props":60851,"children":60852},{"style":447},[60853],{"type":21,"value":60854},"(result_identifier, left, op, right) ",{"type":15,"tag":252,"props":60856,"children":60857},{"style":601},[60858],{"type":21,"value":4054},{"type":15,"tag":252,"props":60860,"children":60861},{"style":447},[60862],{"type":21,"value":3769},{"type":15,"tag":252,"props":60864,"children":60865},{"class":254,"line":334},[60866],{"type":15,"tag":252,"props":60867,"children":60868},{"style":3287},[60869],{"type":21,"value":21839},{"type":15,"tag":252,"props":60871,"children":60872},{"class":254,"line":390},[60873,60877,60881,60885,60890,60894,60898,60902,60906,60910,60915,60919,60923],{"type":15,"tag":252,"props":60874,"children":60875},{"style":601},[60876],{"type":21,"value":2083},{"type":15,"tag":252,"props":60878,"children":60879},{"style":447},[60880],{"type":21,"value":49966},{"type":15,"tag":252,"props":60882,"children":60883},{"style":601},[60884],{"type":21,"value":614},{"type":15,"tag":252,"props":60886,"children":60887},{"style":601},[60888],{"type":21,"value":60889}," *",{"type":15,"tag":252,"props":60891,"children":60892},{"style":276},[60893],{"type":21,"value":7432},{"type":15,"tag":252,"props":60895,"children":60896},{"style":601},[60897],{"type":21,"value":432},{"type":15,"tag":252,"props":60899,"children":60900},{"style":447},[60901],{"type":21,"value":59353},{"type":15,"tag":252,"props":60903,"children":60904},{"style":601},[60905],{"type":21,"value":432},{"type":15,"tag":252,"props":60907,"children":60908},{"style":259},[60909],{"type":21,"value":40140},{"type":15,"tag":252,"props":60911,"children":60912},{"style":447},[60913],{"type":21,"value":60914},"(result_identifier)",{"type":15,"tag":252,"props":60916,"children":60917},{"style":601},[60918],{"type":21,"value":432},{"type":15,"tag":252,"props":60920,"children":60921},{"style":259},[60922],{"type":21,"value":1984},{"type":15,"tag":252,"props":60924,"children":60925},{"style":447},[60926],{"type":21,"value":814},{"type":15,"tag":252,"props":60928,"children":60929},{"class":254,"line":2077},[60930],{"type":15,"tag":252,"props":60931,"children":60932},{"style":3287},[60933],{"type":21,"value":21839},{"type":15,"tag":252,"props":60935,"children":60936},{"class":254,"line":2110},[60937],{"type":15,"tag":252,"props":60938,"children":60939},{"style":447},[60940],{"type":21,"value":2854},{"type":15,"tag":23,"props":60942,"children":60943},{},[60944],{"type":21,"value":60945},"And now we should be avoiding memory leaks in out boolean operators.",{"type":15,"tag":192,"props":60947,"children":60948},{"id":3113},[60949],{"type":21,"value":3116},{"type":15,"tag":23,"props":60951,"children":60952},{},[60953,60955,60960,60961,60966],{"type":21,"value":60954},"Now that we have variables this is looking more like a proper language, in the next post we will be adding control flow, like ",{"type":15,"tag":81,"props":60956,"children":60958},{"className":60957},[],[60959],{"type":21,"value":1627},{"type":21,"value":1076},{"type":15,"tag":81,"props":60962,"children":60964},{"className":60963},[],[60965],{"type":21,"value":39125},{"type":21,"value":60967},", etc. So look forward to that!",{"type":15,"tag":3134,"props":60969,"children":60970},{},[60971],{"type":21,"value":3138},{"title":8,"searchDepth":334,"depth":334,"links":60973},[60974,60975,60976,60977,60978,60983,60987],{"id":52047,"depth":390,"text":52050},{"id":52643,"depth":390,"text":52646},{"id":52654,"depth":390,"text":52657},{"id":52814,"depth":334,"text":52817},{"id":53858,"depth":334,"text":53861,"children":60979},[60980,60981,60982],{"id":5538,"depth":390,"text":5541},{"id":55170,"depth":390,"text":55173},{"id":26058,"depth":390,"text":26061},{"id":60378,"depth":334,"text":60381,"children":60984},[60985,60986],{"id":60403,"depth":390,"text":55173},{"id":29095,"depth":390,"text":26061},{"id":3113,"depth":334,"text":3116},"content:blog:6.compiler_6.md","blog/6.compiler_6.md",1703982903694]