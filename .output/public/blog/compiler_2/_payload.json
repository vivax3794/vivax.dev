[{"data":1,"prerenderedAt":11334},["Reactive",2],{"content-query-6alISjQE5S":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":7,"body":9,"_type":11329,"_id":11330,"_source":11331,"_file":11332,"_extension":11333},"/blog/compiler_2","blog",false,"","Compiler part 2.1 - Cli and parsing",{"type":10,"children":11,"toc":11315},"root",[12,20,27,45,50,68,73,82,87,97,126,137,306,318,324,368,439,459,466,486,491,516,537,568,573,788,816,821,1032,1074,1079,1088,1093,1101,1106,1114,1120,1125,1607,1635,1645,1891,1938,1949,2441,2465,2471,2476,2481,2493,2501,2513,2551,2557,2570,2613,2657,2975,2994,3002,3007,3167,3173,3178,3186,3191,3268,3273,3279,3307,3312,3586,3599,3604,3780,3792,4458,4463,4468,5463,5468,5496,5825,5858,6220,6225,6397,6402,6604,6617,7265,7270,7312,7327,7346,7807,7823,7842,8064,8069,8077,8082,8118,8123,8202,8213,8223,8228,8233,8238,8258,8293,8305,8624,8636,8807,8812,9525,9538,9543,10669,10681,11073,11078,11113,11118,11298,11304,11309],{"type":13,"tag":14,"props":15,"children":17},"element","h1",{"id":16},"compiler-part-21-cli-and-parsing",[18],{"type":19,"value":8},"text",{"type":13,"tag":21,"props":22,"children":24},"h2",{"id":23},"intro",[25],{"type":19,"value":26},"Intro",{"type":13,"tag":28,"props":29,"children":30},"blockquote",{},[31],{"type":13,"tag":32,"props":33,"children":34},"p",{},[35,37,43],{"type":19,"value":36},"Just a fair warning: This post is ",{"type":13,"tag":38,"props":39,"children":40},"em",{},[41],{"type":19,"value":42},"very",{"type":19,"value":44}," long, Since it details the entire structure of the parser it takes a while.",{"type":13,"tag":32,"props":46,"children":47},{},[48],{"type":19,"value":49},"So let's start by deleting the code we wrote last blog post! Yhe, Yhe I know, but it was just a proof of concept. now we are gonna write some real code!",{"type":13,"tag":28,"props":51,"children":52},{},[53],{"type":13,"tag":32,"props":54,"children":55},{},[56,58,66],{"type":19,"value":57},"Also forgot to mention this in the last post, the inkwell docs dont build correctly on docs.rs, use ",{"type":13,"tag":59,"props":60,"children":64},"a",{"href":61,"rel":62},"https://thedan64.github.io/inkwell/inkwell/index.html",[63],"nofollow",[65],{"type":19,"value":61},{"type":19,"value":67}," instead.",{"type":13,"tag":32,"props":69,"children":70},{},[71],{"type":19,"value":72},"I will also now be publishing the code on GitHub since we will be getting into a lot of files, should you ever be confused about where the code goes you can check there. I will use the same repo for each post, but I will link to specific commits in the posts (if you are unsure what version you are viewing the README should say).",{"type":13,"tag":32,"props":74,"children":75},{},[76],{"type":13,"tag":59,"props":77,"children":80},{"href":78,"rel":79},"https://github.com/vivax3794/viv_script_blog/tree/211fb45ae1b6ca1b30e96842cd340fb03eabbed6",[63],[81],{"type":19,"value":78},{"type":13,"tag":32,"props":83,"children":84},{},[85],{"type":19,"value":86},"The parts we will build today will work to support print statements of numbers, and that is all, in future posts, we will expand on this!",{"type":13,"tag":88,"props":89,"children":91},"pre",{"code":90},"print 1;\nprint 2;\nprint 3;\n",[92],{"type":13,"tag":93,"props":94,"children":95},"code",{"__ignoreMap":7},[96],{"type":19,"value":90},{"type":13,"tag":32,"props":98,"children":99},{},[100,102,108,110,116,118,124],{"type":19,"value":101},"We will also have to decide, should we have multiple int types? I think we should have Both Float and Int, Float should be ",{"type":13,"tag":93,"props":103,"children":105},{"className":104},[],[106],{"type":19,"value":107},"f64",{"type":19,"value":109}," and an Int should be ",{"type":13,"tag":93,"props":111,"children":113},{"className":112},[],[114],{"type":19,"value":115},"i32",{"type":19,"value":117},", and we should have an implicit conversion from Int to Float (unlike ",{"type":13,"tag":93,"props":119,"children":121},{"className":120},[],[122],{"type":19,"value":123},"Rust",{"type":19,"value":125},"), but for now we shall only implement Int.",{"type":13,"tag":32,"props":127,"children":128},{},[129,131],{"type":19,"value":130},"So to make this easier to change later we going to define some type aliases in ",{"type":13,"tag":93,"props":132,"children":134},{"className":133},[],[135],{"type":19,"value":136},"lib.rs",{"type":13,"tag":88,"props":138,"children":142},{"code":139,"language":140,"meta":7,"className":141,"style":7},"// lib.rs\n\ntype IntType = i32;\ntype FloatType = f64;\n\nconst IntWidth: usize = 32;\nconst FloatWidth: usize = 64;\n","rust","language-rust shiki shiki-themes github-dark",[143],{"type":13,"tag":93,"props":144,"children":145},{"__ignoreMap":7},[146,158,168,200,226,234,272],{"type":13,"tag":147,"props":148,"children":151},"span",{"class":149,"line":150},"line",1,[152],{"type":13,"tag":147,"props":153,"children":155},{"style":154},"--shiki-default:#6A737D",[156],{"type":19,"value":157},"// lib.rs\n",{"type":13,"tag":147,"props":159,"children":161},{"class":149,"line":160},2,[162],{"type":13,"tag":147,"props":163,"children":165},{"emptyLinePlaceholder":164},true,[166],{"type":19,"value":167},"\n",{"type":13,"tag":147,"props":169,"children":171},{"class":149,"line":170},3,[172,178,184,189,194],{"type":13,"tag":147,"props":173,"children":175},{"style":174},"--shiki-default:#F97583",[176],{"type":19,"value":177},"type",{"type":13,"tag":147,"props":179,"children":181},{"style":180},"--shiki-default:#B392F0",[182],{"type":19,"value":183}," IntType",{"type":13,"tag":147,"props":185,"children":186},{"style":174},[187],{"type":19,"value":188}," =",{"type":13,"tag":147,"props":190,"children":191},{"style":180},[192],{"type":19,"value":193}," i32",{"type":13,"tag":147,"props":195,"children":197},{"style":196},"--shiki-default:#E1E4E8",[198],{"type":19,"value":199},";\n",{"type":13,"tag":147,"props":201,"children":203},{"class":149,"line":202},4,[204,208,213,217,222],{"type":13,"tag":147,"props":205,"children":206},{"style":174},[207],{"type":19,"value":177},{"type":13,"tag":147,"props":209,"children":210},{"style":180},[211],{"type":19,"value":212}," FloatType",{"type":13,"tag":147,"props":214,"children":215},{"style":174},[216],{"type":19,"value":188},{"type":13,"tag":147,"props":218,"children":219},{"style":180},[220],{"type":19,"value":221}," f64",{"type":13,"tag":147,"props":223,"children":224},{"style":196},[225],{"type":19,"value":199},{"type":13,"tag":147,"props":227,"children":229},{"class":149,"line":228},5,[230],{"type":13,"tag":147,"props":231,"children":232},{"emptyLinePlaceholder":164},[233],{"type":19,"value":167},{"type":13,"tag":147,"props":235,"children":237},{"class":149,"line":236},6,[238,243,249,254,259,263,268],{"type":13,"tag":147,"props":239,"children":240},{"style":174},[241],{"type":19,"value":242},"const",{"type":13,"tag":147,"props":244,"children":246},{"style":245},"--shiki-default:#79B8FF",[247],{"type":19,"value":248}," IntWidth",{"type":13,"tag":147,"props":250,"children":251},{"style":174},[252],{"type":19,"value":253},":",{"type":13,"tag":147,"props":255,"children":256},{"style":180},[257],{"type":19,"value":258}," usize",{"type":13,"tag":147,"props":260,"children":261},{"style":174},[262],{"type":19,"value":188},{"type":13,"tag":147,"props":264,"children":265},{"style":245},[266],{"type":19,"value":267}," 32",{"type":13,"tag":147,"props":269,"children":270},{"style":196},[271],{"type":19,"value":199},{"type":13,"tag":147,"props":273,"children":275},{"class":149,"line":274},7,[276,280,285,289,293,297,302],{"type":13,"tag":147,"props":277,"children":278},{"style":174},[279],{"type":19,"value":242},{"type":13,"tag":147,"props":281,"children":282},{"style":245},[283],{"type":19,"value":284}," FloatWidth",{"type":13,"tag":147,"props":286,"children":287},{"style":174},[288],{"type":19,"value":253},{"type":13,"tag":147,"props":290,"children":291},{"style":180},[292],{"type":19,"value":258},{"type":13,"tag":147,"props":294,"children":295},{"style":174},[296],{"type":19,"value":188},{"type":13,"tag":147,"props":298,"children":299},{"style":245},[300],{"type":19,"value":301}," 64",{"type":13,"tag":147,"props":303,"children":304},{"style":196},[305],{"type":19,"value":199},{"type":13,"tag":32,"props":307,"children":308},{},[309,311,316],{"type":19,"value":310},"The type aliases are for use by our code in stuff like the IR and AST, while the ",{"type":13,"tag":93,"props":312,"children":314},{"className":313},[],[315],{"type":19,"value":242},{"type":19,"value":317},"s are for the code generation!",{"type":13,"tag":21,"props":319,"children":321},{"id":320},"cli",[322],{"type":19,"value":323},"CLI",{"type":13,"tag":32,"props":325,"children":326},{},[327,329,340,342,353,355,366],{"type":19,"value":328},"For our command line interface we are going to use ",{"type":13,"tag":59,"props":330,"children":333},{"href":331,"rel":332},"https://crates.io/crates/clap",[63],[334],{"type":13,"tag":93,"props":335,"children":337},{"className":336},[],[338],{"type":19,"value":339},"clap",{"type":19,"value":341},", it is a fairly simple cli library, which is perfect for us. We are also going to ",{"type":13,"tag":59,"props":343,"children":346},{"href":344,"rel":345},"https://crates.io/crates/anyhow",[63],[347],{"type":13,"tag":93,"props":348,"children":350},{"className":349},[],[351],{"type":19,"value":352},"anyhow",{"type":19,"value":354}," and ",{"type":13,"tag":59,"props":356,"children":359},{"href":357,"rel":358},"https://crates.io/crates/thiserror",[63],[360],{"type":13,"tag":93,"props":361,"children":363},{"className":362},[],[364],{"type":19,"value":365},"thiserror",{"type":19,"value":367}," for error handling.",{"type":13,"tag":88,"props":369,"children":373},{"code":370,"language":371,"meta":7,"className":372,"style":7},"carg add clap --features derive\ncargo add anyhow\ncargo add thiserror\n","bash","language-bash shiki shiki-themes github-dark",[374],{"type":13,"tag":93,"props":375,"children":376},{"__ignoreMap":7},[377,406,423],{"type":13,"tag":147,"props":378,"children":379},{"class":149,"line":150},[380,385,391,396,401],{"type":13,"tag":147,"props":381,"children":382},{"style":180},[383],{"type":19,"value":384},"carg",{"type":13,"tag":147,"props":386,"children":388},{"style":387},"--shiki-default:#9ECBFF",[389],{"type":19,"value":390}," add",{"type":13,"tag":147,"props":392,"children":393},{"style":387},[394],{"type":19,"value":395}," clap",{"type":13,"tag":147,"props":397,"children":398},{"style":245},[399],{"type":19,"value":400}," --features",{"type":13,"tag":147,"props":402,"children":403},{"style":387},[404],{"type":19,"value":405}," derive\n",{"type":13,"tag":147,"props":407,"children":408},{"class":149,"line":160},[409,414,418],{"type":13,"tag":147,"props":410,"children":411},{"style":180},[412],{"type":19,"value":413},"cargo",{"type":13,"tag":147,"props":415,"children":416},{"style":387},[417],{"type":19,"value":390},{"type":13,"tag":147,"props":419,"children":420},{"style":387},[421],{"type":19,"value":422}," anyhow\n",{"type":13,"tag":147,"props":424,"children":425},{"class":149,"line":170},[426,430,434],{"type":13,"tag":147,"props":427,"children":428},{"style":180},[429],{"type":19,"value":413},{"type":13,"tag":147,"props":431,"children":432},{"style":387},[433],{"type":19,"value":390},{"type":13,"tag":147,"props":435,"children":436},{"style":387},[437],{"type":19,"value":438}," thiserror\n",{"type":13,"tag":32,"props":440,"children":441},{},[442,444,450,452,457],{"type":19,"value":443},"We are going to put the CLI handling in ",{"type":13,"tag":93,"props":445,"children":447},{"className":446},[],[448],{"type":19,"value":449},"main.rs",{"type":19,"value":451},", and the rest of the code in ",{"type":13,"tag":93,"props":453,"children":455},{"className":454},[],[456],{"type":19,"value":136},{"type":19,"value":458}," (and sub-modules).",{"type":13,"tag":460,"props":461,"children":463},"h3",{"id":462},"run",[464],{"type":19,"value":465},"Run",{"type":13,"tag":32,"props":467,"children":468},{},[469,471,476,478,484],{"type":19,"value":470},"So for now we just gonna have the ",{"type":13,"tag":93,"props":472,"children":474},{"className":473},[],[475],{"type":19,"value":462},{"type":19,"value":477}," command, in the future we will also have a ",{"type":13,"tag":93,"props":479,"children":481},{"className":480},[],[482],{"type":19,"value":483},"test",{"type":19,"value":485}," command.",{"type":13,"tag":32,"props":487,"children":488},{},[489],{"type":19,"value":490},"The interface will look like this:",{"type":13,"tag":88,"props":492,"children":494},{"code":493,"language":371,"meta":7,"className":372,"style":7},"our_compiler run input_file.viv\n",[495],{"type":13,"tag":93,"props":496,"children":497},{"__ignoreMap":7},[498],{"type":13,"tag":147,"props":499,"children":500},{"class":149,"line":150},[501,506,511],{"type":13,"tag":147,"props":502,"children":503},{"style":180},[504],{"type":19,"value":505},"our_compiler",{"type":13,"tag":147,"props":507,"children":508},{"style":387},[509],{"type":19,"value":510}," run",{"type":13,"tag":147,"props":512,"children":513},{"style":387},[514],{"type":19,"value":515}," input_file.viv\n",{"type":13,"tag":32,"props":517,"children":518},{},[519,521,527,529,535],{"type":19,"value":520},"Well since we are running it via ",{"type":13,"tag":93,"props":522,"children":524},{"className":523},[],[525],{"type":19,"value":526},"cargo run",{"type":19,"value":528}," we will use ",{"type":13,"tag":93,"props":530,"children":532},{"className":531},[],[533],{"type":19,"value":534},"--",{"type":19,"value":536}," to pass arguments to our code.",{"type":13,"tag":88,"props":538,"children":540},{"code":539,"language":371,"meta":7,"className":372,"style":7},"cargo run -- run input_file.viv\n",[541],{"type":13,"tag":93,"props":542,"children":543},{"__ignoreMap":7},[544],{"type":13,"tag":147,"props":545,"children":546},{"class":149,"line":150},[547,551,555,560,564],{"type":13,"tag":147,"props":548,"children":549},{"style":180},[550],{"type":19,"value":413},{"type":13,"tag":147,"props":552,"children":553},{"style":387},[554],{"type":19,"value":510},{"type":13,"tag":147,"props":556,"children":557},{"style":245},[558],{"type":19,"value":559}," --",{"type":13,"tag":147,"props":561,"children":562},{"style":387},[563],{"type":19,"value":510},{"type":13,"tag":147,"props":565,"children":566},{"style":387},[567],{"type":19,"value":515},{"type":13,"tag":32,"props":569,"children":570},{},[571],{"type":19,"value":572},"We will define an enum that will hold out different commands.",{"type":13,"tag":88,"props":574,"children":576},{"code":575,"language":140,"meta":7,"className":141,"style":7},"use clap::{Parser, Subcommand};\n\n#[derive(Subcommand)]\nenum CompilerCommand {\n    /// Compile and run file\n    Run { input_file: String },\n}\n\n#[derive(Parser)]\nstruct CompilerArguments {\n    #[command(subcommand)]\n    command: CompilerCommand,\n}\n",[577],{"type":13,"tag":93,"props":578,"children":579},{"__ignoreMap":7},[580,622,629,646,664,672,699,707,715,731,749,758,780],{"type":13,"tag":147,"props":581,"children":582},{"class":149,"line":150},[583,588,592,597,602,607,612,617],{"type":13,"tag":147,"props":584,"children":585},{"style":174},[586],{"type":19,"value":587},"use",{"type":13,"tag":147,"props":589,"children":590},{"style":180},[591],{"type":19,"value":395},{"type":13,"tag":147,"props":593,"children":594},{"style":174},[595],{"type":19,"value":596},"::",{"type":13,"tag":147,"props":598,"children":599},{"style":196},[600],{"type":19,"value":601},"{",{"type":13,"tag":147,"props":603,"children":604},{"style":180},[605],{"type":19,"value":606},"Parser",{"type":13,"tag":147,"props":608,"children":609},{"style":196},[610],{"type":19,"value":611},", ",{"type":13,"tag":147,"props":613,"children":614},{"style":180},[615],{"type":19,"value":616},"Subcommand",{"type":13,"tag":147,"props":618,"children":619},{"style":196},[620],{"type":19,"value":621},"};\n",{"type":13,"tag":147,"props":623,"children":624},{"class":149,"line":160},[625],{"type":13,"tag":147,"props":626,"children":627},{"emptyLinePlaceholder":164},[628],{"type":19,"value":167},{"type":13,"tag":147,"props":630,"children":631},{"class":149,"line":170},[632,637,641],{"type":13,"tag":147,"props":633,"children":634},{"style":196},[635],{"type":19,"value":636},"#[derive(",{"type":13,"tag":147,"props":638,"children":639},{"style":180},[640],{"type":19,"value":616},{"type":13,"tag":147,"props":642,"children":643},{"style":196},[644],{"type":19,"value":645},")]\n",{"type":13,"tag":147,"props":647,"children":648},{"class":149,"line":202},[649,654,659],{"type":13,"tag":147,"props":650,"children":651},{"style":174},[652],{"type":19,"value":653},"enum",{"type":13,"tag":147,"props":655,"children":656},{"style":180},[657],{"type":19,"value":658}," CompilerCommand",{"type":13,"tag":147,"props":660,"children":661},{"style":196},[662],{"type":19,"value":663}," {\n",{"type":13,"tag":147,"props":665,"children":666},{"class":149,"line":228},[667],{"type":13,"tag":147,"props":668,"children":669},{"style":154},[670],{"type":19,"value":671},"    /// Compile and run file\n",{"type":13,"tag":147,"props":673,"children":674},{"class":149,"line":236},[675,680,685,689,694],{"type":13,"tag":147,"props":676,"children":677},{"style":180},[678],{"type":19,"value":679},"    Run",{"type":13,"tag":147,"props":681,"children":682},{"style":196},[683],{"type":19,"value":684}," { input_file",{"type":13,"tag":147,"props":686,"children":687},{"style":174},[688],{"type":19,"value":253},{"type":13,"tag":147,"props":690,"children":691},{"style":180},[692],{"type":19,"value":693}," String",{"type":13,"tag":147,"props":695,"children":696},{"style":196},[697],{"type":19,"value":698}," },\n",{"type":13,"tag":147,"props":700,"children":701},{"class":149,"line":274},[702],{"type":13,"tag":147,"props":703,"children":704},{"style":196},[705],{"type":19,"value":706},"}\n",{"type":13,"tag":147,"props":708,"children":710},{"class":149,"line":709},8,[711],{"type":13,"tag":147,"props":712,"children":713},{"emptyLinePlaceholder":164},[714],{"type":19,"value":167},{"type":13,"tag":147,"props":716,"children":718},{"class":149,"line":717},9,[719,723,727],{"type":13,"tag":147,"props":720,"children":721},{"style":196},[722],{"type":19,"value":636},{"type":13,"tag":147,"props":724,"children":725},{"style":180},[726],{"type":19,"value":606},{"type":13,"tag":147,"props":728,"children":729},{"style":196},[730],{"type":19,"value":645},{"type":13,"tag":147,"props":732,"children":734},{"class":149,"line":733},10,[735,740,745],{"type":13,"tag":147,"props":736,"children":737},{"style":174},[738],{"type":19,"value":739},"struct",{"type":13,"tag":147,"props":741,"children":742},{"style":180},[743],{"type":19,"value":744}," CompilerArguments",{"type":13,"tag":147,"props":746,"children":747},{"style":196},[748],{"type":19,"value":663},{"type":13,"tag":147,"props":750,"children":752},{"class":149,"line":751},11,[753],{"type":13,"tag":147,"props":754,"children":755},{"style":196},[756],{"type":19,"value":757},"    #[command(subcommand)]\n",{"type":13,"tag":147,"props":759,"children":761},{"class":149,"line":760},12,[762,767,771,775],{"type":13,"tag":147,"props":763,"children":764},{"style":196},[765],{"type":19,"value":766},"    command",{"type":13,"tag":147,"props":768,"children":769},{"style":174},[770],{"type":19,"value":253},{"type":13,"tag":147,"props":772,"children":773},{"style":180},[774],{"type":19,"value":658},{"type":13,"tag":147,"props":776,"children":777},{"style":196},[778],{"type":19,"value":779},",\n",{"type":13,"tag":147,"props":781,"children":783},{"class":149,"line":782},13,[784],{"type":13,"tag":147,"props":785,"children":786},{"style":196},[787],{"type":19,"value":706},{"type":13,"tag":32,"props":789,"children":790},{},[791,793,799,801,806,808,814],{"type":19,"value":792},"so ",{"type":13,"tag":93,"props":794,"children":796},{"className":795},[],[797],{"type":19,"value":798},"CompilerCommand",{"type":19,"value":800}," will be our sub-commands, for now just ",{"type":13,"tag":93,"props":802,"children":804},{"className":803},[],[805],{"type":19,"value":462},{"type":19,"value":807},", then ",{"type":13,"tag":93,"props":809,"children":811},{"className":810},[],[812],{"type":19,"value":813},"CompilerArguments",{"type":19,"value":815}," will be the struct will all the CLI info, including future flags we will add.",{"type":13,"tag":32,"props":817,"children":818},{},[819],{"type":19,"value":820},"We now need to actually parse the arguments, which is really simple.",{"type":13,"tag":88,"props":822,"children":824},{"code":823,"language":140,"meta":7,"className":141,"style":7},"fn main() -> anyhow::Result\u003C()> {\n    let arguments = CompilerArguments::parse();\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            println!(\"file: {input_file:?}\");\n        }\n    }\n\n    Ok(())\n}\n",[825],{"type":13,"tag":93,"props":826,"children":827},{"__ignoreMap":7},[828,870,906,913,936,966,989,997,1005,1012,1025],{"type":13,"tag":147,"props":829,"children":830},{"class":149,"line":150},[831,836,841,846,851,856,860,865],{"type":13,"tag":147,"props":832,"children":833},{"style":174},[834],{"type":19,"value":835},"fn",{"type":13,"tag":147,"props":837,"children":838},{"style":180},[839],{"type":19,"value":840}," main",{"type":13,"tag":147,"props":842,"children":843},{"style":196},[844],{"type":19,"value":845},"() ",{"type":13,"tag":147,"props":847,"children":848},{"style":174},[849],{"type":19,"value":850},"->",{"type":13,"tag":147,"props":852,"children":853},{"style":180},[854],{"type":19,"value":855}," anyhow",{"type":13,"tag":147,"props":857,"children":858},{"style":174},[859],{"type":19,"value":596},{"type":13,"tag":147,"props":861,"children":862},{"style":180},[863],{"type":19,"value":864},"Result",{"type":13,"tag":147,"props":866,"children":867},{"style":196},[868],{"type":19,"value":869},"\u003C()> {\n",{"type":13,"tag":147,"props":871,"children":872},{"class":149,"line":160},[873,878,883,888,892,896,901],{"type":13,"tag":147,"props":874,"children":875},{"style":174},[876],{"type":19,"value":877},"    let",{"type":13,"tag":147,"props":879,"children":880},{"style":196},[881],{"type":19,"value":882}," arguments ",{"type":13,"tag":147,"props":884,"children":885},{"style":174},[886],{"type":19,"value":887},"=",{"type":13,"tag":147,"props":889,"children":890},{"style":180},[891],{"type":19,"value":744},{"type":13,"tag":147,"props":893,"children":894},{"style":174},[895],{"type":19,"value":596},{"type":13,"tag":147,"props":897,"children":898},{"style":180},[899],{"type":19,"value":900},"parse",{"type":13,"tag":147,"props":902,"children":903},{"style":196},[904],{"type":19,"value":905},"();\n",{"type":13,"tag":147,"props":907,"children":908},{"class":149,"line":170},[909],{"type":13,"tag":147,"props":910,"children":911},{"emptyLinePlaceholder":164},[912],{"type":19,"value":167},{"type":13,"tag":147,"props":914,"children":915},{"class":149,"line":202},[916,921,926,931],{"type":13,"tag":147,"props":917,"children":918},{"style":174},[919],{"type":19,"value":920},"    match",{"type":13,"tag":147,"props":922,"children":923},{"style":196},[924],{"type":19,"value":925}," arguments",{"type":13,"tag":147,"props":927,"children":928},{"style":174},[929],{"type":19,"value":930},".",{"type":13,"tag":147,"props":932,"children":933},{"style":196},[934],{"type":19,"value":935},"command {\n",{"type":13,"tag":147,"props":937,"children":938},{"class":149,"line":228},[939,944,948,952,957,962],{"type":13,"tag":147,"props":940,"children":941},{"style":180},[942],{"type":19,"value":943},"        CompilerCommand",{"type":13,"tag":147,"props":945,"children":946},{"style":174},[947],{"type":19,"value":596},{"type":13,"tag":147,"props":949,"children":950},{"style":180},[951],{"type":19,"value":465},{"type":13,"tag":147,"props":953,"children":954},{"style":196},[955],{"type":19,"value":956}," { input_file } ",{"type":13,"tag":147,"props":958,"children":959},{"style":174},[960],{"type":19,"value":961},"=>",{"type":13,"tag":147,"props":963,"children":964},{"style":196},[965],{"type":19,"value":663},{"type":13,"tag":147,"props":967,"children":968},{"class":149,"line":236},[969,974,979,984],{"type":13,"tag":147,"props":970,"children":971},{"style":180},[972],{"type":19,"value":973},"            println!",{"type":13,"tag":147,"props":975,"children":976},{"style":196},[977],{"type":19,"value":978},"(",{"type":13,"tag":147,"props":980,"children":981},{"style":387},[982],{"type":19,"value":983},"\"file: {input_file:?}\"",{"type":13,"tag":147,"props":985,"children":986},{"style":196},[987],{"type":19,"value":988},");\n",{"type":13,"tag":147,"props":990,"children":991},{"class":149,"line":274},[992],{"type":13,"tag":147,"props":993,"children":994},{"style":196},[995],{"type":19,"value":996},"        }\n",{"type":13,"tag":147,"props":998,"children":999},{"class":149,"line":709},[1000],{"type":13,"tag":147,"props":1001,"children":1002},{"style":196},[1003],{"type":19,"value":1004},"    }\n",{"type":13,"tag":147,"props":1006,"children":1007},{"class":149,"line":717},[1008],{"type":13,"tag":147,"props":1009,"children":1010},{"emptyLinePlaceholder":164},[1011],{"type":19,"value":167},{"type":13,"tag":147,"props":1013,"children":1014},{"class":149,"line":733},[1015,1020],{"type":13,"tag":147,"props":1016,"children":1017},{"style":180},[1018],{"type":19,"value":1019},"    Ok",{"type":13,"tag":147,"props":1021,"children":1022},{"style":196},[1023],{"type":19,"value":1024},"(())\n",{"type":13,"tag":147,"props":1026,"children":1027},{"class":149,"line":751},[1028],{"type":13,"tag":147,"props":1029,"children":1030},{"style":196},[1031],{"type":19,"value":706},{"type":13,"tag":32,"props":1033,"children":1034},{},[1035,1037,1043,1045,1051,1053,1059,1061,1066,1068,1073],{"type":19,"value":1036},"So we return a ",{"type":13,"tag":93,"props":1038,"children":1040},{"className":1039},[],[1041],{"type":19,"value":1042},"anyhow::Result",{"type":19,"value":1044},", which is just a type alias for ",{"type":13,"tag":93,"props":1046,"children":1048},{"className":1047},[],[1049],{"type":19,"value":1050},"Result\u003C..., anyhow:Error>",{"type":19,"value":1052},", you might not know this but when you return an error from ",{"type":13,"tag":93,"props":1054,"children":1056},{"className":1055},[],[1057],{"type":19,"value":1058},"main()",{"type":19,"value":1060}," rust will print it to stderr? Next, we call the ",{"type":13,"tag":93,"props":1062,"children":1064},{"className":1063},[],[1065],{"type":19,"value":900},{"type":19,"value":1067}," function from our Parser, this is provided by deriving ",{"type":13,"tag":93,"props":1069,"children":1071},{"className":1070},[],[1072],{"type":19,"value":606},{"type":19,"value":930},{"type":13,"tag":32,"props":1075,"children":1076},{},[1077],{"type":19,"value":1078},"Now Clap gives us a lot of stuff for free! Like help messages:",{"type":13,"tag":32,"props":1080,"children":1081},{},[1082],{"type":13,"tag":1083,"props":1084,"children":1087},"img",{"alt":1085,"src":1086},"--help messages","/assets/compiler/cli/help_messages.png",[],{"type":13,"tag":32,"props":1089,"children":1090},{},[1091],{"type":19,"value":1092},"And ofc we can run our command!",{"type":13,"tag":32,"props":1094,"children":1095},{},[1096],{"type":13,"tag":1083,"props":1097,"children":1100},{"alt":1098,"src":1099},"Run result","/assets/compiler/cli/run_result.png",[],{"type":13,"tag":32,"props":1102,"children":1103},{},[1104],{"type":19,"value":1105},"We also get good error messages!",{"type":13,"tag":32,"props":1107,"children":1108},{},[1109],{"type":13,"tag":1083,"props":1110,"children":1113},{"alt":1111,"src":1112},"Error messages","/assets/compiler/cli/error_message.png",[],{"type":13,"tag":460,"props":1115,"children":1117},{"id":1116},"debug-flags",[1118],{"type":19,"value":1119},"Debug Flags",{"type":13,"tag":32,"props":1121,"children":1122},{},[1123],{"type":19,"value":1124},"We are also going to have some Debug flags, these are to help us when building the compiler!",{"type":13,"tag":88,"props":1126,"children":1128},{"code":1127,"language":140,"meta":7,"className":141,"style":7},"#[derive(Args)]\nstruct DebugArguments {\n    /// Turn off compiler optimizations\n    #[arg(short = 'd', long, global = true)]\n    dont_optimize: bool,\n\n    /// Print the tokens to stdout\n    #[arg(short = 't', long, global = true)]\n    output_tokens: bool,\n\n    /// Print the ast to stdout\n    #[arg(short = 'a', long, global = true)]\n    output_ast: bool,\n\n    /// Print the Internal ir to stdout\n    #[arg(short = 'i', long, global = true)]\n    output_ir: bool,\n\n    /// Print the produced LLVM ir to stdout\n    #[arg(short = 'l', long, global = true)]\n    output_llvm: bool,\n}\n\n#[derive(Parser)]\nstruct CompilerCli {\n    #[command(subcommand)]\n    command: CompilerCommand,\n\n    #[command(flatten)]\n    debug: DebugArguments,\n}\n",[1129],{"type":13,"tag":93,"props":1130,"children":1131},{"__ignoreMap":7},[1132,1148,1164,1172,1203,1224,1231,1239,1267,1287,1294,1302,1330,1350,1358,1367,1396,1417,1425,1434,1463,1484,1492,1500,1516,1533,1541,1561,1569,1578,1599],{"type":13,"tag":147,"props":1133,"children":1134},{"class":149,"line":150},[1135,1139,1144],{"type":13,"tag":147,"props":1136,"children":1137},{"style":196},[1138],{"type":19,"value":636},{"type":13,"tag":147,"props":1140,"children":1141},{"style":180},[1142],{"type":19,"value":1143},"Args",{"type":13,"tag":147,"props":1145,"children":1146},{"style":196},[1147],{"type":19,"value":645},{"type":13,"tag":147,"props":1149,"children":1150},{"class":149,"line":160},[1151,1155,1160],{"type":13,"tag":147,"props":1152,"children":1153},{"style":174},[1154],{"type":19,"value":739},{"type":13,"tag":147,"props":1156,"children":1157},{"style":180},[1158],{"type":19,"value":1159}," DebugArguments",{"type":13,"tag":147,"props":1161,"children":1162},{"style":196},[1163],{"type":19,"value":663},{"type":13,"tag":147,"props":1165,"children":1166},{"class":149,"line":170},[1167],{"type":13,"tag":147,"props":1168,"children":1169},{"style":154},[1170],{"type":19,"value":1171},"    /// Turn off compiler optimizations\n",{"type":13,"tag":147,"props":1173,"children":1174},{"class":149,"line":202},[1175,1180,1184,1189,1194,1198],{"type":13,"tag":147,"props":1176,"children":1177},{"style":196},[1178],{"type":19,"value":1179},"    #[arg(short ",{"type":13,"tag":147,"props":1181,"children":1182},{"style":174},[1183],{"type":19,"value":887},{"type":13,"tag":147,"props":1185,"children":1186},{"style":387},[1187],{"type":19,"value":1188}," 'd'",{"type":13,"tag":147,"props":1190,"children":1191},{"style":196},[1192],{"type":19,"value":1193},", long, global ",{"type":13,"tag":147,"props":1195,"children":1196},{"style":174},[1197],{"type":19,"value":887},{"type":13,"tag":147,"props":1199,"children":1200},{"style":196},[1201],{"type":19,"value":1202}," true)]\n",{"type":13,"tag":147,"props":1204,"children":1205},{"class":149,"line":228},[1206,1211,1215,1220],{"type":13,"tag":147,"props":1207,"children":1208},{"style":196},[1209],{"type":19,"value":1210},"    dont_optimize",{"type":13,"tag":147,"props":1212,"children":1213},{"style":174},[1214],{"type":19,"value":253},{"type":13,"tag":147,"props":1216,"children":1217},{"style":180},[1218],{"type":19,"value":1219}," bool",{"type":13,"tag":147,"props":1221,"children":1222},{"style":196},[1223],{"type":19,"value":779},{"type":13,"tag":147,"props":1225,"children":1226},{"class":149,"line":236},[1227],{"type":13,"tag":147,"props":1228,"children":1229},{"emptyLinePlaceholder":164},[1230],{"type":19,"value":167},{"type":13,"tag":147,"props":1232,"children":1233},{"class":149,"line":274},[1234],{"type":13,"tag":147,"props":1235,"children":1236},{"style":154},[1237],{"type":19,"value":1238},"    /// Print the tokens to stdout\n",{"type":13,"tag":147,"props":1240,"children":1241},{"class":149,"line":709},[1242,1246,1250,1255,1259,1263],{"type":13,"tag":147,"props":1243,"children":1244},{"style":196},[1245],{"type":19,"value":1179},{"type":13,"tag":147,"props":1247,"children":1248},{"style":174},[1249],{"type":19,"value":887},{"type":13,"tag":147,"props":1251,"children":1252},{"style":387},[1253],{"type":19,"value":1254}," 't'",{"type":13,"tag":147,"props":1256,"children":1257},{"style":196},[1258],{"type":19,"value":1193},{"type":13,"tag":147,"props":1260,"children":1261},{"style":174},[1262],{"type":19,"value":887},{"type":13,"tag":147,"props":1264,"children":1265},{"style":196},[1266],{"type":19,"value":1202},{"type":13,"tag":147,"props":1268,"children":1269},{"class":149,"line":717},[1270,1275,1279,1283],{"type":13,"tag":147,"props":1271,"children":1272},{"style":196},[1273],{"type":19,"value":1274},"    output_tokens",{"type":13,"tag":147,"props":1276,"children":1277},{"style":174},[1278],{"type":19,"value":253},{"type":13,"tag":147,"props":1280,"children":1281},{"style":180},[1282],{"type":19,"value":1219},{"type":13,"tag":147,"props":1284,"children":1285},{"style":196},[1286],{"type":19,"value":779},{"type":13,"tag":147,"props":1288,"children":1289},{"class":149,"line":733},[1290],{"type":13,"tag":147,"props":1291,"children":1292},{"emptyLinePlaceholder":164},[1293],{"type":19,"value":167},{"type":13,"tag":147,"props":1295,"children":1296},{"class":149,"line":751},[1297],{"type":13,"tag":147,"props":1298,"children":1299},{"style":154},[1300],{"type":19,"value":1301},"    /// Print the ast to stdout\n",{"type":13,"tag":147,"props":1303,"children":1304},{"class":149,"line":760},[1305,1309,1313,1318,1322,1326],{"type":13,"tag":147,"props":1306,"children":1307},{"style":196},[1308],{"type":19,"value":1179},{"type":13,"tag":147,"props":1310,"children":1311},{"style":174},[1312],{"type":19,"value":887},{"type":13,"tag":147,"props":1314,"children":1315},{"style":387},[1316],{"type":19,"value":1317}," 'a'",{"type":13,"tag":147,"props":1319,"children":1320},{"style":196},[1321],{"type":19,"value":1193},{"type":13,"tag":147,"props":1323,"children":1324},{"style":174},[1325],{"type":19,"value":887},{"type":13,"tag":147,"props":1327,"children":1328},{"style":196},[1329],{"type":19,"value":1202},{"type":13,"tag":147,"props":1331,"children":1332},{"class":149,"line":782},[1333,1338,1342,1346],{"type":13,"tag":147,"props":1334,"children":1335},{"style":196},[1336],{"type":19,"value":1337},"    output_ast",{"type":13,"tag":147,"props":1339,"children":1340},{"style":174},[1341],{"type":19,"value":253},{"type":13,"tag":147,"props":1343,"children":1344},{"style":180},[1345],{"type":19,"value":1219},{"type":13,"tag":147,"props":1347,"children":1348},{"style":196},[1349],{"type":19,"value":779},{"type":13,"tag":147,"props":1351,"children":1353},{"class":149,"line":1352},14,[1354],{"type":13,"tag":147,"props":1355,"children":1356},{"emptyLinePlaceholder":164},[1357],{"type":19,"value":167},{"type":13,"tag":147,"props":1359,"children":1361},{"class":149,"line":1360},15,[1362],{"type":13,"tag":147,"props":1363,"children":1364},{"style":154},[1365],{"type":19,"value":1366},"    /// Print the Internal ir to stdout\n",{"type":13,"tag":147,"props":1368,"children":1370},{"class":149,"line":1369},16,[1371,1375,1379,1384,1388,1392],{"type":13,"tag":147,"props":1372,"children":1373},{"style":196},[1374],{"type":19,"value":1179},{"type":13,"tag":147,"props":1376,"children":1377},{"style":174},[1378],{"type":19,"value":887},{"type":13,"tag":147,"props":1380,"children":1381},{"style":387},[1382],{"type":19,"value":1383}," 'i'",{"type":13,"tag":147,"props":1385,"children":1386},{"style":196},[1387],{"type":19,"value":1193},{"type":13,"tag":147,"props":1389,"children":1390},{"style":174},[1391],{"type":19,"value":887},{"type":13,"tag":147,"props":1393,"children":1394},{"style":196},[1395],{"type":19,"value":1202},{"type":13,"tag":147,"props":1397,"children":1399},{"class":149,"line":1398},17,[1400,1405,1409,1413],{"type":13,"tag":147,"props":1401,"children":1402},{"style":196},[1403],{"type":19,"value":1404},"    output_ir",{"type":13,"tag":147,"props":1406,"children":1407},{"style":174},[1408],{"type":19,"value":253},{"type":13,"tag":147,"props":1410,"children":1411},{"style":180},[1412],{"type":19,"value":1219},{"type":13,"tag":147,"props":1414,"children":1415},{"style":196},[1416],{"type":19,"value":779},{"type":13,"tag":147,"props":1418,"children":1420},{"class":149,"line":1419},18,[1421],{"type":13,"tag":147,"props":1422,"children":1423},{"emptyLinePlaceholder":164},[1424],{"type":19,"value":167},{"type":13,"tag":147,"props":1426,"children":1428},{"class":149,"line":1427},19,[1429],{"type":13,"tag":147,"props":1430,"children":1431},{"style":154},[1432],{"type":19,"value":1433},"    /// Print the produced LLVM ir to stdout\n",{"type":13,"tag":147,"props":1435,"children":1437},{"class":149,"line":1436},20,[1438,1442,1446,1451,1455,1459],{"type":13,"tag":147,"props":1439,"children":1440},{"style":196},[1441],{"type":19,"value":1179},{"type":13,"tag":147,"props":1443,"children":1444},{"style":174},[1445],{"type":19,"value":887},{"type":13,"tag":147,"props":1447,"children":1448},{"style":387},[1449],{"type":19,"value":1450}," 'l'",{"type":13,"tag":147,"props":1452,"children":1453},{"style":196},[1454],{"type":19,"value":1193},{"type":13,"tag":147,"props":1456,"children":1457},{"style":174},[1458],{"type":19,"value":887},{"type":13,"tag":147,"props":1460,"children":1461},{"style":196},[1462],{"type":19,"value":1202},{"type":13,"tag":147,"props":1464,"children":1466},{"class":149,"line":1465},21,[1467,1472,1476,1480],{"type":13,"tag":147,"props":1468,"children":1469},{"style":196},[1470],{"type":19,"value":1471},"    output_llvm",{"type":13,"tag":147,"props":1473,"children":1474},{"style":174},[1475],{"type":19,"value":253},{"type":13,"tag":147,"props":1477,"children":1478},{"style":180},[1479],{"type":19,"value":1219},{"type":13,"tag":147,"props":1481,"children":1482},{"style":196},[1483],{"type":19,"value":779},{"type":13,"tag":147,"props":1485,"children":1487},{"class":149,"line":1486},22,[1488],{"type":13,"tag":147,"props":1489,"children":1490},{"style":196},[1491],{"type":19,"value":706},{"type":13,"tag":147,"props":1493,"children":1495},{"class":149,"line":1494},23,[1496],{"type":13,"tag":147,"props":1497,"children":1498},{"emptyLinePlaceholder":164},[1499],{"type":19,"value":167},{"type":13,"tag":147,"props":1501,"children":1503},{"class":149,"line":1502},24,[1504,1508,1512],{"type":13,"tag":147,"props":1505,"children":1506},{"style":196},[1507],{"type":19,"value":636},{"type":13,"tag":147,"props":1509,"children":1510},{"style":180},[1511],{"type":19,"value":606},{"type":13,"tag":147,"props":1513,"children":1514},{"style":196},[1515],{"type":19,"value":645},{"type":13,"tag":147,"props":1517,"children":1519},{"class":149,"line":1518},25,[1520,1524,1529],{"type":13,"tag":147,"props":1521,"children":1522},{"style":174},[1523],{"type":19,"value":739},{"type":13,"tag":147,"props":1525,"children":1526},{"style":180},[1527],{"type":19,"value":1528}," CompilerCli",{"type":13,"tag":147,"props":1530,"children":1531},{"style":196},[1532],{"type":19,"value":663},{"type":13,"tag":147,"props":1534,"children":1536},{"class":149,"line":1535},26,[1537],{"type":13,"tag":147,"props":1538,"children":1539},{"style":196},[1540],{"type":19,"value":757},{"type":13,"tag":147,"props":1542,"children":1544},{"class":149,"line":1543},27,[1545,1549,1553,1557],{"type":13,"tag":147,"props":1546,"children":1547},{"style":196},[1548],{"type":19,"value":766},{"type":13,"tag":147,"props":1550,"children":1551},{"style":174},[1552],{"type":19,"value":253},{"type":13,"tag":147,"props":1554,"children":1555},{"style":180},[1556],{"type":19,"value":658},{"type":13,"tag":147,"props":1558,"children":1559},{"style":196},[1560],{"type":19,"value":779},{"type":13,"tag":147,"props":1562,"children":1564},{"class":149,"line":1563},28,[1565],{"type":13,"tag":147,"props":1566,"children":1567},{"emptyLinePlaceholder":164},[1568],{"type":19,"value":167},{"type":13,"tag":147,"props":1570,"children":1572},{"class":149,"line":1571},29,[1573],{"type":13,"tag":147,"props":1574,"children":1575},{"style":196},[1576],{"type":19,"value":1577},"    #[command(flatten)]\n",{"type":13,"tag":147,"props":1579,"children":1581},{"class":149,"line":1580},30,[1582,1587,1591,1595],{"type":13,"tag":147,"props":1583,"children":1584},{"style":196},[1585],{"type":19,"value":1586},"    debug",{"type":13,"tag":147,"props":1588,"children":1589},{"style":174},[1590],{"type":19,"value":253},{"type":13,"tag":147,"props":1592,"children":1593},{"style":180},[1594],{"type":19,"value":1159},{"type":13,"tag":147,"props":1596,"children":1597},{"style":196},[1598],{"type":19,"value":779},{"type":13,"tag":147,"props":1600,"children":1602},{"class":149,"line":1601},31,[1603],{"type":13,"tag":147,"props":1604,"children":1605},{"style":196},[1606],{"type":19,"value":706},{"type":13,"tag":32,"props":1608,"children":1609},{},[1610,1612,1618,1620,1626,1627,1633],{"type":19,"value":1611},"This will let us debug our compiler, and will be useful to make sure stuff is working as we progress thru the implementation of the compiler! The ",{"type":13,"tag":93,"props":1613,"children":1615},{"className":1614},[],[1616],{"type":19,"value":1617},"global = true",{"type":19,"value":1619}," means that these can be used anywhere on the command line, not just at the start, so ",{"type":13,"tag":93,"props":1621,"children":1623},{"className":1622},[],[1624],{"type":19,"value":1625},"-t run test.viv",{"type":19,"value":354},{"type":13,"tag":93,"props":1628,"children":1630},{"className":1629},[],[1631],{"type":19,"value":1632},"run -t test.viv",{"type":19,"value":1634}," are the same.",{"type":13,"tag":32,"props":1636,"children":1637},{},[1638,1640],{"type":19,"value":1639},"We will also need to set up some basic stuff in ",{"type":13,"tag":93,"props":1641,"children":1643},{"className":1642},[],[1644],{"type":19,"value":136},{"type":13,"tag":88,"props":1646,"children":1648},{"code":1647,"language":140,"meta":7,"className":141,"style":7},"// lib.rs\npub struct CompilerOptions {\n    pub dont_optimize: bool,\n    pub output_tokens: bool,\n    pub output_ast: bool,\n    pub output_ir: bool,\n    pub output_llvm: bool,\n}\n\npub fn build(file: &str, options: CompilerOptions) -> anyhow::Result\u003C()> {}\n",[1649],{"type":13,"tag":93,"props":1650,"children":1651},{"__ignoreMap":7},[1652,1659,1681,1706,1730,1754,1778,1802,1809,1816],{"type":13,"tag":147,"props":1653,"children":1654},{"class":149,"line":150},[1655],{"type":13,"tag":147,"props":1656,"children":1657},{"style":154},[1658],{"type":19,"value":157},{"type":13,"tag":147,"props":1660,"children":1661},{"class":149,"line":160},[1662,1667,1672,1677],{"type":13,"tag":147,"props":1663,"children":1664},{"style":174},[1665],{"type":19,"value":1666},"pub",{"type":13,"tag":147,"props":1668,"children":1669},{"style":174},[1670],{"type":19,"value":1671}," struct",{"type":13,"tag":147,"props":1673,"children":1674},{"style":180},[1675],{"type":19,"value":1676}," CompilerOptions",{"type":13,"tag":147,"props":1678,"children":1679},{"style":196},[1680],{"type":19,"value":663},{"type":13,"tag":147,"props":1682,"children":1683},{"class":149,"line":170},[1684,1689,1694,1698,1702],{"type":13,"tag":147,"props":1685,"children":1686},{"style":174},[1687],{"type":19,"value":1688},"    pub",{"type":13,"tag":147,"props":1690,"children":1691},{"style":196},[1692],{"type":19,"value":1693}," dont_optimize",{"type":13,"tag":147,"props":1695,"children":1696},{"style":174},[1697],{"type":19,"value":253},{"type":13,"tag":147,"props":1699,"children":1700},{"style":180},[1701],{"type":19,"value":1219},{"type":13,"tag":147,"props":1703,"children":1704},{"style":196},[1705],{"type":19,"value":779},{"type":13,"tag":147,"props":1707,"children":1708},{"class":149,"line":202},[1709,1713,1718,1722,1726],{"type":13,"tag":147,"props":1710,"children":1711},{"style":174},[1712],{"type":19,"value":1688},{"type":13,"tag":147,"props":1714,"children":1715},{"style":196},[1716],{"type":19,"value":1717}," output_tokens",{"type":13,"tag":147,"props":1719,"children":1720},{"style":174},[1721],{"type":19,"value":253},{"type":13,"tag":147,"props":1723,"children":1724},{"style":180},[1725],{"type":19,"value":1219},{"type":13,"tag":147,"props":1727,"children":1728},{"style":196},[1729],{"type":19,"value":779},{"type":13,"tag":147,"props":1731,"children":1732},{"class":149,"line":228},[1733,1737,1742,1746,1750],{"type":13,"tag":147,"props":1734,"children":1735},{"style":174},[1736],{"type":19,"value":1688},{"type":13,"tag":147,"props":1738,"children":1739},{"style":196},[1740],{"type":19,"value":1741}," output_ast",{"type":13,"tag":147,"props":1743,"children":1744},{"style":174},[1745],{"type":19,"value":253},{"type":13,"tag":147,"props":1747,"children":1748},{"style":180},[1749],{"type":19,"value":1219},{"type":13,"tag":147,"props":1751,"children":1752},{"style":196},[1753],{"type":19,"value":779},{"type":13,"tag":147,"props":1755,"children":1756},{"class":149,"line":236},[1757,1761,1766,1770,1774],{"type":13,"tag":147,"props":1758,"children":1759},{"style":174},[1760],{"type":19,"value":1688},{"type":13,"tag":147,"props":1762,"children":1763},{"style":196},[1764],{"type":19,"value":1765}," output_ir",{"type":13,"tag":147,"props":1767,"children":1768},{"style":174},[1769],{"type":19,"value":253},{"type":13,"tag":147,"props":1771,"children":1772},{"style":180},[1773],{"type":19,"value":1219},{"type":13,"tag":147,"props":1775,"children":1776},{"style":196},[1777],{"type":19,"value":779},{"type":13,"tag":147,"props":1779,"children":1780},{"class":149,"line":274},[1781,1785,1790,1794,1798],{"type":13,"tag":147,"props":1782,"children":1783},{"style":174},[1784],{"type":19,"value":1688},{"type":13,"tag":147,"props":1786,"children":1787},{"style":196},[1788],{"type":19,"value":1789}," output_llvm",{"type":13,"tag":147,"props":1791,"children":1792},{"style":174},[1793],{"type":19,"value":253},{"type":13,"tag":147,"props":1795,"children":1796},{"style":180},[1797],{"type":19,"value":1219},{"type":13,"tag":147,"props":1799,"children":1800},{"style":196},[1801],{"type":19,"value":779},{"type":13,"tag":147,"props":1803,"children":1804},{"class":149,"line":709},[1805],{"type":13,"tag":147,"props":1806,"children":1807},{"style":196},[1808],{"type":19,"value":706},{"type":13,"tag":147,"props":1810,"children":1811},{"class":149,"line":717},[1812],{"type":13,"tag":147,"props":1813,"children":1814},{"emptyLinePlaceholder":164},[1815],{"type":19,"value":167},{"type":13,"tag":147,"props":1817,"children":1818},{"class":149,"line":733},[1819,1823,1828,1833,1838,1842,1847,1852,1857,1861,1865,1870,1874,1878,1882,1886],{"type":13,"tag":147,"props":1820,"children":1821},{"style":174},[1822],{"type":19,"value":1666},{"type":13,"tag":147,"props":1824,"children":1825},{"style":174},[1826],{"type":19,"value":1827}," fn",{"type":13,"tag":147,"props":1829,"children":1830},{"style":180},[1831],{"type":19,"value":1832}," build",{"type":13,"tag":147,"props":1834,"children":1835},{"style":196},[1836],{"type":19,"value":1837},"(file",{"type":13,"tag":147,"props":1839,"children":1840},{"style":174},[1841],{"type":19,"value":253},{"type":13,"tag":147,"props":1843,"children":1844},{"style":174},[1845],{"type":19,"value":1846}," &",{"type":13,"tag":147,"props":1848,"children":1849},{"style":180},[1850],{"type":19,"value":1851},"str",{"type":13,"tag":147,"props":1853,"children":1854},{"style":196},[1855],{"type":19,"value":1856},", options",{"type":13,"tag":147,"props":1858,"children":1859},{"style":174},[1860],{"type":19,"value":253},{"type":13,"tag":147,"props":1862,"children":1863},{"style":180},[1864],{"type":19,"value":1676},{"type":13,"tag":147,"props":1866,"children":1867},{"style":196},[1868],{"type":19,"value":1869},") ",{"type":13,"tag":147,"props":1871,"children":1872},{"style":174},[1873],{"type":19,"value":850},{"type":13,"tag":147,"props":1875,"children":1876},{"style":180},[1877],{"type":19,"value":855},{"type":13,"tag":147,"props":1879,"children":1880},{"style":174},[1881],{"type":19,"value":596},{"type":13,"tag":147,"props":1883,"children":1884},{"style":180},[1885],{"type":19,"value":864},{"type":13,"tag":147,"props":1887,"children":1888},{"style":196},[1889],{"type":19,"value":1890},"\u003C()> {}\n",{"type":13,"tag":32,"props":1892,"children":1893},{},[1894,1896,1901,1903,1908,1910,1916,1918,1923,1925,1930,1932,1937],{"type":19,"value":1895},"Wait? Didn't we already define those compiler options? ...Well yes, but the reason we are doing this is that you cant import from ",{"type":13,"tag":93,"props":1897,"children":1899},{"className":1898},[],[1900],{"type":19,"value":449},{"type":19,"value":1902}," to ",{"type":13,"tag":93,"props":1904,"children":1906},{"className":1905},[],[1907],{"type":19,"value":136},{"type":19,"value":1909},".\nYou might then be asking yourself, why not just move ",{"type":13,"tag":93,"props":1911,"children":1913},{"className":1912},[],[1914],{"type":19,"value":1915},"DebugArguments",{"type":19,"value":1917}," into ",{"type":13,"tag":93,"props":1919,"children":1921},{"className":1920},[],[1922],{"type":19,"value":136},{"type":19,"value":1924},"? Well, we totally could! And you can do that if you want! Why aren't I? Well, ",{"type":13,"tag":93,"props":1926,"children":1928},{"className":1927},[],[1929],{"type":19,"value":1915},{"type":19,"value":1931}," has CLI stuff in it, and personally, I want to keep that stuff in ",{"type":13,"tag":93,"props":1933,"children":1935},{"className":1934},[],[1936],{"type":19,"value":449},{"type":19,"value":930},{"type":13,"tag":32,"props":1939,"children":1940},{},[1941,1943],{"type":19,"value":1942},"We will then construct these Compiler options and pass them to ",{"type":13,"tag":93,"props":1944,"children":1946},{"className":1945},[],[1947],{"type":19,"value":1948},"build",{"type":13,"tag":88,"props":1950,"children":1952},{"code":1951,"language":140,"meta":7,"className":141,"style":7},"// main.rs\nuse anyhow::Context;\nuse viv_script::{build, CompilerOptions};\n\n// ...\n\nfn main() -> anyhow::Result\u003C()> {\n    let arguments = CompilerCli::parse();\n    let compiler_options = CompilerOptions {\n        dont_optimize: arguments.debug.dont_optimize,\n        output_tokens: arguments.debug.output_tokens,\n        output_ast: arguments.debug.output_ast,\n        output_ir: arguments.debug.output_ir,\n        output_llvm: arguments.debug.output_llvm,\n    };\n\n    match arguments.command {\n        CompilerCommand::Run { input_file } => {\n            build(input_file, compiler_options).context(\"Compiling input file\")?;\n        }\n    }\n\n    Ok(())\n}\n",[1953],{"type":13,"tag":93,"props":1954,"children":1955},{"__ignoreMap":7},[1956,1964,1988,2018,2025,2033,2040,2075,2106,2130,2164,2197,2230,2263,2296,2304,2311,2330,2357,2402,2409,2416,2423,2434],{"type":13,"tag":147,"props":1957,"children":1958},{"class":149,"line":150},[1959],{"type":13,"tag":147,"props":1960,"children":1961},{"style":154},[1962],{"type":19,"value":1963},"// main.rs\n",{"type":13,"tag":147,"props":1965,"children":1966},{"class":149,"line":160},[1967,1971,1975,1979,1984],{"type":13,"tag":147,"props":1968,"children":1969},{"style":174},[1970],{"type":19,"value":587},{"type":13,"tag":147,"props":1972,"children":1973},{"style":180},[1974],{"type":19,"value":855},{"type":13,"tag":147,"props":1976,"children":1977},{"style":174},[1978],{"type":19,"value":596},{"type":13,"tag":147,"props":1980,"children":1981},{"style":180},[1982],{"type":19,"value":1983},"Context",{"type":13,"tag":147,"props":1985,"children":1986},{"style":196},[1987],{"type":19,"value":199},{"type":13,"tag":147,"props":1989,"children":1990},{"class":149,"line":170},[1991,1995,2000,2004,2009,2014],{"type":13,"tag":147,"props":1992,"children":1993},{"style":174},[1994],{"type":19,"value":587},{"type":13,"tag":147,"props":1996,"children":1997},{"style":180},[1998],{"type":19,"value":1999}," viv_script",{"type":13,"tag":147,"props":2001,"children":2002},{"style":174},[2003],{"type":19,"value":596},{"type":13,"tag":147,"props":2005,"children":2006},{"style":196},[2007],{"type":19,"value":2008},"{build, ",{"type":13,"tag":147,"props":2010,"children":2011},{"style":180},[2012],{"type":19,"value":2013},"CompilerOptions",{"type":13,"tag":147,"props":2015,"children":2016},{"style":196},[2017],{"type":19,"value":621},{"type":13,"tag":147,"props":2019,"children":2020},{"class":149,"line":202},[2021],{"type":13,"tag":147,"props":2022,"children":2023},{"emptyLinePlaceholder":164},[2024],{"type":19,"value":167},{"type":13,"tag":147,"props":2026,"children":2027},{"class":149,"line":228},[2028],{"type":13,"tag":147,"props":2029,"children":2030},{"style":154},[2031],{"type":19,"value":2032},"// ...\n",{"type":13,"tag":147,"props":2034,"children":2035},{"class":149,"line":236},[2036],{"type":13,"tag":147,"props":2037,"children":2038},{"emptyLinePlaceholder":164},[2039],{"type":19,"value":167},{"type":13,"tag":147,"props":2041,"children":2042},{"class":149,"line":274},[2043,2047,2051,2055,2059,2063,2067,2071],{"type":13,"tag":147,"props":2044,"children":2045},{"style":174},[2046],{"type":19,"value":835},{"type":13,"tag":147,"props":2048,"children":2049},{"style":180},[2050],{"type":19,"value":840},{"type":13,"tag":147,"props":2052,"children":2053},{"style":196},[2054],{"type":19,"value":845},{"type":13,"tag":147,"props":2056,"children":2057},{"style":174},[2058],{"type":19,"value":850},{"type":13,"tag":147,"props":2060,"children":2061},{"style":180},[2062],{"type":19,"value":855},{"type":13,"tag":147,"props":2064,"children":2065},{"style":174},[2066],{"type":19,"value":596},{"type":13,"tag":147,"props":2068,"children":2069},{"style":180},[2070],{"type":19,"value":864},{"type":13,"tag":147,"props":2072,"children":2073},{"style":196},[2074],{"type":19,"value":869},{"type":13,"tag":147,"props":2076,"children":2077},{"class":149,"line":709},[2078,2082,2086,2090,2094,2098,2102],{"type":13,"tag":147,"props":2079,"children":2080},{"style":174},[2081],{"type":19,"value":877},{"type":13,"tag":147,"props":2083,"children":2084},{"style":196},[2085],{"type":19,"value":882},{"type":13,"tag":147,"props":2087,"children":2088},{"style":174},[2089],{"type":19,"value":887},{"type":13,"tag":147,"props":2091,"children":2092},{"style":180},[2093],{"type":19,"value":1528},{"type":13,"tag":147,"props":2095,"children":2096},{"style":174},[2097],{"type":19,"value":596},{"type":13,"tag":147,"props":2099,"children":2100},{"style":180},[2101],{"type":19,"value":900},{"type":13,"tag":147,"props":2103,"children":2104},{"style":196},[2105],{"type":19,"value":905},{"type":13,"tag":147,"props":2107,"children":2108},{"class":149,"line":717},[2109,2113,2118,2122,2126],{"type":13,"tag":147,"props":2110,"children":2111},{"style":174},[2112],{"type":19,"value":877},{"type":13,"tag":147,"props":2114,"children":2115},{"style":196},[2116],{"type":19,"value":2117}," compiler_options ",{"type":13,"tag":147,"props":2119,"children":2120},{"style":174},[2121],{"type":19,"value":887},{"type":13,"tag":147,"props":2123,"children":2124},{"style":180},[2125],{"type":19,"value":1676},{"type":13,"tag":147,"props":2127,"children":2128},{"style":196},[2129],{"type":19,"value":663},{"type":13,"tag":147,"props":2131,"children":2132},{"class":149,"line":733},[2133,2138,2142,2146,2150,2155,2159],{"type":13,"tag":147,"props":2134,"children":2135},{"style":196},[2136],{"type":19,"value":2137},"        dont_optimize",{"type":13,"tag":147,"props":2139,"children":2140},{"style":174},[2141],{"type":19,"value":253},{"type":13,"tag":147,"props":2143,"children":2144},{"style":196},[2145],{"type":19,"value":925},{"type":13,"tag":147,"props":2147,"children":2148},{"style":174},[2149],{"type":19,"value":930},{"type":13,"tag":147,"props":2151,"children":2152},{"style":196},[2153],{"type":19,"value":2154},"debug",{"type":13,"tag":147,"props":2156,"children":2157},{"style":174},[2158],{"type":19,"value":930},{"type":13,"tag":147,"props":2160,"children":2161},{"style":196},[2162],{"type":19,"value":2163},"dont_optimize,\n",{"type":13,"tag":147,"props":2165,"children":2166},{"class":149,"line":751},[2167,2172,2176,2180,2184,2188,2192],{"type":13,"tag":147,"props":2168,"children":2169},{"style":196},[2170],{"type":19,"value":2171},"        output_tokens",{"type":13,"tag":147,"props":2173,"children":2174},{"style":174},[2175],{"type":19,"value":253},{"type":13,"tag":147,"props":2177,"children":2178},{"style":196},[2179],{"type":19,"value":925},{"type":13,"tag":147,"props":2181,"children":2182},{"style":174},[2183],{"type":19,"value":930},{"type":13,"tag":147,"props":2185,"children":2186},{"style":196},[2187],{"type":19,"value":2154},{"type":13,"tag":147,"props":2189,"children":2190},{"style":174},[2191],{"type":19,"value":930},{"type":13,"tag":147,"props":2193,"children":2194},{"style":196},[2195],{"type":19,"value":2196},"output_tokens,\n",{"type":13,"tag":147,"props":2198,"children":2199},{"class":149,"line":760},[2200,2205,2209,2213,2217,2221,2225],{"type":13,"tag":147,"props":2201,"children":2202},{"style":196},[2203],{"type":19,"value":2204},"        output_ast",{"type":13,"tag":147,"props":2206,"children":2207},{"style":174},[2208],{"type":19,"value":253},{"type":13,"tag":147,"props":2210,"children":2211},{"style":196},[2212],{"type":19,"value":925},{"type":13,"tag":147,"props":2214,"children":2215},{"style":174},[2216],{"type":19,"value":930},{"type":13,"tag":147,"props":2218,"children":2219},{"style":196},[2220],{"type":19,"value":2154},{"type":13,"tag":147,"props":2222,"children":2223},{"style":174},[2224],{"type":19,"value":930},{"type":13,"tag":147,"props":2226,"children":2227},{"style":196},[2228],{"type":19,"value":2229},"output_ast,\n",{"type":13,"tag":147,"props":2231,"children":2232},{"class":149,"line":782},[2233,2238,2242,2246,2250,2254,2258],{"type":13,"tag":147,"props":2234,"children":2235},{"style":196},[2236],{"type":19,"value":2237},"        output_ir",{"type":13,"tag":147,"props":2239,"children":2240},{"style":174},[2241],{"type":19,"value":253},{"type":13,"tag":147,"props":2243,"children":2244},{"style":196},[2245],{"type":19,"value":925},{"type":13,"tag":147,"props":2247,"children":2248},{"style":174},[2249],{"type":19,"value":930},{"type":13,"tag":147,"props":2251,"children":2252},{"style":196},[2253],{"type":19,"value":2154},{"type":13,"tag":147,"props":2255,"children":2256},{"style":174},[2257],{"type":19,"value":930},{"type":13,"tag":147,"props":2259,"children":2260},{"style":196},[2261],{"type":19,"value":2262},"output_ir,\n",{"type":13,"tag":147,"props":2264,"children":2265},{"class":149,"line":1352},[2266,2271,2275,2279,2283,2287,2291],{"type":13,"tag":147,"props":2267,"children":2268},{"style":196},[2269],{"type":19,"value":2270},"        output_llvm",{"type":13,"tag":147,"props":2272,"children":2273},{"style":174},[2274],{"type":19,"value":253},{"type":13,"tag":147,"props":2276,"children":2277},{"style":196},[2278],{"type":19,"value":925},{"type":13,"tag":147,"props":2280,"children":2281},{"style":174},[2282],{"type":19,"value":930},{"type":13,"tag":147,"props":2284,"children":2285},{"style":196},[2286],{"type":19,"value":2154},{"type":13,"tag":147,"props":2288,"children":2289},{"style":174},[2290],{"type":19,"value":930},{"type":13,"tag":147,"props":2292,"children":2293},{"style":196},[2294],{"type":19,"value":2295},"output_llvm,\n",{"type":13,"tag":147,"props":2297,"children":2298},{"class":149,"line":1360},[2299],{"type":13,"tag":147,"props":2300,"children":2301},{"style":196},[2302],{"type":19,"value":2303},"    };\n",{"type":13,"tag":147,"props":2305,"children":2306},{"class":149,"line":1369},[2307],{"type":13,"tag":147,"props":2308,"children":2309},{"emptyLinePlaceholder":164},[2310],{"type":19,"value":167},{"type":13,"tag":147,"props":2312,"children":2313},{"class":149,"line":1398},[2314,2318,2322,2326],{"type":13,"tag":147,"props":2315,"children":2316},{"style":174},[2317],{"type":19,"value":920},{"type":13,"tag":147,"props":2319,"children":2320},{"style":196},[2321],{"type":19,"value":925},{"type":13,"tag":147,"props":2323,"children":2324},{"style":174},[2325],{"type":19,"value":930},{"type":13,"tag":147,"props":2327,"children":2328},{"style":196},[2329],{"type":19,"value":935},{"type":13,"tag":147,"props":2331,"children":2332},{"class":149,"line":1419},[2333,2337,2341,2345,2349,2353],{"type":13,"tag":147,"props":2334,"children":2335},{"style":180},[2336],{"type":19,"value":943},{"type":13,"tag":147,"props":2338,"children":2339},{"style":174},[2340],{"type":19,"value":596},{"type":13,"tag":147,"props":2342,"children":2343},{"style":180},[2344],{"type":19,"value":465},{"type":13,"tag":147,"props":2346,"children":2347},{"style":196},[2348],{"type":19,"value":956},{"type":13,"tag":147,"props":2350,"children":2351},{"style":174},[2352],{"type":19,"value":961},{"type":13,"tag":147,"props":2354,"children":2355},{"style":196},[2356],{"type":19,"value":663},{"type":13,"tag":147,"props":2358,"children":2359},{"class":149,"line":1427},[2360,2365,2370,2374,2379,2383,2388,2393,2398],{"type":13,"tag":147,"props":2361,"children":2362},{"style":180},[2363],{"type":19,"value":2364},"            build",{"type":13,"tag":147,"props":2366,"children":2367},{"style":196},[2368],{"type":19,"value":2369},"(input_file, compiler_options)",{"type":13,"tag":147,"props":2371,"children":2372},{"style":174},[2373],{"type":19,"value":930},{"type":13,"tag":147,"props":2375,"children":2376},{"style":180},[2377],{"type":19,"value":2378},"context",{"type":13,"tag":147,"props":2380,"children":2381},{"style":196},[2382],{"type":19,"value":978},{"type":13,"tag":147,"props":2384,"children":2385},{"style":387},[2386],{"type":19,"value":2387},"\"Compiling input file\"",{"type":13,"tag":147,"props":2389,"children":2390},{"style":196},[2391],{"type":19,"value":2392},")",{"type":13,"tag":147,"props":2394,"children":2395},{"style":174},[2396],{"type":19,"value":2397},"?",{"type":13,"tag":147,"props":2399,"children":2400},{"style":196},[2401],{"type":19,"value":199},{"type":13,"tag":147,"props":2403,"children":2404},{"class":149,"line":1436},[2405],{"type":13,"tag":147,"props":2406,"children":2407},{"style":196},[2408],{"type":19,"value":996},{"type":13,"tag":147,"props":2410,"children":2411},{"class":149,"line":1465},[2412],{"type":13,"tag":147,"props":2413,"children":2414},{"style":196},[2415],{"type":19,"value":1004},{"type":13,"tag":147,"props":2417,"children":2418},{"class":149,"line":1486},[2419],{"type":13,"tag":147,"props":2420,"children":2421},{"emptyLinePlaceholder":164},[2422],{"type":19,"value":167},{"type":13,"tag":147,"props":2424,"children":2425},{"class":149,"line":1494},[2426,2430],{"type":13,"tag":147,"props":2427,"children":2428},{"style":180},[2429],{"type":19,"value":1019},{"type":13,"tag":147,"props":2431,"children":2432},{"style":196},[2433],{"type":19,"value":1024},{"type":13,"tag":147,"props":2435,"children":2436},{"class":149,"line":1502},[2437],{"type":13,"tag":147,"props":2438,"children":2439},{"style":196},[2440],{"type":19,"value":706},{"type":13,"tag":28,"props":2442,"children":2443},{},[2444],{"type":13,"tag":32,"props":2445,"children":2446},{},[2447,2449,2455,2457,2463],{"type":19,"value":2448},"Do note that ",{"type":13,"tag":93,"props":2450,"children":2452},{"className":2451},[],[2453],{"type":19,"value":2454},"viv_script",{"type":19,"value":2456}," should be replaced with your project name, in the other files we will be using ",{"type":13,"tag":93,"props":2458,"children":2460},{"className":2459},[],[2461],{"type":19,"value":2462},"crate",{"type":19,"value":2464}," meaning the name doesnt matter.",{"type":13,"tag":21,"props":2466,"children":2468},{"id":2467},"parsing",[2469],{"type":19,"value":2470},"Parsing",{"type":13,"tag":32,"props":2472,"children":2473},{},[2474],{"type":19,"value":2475},"Now that we got the CLI out of the way let's start doing some parsing!",{"type":13,"tag":32,"props":2477,"children":2478},{},[2479],{"type":19,"value":2480},"Parsing is the work of taking text and turning it into a structure that makes sense and is easy to work with!\nWe are gonna do this in two steps, first, we tokenize the text, then we parse it.\nTokenizing basically takes the text and groups it into chunks that are easier to work with.",{"type":13,"tag":32,"props":2482,"children":2483},{},[2484,2486,2491],{"type":19,"value":2485},"Let's create a ",{"type":13,"tag":93,"props":2487,"children":2489},{"className":2488},[],[2490],{"type":19,"value":2467},{"type":19,"value":2492}," module",{"type":13,"tag":88,"props":2494,"children":2496},{"code":2495},"src/\n  parsing/\n    mod.rs  \u003C-- Create this file!\n  lib.rs\n  main.rs\n",[2497],{"type":13,"tag":93,"props":2498,"children":2499},{"__ignoreMap":7},[2500],{"type":19,"value":2495},{"type":13,"tag":32,"props":2502,"children":2503},{},[2504,2506,2511],{"type":19,"value":2505},"And ofc we need to add it to ",{"type":13,"tag":93,"props":2507,"children":2509},{"className":2508},[],[2510],{"type":19,"value":136},{"type":19,"value":2512}," (in the future I will just assume you do this when we create a new file)",{"type":13,"tag":88,"props":2514,"children":2516},{"code":2515,"language":140,"meta":7,"className":141,"style":7},"// lib.rs\n\nmod parsing;\n",[2517],{"type":13,"tag":93,"props":2518,"children":2519},{"__ignoreMap":7},[2520,2527,2534],{"type":13,"tag":147,"props":2521,"children":2522},{"class":149,"line":150},[2523],{"type":13,"tag":147,"props":2524,"children":2525},{"style":154},[2526],{"type":19,"value":157},{"type":13,"tag":147,"props":2528,"children":2529},{"class":149,"line":160},[2530],{"type":13,"tag":147,"props":2531,"children":2532},{"emptyLinePlaceholder":164},[2533],{"type":19,"value":167},{"type":13,"tag":147,"props":2535,"children":2536},{"class":149,"line":170},[2537,2542,2547],{"type":13,"tag":147,"props":2538,"children":2539},{"style":174},[2540],{"type":19,"value":2541},"mod",{"type":13,"tag":147,"props":2543,"children":2544},{"style":180},[2545],{"type":19,"value":2546}," parsing",{"type":13,"tag":147,"props":2548,"children":2549},{"style":196},[2550],{"type":19,"value":199},{"type":13,"tag":460,"props":2552,"children":2554},{"id":2553},"ast",[2555],{"type":19,"value":2556},"Ast",{"type":13,"tag":32,"props":2558,"children":2559},{},[2560,2562,2568],{"type":19,"value":2561},"Now let's design our AST first, we will create an ",{"type":13,"tag":93,"props":2563,"children":2565},{"className":2564},[],[2566],{"type":19,"value":2567},"ast.rs",{"type":19,"value":2569}," module (in `parsing/), and we will also make the module public.",{"type":13,"tag":88,"props":2571,"children":2573},{"code":2572,"language":140,"meta":7,"className":141,"style":7},"// parsing/mod.rs\n\npub mod ast;\n",[2574],{"type":13,"tag":93,"props":2575,"children":2576},{"__ignoreMap":7},[2577,2585,2592],{"type":13,"tag":147,"props":2578,"children":2579},{"class":149,"line":150},[2580],{"type":13,"tag":147,"props":2581,"children":2582},{"style":154},[2583],{"type":19,"value":2584},"// parsing/mod.rs\n",{"type":13,"tag":147,"props":2586,"children":2587},{"class":149,"line":160},[2588],{"type":13,"tag":147,"props":2589,"children":2590},{"emptyLinePlaceholder":164},[2591],{"type":19,"value":167},{"type":13,"tag":147,"props":2593,"children":2594},{"class":149,"line":170},[2595,2599,2604,2609],{"type":13,"tag":147,"props":2596,"children":2597},{"style":174},[2598],{"type":19,"value":1666},{"type":13,"tag":147,"props":2600,"children":2601},{"style":174},[2602],{"type":19,"value":2603}," mod",{"type":13,"tag":147,"props":2605,"children":2606},{"style":180},[2607],{"type":19,"value":2608}," ast",{"type":13,"tag":147,"props":2610,"children":2611},{"style":196},[2612],{"type":19,"value":199},{"type":13,"tag":32,"props":2614,"children":2615},{},[2616,2618,2624,2626,2632,2634,2640,2641,2647,2649,2655],{"type":19,"value":2617},"So for our AST, we could have a ",{"type":13,"tag":93,"props":2619,"children":2621},{"className":2620},[],[2622],{"type":19,"value":2623},"Print",{"type":19,"value":2625}," struct and a ",{"type":13,"tag":93,"props":2627,"children":2629},{"className":2628},[],[2630],{"type":19,"value":2631},"Number",{"type":19,"value":2633}," struct, BUT we need to think about the future, so instead we will have ",{"type":13,"tag":93,"props":2635,"children":2637},{"className":2636},[],[2638],{"type":19,"value":2639},"Statement",{"type":19,"value":611},{"type":13,"tag":93,"props":2642,"children":2644},{"className":2643},[],[2645],{"type":19,"value":2646},"Expression",{"type":19,"value":2648},", and ",{"type":13,"tag":93,"props":2650,"children":2652},{"className":2651},[],[2653],{"type":19,"value":2654},"Literal",{"type":19,"value":2656},"!",{"type":13,"tag":88,"props":2658,"children":2660},{"code":2659,"language":140,"meta":7,"className":141,"style":7},"/// parsing/ast.rs\n\nuse crate::IntType;\n\n#[derive(Debug)]\npub struct Module(pub Vec\u003CStatement>);\n\n#[derive(Debug)]\npub enum Statement {\n    Print(Expression),\n}\n\n#[derive(Debug)]\npub enum Expression {\n    Literal(Literal),\n}\n\n#[derive(Debug)]\npub enum Literal {\n    Integer(IntType),\n}\n",[2661],{"type":13,"tag":93,"props":2662,"children":2663},{"__ignoreMap":7},[2664,2672,2679,2700,2707,2723,2766,2773,2788,2809,2830,2837,2844,2859,2879,2899,2906,2913,2928,2948,2968],{"type":13,"tag":147,"props":2665,"children":2666},{"class":149,"line":150},[2667],{"type":13,"tag":147,"props":2668,"children":2669},{"style":154},[2670],{"type":19,"value":2671},"/// parsing/ast.rs\n",{"type":13,"tag":147,"props":2673,"children":2674},{"class":149,"line":160},[2675],{"type":13,"tag":147,"props":2676,"children":2677},{"emptyLinePlaceholder":164},[2678],{"type":19,"value":167},{"type":13,"tag":147,"props":2680,"children":2681},{"class":149,"line":170},[2682,2686,2691,2696],{"type":13,"tag":147,"props":2683,"children":2684},{"style":174},[2685],{"type":19,"value":587},{"type":13,"tag":147,"props":2687,"children":2688},{"style":174},[2689],{"type":19,"value":2690}," crate::",{"type":13,"tag":147,"props":2692,"children":2693},{"style":180},[2694],{"type":19,"value":2695},"IntType",{"type":13,"tag":147,"props":2697,"children":2698},{"style":196},[2699],{"type":19,"value":199},{"type":13,"tag":147,"props":2701,"children":2702},{"class":149,"line":202},[2703],{"type":13,"tag":147,"props":2704,"children":2705},{"emptyLinePlaceholder":164},[2706],{"type":19,"value":167},{"type":13,"tag":147,"props":2708,"children":2709},{"class":149,"line":228},[2710,2714,2719],{"type":13,"tag":147,"props":2711,"children":2712},{"style":196},[2713],{"type":19,"value":636},{"type":13,"tag":147,"props":2715,"children":2716},{"style":180},[2717],{"type":19,"value":2718},"Debug",{"type":13,"tag":147,"props":2720,"children":2721},{"style":196},[2722],{"type":19,"value":645},{"type":13,"tag":147,"props":2724,"children":2725},{"class":149,"line":236},[2726,2730,2734,2739,2743,2747,2752,2757,2761],{"type":13,"tag":147,"props":2727,"children":2728},{"style":174},[2729],{"type":19,"value":1666},{"type":13,"tag":147,"props":2731,"children":2732},{"style":174},[2733],{"type":19,"value":1671},{"type":13,"tag":147,"props":2735,"children":2736},{"style":180},[2737],{"type":19,"value":2738}," Module",{"type":13,"tag":147,"props":2740,"children":2741},{"style":196},[2742],{"type":19,"value":978},{"type":13,"tag":147,"props":2744,"children":2745},{"style":174},[2746],{"type":19,"value":1666},{"type":13,"tag":147,"props":2748,"children":2749},{"style":180},[2750],{"type":19,"value":2751}," Vec",{"type":13,"tag":147,"props":2753,"children":2754},{"style":196},[2755],{"type":19,"value":2756},"\u003C",{"type":13,"tag":147,"props":2758,"children":2759},{"style":180},[2760],{"type":19,"value":2639},{"type":13,"tag":147,"props":2762,"children":2763},{"style":196},[2764],{"type":19,"value":2765},">);\n",{"type":13,"tag":147,"props":2767,"children":2768},{"class":149,"line":274},[2769],{"type":13,"tag":147,"props":2770,"children":2771},{"emptyLinePlaceholder":164},[2772],{"type":19,"value":167},{"type":13,"tag":147,"props":2774,"children":2775},{"class":149,"line":709},[2776,2780,2784],{"type":13,"tag":147,"props":2777,"children":2778},{"style":196},[2779],{"type":19,"value":636},{"type":13,"tag":147,"props":2781,"children":2782},{"style":180},[2783],{"type":19,"value":2718},{"type":13,"tag":147,"props":2785,"children":2786},{"style":196},[2787],{"type":19,"value":645},{"type":13,"tag":147,"props":2789,"children":2790},{"class":149,"line":717},[2791,2795,2800,2805],{"type":13,"tag":147,"props":2792,"children":2793},{"style":174},[2794],{"type":19,"value":1666},{"type":13,"tag":147,"props":2796,"children":2797},{"style":174},[2798],{"type":19,"value":2799}," enum",{"type":13,"tag":147,"props":2801,"children":2802},{"style":180},[2803],{"type":19,"value":2804}," Statement",{"type":13,"tag":147,"props":2806,"children":2807},{"style":196},[2808],{"type":19,"value":663},{"type":13,"tag":147,"props":2810,"children":2811},{"class":149,"line":733},[2812,2817,2821,2825],{"type":13,"tag":147,"props":2813,"children":2814},{"style":180},[2815],{"type":19,"value":2816},"    Print",{"type":13,"tag":147,"props":2818,"children":2819},{"style":196},[2820],{"type":19,"value":978},{"type":13,"tag":147,"props":2822,"children":2823},{"style":180},[2824],{"type":19,"value":2646},{"type":13,"tag":147,"props":2826,"children":2827},{"style":196},[2828],{"type":19,"value":2829},"),\n",{"type":13,"tag":147,"props":2831,"children":2832},{"class":149,"line":751},[2833],{"type":13,"tag":147,"props":2834,"children":2835},{"style":196},[2836],{"type":19,"value":706},{"type":13,"tag":147,"props":2838,"children":2839},{"class":149,"line":760},[2840],{"type":13,"tag":147,"props":2841,"children":2842},{"emptyLinePlaceholder":164},[2843],{"type":19,"value":167},{"type":13,"tag":147,"props":2845,"children":2846},{"class":149,"line":782},[2847,2851,2855],{"type":13,"tag":147,"props":2848,"children":2849},{"style":196},[2850],{"type":19,"value":636},{"type":13,"tag":147,"props":2852,"children":2853},{"style":180},[2854],{"type":19,"value":2718},{"type":13,"tag":147,"props":2856,"children":2857},{"style":196},[2858],{"type":19,"value":645},{"type":13,"tag":147,"props":2860,"children":2861},{"class":149,"line":1352},[2862,2866,2870,2875],{"type":13,"tag":147,"props":2863,"children":2864},{"style":174},[2865],{"type":19,"value":1666},{"type":13,"tag":147,"props":2867,"children":2868},{"style":174},[2869],{"type":19,"value":2799},{"type":13,"tag":147,"props":2871,"children":2872},{"style":180},[2873],{"type":19,"value":2874}," Expression",{"type":13,"tag":147,"props":2876,"children":2877},{"style":196},[2878],{"type":19,"value":663},{"type":13,"tag":147,"props":2880,"children":2881},{"class":149,"line":1360},[2882,2887,2891,2895],{"type":13,"tag":147,"props":2883,"children":2884},{"style":180},[2885],{"type":19,"value":2886},"    Literal",{"type":13,"tag":147,"props":2888,"children":2889},{"style":196},[2890],{"type":19,"value":978},{"type":13,"tag":147,"props":2892,"children":2893},{"style":180},[2894],{"type":19,"value":2654},{"type":13,"tag":147,"props":2896,"children":2897},{"style":196},[2898],{"type":19,"value":2829},{"type":13,"tag":147,"props":2900,"children":2901},{"class":149,"line":1369},[2902],{"type":13,"tag":147,"props":2903,"children":2904},{"style":196},[2905],{"type":19,"value":706},{"type":13,"tag":147,"props":2907,"children":2908},{"class":149,"line":1398},[2909],{"type":13,"tag":147,"props":2910,"children":2911},{"emptyLinePlaceholder":164},[2912],{"type":19,"value":167},{"type":13,"tag":147,"props":2914,"children":2915},{"class":149,"line":1419},[2916,2920,2924],{"type":13,"tag":147,"props":2917,"children":2918},{"style":196},[2919],{"type":19,"value":636},{"type":13,"tag":147,"props":2921,"children":2922},{"style":180},[2923],{"type":19,"value":2718},{"type":13,"tag":147,"props":2925,"children":2926},{"style":196},[2927],{"type":19,"value":645},{"type":13,"tag":147,"props":2929,"children":2930},{"class":149,"line":1427},[2931,2935,2939,2944],{"type":13,"tag":147,"props":2932,"children":2933},{"style":174},[2934],{"type":19,"value":1666},{"type":13,"tag":147,"props":2936,"children":2937},{"style":174},[2938],{"type":19,"value":2799},{"type":13,"tag":147,"props":2940,"children":2941},{"style":180},[2942],{"type":19,"value":2943}," Literal",{"type":13,"tag":147,"props":2945,"children":2946},{"style":196},[2947],{"type":19,"value":663},{"type":13,"tag":147,"props":2949,"children":2950},{"class":149,"line":1436},[2951,2956,2960,2964],{"type":13,"tag":147,"props":2952,"children":2953},{"style":180},[2954],{"type":19,"value":2955},"    Integer",{"type":13,"tag":147,"props":2957,"children":2958},{"style":196},[2959],{"type":19,"value":978},{"type":13,"tag":147,"props":2961,"children":2962},{"style":180},[2963],{"type":19,"value":2695},{"type":13,"tag":147,"props":2965,"children":2966},{"style":196},[2967],{"type":19,"value":2829},{"type":13,"tag":147,"props":2969,"children":2970},{"class":149,"line":1465},[2971],{"type":13,"tag":147,"props":2972,"children":2973},{"style":196},[2974],{"type":19,"value":706},{"type":13,"tag":32,"props":2976,"children":2977},{},[2978,2980,2986,2988,2993],{"type":19,"value":2979},"So a ",{"type":13,"tag":93,"props":2981,"children":2983},{"className":2982},[],[2984],{"type":19,"value":2985},"Module",{"type":19,"value":2987}," is a list of Statements, and here we use the type alias we set up at the start, so if you decide that you want bigger or smaller ints you can do that easily in ",{"type":13,"tag":93,"props":2989,"children":2991},{"className":2990},[],[2992],{"type":19,"value":136},{"type":19,"value":2656},{"type":13,"tag":88,"props":2995,"children":2997},{"code":2996},"print 1;\nprint 2;\n",[2998],{"type":13,"tag":93,"props":2999,"children":3000},{"__ignoreMap":7},[3001],{"type":19,"value":2996},{"type":13,"tag":32,"props":3003,"children":3004},{},[3005],{"type":19,"value":3006},"Would be parsed into",{"type":13,"tag":88,"props":3008,"children":3010},{"code":3009,"language":140,"meta":7,"className":141,"style":7},"Module(vec![\n  Statement::Print(Expression::Literal(Literal::Integer(1))),\n  Statement::Print(Expression::Literal(Literal::Integer(2)))\n])\n",[3011],{"type":13,"tag":93,"props":3012,"children":3013},{"__ignoreMap":7},[3014,3035,3098,3159],{"type":13,"tag":147,"props":3015,"children":3016},{"class":149,"line":150},[3017,3021,3025,3030],{"type":13,"tag":147,"props":3018,"children":3019},{"style":180},[3020],{"type":19,"value":2985},{"type":13,"tag":147,"props":3022,"children":3023},{"style":196},[3024],{"type":19,"value":978},{"type":13,"tag":147,"props":3026,"children":3027},{"style":180},[3028],{"type":19,"value":3029},"vec!",{"type":13,"tag":147,"props":3031,"children":3032},{"style":196},[3033],{"type":19,"value":3034},"[\n",{"type":13,"tag":147,"props":3036,"children":3037},{"class":149,"line":160},[3038,3043,3047,3051,3055,3059,3063,3067,3071,3075,3079,3084,3088,3093],{"type":13,"tag":147,"props":3039,"children":3040},{"style":180},[3041],{"type":19,"value":3042},"  Statement",{"type":13,"tag":147,"props":3044,"children":3045},{"style":174},[3046],{"type":19,"value":596},{"type":13,"tag":147,"props":3048,"children":3049},{"style":180},[3050],{"type":19,"value":2623},{"type":13,"tag":147,"props":3052,"children":3053},{"style":196},[3054],{"type":19,"value":978},{"type":13,"tag":147,"props":3056,"children":3057},{"style":180},[3058],{"type":19,"value":2646},{"type":13,"tag":147,"props":3060,"children":3061},{"style":174},[3062],{"type":19,"value":596},{"type":13,"tag":147,"props":3064,"children":3065},{"style":180},[3066],{"type":19,"value":2654},{"type":13,"tag":147,"props":3068,"children":3069},{"style":196},[3070],{"type":19,"value":978},{"type":13,"tag":147,"props":3072,"children":3073},{"style":180},[3074],{"type":19,"value":2654},{"type":13,"tag":147,"props":3076,"children":3077},{"style":174},[3078],{"type":19,"value":596},{"type":13,"tag":147,"props":3080,"children":3081},{"style":180},[3082],{"type":19,"value":3083},"Integer",{"type":13,"tag":147,"props":3085,"children":3086},{"style":196},[3087],{"type":19,"value":978},{"type":13,"tag":147,"props":3089,"children":3090},{"style":245},[3091],{"type":19,"value":3092},"1",{"type":13,"tag":147,"props":3094,"children":3095},{"style":196},[3096],{"type":19,"value":3097},"))),\n",{"type":13,"tag":147,"props":3099,"children":3100},{"class":149,"line":170},[3101,3105,3109,3113,3117,3121,3125,3129,3133,3137,3141,3145,3149,3154],{"type":13,"tag":147,"props":3102,"children":3103},{"style":180},[3104],{"type":19,"value":3042},{"type":13,"tag":147,"props":3106,"children":3107},{"style":174},[3108],{"type":19,"value":596},{"type":13,"tag":147,"props":3110,"children":3111},{"style":180},[3112],{"type":19,"value":2623},{"type":13,"tag":147,"props":3114,"children":3115},{"style":196},[3116],{"type":19,"value":978},{"type":13,"tag":147,"props":3118,"children":3119},{"style":180},[3120],{"type":19,"value":2646},{"type":13,"tag":147,"props":3122,"children":3123},{"style":174},[3124],{"type":19,"value":596},{"type":13,"tag":147,"props":3126,"children":3127},{"style":180},[3128],{"type":19,"value":2654},{"type":13,"tag":147,"props":3130,"children":3131},{"style":196},[3132],{"type":19,"value":978},{"type":13,"tag":147,"props":3134,"children":3135},{"style":180},[3136],{"type":19,"value":2654},{"type":13,"tag":147,"props":3138,"children":3139},{"style":174},[3140],{"type":19,"value":596},{"type":13,"tag":147,"props":3142,"children":3143},{"style":180},[3144],{"type":19,"value":3083},{"type":13,"tag":147,"props":3146,"children":3147},{"style":196},[3148],{"type":19,"value":978},{"type":13,"tag":147,"props":3150,"children":3151},{"style":245},[3152],{"type":19,"value":3153},"2",{"type":13,"tag":147,"props":3155,"children":3156},{"style":196},[3157],{"type":19,"value":3158},")))\n",{"type":13,"tag":147,"props":3160,"children":3161},{"class":149,"line":202},[3162],{"type":13,"tag":147,"props":3163,"children":3164},{"style":196},[3165],{"type":19,"value":3166},"])\n",{"type":13,"tag":460,"props":3168,"children":3170},{"id":3169},"tokens",[3171],{"type":19,"value":3172},"Tokens",{"type":13,"tag":32,"props":3174,"children":3175},{},[3176],{"type":19,"value":3177},"Okay let's leave the Ast for and focus on tokens, these should be really small groups of meaningful data.\nConsider the following code:",{"type":13,"tag":88,"props":3179,"children":3181},{"code":3180},"print 1 + 3;\n",[3182],{"type":13,"tag":93,"props":3183,"children":3184},{"__ignoreMap":7},[3185],{"type":19,"value":3180},{"type":13,"tag":32,"props":3187,"children":3188},{},[3189],{"type":19,"value":3190},"This might be tokenized into:",{"type":13,"tag":88,"props":3192,"children":3194},{"code":3193,"language":140,"meta":7,"className":141,"style":7},"PRINT, NUMBER(1), PLUS, NUMBER(3), SEMICOLON, EOF\n",[3195],{"type":13,"tag":93,"props":3196,"children":3197},{"__ignoreMap":7},[3198],{"type":13,"tag":147,"props":3199,"children":3200},{"class":149,"line":150},[3201,3206,3210,3215,3219,3223,3228,3233,3237,3241,3245,3250,3254,3259,3263],{"type":13,"tag":147,"props":3202,"children":3203},{"style":245},[3204],{"type":19,"value":3205},"PRINT",{"type":13,"tag":147,"props":3207,"children":3208},{"style":196},[3209],{"type":19,"value":611},{"type":13,"tag":147,"props":3211,"children":3212},{"style":245},[3213],{"type":19,"value":3214},"NUMBER",{"type":13,"tag":147,"props":3216,"children":3217},{"style":196},[3218],{"type":19,"value":978},{"type":13,"tag":147,"props":3220,"children":3221},{"style":245},[3222],{"type":19,"value":3092},{"type":13,"tag":147,"props":3224,"children":3225},{"style":196},[3226],{"type":19,"value":3227},"), ",{"type":13,"tag":147,"props":3229,"children":3230},{"style":245},[3231],{"type":19,"value":3232},"PLUS",{"type":13,"tag":147,"props":3234,"children":3235},{"style":196},[3236],{"type":19,"value":611},{"type":13,"tag":147,"props":3238,"children":3239},{"style":245},[3240],{"type":19,"value":3214},{"type":13,"tag":147,"props":3242,"children":3243},{"style":196},[3244],{"type":19,"value":978},{"type":13,"tag":147,"props":3246,"children":3247},{"style":245},[3248],{"type":19,"value":3249},"3",{"type":13,"tag":147,"props":3251,"children":3252},{"style":196},[3253],{"type":19,"value":3227},{"type":13,"tag":147,"props":3255,"children":3256},{"style":245},[3257],{"type":19,"value":3258},"SEMICOLON",{"type":13,"tag":147,"props":3260,"children":3261},{"style":196},[3262],{"type":19,"value":611},{"type":13,"tag":147,"props":3264,"children":3265},{"style":245},[3266],{"type":19,"value":3267},"EOF\n",{"type":13,"tag":32,"props":3269,"children":3270},{},[3271],{"type":19,"value":3272},"the tokens are basically how you would read out the code if you were telling somebody how to write it!",{"type":13,"tag":460,"props":3274,"children":3276},{"id":3275},"tokenizer",[3277],{"type":19,"value":3278},"Tokenizer",{"type":13,"tag":32,"props":3280,"children":3281},{},[3282,3284,3290,3292,3298,3300,3305],{"type":19,"value":3283},"Let's make a ",{"type":13,"tag":93,"props":3285,"children":3287},{"className":3286},[],[3288],{"type":19,"value":3289},"parsing/tokens.rs",{"type":19,"value":3291}," file, (this one doesn't need to be public from ",{"type":13,"tag":93,"props":3293,"children":3295},{"className":3294},[],[3296],{"type":19,"value":3297},"parsing/mod.rs",{"type":19,"value":3299},").\nWe will declare the tokens and tokenizer in the same file as they aren't that complex, while the Ast and Parser we split up because of their complexities (and also the parser doesn't need to be known outside ",{"type":13,"tag":93,"props":3301,"children":3303},{"className":3302},[],[3304],{"type":19,"value":2467},{"type":19,"value":3306}," while the Ast does)",{"type":13,"tag":32,"props":3308,"children":3309},{},[3310],{"type":19,"value":3311},"We will declare the tokens we need so far!",{"type":13,"tag":88,"props":3313,"children":3315},{"code":3314,"language":140,"meta":7,"className":141,"style":7},"use crate::IntType;\n\n#[derive(Debug, PartialEq, Eq)]\npub enum TokenType {\n    Integer(IntType),\n    Identifier(String),\n    Print,\n    SemiColon,\n    Eof,\n}\n\npub struct Token {\n    pub _type: TokenType,\n    pub line: usize,\n    pub char: usize,\n}\n",[3316],{"type":13,"tag":93,"props":3317,"children":3318},{"__ignoreMap":7},[3319,3338,3345,3378,3398,3417,3438,3449,3461,3473,3480,3487,3507,3531,3555,3579],{"type":13,"tag":147,"props":3320,"children":3321},{"class":149,"line":150},[3322,3326,3330,3334],{"type":13,"tag":147,"props":3323,"children":3324},{"style":174},[3325],{"type":19,"value":587},{"type":13,"tag":147,"props":3327,"children":3328},{"style":174},[3329],{"type":19,"value":2690},{"type":13,"tag":147,"props":3331,"children":3332},{"style":180},[3333],{"type":19,"value":2695},{"type":13,"tag":147,"props":3335,"children":3336},{"style":196},[3337],{"type":19,"value":199},{"type":13,"tag":147,"props":3339,"children":3340},{"class":149,"line":160},[3341],{"type":13,"tag":147,"props":3342,"children":3343},{"emptyLinePlaceholder":164},[3344],{"type":19,"value":167},{"type":13,"tag":147,"props":3346,"children":3347},{"class":149,"line":170},[3348,3352,3356,3360,3365,3369,3374],{"type":13,"tag":147,"props":3349,"children":3350},{"style":196},[3351],{"type":19,"value":636},{"type":13,"tag":147,"props":3353,"children":3354},{"style":180},[3355],{"type":19,"value":2718},{"type":13,"tag":147,"props":3357,"children":3358},{"style":196},[3359],{"type":19,"value":611},{"type":13,"tag":147,"props":3361,"children":3362},{"style":180},[3363],{"type":19,"value":3364},"PartialEq",{"type":13,"tag":147,"props":3366,"children":3367},{"style":196},[3368],{"type":19,"value":611},{"type":13,"tag":147,"props":3370,"children":3371},{"style":180},[3372],{"type":19,"value":3373},"Eq",{"type":13,"tag":147,"props":3375,"children":3376},{"style":196},[3377],{"type":19,"value":645},{"type":13,"tag":147,"props":3379,"children":3380},{"class":149,"line":202},[3381,3385,3389,3394],{"type":13,"tag":147,"props":3382,"children":3383},{"style":174},[3384],{"type":19,"value":1666},{"type":13,"tag":147,"props":3386,"children":3387},{"style":174},[3388],{"type":19,"value":2799},{"type":13,"tag":147,"props":3390,"children":3391},{"style":180},[3392],{"type":19,"value":3393}," TokenType",{"type":13,"tag":147,"props":3395,"children":3396},{"style":196},[3397],{"type":19,"value":663},{"type":13,"tag":147,"props":3399,"children":3400},{"class":149,"line":228},[3401,3405,3409,3413],{"type":13,"tag":147,"props":3402,"children":3403},{"style":180},[3404],{"type":19,"value":2955},{"type":13,"tag":147,"props":3406,"children":3407},{"style":196},[3408],{"type":19,"value":978},{"type":13,"tag":147,"props":3410,"children":3411},{"style":180},[3412],{"type":19,"value":2695},{"type":13,"tag":147,"props":3414,"children":3415},{"style":196},[3416],{"type":19,"value":2829},{"type":13,"tag":147,"props":3418,"children":3419},{"class":149,"line":236},[3420,3425,3429,3434],{"type":13,"tag":147,"props":3421,"children":3422},{"style":180},[3423],{"type":19,"value":3424},"    Identifier",{"type":13,"tag":147,"props":3426,"children":3427},{"style":196},[3428],{"type":19,"value":978},{"type":13,"tag":147,"props":3430,"children":3431},{"style":180},[3432],{"type":19,"value":3433},"String",{"type":13,"tag":147,"props":3435,"children":3436},{"style":196},[3437],{"type":19,"value":2829},{"type":13,"tag":147,"props":3439,"children":3440},{"class":149,"line":274},[3441,3445],{"type":13,"tag":147,"props":3442,"children":3443},{"style":180},[3444],{"type":19,"value":2816},{"type":13,"tag":147,"props":3446,"children":3447},{"style":196},[3448],{"type":19,"value":779},{"type":13,"tag":147,"props":3450,"children":3451},{"class":149,"line":709},[3452,3457],{"type":13,"tag":147,"props":3453,"children":3454},{"style":180},[3455],{"type":19,"value":3456},"    SemiColon",{"type":13,"tag":147,"props":3458,"children":3459},{"style":196},[3460],{"type":19,"value":779},{"type":13,"tag":147,"props":3462,"children":3463},{"class":149,"line":717},[3464,3469],{"type":13,"tag":147,"props":3465,"children":3466},{"style":180},[3467],{"type":19,"value":3468},"    Eof",{"type":13,"tag":147,"props":3470,"children":3471},{"style":196},[3472],{"type":19,"value":779},{"type":13,"tag":147,"props":3474,"children":3475},{"class":149,"line":733},[3476],{"type":13,"tag":147,"props":3477,"children":3478},{"style":196},[3479],{"type":19,"value":706},{"type":13,"tag":147,"props":3481,"children":3482},{"class":149,"line":751},[3483],{"type":13,"tag":147,"props":3484,"children":3485},{"emptyLinePlaceholder":164},[3486],{"type":19,"value":167},{"type":13,"tag":147,"props":3488,"children":3489},{"class":149,"line":760},[3490,3494,3498,3503],{"type":13,"tag":147,"props":3491,"children":3492},{"style":174},[3493],{"type":19,"value":1666},{"type":13,"tag":147,"props":3495,"children":3496},{"style":174},[3497],{"type":19,"value":1671},{"type":13,"tag":147,"props":3499,"children":3500},{"style":180},[3501],{"type":19,"value":3502}," Token",{"type":13,"tag":147,"props":3504,"children":3505},{"style":196},[3506],{"type":19,"value":663},{"type":13,"tag":147,"props":3508,"children":3509},{"class":149,"line":782},[3510,3514,3519,3523,3527],{"type":13,"tag":147,"props":3511,"children":3512},{"style":174},[3513],{"type":19,"value":1688},{"type":13,"tag":147,"props":3515,"children":3516},{"style":196},[3517],{"type":19,"value":3518}," _type",{"type":13,"tag":147,"props":3520,"children":3521},{"style":174},[3522],{"type":19,"value":253},{"type":13,"tag":147,"props":3524,"children":3525},{"style":180},[3526],{"type":19,"value":3393},{"type":13,"tag":147,"props":3528,"children":3529},{"style":196},[3530],{"type":19,"value":779},{"type":13,"tag":147,"props":3532,"children":3533},{"class":149,"line":1352},[3534,3538,3543,3547,3551],{"type":13,"tag":147,"props":3535,"children":3536},{"style":174},[3537],{"type":19,"value":1688},{"type":13,"tag":147,"props":3539,"children":3540},{"style":196},[3541],{"type":19,"value":3542}," line",{"type":13,"tag":147,"props":3544,"children":3545},{"style":174},[3546],{"type":19,"value":253},{"type":13,"tag":147,"props":3548,"children":3549},{"style":180},[3550],{"type":19,"value":258},{"type":13,"tag":147,"props":3552,"children":3553},{"style":196},[3554],{"type":19,"value":779},{"type":13,"tag":147,"props":3556,"children":3557},{"class":149,"line":1360},[3558,3562,3567,3571,3575],{"type":13,"tag":147,"props":3559,"children":3560},{"style":174},[3561],{"type":19,"value":1688},{"type":13,"tag":147,"props":3563,"children":3564},{"style":180},[3565],{"type":19,"value":3566}," char",{"type":13,"tag":147,"props":3568,"children":3569},{"style":174},[3570],{"type":19,"value":253},{"type":13,"tag":147,"props":3572,"children":3573},{"style":180},[3574],{"type":19,"value":258},{"type":13,"tag":147,"props":3576,"children":3577},{"style":196},[3578],{"type":19,"value":779},{"type":13,"tag":147,"props":3580,"children":3581},{"class":149,"line":1369},[3582],{"type":13,"tag":147,"props":3583,"children":3584},{"style":196},[3585],{"type":19,"value":706},{"type":13,"tag":32,"props":3587,"children":3588},{},[3589,3591,3597],{"type":19,"value":3590},"You may be asking, what is this ",{"type":13,"tag":93,"props":3592,"children":3594},{"className":3593},[],[3595],{"type":19,"value":3596},"Identifier",{"type":19,"value":3598}," about? Well, we aren't going to use it (yet!), but it makes the tokenizing logic easier to have it now, in the future this will be used for variables!",{"type":13,"tag":32,"props":3600,"children":3601},{},[3602],{"type":19,"value":3603},"We will also declare an error for the tokenizer so that we can get error messages for unknown chars!",{"type":13,"tag":88,"props":3605,"children":3607},{"code":3606,"language":140,"meta":7,"className":141,"style":7},"use thiserror::Error;\n\n#[derive(Error, Debug)]\n#[error(\"Tokenizer error on line {line}, char {char}: {message}\")]\npub struct TokenizerError {\n    pub line: usize,\n    pub char: usize,\n    pub message: String,\n}\n",[3608],{"type":13,"tag":93,"props":3609,"children":3610},{"__ignoreMap":7},[3611,3636,3643,3666,3683,3703,3726,3749,3773],{"type":13,"tag":147,"props":3612,"children":3613},{"class":149,"line":150},[3614,3618,3623,3627,3632],{"type":13,"tag":147,"props":3615,"children":3616},{"style":174},[3617],{"type":19,"value":587},{"type":13,"tag":147,"props":3619,"children":3620},{"style":180},[3621],{"type":19,"value":3622}," thiserror",{"type":13,"tag":147,"props":3624,"children":3625},{"style":174},[3626],{"type":19,"value":596},{"type":13,"tag":147,"props":3628,"children":3629},{"style":180},[3630],{"type":19,"value":3631},"Error",{"type":13,"tag":147,"props":3633,"children":3634},{"style":196},[3635],{"type":19,"value":199},{"type":13,"tag":147,"props":3637,"children":3638},{"class":149,"line":160},[3639],{"type":13,"tag":147,"props":3640,"children":3641},{"emptyLinePlaceholder":164},[3642],{"type":19,"value":167},{"type":13,"tag":147,"props":3644,"children":3645},{"class":149,"line":170},[3646,3650,3654,3658,3662],{"type":13,"tag":147,"props":3647,"children":3648},{"style":196},[3649],{"type":19,"value":636},{"type":13,"tag":147,"props":3651,"children":3652},{"style":180},[3653],{"type":19,"value":3631},{"type":13,"tag":147,"props":3655,"children":3656},{"style":196},[3657],{"type":19,"value":611},{"type":13,"tag":147,"props":3659,"children":3660},{"style":180},[3661],{"type":19,"value":2718},{"type":13,"tag":147,"props":3663,"children":3664},{"style":196},[3665],{"type":19,"value":645},{"type":13,"tag":147,"props":3667,"children":3668},{"class":149,"line":202},[3669,3674,3679],{"type":13,"tag":147,"props":3670,"children":3671},{"style":196},[3672],{"type":19,"value":3673},"#[error(",{"type":13,"tag":147,"props":3675,"children":3676},{"style":387},[3677],{"type":19,"value":3678},"\"Tokenizer error on line {line}, char {char}: {message}\"",{"type":13,"tag":147,"props":3680,"children":3681},{"style":196},[3682],{"type":19,"value":645},{"type":13,"tag":147,"props":3684,"children":3685},{"class":149,"line":228},[3686,3690,3694,3699],{"type":13,"tag":147,"props":3687,"children":3688},{"style":174},[3689],{"type":19,"value":1666},{"type":13,"tag":147,"props":3691,"children":3692},{"style":174},[3693],{"type":19,"value":1671},{"type":13,"tag":147,"props":3695,"children":3696},{"style":180},[3697],{"type":19,"value":3698}," TokenizerError",{"type":13,"tag":147,"props":3700,"children":3701},{"style":196},[3702],{"type":19,"value":663},{"type":13,"tag":147,"props":3704,"children":3705},{"class":149,"line":236},[3706,3710,3714,3718,3722],{"type":13,"tag":147,"props":3707,"children":3708},{"style":174},[3709],{"type":19,"value":1688},{"type":13,"tag":147,"props":3711,"children":3712},{"style":196},[3713],{"type":19,"value":3542},{"type":13,"tag":147,"props":3715,"children":3716},{"style":174},[3717],{"type":19,"value":253},{"type":13,"tag":147,"props":3719,"children":3720},{"style":180},[3721],{"type":19,"value":258},{"type":13,"tag":147,"props":3723,"children":3724},{"style":196},[3725],{"type":19,"value":779},{"type":13,"tag":147,"props":3727,"children":3728},{"class":149,"line":274},[3729,3733,3737,3741,3745],{"type":13,"tag":147,"props":3730,"children":3731},{"style":174},[3732],{"type":19,"value":1688},{"type":13,"tag":147,"props":3734,"children":3735},{"style":180},[3736],{"type":19,"value":3566},{"type":13,"tag":147,"props":3738,"children":3739},{"style":174},[3740],{"type":19,"value":253},{"type":13,"tag":147,"props":3742,"children":3743},{"style":180},[3744],{"type":19,"value":258},{"type":13,"tag":147,"props":3746,"children":3747},{"style":196},[3748],{"type":19,"value":779},{"type":13,"tag":147,"props":3750,"children":3751},{"class":149,"line":709},[3752,3756,3761,3765,3769],{"type":13,"tag":147,"props":3753,"children":3754},{"style":174},[3755],{"type":19,"value":1688},{"type":13,"tag":147,"props":3757,"children":3758},{"style":196},[3759],{"type":19,"value":3760}," message",{"type":13,"tag":147,"props":3762,"children":3763},{"style":174},[3764],{"type":19,"value":253},{"type":13,"tag":147,"props":3766,"children":3767},{"style":180},[3768],{"type":19,"value":693},{"type":13,"tag":147,"props":3770,"children":3771},{"style":196},[3772],{"type":19,"value":779},{"type":13,"tag":147,"props":3774,"children":3775},{"class":149,"line":717},[3776],{"type":13,"tag":147,"props":3777,"children":3778},{"style":196},[3779],{"type":19,"value":706},{"type":13,"tag":32,"props":3781,"children":3782},{},[3783,3785,3790],{"type":19,"value":3784},"Now we need to write the tokenizer, but first! I actually want to write a generic class in ",{"type":13,"tag":93,"props":3786,"children":3788},{"className":3787},[],[3789],{"type":19,"value":3297},{"type":19,"value":3791}," as both the tokenizer and Parser are gonna use the same pattern!",{"type":13,"tag":88,"props":3793,"children":3795},{"code":3794,"language":140,"meta":7,"className":141,"style":7},"// parsing/mod.rs\n\nuse std::collections::VecDeque;\nuse thiserror::Error;\n\npub mod ast;\nmod tokens;\n\n#[derive(Error, Debug)]\n#[error(\"Stream ran out of elements\")]\nstruct StreamerError;\n\nstruct StreamConsumer\u003CT>(VecDeque\u003CT>);\n\nimpl\u003CT> StreamConsumer\u003CT> {\n    fn new(stream: VecDeque\u003CT>) -> Self {\n        Self(stream)\n    }\n\n    fn advance(&mut self) -> Result\u003CT, StreamerError> {\n        self.0.pop_front().ok_or(StreamerError)\n    }\n\n    fn void(&mut self) {\n        self.0.pop_front();\n    }\n\n    fn peek(&self) -> Result\u003C&T, StreamerError> {\n        self.0.front().ok_or(StreamerError)\n    }\n}\n",[3796],{"type":13,"tag":93,"props":3797,"children":3798},{"__ignoreMap":7},[3799,3806,3813,3847,3870,3877,3896,3912,3919,3942,3958,3974,3981,4023,4030,4069,4122,4135,4142,4149,4209,4258,4265,4272,4301,4324,4331,4338,4400,4444,4451],{"type":13,"tag":147,"props":3800,"children":3801},{"class":149,"line":150},[3802],{"type":13,"tag":147,"props":3803,"children":3804},{"style":154},[3805],{"type":19,"value":2584},{"type":13,"tag":147,"props":3807,"children":3808},{"class":149,"line":160},[3809],{"type":13,"tag":147,"props":3810,"children":3811},{"emptyLinePlaceholder":164},[3812],{"type":19,"value":167},{"type":13,"tag":147,"props":3814,"children":3815},{"class":149,"line":170},[3816,3820,3825,3829,3834,3838,3843],{"type":13,"tag":147,"props":3817,"children":3818},{"style":174},[3819],{"type":19,"value":587},{"type":13,"tag":147,"props":3821,"children":3822},{"style":180},[3823],{"type":19,"value":3824}," std",{"type":13,"tag":147,"props":3826,"children":3827},{"style":174},[3828],{"type":19,"value":596},{"type":13,"tag":147,"props":3830,"children":3831},{"style":180},[3832],{"type":19,"value":3833},"collections",{"type":13,"tag":147,"props":3835,"children":3836},{"style":174},[3837],{"type":19,"value":596},{"type":13,"tag":147,"props":3839,"children":3840},{"style":180},[3841],{"type":19,"value":3842},"VecDeque",{"type":13,"tag":147,"props":3844,"children":3845},{"style":196},[3846],{"type":19,"value":199},{"type":13,"tag":147,"props":3848,"children":3849},{"class":149,"line":202},[3850,3854,3858,3862,3866],{"type":13,"tag":147,"props":3851,"children":3852},{"style":174},[3853],{"type":19,"value":587},{"type":13,"tag":147,"props":3855,"children":3856},{"style":180},[3857],{"type":19,"value":3622},{"type":13,"tag":147,"props":3859,"children":3860},{"style":174},[3861],{"type":19,"value":596},{"type":13,"tag":147,"props":3863,"children":3864},{"style":180},[3865],{"type":19,"value":3631},{"type":13,"tag":147,"props":3867,"children":3868},{"style":196},[3869],{"type":19,"value":199},{"type":13,"tag":147,"props":3871,"children":3872},{"class":149,"line":228},[3873],{"type":13,"tag":147,"props":3874,"children":3875},{"emptyLinePlaceholder":164},[3876],{"type":19,"value":167},{"type":13,"tag":147,"props":3878,"children":3879},{"class":149,"line":236},[3880,3884,3888,3892],{"type":13,"tag":147,"props":3881,"children":3882},{"style":174},[3883],{"type":19,"value":1666},{"type":13,"tag":147,"props":3885,"children":3886},{"style":174},[3887],{"type":19,"value":2603},{"type":13,"tag":147,"props":3889,"children":3890},{"style":180},[3891],{"type":19,"value":2608},{"type":13,"tag":147,"props":3893,"children":3894},{"style":196},[3895],{"type":19,"value":199},{"type":13,"tag":147,"props":3897,"children":3898},{"class":149,"line":274},[3899,3903,3908],{"type":13,"tag":147,"props":3900,"children":3901},{"style":174},[3902],{"type":19,"value":2541},{"type":13,"tag":147,"props":3904,"children":3905},{"style":180},[3906],{"type":19,"value":3907}," tokens",{"type":13,"tag":147,"props":3909,"children":3910},{"style":196},[3911],{"type":19,"value":199},{"type":13,"tag":147,"props":3913,"children":3914},{"class":149,"line":709},[3915],{"type":13,"tag":147,"props":3916,"children":3917},{"emptyLinePlaceholder":164},[3918],{"type":19,"value":167},{"type":13,"tag":147,"props":3920,"children":3921},{"class":149,"line":717},[3922,3926,3930,3934,3938],{"type":13,"tag":147,"props":3923,"children":3924},{"style":196},[3925],{"type":19,"value":636},{"type":13,"tag":147,"props":3927,"children":3928},{"style":180},[3929],{"type":19,"value":3631},{"type":13,"tag":147,"props":3931,"children":3932},{"style":196},[3933],{"type":19,"value":611},{"type":13,"tag":147,"props":3935,"children":3936},{"style":180},[3937],{"type":19,"value":2718},{"type":13,"tag":147,"props":3939,"children":3940},{"style":196},[3941],{"type":19,"value":645},{"type":13,"tag":147,"props":3943,"children":3944},{"class":149,"line":733},[3945,3949,3954],{"type":13,"tag":147,"props":3946,"children":3947},{"style":196},[3948],{"type":19,"value":3673},{"type":13,"tag":147,"props":3950,"children":3951},{"style":387},[3952],{"type":19,"value":3953},"\"Stream ran out of elements\"",{"type":13,"tag":147,"props":3955,"children":3956},{"style":196},[3957],{"type":19,"value":645},{"type":13,"tag":147,"props":3959,"children":3960},{"class":149,"line":751},[3961,3965,3970],{"type":13,"tag":147,"props":3962,"children":3963},{"style":174},[3964],{"type":19,"value":739},{"type":13,"tag":147,"props":3966,"children":3967},{"style":180},[3968],{"type":19,"value":3969}," StreamerError",{"type":13,"tag":147,"props":3971,"children":3972},{"style":196},[3973],{"type":19,"value":199},{"type":13,"tag":147,"props":3975,"children":3976},{"class":149,"line":760},[3977],{"type":13,"tag":147,"props":3978,"children":3979},{"emptyLinePlaceholder":164},[3980],{"type":19,"value":167},{"type":13,"tag":147,"props":3982,"children":3983},{"class":149,"line":782},[3984,3988,3993,3997,4002,4007,4011,4015,4019],{"type":13,"tag":147,"props":3985,"children":3986},{"style":174},[3987],{"type":19,"value":739},{"type":13,"tag":147,"props":3989,"children":3990},{"style":180},[3991],{"type":19,"value":3992}," StreamConsumer",{"type":13,"tag":147,"props":3994,"children":3995},{"style":196},[3996],{"type":19,"value":2756},{"type":13,"tag":147,"props":3998,"children":3999},{"style":180},[4000],{"type":19,"value":4001},"T",{"type":13,"tag":147,"props":4003,"children":4004},{"style":196},[4005],{"type":19,"value":4006},">(",{"type":13,"tag":147,"props":4008,"children":4009},{"style":180},[4010],{"type":19,"value":3842},{"type":13,"tag":147,"props":4012,"children":4013},{"style":196},[4014],{"type":19,"value":2756},{"type":13,"tag":147,"props":4016,"children":4017},{"style":180},[4018],{"type":19,"value":4001},{"type":13,"tag":147,"props":4020,"children":4021},{"style":196},[4022],{"type":19,"value":2765},{"type":13,"tag":147,"props":4024,"children":4025},{"class":149,"line":1352},[4026],{"type":13,"tag":147,"props":4027,"children":4028},{"emptyLinePlaceholder":164},[4029],{"type":19,"value":167},{"type":13,"tag":147,"props":4031,"children":4032},{"class":149,"line":1360},[4033,4038,4042,4046,4051,4056,4060,4064],{"type":13,"tag":147,"props":4034,"children":4035},{"style":174},[4036],{"type":19,"value":4037},"impl",{"type":13,"tag":147,"props":4039,"children":4040},{"style":196},[4041],{"type":19,"value":2756},{"type":13,"tag":147,"props":4043,"children":4044},{"style":180},[4045],{"type":19,"value":4001},{"type":13,"tag":147,"props":4047,"children":4048},{"style":196},[4049],{"type":19,"value":4050},"> ",{"type":13,"tag":147,"props":4052,"children":4053},{"style":180},[4054],{"type":19,"value":4055},"StreamConsumer",{"type":13,"tag":147,"props":4057,"children":4058},{"style":196},[4059],{"type":19,"value":2756},{"type":13,"tag":147,"props":4061,"children":4062},{"style":180},[4063],{"type":19,"value":4001},{"type":13,"tag":147,"props":4065,"children":4066},{"style":196},[4067],{"type":19,"value":4068},"> {\n",{"type":13,"tag":147,"props":4070,"children":4071},{"class":149,"line":1369},[4072,4077,4082,4087,4091,4096,4100,4104,4109,4113,4118],{"type":13,"tag":147,"props":4073,"children":4074},{"style":174},[4075],{"type":19,"value":4076},"    fn",{"type":13,"tag":147,"props":4078,"children":4079},{"style":180},[4080],{"type":19,"value":4081}," new",{"type":13,"tag":147,"props":4083,"children":4084},{"style":196},[4085],{"type":19,"value":4086},"(stream",{"type":13,"tag":147,"props":4088,"children":4089},{"style":174},[4090],{"type":19,"value":253},{"type":13,"tag":147,"props":4092,"children":4093},{"style":180},[4094],{"type":19,"value":4095}," VecDeque",{"type":13,"tag":147,"props":4097,"children":4098},{"style":196},[4099],{"type":19,"value":2756},{"type":13,"tag":147,"props":4101,"children":4102},{"style":180},[4103],{"type":19,"value":4001},{"type":13,"tag":147,"props":4105,"children":4106},{"style":196},[4107],{"type":19,"value":4108},">) ",{"type":13,"tag":147,"props":4110,"children":4111},{"style":174},[4112],{"type":19,"value":850},{"type":13,"tag":147,"props":4114,"children":4115},{"style":245},[4116],{"type":19,"value":4117}," Self",{"type":13,"tag":147,"props":4119,"children":4120},{"style":196},[4121],{"type":19,"value":663},{"type":13,"tag":147,"props":4123,"children":4124},{"class":149,"line":1398},[4125,4130],{"type":13,"tag":147,"props":4126,"children":4127},{"style":245},[4128],{"type":19,"value":4129},"        Self",{"type":13,"tag":147,"props":4131,"children":4132},{"style":196},[4133],{"type":19,"value":4134},"(stream)\n",{"type":13,"tag":147,"props":4136,"children":4137},{"class":149,"line":1419},[4138],{"type":13,"tag":147,"props":4139,"children":4140},{"style":196},[4141],{"type":19,"value":1004},{"type":13,"tag":147,"props":4143,"children":4144},{"class":149,"line":1427},[4145],{"type":13,"tag":147,"props":4146,"children":4147},{"emptyLinePlaceholder":164},[4148],{"type":19,"value":167},{"type":13,"tag":147,"props":4150,"children":4151},{"class":149,"line":1436},[4152,4156,4161,4165,4170,4175,4179,4183,4188,4192,4196,4200,4205],{"type":13,"tag":147,"props":4153,"children":4154},{"style":174},[4155],{"type":19,"value":4076},{"type":13,"tag":147,"props":4157,"children":4158},{"style":180},[4159],{"type":19,"value":4160}," advance",{"type":13,"tag":147,"props":4162,"children":4163},{"style":196},[4164],{"type":19,"value":978},{"type":13,"tag":147,"props":4166,"children":4167},{"style":174},[4168],{"type":19,"value":4169},"&mut",{"type":13,"tag":147,"props":4171,"children":4172},{"style":245},[4173],{"type":19,"value":4174}," self",{"type":13,"tag":147,"props":4176,"children":4177},{"style":196},[4178],{"type":19,"value":1869},{"type":13,"tag":147,"props":4180,"children":4181},{"style":174},[4182],{"type":19,"value":850},{"type":13,"tag":147,"props":4184,"children":4185},{"style":180},[4186],{"type":19,"value":4187}," Result",{"type":13,"tag":147,"props":4189,"children":4190},{"style":196},[4191],{"type":19,"value":2756},{"type":13,"tag":147,"props":4193,"children":4194},{"style":180},[4195],{"type":19,"value":4001},{"type":13,"tag":147,"props":4197,"children":4198},{"style":196},[4199],{"type":19,"value":611},{"type":13,"tag":147,"props":4201,"children":4202},{"style":180},[4203],{"type":19,"value":4204},"StreamerError",{"type":13,"tag":147,"props":4206,"children":4207},{"style":196},[4208],{"type":19,"value":4068},{"type":13,"tag":147,"props":4210,"children":4211},{"class":149,"line":1465},[4212,4217,4221,4226,4231,4236,4240,4245,4249,4253],{"type":13,"tag":147,"props":4213,"children":4214},{"style":245},[4215],{"type":19,"value":4216},"        self",{"type":13,"tag":147,"props":4218,"children":4219},{"style":174},[4220],{"type":19,"value":930},{"type":13,"tag":147,"props":4222,"children":4223},{"style":245},[4224],{"type":19,"value":4225},"0.",{"type":13,"tag":147,"props":4227,"children":4228},{"style":180},[4229],{"type":19,"value":4230},"pop_front",{"type":13,"tag":147,"props":4232,"children":4233},{"style":196},[4234],{"type":19,"value":4235},"()",{"type":13,"tag":147,"props":4237,"children":4238},{"style":174},[4239],{"type":19,"value":930},{"type":13,"tag":147,"props":4241,"children":4242},{"style":180},[4243],{"type":19,"value":4244},"ok_or",{"type":13,"tag":147,"props":4246,"children":4247},{"style":196},[4248],{"type":19,"value":978},{"type":13,"tag":147,"props":4250,"children":4251},{"style":180},[4252],{"type":19,"value":4204},{"type":13,"tag":147,"props":4254,"children":4255},{"style":196},[4256],{"type":19,"value":4257},")\n",{"type":13,"tag":147,"props":4259,"children":4260},{"class":149,"line":1486},[4261],{"type":13,"tag":147,"props":4262,"children":4263},{"style":196},[4264],{"type":19,"value":1004},{"type":13,"tag":147,"props":4266,"children":4267},{"class":149,"line":1494},[4268],{"type":13,"tag":147,"props":4269,"children":4270},{"emptyLinePlaceholder":164},[4271],{"type":19,"value":167},{"type":13,"tag":147,"props":4273,"children":4274},{"class":149,"line":1502},[4275,4279,4284,4288,4292,4296],{"type":13,"tag":147,"props":4276,"children":4277},{"style":174},[4278],{"type":19,"value":4076},{"type":13,"tag":147,"props":4280,"children":4281},{"style":180},[4282],{"type":19,"value":4283}," void",{"type":13,"tag":147,"props":4285,"children":4286},{"style":196},[4287],{"type":19,"value":978},{"type":13,"tag":147,"props":4289,"children":4290},{"style":174},[4291],{"type":19,"value":4169},{"type":13,"tag":147,"props":4293,"children":4294},{"style":245},[4295],{"type":19,"value":4174},{"type":13,"tag":147,"props":4297,"children":4298},{"style":196},[4299],{"type":19,"value":4300},") {\n",{"type":13,"tag":147,"props":4302,"children":4303},{"class":149,"line":1518},[4304,4308,4312,4316,4320],{"type":13,"tag":147,"props":4305,"children":4306},{"style":245},[4307],{"type":19,"value":4216},{"type":13,"tag":147,"props":4309,"children":4310},{"style":174},[4311],{"type":19,"value":930},{"type":13,"tag":147,"props":4313,"children":4314},{"style":245},[4315],{"type":19,"value":4225},{"type":13,"tag":147,"props":4317,"children":4318},{"style":180},[4319],{"type":19,"value":4230},{"type":13,"tag":147,"props":4321,"children":4322},{"style":196},[4323],{"type":19,"value":905},{"type":13,"tag":147,"props":4325,"children":4326},{"class":149,"line":1535},[4327],{"type":13,"tag":147,"props":4328,"children":4329},{"style":196},[4330],{"type":19,"value":1004},{"type":13,"tag":147,"props":4332,"children":4333},{"class":149,"line":1543},[4334],{"type":13,"tag":147,"props":4335,"children":4336},{"emptyLinePlaceholder":164},[4337],{"type":19,"value":167},{"type":13,"tag":147,"props":4339,"children":4340},{"class":149,"line":1563},[4341,4345,4350,4354,4359,4364,4368,4372,4376,4380,4384,4388,4392,4396],{"type":13,"tag":147,"props":4342,"children":4343},{"style":174},[4344],{"type":19,"value":4076},{"type":13,"tag":147,"props":4346,"children":4347},{"style":180},[4348],{"type":19,"value":4349}," peek",{"type":13,"tag":147,"props":4351,"children":4352},{"style":196},[4353],{"type":19,"value":978},{"type":13,"tag":147,"props":4355,"children":4356},{"style":174},[4357],{"type":19,"value":4358},"&",{"type":13,"tag":147,"props":4360,"children":4361},{"style":245},[4362],{"type":19,"value":4363},"self",{"type":13,"tag":147,"props":4365,"children":4366},{"style":196},[4367],{"type":19,"value":1869},{"type":13,"tag":147,"props":4369,"children":4370},{"style":174},[4371],{"type":19,"value":850},{"type":13,"tag":147,"props":4373,"children":4374},{"style":180},[4375],{"type":19,"value":4187},{"type":13,"tag":147,"props":4377,"children":4378},{"style":196},[4379],{"type":19,"value":2756},{"type":13,"tag":147,"props":4381,"children":4382},{"style":174},[4383],{"type":19,"value":4358},{"type":13,"tag":147,"props":4385,"children":4386},{"style":180},[4387],{"type":19,"value":4001},{"type":13,"tag":147,"props":4389,"children":4390},{"style":196},[4391],{"type":19,"value":611},{"type":13,"tag":147,"props":4393,"children":4394},{"style":180},[4395],{"type":19,"value":4204},{"type":13,"tag":147,"props":4397,"children":4398},{"style":196},[4399],{"type":19,"value":4068},{"type":13,"tag":147,"props":4401,"children":4402},{"class":149,"line":1571},[4403,4407,4411,4415,4420,4424,4428,4432,4436,4440],{"type":13,"tag":147,"props":4404,"children":4405},{"style":245},[4406],{"type":19,"value":4216},{"type":13,"tag":147,"props":4408,"children":4409},{"style":174},[4410],{"type":19,"value":930},{"type":13,"tag":147,"props":4412,"children":4413},{"style":245},[4414],{"type":19,"value":4225},{"type":13,"tag":147,"props":4416,"children":4417},{"style":180},[4418],{"type":19,"value":4419},"front",{"type":13,"tag":147,"props":4421,"children":4422},{"style":196},[4423],{"type":19,"value":4235},{"type":13,"tag":147,"props":4425,"children":4426},{"style":174},[4427],{"type":19,"value":930},{"type":13,"tag":147,"props":4429,"children":4430},{"style":180},[4431],{"type":19,"value":4244},{"type":13,"tag":147,"props":4433,"children":4434},{"style":196},[4435],{"type":19,"value":978},{"type":13,"tag":147,"props":4437,"children":4438},{"style":180},[4439],{"type":19,"value":4204},{"type":13,"tag":147,"props":4441,"children":4442},{"style":196},[4443],{"type":19,"value":4257},{"type":13,"tag":147,"props":4445,"children":4446},{"class":149,"line":1580},[4447],{"type":13,"tag":147,"props":4448,"children":4449},{"style":196},[4450],{"type":19,"value":1004},{"type":13,"tag":147,"props":4452,"children":4453},{"class":149,"line":1601},[4454],{"type":13,"tag":147,"props":4455,"children":4456},{"style":196},[4457],{"type":19,"value":706},{"type":13,"tag":32,"props":4459,"children":4460},{},[4461],{"type":19,"value":4462},"So this class will be used by the tokenizer to consume chars, and by the parser to consume tokens. it lets us consume elements, look at what the next element is, and also ignore a value (useful after a peek). We also provide a general stream error!",{"type":13,"tag":32,"props":4464,"children":4465},{},[4466],{"type":19,"value":4467},"Now that we got that implemented, let's create the tokenizer!",{"type":13,"tag":88,"props":4469,"children":4471},{"code":4470,"language":140,"meta":7,"className":141,"style":7},"// parsing/tokens.rs\n\npub struct Tokenizer {\n    code: StreamConsumer\u003Cchar>,\n    line: usize,\n    char: usize,\n}\n\nimpl Tokenizer {\n    pub fn new(code: &str) -> Self {\n        Self {\n            code: StreamConsumer::new(code.chars().collect()),\n            line: 1,\n            char: 1,\n        }\n    }\n\n    fn error(&self, msg: String) -> Result\u003C(), TokenizerError> {\n        Err(TokenizerError {\n            line: self.line,\n            char: self.char,\n            message: msg,\n        })\n    }\n\n    fn token(&self, _type: TokenType) -> Token {\n        Token {\n            _type,\n            line: self.line,\n            char: self.char,\n        }\n    }\n\n    fn advance(&mut self) -> Option\u003Cchar> {\n        let c = self.code.advance().ok()?;\n        if c == '\\n' {\n            self.line += 1;\n            self.char = 1;\n        } else {\n            self.char += 1;\n        }\n        Some(c)\n    }\n\n    fn void(&mut self) {\n        self.advance();\n    }\n}\n",[4472],{"type":13,"tag":93,"props":4473,"children":4474},{"__ignoreMap":7},[4475,4483,4490,4510,4540,4560,4580,4587,4594,4609,4657,4668,4724,4745,4765,4772,4779,4786,4849,4869,4893,4920,4937,4945,4952,4959,5012,5024,5032,5055,5082,5089,5097,5105,5154,5218,5255,5286,5314,5332,5361,5369,5383,5391,5399,5427,5447,5455],{"type":13,"tag":147,"props":4476,"children":4477},{"class":149,"line":150},[4478],{"type":13,"tag":147,"props":4479,"children":4480},{"style":154},[4481],{"type":19,"value":4482},"// parsing/tokens.rs\n",{"type":13,"tag":147,"props":4484,"children":4485},{"class":149,"line":160},[4486],{"type":13,"tag":147,"props":4487,"children":4488},{"emptyLinePlaceholder":164},[4489],{"type":19,"value":167},{"type":13,"tag":147,"props":4491,"children":4492},{"class":149,"line":170},[4493,4497,4501,4506],{"type":13,"tag":147,"props":4494,"children":4495},{"style":174},[4496],{"type":19,"value":1666},{"type":13,"tag":147,"props":4498,"children":4499},{"style":174},[4500],{"type":19,"value":1671},{"type":13,"tag":147,"props":4502,"children":4503},{"style":180},[4504],{"type":19,"value":4505}," Tokenizer",{"type":13,"tag":147,"props":4507,"children":4508},{"style":196},[4509],{"type":19,"value":663},{"type":13,"tag":147,"props":4511,"children":4512},{"class":149,"line":202},[4513,4518,4522,4526,4530,4535],{"type":13,"tag":147,"props":4514,"children":4515},{"style":196},[4516],{"type":19,"value":4517},"    code",{"type":13,"tag":147,"props":4519,"children":4520},{"style":174},[4521],{"type":19,"value":253},{"type":13,"tag":147,"props":4523,"children":4524},{"style":180},[4525],{"type":19,"value":3992},{"type":13,"tag":147,"props":4527,"children":4528},{"style":196},[4529],{"type":19,"value":2756},{"type":13,"tag":147,"props":4531,"children":4532},{"style":180},[4533],{"type":19,"value":4534},"char",{"type":13,"tag":147,"props":4536,"children":4537},{"style":196},[4538],{"type":19,"value":4539},">,\n",{"type":13,"tag":147,"props":4541,"children":4542},{"class":149,"line":228},[4543,4548,4552,4556],{"type":13,"tag":147,"props":4544,"children":4545},{"style":196},[4546],{"type":19,"value":4547},"    line",{"type":13,"tag":147,"props":4549,"children":4550},{"style":174},[4551],{"type":19,"value":253},{"type":13,"tag":147,"props":4553,"children":4554},{"style":180},[4555],{"type":19,"value":258},{"type":13,"tag":147,"props":4557,"children":4558},{"style":196},[4559],{"type":19,"value":779},{"type":13,"tag":147,"props":4561,"children":4562},{"class":149,"line":236},[4563,4568,4572,4576],{"type":13,"tag":147,"props":4564,"children":4565},{"style":180},[4566],{"type":19,"value":4567},"    char",{"type":13,"tag":147,"props":4569,"children":4570},{"style":174},[4571],{"type":19,"value":253},{"type":13,"tag":147,"props":4573,"children":4574},{"style":180},[4575],{"type":19,"value":258},{"type":13,"tag":147,"props":4577,"children":4578},{"style":196},[4579],{"type":19,"value":779},{"type":13,"tag":147,"props":4581,"children":4582},{"class":149,"line":274},[4583],{"type":13,"tag":147,"props":4584,"children":4585},{"style":196},[4586],{"type":19,"value":706},{"type":13,"tag":147,"props":4588,"children":4589},{"class":149,"line":709},[4590],{"type":13,"tag":147,"props":4591,"children":4592},{"emptyLinePlaceholder":164},[4593],{"type":19,"value":167},{"type":13,"tag":147,"props":4595,"children":4596},{"class":149,"line":717},[4597,4601,4605],{"type":13,"tag":147,"props":4598,"children":4599},{"style":174},[4600],{"type":19,"value":4037},{"type":13,"tag":147,"props":4602,"children":4603},{"style":180},[4604],{"type":19,"value":4505},{"type":13,"tag":147,"props":4606,"children":4607},{"style":196},[4608],{"type":19,"value":663},{"type":13,"tag":147,"props":4610,"children":4611},{"class":149,"line":733},[4612,4616,4620,4624,4629,4633,4637,4641,4645,4649,4653],{"type":13,"tag":147,"props":4613,"children":4614},{"style":174},[4615],{"type":19,"value":1688},{"type":13,"tag":147,"props":4617,"children":4618},{"style":174},[4619],{"type":19,"value":1827},{"type":13,"tag":147,"props":4621,"children":4622},{"style":180},[4623],{"type":19,"value":4081},{"type":13,"tag":147,"props":4625,"children":4626},{"style":196},[4627],{"type":19,"value":4628},"(code",{"type":13,"tag":147,"props":4630,"children":4631},{"style":174},[4632],{"type":19,"value":253},{"type":13,"tag":147,"props":4634,"children":4635},{"style":174},[4636],{"type":19,"value":1846},{"type":13,"tag":147,"props":4638,"children":4639},{"style":180},[4640],{"type":19,"value":1851},{"type":13,"tag":147,"props":4642,"children":4643},{"style":196},[4644],{"type":19,"value":1869},{"type":13,"tag":147,"props":4646,"children":4647},{"style":174},[4648],{"type":19,"value":850},{"type":13,"tag":147,"props":4650,"children":4651},{"style":245},[4652],{"type":19,"value":4117},{"type":13,"tag":147,"props":4654,"children":4655},{"style":196},[4656],{"type":19,"value":663},{"type":13,"tag":147,"props":4658,"children":4659},{"class":149,"line":751},[4660,4664],{"type":13,"tag":147,"props":4661,"children":4662},{"style":245},[4663],{"type":19,"value":4129},{"type":13,"tag":147,"props":4665,"children":4666},{"style":196},[4667],{"type":19,"value":663},{"type":13,"tag":147,"props":4669,"children":4670},{"class":149,"line":760},[4671,4676,4680,4684,4688,4693,4697,4701,4706,4710,4714,4719],{"type":13,"tag":147,"props":4672,"children":4673},{"style":196},[4674],{"type":19,"value":4675},"            code",{"type":13,"tag":147,"props":4677,"children":4678},{"style":174},[4679],{"type":19,"value":253},{"type":13,"tag":147,"props":4681,"children":4682},{"style":180},[4683],{"type":19,"value":3992},{"type":13,"tag":147,"props":4685,"children":4686},{"style":174},[4687],{"type":19,"value":596},{"type":13,"tag":147,"props":4689,"children":4690},{"style":180},[4691],{"type":19,"value":4692},"new",{"type":13,"tag":147,"props":4694,"children":4695},{"style":196},[4696],{"type":19,"value":4628},{"type":13,"tag":147,"props":4698,"children":4699},{"style":174},[4700],{"type":19,"value":930},{"type":13,"tag":147,"props":4702,"children":4703},{"style":180},[4704],{"type":19,"value":4705},"chars",{"type":13,"tag":147,"props":4707,"children":4708},{"style":196},[4709],{"type":19,"value":4235},{"type":13,"tag":147,"props":4711,"children":4712},{"style":174},[4713],{"type":19,"value":930},{"type":13,"tag":147,"props":4715,"children":4716},{"style":180},[4717],{"type":19,"value":4718},"collect",{"type":13,"tag":147,"props":4720,"children":4721},{"style":196},[4722],{"type":19,"value":4723},"()),\n",{"type":13,"tag":147,"props":4725,"children":4726},{"class":149,"line":782},[4727,4732,4736,4741],{"type":13,"tag":147,"props":4728,"children":4729},{"style":196},[4730],{"type":19,"value":4731},"            line",{"type":13,"tag":147,"props":4733,"children":4734},{"style":174},[4735],{"type":19,"value":253},{"type":13,"tag":147,"props":4737,"children":4738},{"style":245},[4739],{"type":19,"value":4740}," 1",{"type":13,"tag":147,"props":4742,"children":4743},{"style":196},[4744],{"type":19,"value":779},{"type":13,"tag":147,"props":4746,"children":4747},{"class":149,"line":1352},[4748,4753,4757,4761],{"type":13,"tag":147,"props":4749,"children":4750},{"style":180},[4751],{"type":19,"value":4752},"            char",{"type":13,"tag":147,"props":4754,"children":4755},{"style":174},[4756],{"type":19,"value":253},{"type":13,"tag":147,"props":4758,"children":4759},{"style":245},[4760],{"type":19,"value":4740},{"type":13,"tag":147,"props":4762,"children":4763},{"style":196},[4764],{"type":19,"value":779},{"type":13,"tag":147,"props":4766,"children":4767},{"class":149,"line":1360},[4768],{"type":13,"tag":147,"props":4769,"children":4770},{"style":196},[4771],{"type":19,"value":996},{"type":13,"tag":147,"props":4773,"children":4774},{"class":149,"line":1369},[4775],{"type":13,"tag":147,"props":4776,"children":4777},{"style":196},[4778],{"type":19,"value":1004},{"type":13,"tag":147,"props":4780,"children":4781},{"class":149,"line":1398},[4782],{"type":13,"tag":147,"props":4783,"children":4784},{"emptyLinePlaceholder":164},[4785],{"type":19,"value":167},{"type":13,"tag":147,"props":4787,"children":4788},{"class":149,"line":1419},[4789,4793,4798,4802,4806,4810,4815,4819,4823,4827,4831,4835,4840,4845],{"type":13,"tag":147,"props":4790,"children":4791},{"style":174},[4792],{"type":19,"value":4076},{"type":13,"tag":147,"props":4794,"children":4795},{"style":180},[4796],{"type":19,"value":4797}," error",{"type":13,"tag":147,"props":4799,"children":4800},{"style":196},[4801],{"type":19,"value":978},{"type":13,"tag":147,"props":4803,"children":4804},{"style":174},[4805],{"type":19,"value":4358},{"type":13,"tag":147,"props":4807,"children":4808},{"style":245},[4809],{"type":19,"value":4363},{"type":13,"tag":147,"props":4811,"children":4812},{"style":196},[4813],{"type":19,"value":4814},", msg",{"type":13,"tag":147,"props":4816,"children":4817},{"style":174},[4818],{"type":19,"value":253},{"type":13,"tag":147,"props":4820,"children":4821},{"style":180},[4822],{"type":19,"value":693},{"type":13,"tag":147,"props":4824,"children":4825},{"style":196},[4826],{"type":19,"value":1869},{"type":13,"tag":147,"props":4828,"children":4829},{"style":174},[4830],{"type":19,"value":850},{"type":13,"tag":147,"props":4832,"children":4833},{"style":180},[4834],{"type":19,"value":4187},{"type":13,"tag":147,"props":4836,"children":4837},{"style":196},[4838],{"type":19,"value":4839},"\u003C(), ",{"type":13,"tag":147,"props":4841,"children":4842},{"style":180},[4843],{"type":19,"value":4844},"TokenizerError",{"type":13,"tag":147,"props":4846,"children":4847},{"style":196},[4848],{"type":19,"value":4068},{"type":13,"tag":147,"props":4850,"children":4851},{"class":149,"line":1427},[4852,4857,4861,4865],{"type":13,"tag":147,"props":4853,"children":4854},{"style":180},[4855],{"type":19,"value":4856},"        Err",{"type":13,"tag":147,"props":4858,"children":4859},{"style":196},[4860],{"type":19,"value":978},{"type":13,"tag":147,"props":4862,"children":4863},{"style":180},[4864],{"type":19,"value":4844},{"type":13,"tag":147,"props":4866,"children":4867},{"style":196},[4868],{"type":19,"value":663},{"type":13,"tag":147,"props":4870,"children":4871},{"class":149,"line":1436},[4872,4876,4880,4884,4888],{"type":13,"tag":147,"props":4873,"children":4874},{"style":196},[4875],{"type":19,"value":4731},{"type":13,"tag":147,"props":4877,"children":4878},{"style":174},[4879],{"type":19,"value":253},{"type":13,"tag":147,"props":4881,"children":4882},{"style":245},[4883],{"type":19,"value":4174},{"type":13,"tag":147,"props":4885,"children":4886},{"style":174},[4887],{"type":19,"value":930},{"type":13,"tag":147,"props":4889,"children":4890},{"style":196},[4891],{"type":19,"value":4892},"line,\n",{"type":13,"tag":147,"props":4894,"children":4895},{"class":149,"line":1465},[4896,4900,4904,4908,4912,4916],{"type":13,"tag":147,"props":4897,"children":4898},{"style":180},[4899],{"type":19,"value":4752},{"type":13,"tag":147,"props":4901,"children":4902},{"style":174},[4903],{"type":19,"value":253},{"type":13,"tag":147,"props":4905,"children":4906},{"style":245},[4907],{"type":19,"value":4174},{"type":13,"tag":147,"props":4909,"children":4910},{"style":174},[4911],{"type":19,"value":930},{"type":13,"tag":147,"props":4913,"children":4914},{"style":180},[4915],{"type":19,"value":4534},{"type":13,"tag":147,"props":4917,"children":4918},{"style":196},[4919],{"type":19,"value":779},{"type":13,"tag":147,"props":4921,"children":4922},{"class":149,"line":1486},[4923,4928,4932],{"type":13,"tag":147,"props":4924,"children":4925},{"style":196},[4926],{"type":19,"value":4927},"            message",{"type":13,"tag":147,"props":4929,"children":4930},{"style":174},[4931],{"type":19,"value":253},{"type":13,"tag":147,"props":4933,"children":4934},{"style":196},[4935],{"type":19,"value":4936}," msg,\n",{"type":13,"tag":147,"props":4938,"children":4939},{"class":149,"line":1494},[4940],{"type":13,"tag":147,"props":4941,"children":4942},{"style":196},[4943],{"type":19,"value":4944},"        })\n",{"type":13,"tag":147,"props":4946,"children":4947},{"class":149,"line":1502},[4948],{"type":13,"tag":147,"props":4949,"children":4950},{"style":196},[4951],{"type":19,"value":1004},{"type":13,"tag":147,"props":4953,"children":4954},{"class":149,"line":1518},[4955],{"type":13,"tag":147,"props":4956,"children":4957},{"emptyLinePlaceholder":164},[4958],{"type":19,"value":167},{"type":13,"tag":147,"props":4960,"children":4961},{"class":149,"line":1535},[4962,4966,4971,4975,4979,4983,4988,4992,4996,5000,5004,5008],{"type":13,"tag":147,"props":4963,"children":4964},{"style":174},[4965],{"type":19,"value":4076},{"type":13,"tag":147,"props":4967,"children":4968},{"style":180},[4969],{"type":19,"value":4970}," token",{"type":13,"tag":147,"props":4972,"children":4973},{"style":196},[4974],{"type":19,"value":978},{"type":13,"tag":147,"props":4976,"children":4977},{"style":174},[4978],{"type":19,"value":4358},{"type":13,"tag":147,"props":4980,"children":4981},{"style":245},[4982],{"type":19,"value":4363},{"type":13,"tag":147,"props":4984,"children":4985},{"style":196},[4986],{"type":19,"value":4987},", _type",{"type":13,"tag":147,"props":4989,"children":4990},{"style":174},[4991],{"type":19,"value":253},{"type":13,"tag":147,"props":4993,"children":4994},{"style":180},[4995],{"type":19,"value":3393},{"type":13,"tag":147,"props":4997,"children":4998},{"style":196},[4999],{"type":19,"value":1869},{"type":13,"tag":147,"props":5001,"children":5002},{"style":174},[5003],{"type":19,"value":850},{"type":13,"tag":147,"props":5005,"children":5006},{"style":180},[5007],{"type":19,"value":3502},{"type":13,"tag":147,"props":5009,"children":5010},{"style":196},[5011],{"type":19,"value":663},{"type":13,"tag":147,"props":5013,"children":5014},{"class":149,"line":1543},[5015,5020],{"type":13,"tag":147,"props":5016,"children":5017},{"style":180},[5018],{"type":19,"value":5019},"        Token",{"type":13,"tag":147,"props":5021,"children":5022},{"style":196},[5023],{"type":19,"value":663},{"type":13,"tag":147,"props":5025,"children":5026},{"class":149,"line":1563},[5027],{"type":13,"tag":147,"props":5028,"children":5029},{"style":196},[5030],{"type":19,"value":5031},"            _type,\n",{"type":13,"tag":147,"props":5033,"children":5034},{"class":149,"line":1571},[5035,5039,5043,5047,5051],{"type":13,"tag":147,"props":5036,"children":5037},{"style":196},[5038],{"type":19,"value":4731},{"type":13,"tag":147,"props":5040,"children":5041},{"style":174},[5042],{"type":19,"value":253},{"type":13,"tag":147,"props":5044,"children":5045},{"style":245},[5046],{"type":19,"value":4174},{"type":13,"tag":147,"props":5048,"children":5049},{"style":174},[5050],{"type":19,"value":930},{"type":13,"tag":147,"props":5052,"children":5053},{"style":196},[5054],{"type":19,"value":4892},{"type":13,"tag":147,"props":5056,"children":5057},{"class":149,"line":1580},[5058,5062,5066,5070,5074,5078],{"type":13,"tag":147,"props":5059,"children":5060},{"style":180},[5061],{"type":19,"value":4752},{"type":13,"tag":147,"props":5063,"children":5064},{"style":174},[5065],{"type":19,"value":253},{"type":13,"tag":147,"props":5067,"children":5068},{"style":245},[5069],{"type":19,"value":4174},{"type":13,"tag":147,"props":5071,"children":5072},{"style":174},[5073],{"type":19,"value":930},{"type":13,"tag":147,"props":5075,"children":5076},{"style":180},[5077],{"type":19,"value":4534},{"type":13,"tag":147,"props":5079,"children":5080},{"style":196},[5081],{"type":19,"value":779},{"type":13,"tag":147,"props":5083,"children":5084},{"class":149,"line":1601},[5085],{"type":13,"tag":147,"props":5086,"children":5087},{"style":196},[5088],{"type":19,"value":996},{"type":13,"tag":147,"props":5090,"children":5092},{"class":149,"line":5091},32,[5093],{"type":13,"tag":147,"props":5094,"children":5095},{"style":196},[5096],{"type":19,"value":1004},{"type":13,"tag":147,"props":5098,"children":5100},{"class":149,"line":5099},33,[5101],{"type":13,"tag":147,"props":5102,"children":5103},{"emptyLinePlaceholder":164},[5104],{"type":19,"value":167},{"type":13,"tag":147,"props":5106,"children":5108},{"class":149,"line":5107},34,[5109,5113,5117,5121,5125,5129,5133,5137,5142,5146,5150],{"type":13,"tag":147,"props":5110,"children":5111},{"style":174},[5112],{"type":19,"value":4076},{"type":13,"tag":147,"props":5114,"children":5115},{"style":180},[5116],{"type":19,"value":4160},{"type":13,"tag":147,"props":5118,"children":5119},{"style":196},[5120],{"type":19,"value":978},{"type":13,"tag":147,"props":5122,"children":5123},{"style":174},[5124],{"type":19,"value":4169},{"type":13,"tag":147,"props":5126,"children":5127},{"style":245},[5128],{"type":19,"value":4174},{"type":13,"tag":147,"props":5130,"children":5131},{"style":196},[5132],{"type":19,"value":1869},{"type":13,"tag":147,"props":5134,"children":5135},{"style":174},[5136],{"type":19,"value":850},{"type":13,"tag":147,"props":5138,"children":5139},{"style":180},[5140],{"type":19,"value":5141}," Option",{"type":13,"tag":147,"props":5143,"children":5144},{"style":196},[5145],{"type":19,"value":2756},{"type":13,"tag":147,"props":5147,"children":5148},{"style":180},[5149],{"type":19,"value":4534},{"type":13,"tag":147,"props":5151,"children":5152},{"style":196},[5153],{"type":19,"value":4068},{"type":13,"tag":147,"props":5155,"children":5157},{"class":149,"line":5156},35,[5158,5163,5168,5172,5176,5180,5184,5188,5193,5197,5201,5206,5210,5214],{"type":13,"tag":147,"props":5159,"children":5160},{"style":174},[5161],{"type":19,"value":5162},"        let",{"type":13,"tag":147,"props":5164,"children":5165},{"style":196},[5166],{"type":19,"value":5167}," c ",{"type":13,"tag":147,"props":5169,"children":5170},{"style":174},[5171],{"type":19,"value":887},{"type":13,"tag":147,"props":5173,"children":5174},{"style":245},[5175],{"type":19,"value":4174},{"type":13,"tag":147,"props":5177,"children":5178},{"style":174},[5179],{"type":19,"value":930},{"type":13,"tag":147,"props":5181,"children":5182},{"style":196},[5183],{"type":19,"value":93},{"type":13,"tag":147,"props":5185,"children":5186},{"style":174},[5187],{"type":19,"value":930},{"type":13,"tag":147,"props":5189,"children":5190},{"style":180},[5191],{"type":19,"value":5192},"advance",{"type":13,"tag":147,"props":5194,"children":5195},{"style":196},[5196],{"type":19,"value":4235},{"type":13,"tag":147,"props":5198,"children":5199},{"style":174},[5200],{"type":19,"value":930},{"type":13,"tag":147,"props":5202,"children":5203},{"style":180},[5204],{"type":19,"value":5205},"ok",{"type":13,"tag":147,"props":5207,"children":5208},{"style":196},[5209],{"type":19,"value":4235},{"type":13,"tag":147,"props":5211,"children":5212},{"style":174},[5213],{"type":19,"value":2397},{"type":13,"tag":147,"props":5215,"children":5216},{"style":196},[5217],{"type":19,"value":199},{"type":13,"tag":147,"props":5219,"children":5221},{"class":149,"line":5220},36,[5222,5227,5231,5236,5241,5246,5251],{"type":13,"tag":147,"props":5223,"children":5224},{"style":174},[5225],{"type":19,"value":5226},"        if",{"type":13,"tag":147,"props":5228,"children":5229},{"style":196},[5230],{"type":19,"value":5167},{"type":13,"tag":147,"props":5232,"children":5233},{"style":174},[5234],{"type":19,"value":5235},"==",{"type":13,"tag":147,"props":5237,"children":5238},{"style":387},[5239],{"type":19,"value":5240}," '",{"type":13,"tag":147,"props":5242,"children":5243},{"style":245},[5244],{"type":19,"value":5245},"\\n",{"type":13,"tag":147,"props":5247,"children":5248},{"style":387},[5249],{"type":19,"value":5250},"'",{"type":13,"tag":147,"props":5252,"children":5253},{"style":196},[5254],{"type":19,"value":663},{"type":13,"tag":147,"props":5256,"children":5258},{"class":149,"line":5257},37,[5259,5264,5268,5273,5278,5282],{"type":13,"tag":147,"props":5260,"children":5261},{"style":245},[5262],{"type":19,"value":5263},"            self",{"type":13,"tag":147,"props":5265,"children":5266},{"style":174},[5267],{"type":19,"value":930},{"type":13,"tag":147,"props":5269,"children":5270},{"style":196},[5271],{"type":19,"value":5272},"line ",{"type":13,"tag":147,"props":5274,"children":5275},{"style":174},[5276],{"type":19,"value":5277},"+=",{"type":13,"tag":147,"props":5279,"children":5280},{"style":245},[5281],{"type":19,"value":4740},{"type":13,"tag":147,"props":5283,"children":5284},{"style":196},[5285],{"type":19,"value":199},{"type":13,"tag":147,"props":5287,"children":5289},{"class":149,"line":5288},38,[5290,5294,5298,5302,5306,5310],{"type":13,"tag":147,"props":5291,"children":5292},{"style":245},[5293],{"type":19,"value":5263},{"type":13,"tag":147,"props":5295,"children":5296},{"style":174},[5297],{"type":19,"value":930},{"type":13,"tag":147,"props":5299,"children":5300},{"style":180},[5301],{"type":19,"value":4534},{"type":13,"tag":147,"props":5303,"children":5304},{"style":174},[5305],{"type":19,"value":188},{"type":13,"tag":147,"props":5307,"children":5308},{"style":245},[5309],{"type":19,"value":4740},{"type":13,"tag":147,"props":5311,"children":5312},{"style":196},[5313],{"type":19,"value":199},{"type":13,"tag":147,"props":5315,"children":5317},{"class":149,"line":5316},39,[5318,5323,5328],{"type":13,"tag":147,"props":5319,"children":5320},{"style":196},[5321],{"type":19,"value":5322},"        } ",{"type":13,"tag":147,"props":5324,"children":5325},{"style":174},[5326],{"type":19,"value":5327},"else",{"type":13,"tag":147,"props":5329,"children":5330},{"style":196},[5331],{"type":19,"value":663},{"type":13,"tag":147,"props":5333,"children":5335},{"class":149,"line":5334},40,[5336,5340,5344,5348,5353,5357],{"type":13,"tag":147,"props":5337,"children":5338},{"style":245},[5339],{"type":19,"value":5263},{"type":13,"tag":147,"props":5341,"children":5342},{"style":174},[5343],{"type":19,"value":930},{"type":13,"tag":147,"props":5345,"children":5346},{"style":180},[5347],{"type":19,"value":4534},{"type":13,"tag":147,"props":5349,"children":5350},{"style":174},[5351],{"type":19,"value":5352}," +=",{"type":13,"tag":147,"props":5354,"children":5355},{"style":245},[5356],{"type":19,"value":4740},{"type":13,"tag":147,"props":5358,"children":5359},{"style":196},[5360],{"type":19,"value":199},{"type":13,"tag":147,"props":5362,"children":5364},{"class":149,"line":5363},41,[5365],{"type":13,"tag":147,"props":5366,"children":5367},{"style":196},[5368],{"type":19,"value":996},{"type":13,"tag":147,"props":5370,"children":5372},{"class":149,"line":5371},42,[5373,5378],{"type":13,"tag":147,"props":5374,"children":5375},{"style":180},[5376],{"type":19,"value":5377},"        Some",{"type":13,"tag":147,"props":5379,"children":5380},{"style":196},[5381],{"type":19,"value":5382},"(c)\n",{"type":13,"tag":147,"props":5384,"children":5386},{"class":149,"line":5385},43,[5387],{"type":13,"tag":147,"props":5388,"children":5389},{"style":196},[5390],{"type":19,"value":1004},{"type":13,"tag":147,"props":5392,"children":5394},{"class":149,"line":5393},44,[5395],{"type":13,"tag":147,"props":5396,"children":5397},{"emptyLinePlaceholder":164},[5398],{"type":19,"value":167},{"type":13,"tag":147,"props":5400,"children":5402},{"class":149,"line":5401},45,[5403,5407,5411,5415,5419,5423],{"type":13,"tag":147,"props":5404,"children":5405},{"style":174},[5406],{"type":19,"value":4076},{"type":13,"tag":147,"props":5408,"children":5409},{"style":180},[5410],{"type":19,"value":4283},{"type":13,"tag":147,"props":5412,"children":5413},{"style":196},[5414],{"type":19,"value":978},{"type":13,"tag":147,"props":5416,"children":5417},{"style":174},[5418],{"type":19,"value":4169},{"type":13,"tag":147,"props":5420,"children":5421},{"style":245},[5422],{"type":19,"value":4174},{"type":13,"tag":147,"props":5424,"children":5425},{"style":196},[5426],{"type":19,"value":4300},{"type":13,"tag":147,"props":5428,"children":5430},{"class":149,"line":5429},46,[5431,5435,5439,5443],{"type":13,"tag":147,"props":5432,"children":5433},{"style":245},[5434],{"type":19,"value":4216},{"type":13,"tag":147,"props":5436,"children":5437},{"style":174},[5438],{"type":19,"value":930},{"type":13,"tag":147,"props":5440,"children":5441},{"style":180},[5442],{"type":19,"value":5192},{"type":13,"tag":147,"props":5444,"children":5445},{"style":196},[5446],{"type":19,"value":905},{"type":13,"tag":147,"props":5448,"children":5450},{"class":149,"line":5449},47,[5451],{"type":13,"tag":147,"props":5452,"children":5453},{"style":196},[5454],{"type":19,"value":1004},{"type":13,"tag":147,"props":5456,"children":5458},{"class":149,"line":5457},48,[5459],{"type":13,"tag":147,"props":5460,"children":5461},{"style":196},[5462],{"type":19,"value":706},{"type":13,"tag":32,"props":5464,"children":5465},{},[5466],{"type":19,"value":5467},"It is a good amount of code, and that isn't all of it, this is just the utility functions we will be using! They should all be pretty self-explanatory.",{"type":13,"tag":32,"props":5469,"children":5470},{},[5471,5473,5479,5481,5487,5489,5494],{"type":19,"value":5472},"Also, you may ask, why are we using ",{"type":13,"tag":93,"props":5474,"children":5476},{"className":5475},[],[5477],{"type":19,"value":5478},"self.advance",{"type":19,"value":5480}," instead of ",{"type":13,"tag":93,"props":5482,"children":5484},{"className":5483},[],[5485],{"type":19,"value":5486},"self.code.void",{"type":19,"value":5488},"? Simple! ",{"type":13,"tag":93,"props":5490,"children":5492},{"className":5491},[],[5493],{"type":19,"value":5192},{"type":19,"value":5495}," keeps track of our location ;)",{"type":13,"tag":88,"props":5497,"children":5499},{"code":5498,"language":140,"meta":7,"className":141,"style":7},"    fn consume_number(&mut self) -> Token {\n        let mut number = String::new();\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_digit() {\n                number.push(*c);\n                self.void();\n            } else {\n                break;\n            }\n        }\n        self.token(TokenType::Integer(number.parse().unwrap()))\n    }\n",[5500],{"type":13,"tag":93,"props":5501,"children":5502},{"__ignoreMap":7},[5503,5543,5580,5633,5659,5690,5711,5727,5739,5747,5754,5818],{"type":13,"tag":147,"props":5504,"children":5505},{"class":149,"line":150},[5506,5510,5515,5519,5523,5527,5531,5535,5539],{"type":13,"tag":147,"props":5507,"children":5508},{"style":174},[5509],{"type":19,"value":4076},{"type":13,"tag":147,"props":5511,"children":5512},{"style":180},[5513],{"type":19,"value":5514}," consume_number",{"type":13,"tag":147,"props":5516,"children":5517},{"style":196},[5518],{"type":19,"value":978},{"type":13,"tag":147,"props":5520,"children":5521},{"style":174},[5522],{"type":19,"value":4169},{"type":13,"tag":147,"props":5524,"children":5525},{"style":245},[5526],{"type":19,"value":4174},{"type":13,"tag":147,"props":5528,"children":5529},{"style":196},[5530],{"type":19,"value":1869},{"type":13,"tag":147,"props":5532,"children":5533},{"style":174},[5534],{"type":19,"value":850},{"type":13,"tag":147,"props":5536,"children":5537},{"style":180},[5538],{"type":19,"value":3502},{"type":13,"tag":147,"props":5540,"children":5541},{"style":196},[5542],{"type":19,"value":663},{"type":13,"tag":147,"props":5544,"children":5545},{"class":149,"line":160},[5546,5550,5555,5560,5564,5568,5572,5576],{"type":13,"tag":147,"props":5547,"children":5548},{"style":174},[5549],{"type":19,"value":5162},{"type":13,"tag":147,"props":5551,"children":5552},{"style":174},[5553],{"type":19,"value":5554}," mut",{"type":13,"tag":147,"props":5556,"children":5557},{"style":196},[5558],{"type":19,"value":5559}," number ",{"type":13,"tag":147,"props":5561,"children":5562},{"style":174},[5563],{"type":19,"value":887},{"type":13,"tag":147,"props":5565,"children":5566},{"style":180},[5567],{"type":19,"value":693},{"type":13,"tag":147,"props":5569,"children":5570},{"style":174},[5571],{"type":19,"value":596},{"type":13,"tag":147,"props":5573,"children":5574},{"style":180},[5575],{"type":19,"value":4692},{"type":13,"tag":147,"props":5577,"children":5578},{"style":196},[5579],{"type":19,"value":905},{"type":13,"tag":147,"props":5581,"children":5582},{"class":149,"line":170},[5583,5588,5593,5598,5603,5607,5611,5615,5619,5623,5628],{"type":13,"tag":147,"props":5584,"children":5585},{"style":174},[5586],{"type":19,"value":5587},"        while",{"type":13,"tag":147,"props":5589,"children":5590},{"style":174},[5591],{"type":19,"value":5592}," let",{"type":13,"tag":147,"props":5594,"children":5595},{"style":180},[5596],{"type":19,"value":5597}," Ok",{"type":13,"tag":147,"props":5599,"children":5600},{"style":196},[5601],{"type":19,"value":5602},"(c) ",{"type":13,"tag":147,"props":5604,"children":5605},{"style":174},[5606],{"type":19,"value":887},{"type":13,"tag":147,"props":5608,"children":5609},{"style":245},[5610],{"type":19,"value":4174},{"type":13,"tag":147,"props":5612,"children":5613},{"style":174},[5614],{"type":19,"value":930},{"type":13,"tag":147,"props":5616,"children":5617},{"style":196},[5618],{"type":19,"value":93},{"type":13,"tag":147,"props":5620,"children":5621},{"style":174},[5622],{"type":19,"value":930},{"type":13,"tag":147,"props":5624,"children":5625},{"style":180},[5626],{"type":19,"value":5627},"peek",{"type":13,"tag":147,"props":5629,"children":5630},{"style":196},[5631],{"type":19,"value":5632},"() {\n",{"type":13,"tag":147,"props":5634,"children":5635},{"class":149,"line":202},[5636,5641,5646,5650,5655],{"type":13,"tag":147,"props":5637,"children":5638},{"style":174},[5639],{"type":19,"value":5640},"            if",{"type":13,"tag":147,"props":5642,"children":5643},{"style":196},[5644],{"type":19,"value":5645}," c",{"type":13,"tag":147,"props":5647,"children":5648},{"style":174},[5649],{"type":19,"value":930},{"type":13,"tag":147,"props":5651,"children":5652},{"style":180},[5653],{"type":19,"value":5654},"is_ascii_digit",{"type":13,"tag":147,"props":5656,"children":5657},{"style":196},[5658],{"type":19,"value":5632},{"type":13,"tag":147,"props":5660,"children":5661},{"class":149,"line":228},[5662,5667,5671,5676,5680,5685],{"type":13,"tag":147,"props":5663,"children":5664},{"style":196},[5665],{"type":19,"value":5666},"                number",{"type":13,"tag":147,"props":5668,"children":5669},{"style":174},[5670],{"type":19,"value":930},{"type":13,"tag":147,"props":5672,"children":5673},{"style":180},[5674],{"type":19,"value":5675},"push",{"type":13,"tag":147,"props":5677,"children":5678},{"style":196},[5679],{"type":19,"value":978},{"type":13,"tag":147,"props":5681,"children":5682},{"style":174},[5683],{"type":19,"value":5684},"*",{"type":13,"tag":147,"props":5686,"children":5687},{"style":196},[5688],{"type":19,"value":5689},"c);\n",{"type":13,"tag":147,"props":5691,"children":5692},{"class":149,"line":236},[5693,5698,5702,5707],{"type":13,"tag":147,"props":5694,"children":5695},{"style":245},[5696],{"type":19,"value":5697},"                self",{"type":13,"tag":147,"props":5699,"children":5700},{"style":174},[5701],{"type":19,"value":930},{"type":13,"tag":147,"props":5703,"children":5704},{"style":180},[5705],{"type":19,"value":5706},"void",{"type":13,"tag":147,"props":5708,"children":5709},{"style":196},[5710],{"type":19,"value":905},{"type":13,"tag":147,"props":5712,"children":5713},{"class":149,"line":274},[5714,5719,5723],{"type":13,"tag":147,"props":5715,"children":5716},{"style":196},[5717],{"type":19,"value":5718},"            } ",{"type":13,"tag":147,"props":5720,"children":5721},{"style":174},[5722],{"type":19,"value":5327},{"type":13,"tag":147,"props":5724,"children":5725},{"style":196},[5726],{"type":19,"value":663},{"type":13,"tag":147,"props":5728,"children":5729},{"class":149,"line":709},[5730,5735],{"type":13,"tag":147,"props":5731,"children":5732},{"style":174},[5733],{"type":19,"value":5734},"                break",{"type":13,"tag":147,"props":5736,"children":5737},{"style":196},[5738],{"type":19,"value":199},{"type":13,"tag":147,"props":5740,"children":5741},{"class":149,"line":717},[5742],{"type":13,"tag":147,"props":5743,"children":5744},{"style":196},[5745],{"type":19,"value":5746},"            }\n",{"type":13,"tag":147,"props":5748,"children":5749},{"class":149,"line":733},[5750],{"type":13,"tag":147,"props":5751,"children":5752},{"style":196},[5753],{"type":19,"value":996},{"type":13,"tag":147,"props":5755,"children":5756},{"class":149,"line":751},[5757,5761,5765,5770,5774,5779,5783,5787,5792,5796,5800,5804,5808,5813],{"type":13,"tag":147,"props":5758,"children":5759},{"style":245},[5760],{"type":19,"value":4216},{"type":13,"tag":147,"props":5762,"children":5763},{"style":174},[5764],{"type":19,"value":930},{"type":13,"tag":147,"props":5766,"children":5767},{"style":180},[5768],{"type":19,"value":5769},"token",{"type":13,"tag":147,"props":5771,"children":5772},{"style":196},[5773],{"type":19,"value":978},{"type":13,"tag":147,"props":5775,"children":5776},{"style":180},[5777],{"type":19,"value":5778},"TokenType",{"type":13,"tag":147,"props":5780,"children":5781},{"style":174},[5782],{"type":19,"value":596},{"type":13,"tag":147,"props":5784,"children":5785},{"style":180},[5786],{"type":19,"value":3083},{"type":13,"tag":147,"props":5788,"children":5789},{"style":196},[5790],{"type":19,"value":5791},"(number",{"type":13,"tag":147,"props":5793,"children":5794},{"style":174},[5795],{"type":19,"value":930},{"type":13,"tag":147,"props":5797,"children":5798},{"style":180},[5799],{"type":19,"value":900},{"type":13,"tag":147,"props":5801,"children":5802},{"style":196},[5803],{"type":19,"value":4235},{"type":13,"tag":147,"props":5805,"children":5806},{"style":174},[5807],{"type":19,"value":930},{"type":13,"tag":147,"props":5809,"children":5810},{"style":180},[5811],{"type":19,"value":5812},"unwrap",{"type":13,"tag":147,"props":5814,"children":5815},{"style":196},[5816],{"type":19,"value":5817},"()))\n",{"type":13,"tag":147,"props":5819,"children":5820},{"class":149,"line":760},[5821],{"type":13,"tag":147,"props":5822,"children":5823},{"style":196},[5824],{"type":19,"value":1004},{"type":13,"tag":32,"props":5826,"children":5827},{},[5828,5830,5836,5838,5844,5846,5852,5854],{"type":19,"value":5829},"We will call this when we hit a number, it will keep eating characters until it hits the end or a non-number char.\nBut wait, is that ",{"type":13,"tag":93,"props":5831,"children":5833},{"className":5832},[],[5834],{"type":19,"value":5835},".unwrap()",{"type":19,"value":5837}," I spot?! I thought you said we were gonna have good error handling!\nBut we are! In this case, since every char was checked with ",{"type":13,"tag":93,"props":5839,"children":5841},{"className":5840},[],[5842],{"type":19,"value":5843},".is_ascii_digit",{"type":19,"value":5845}," we know that ",{"type":13,"tag":93,"props":5847,"children":5849},{"className":5848},[],[5850],{"type":19,"value":5851},"number",{"type":19,"value":5853}," must be valid ",{"type":13,"tag":5855,"props":5856,"children":5857},"d",{},[],{"type":13,"tag":88,"props":5859,"children":5861},{"code":5860,"language":140,"meta":7,"className":141,"style":7},"    fn consume_identifier(&mut self) -> Token {\n        let mut identifier = String::new();\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_alphanumeric() {\n                identifier.push(*c);\n                self.void();\n            } else {\n                break;\n            }\n        }\n\n        self.token(match identifier.as_str() {\n            \"print\" => TokenType::Print,\n            _ => TokenType::Identifier(identifier),\n        })\n    }\n",[5862],{"type":13,"tag":93,"props":5863,"children":5864},{"__ignoreMap":7},[5865,5905,5941,5988,6012,6040,6059,6074,6085,6092,6099,6106,6148,6177,6206,6213],{"type":13,"tag":147,"props":5866,"children":5867},{"class":149,"line":150},[5868,5872,5877,5881,5885,5889,5893,5897,5901],{"type":13,"tag":147,"props":5869,"children":5870},{"style":174},[5871],{"type":19,"value":4076},{"type":13,"tag":147,"props":5873,"children":5874},{"style":180},[5875],{"type":19,"value":5876}," consume_identifier",{"type":13,"tag":147,"props":5878,"children":5879},{"style":196},[5880],{"type":19,"value":978},{"type":13,"tag":147,"props":5882,"children":5883},{"style":174},[5884],{"type":19,"value":4169},{"type":13,"tag":147,"props":5886,"children":5887},{"style":245},[5888],{"type":19,"value":4174},{"type":13,"tag":147,"props":5890,"children":5891},{"style":196},[5892],{"type":19,"value":1869},{"type":13,"tag":147,"props":5894,"children":5895},{"style":174},[5896],{"type":19,"value":850},{"type":13,"tag":147,"props":5898,"children":5899},{"style":180},[5900],{"type":19,"value":3502},{"type":13,"tag":147,"props":5902,"children":5903},{"style":196},[5904],{"type":19,"value":663},{"type":13,"tag":147,"props":5906,"children":5907},{"class":149,"line":160},[5908,5912,5916,5921,5925,5929,5933,5937],{"type":13,"tag":147,"props":5909,"children":5910},{"style":174},[5911],{"type":19,"value":5162},{"type":13,"tag":147,"props":5913,"children":5914},{"style":174},[5915],{"type":19,"value":5554},{"type":13,"tag":147,"props":5917,"children":5918},{"style":196},[5919],{"type":19,"value":5920}," identifier ",{"type":13,"tag":147,"props":5922,"children":5923},{"style":174},[5924],{"type":19,"value":887},{"type":13,"tag":147,"props":5926,"children":5927},{"style":180},[5928],{"type":19,"value":693},{"type":13,"tag":147,"props":5930,"children":5931},{"style":174},[5932],{"type":19,"value":596},{"type":13,"tag":147,"props":5934,"children":5935},{"style":180},[5936],{"type":19,"value":4692},{"type":13,"tag":147,"props":5938,"children":5939},{"style":196},[5940],{"type":19,"value":905},{"type":13,"tag":147,"props":5942,"children":5943},{"class":149,"line":170},[5944,5948,5952,5956,5960,5964,5968,5972,5976,5980,5984],{"type":13,"tag":147,"props":5945,"children":5946},{"style":174},[5947],{"type":19,"value":5587},{"type":13,"tag":147,"props":5949,"children":5950},{"style":174},[5951],{"type":19,"value":5592},{"type":13,"tag":147,"props":5953,"children":5954},{"style":180},[5955],{"type":19,"value":5597},{"type":13,"tag":147,"props":5957,"children":5958},{"style":196},[5959],{"type":19,"value":5602},{"type":13,"tag":147,"props":5961,"children":5962},{"style":174},[5963],{"type":19,"value":887},{"type":13,"tag":147,"props":5965,"children":5966},{"style":245},[5967],{"type":19,"value":4174},{"type":13,"tag":147,"props":5969,"children":5970},{"style":174},[5971],{"type":19,"value":930},{"type":13,"tag":147,"props":5973,"children":5974},{"style":196},[5975],{"type":19,"value":93},{"type":13,"tag":147,"props":5977,"children":5978},{"style":174},[5979],{"type":19,"value":930},{"type":13,"tag":147,"props":5981,"children":5982},{"style":180},[5983],{"type":19,"value":5627},{"type":13,"tag":147,"props":5985,"children":5986},{"style":196},[5987],{"type":19,"value":5632},{"type":13,"tag":147,"props":5989,"children":5990},{"class":149,"line":202},[5991,5995,5999,6003,6008],{"type":13,"tag":147,"props":5992,"children":5993},{"style":174},[5994],{"type":19,"value":5640},{"type":13,"tag":147,"props":5996,"children":5997},{"style":196},[5998],{"type":19,"value":5645},{"type":13,"tag":147,"props":6000,"children":6001},{"style":174},[6002],{"type":19,"value":930},{"type":13,"tag":147,"props":6004,"children":6005},{"style":180},[6006],{"type":19,"value":6007},"is_ascii_alphanumeric",{"type":13,"tag":147,"props":6009,"children":6010},{"style":196},[6011],{"type":19,"value":5632},{"type":13,"tag":147,"props":6013,"children":6014},{"class":149,"line":228},[6015,6020,6024,6028,6032,6036],{"type":13,"tag":147,"props":6016,"children":6017},{"style":196},[6018],{"type":19,"value":6019},"                identifier",{"type":13,"tag":147,"props":6021,"children":6022},{"style":174},[6023],{"type":19,"value":930},{"type":13,"tag":147,"props":6025,"children":6026},{"style":180},[6027],{"type":19,"value":5675},{"type":13,"tag":147,"props":6029,"children":6030},{"style":196},[6031],{"type":19,"value":978},{"type":13,"tag":147,"props":6033,"children":6034},{"style":174},[6035],{"type":19,"value":5684},{"type":13,"tag":147,"props":6037,"children":6038},{"style":196},[6039],{"type":19,"value":5689},{"type":13,"tag":147,"props":6041,"children":6042},{"class":149,"line":236},[6043,6047,6051,6055],{"type":13,"tag":147,"props":6044,"children":6045},{"style":245},[6046],{"type":19,"value":5697},{"type":13,"tag":147,"props":6048,"children":6049},{"style":174},[6050],{"type":19,"value":930},{"type":13,"tag":147,"props":6052,"children":6053},{"style":180},[6054],{"type":19,"value":5706},{"type":13,"tag":147,"props":6056,"children":6057},{"style":196},[6058],{"type":19,"value":905},{"type":13,"tag":147,"props":6060,"children":6061},{"class":149,"line":274},[6062,6066,6070],{"type":13,"tag":147,"props":6063,"children":6064},{"style":196},[6065],{"type":19,"value":5718},{"type":13,"tag":147,"props":6067,"children":6068},{"style":174},[6069],{"type":19,"value":5327},{"type":13,"tag":147,"props":6071,"children":6072},{"style":196},[6073],{"type":19,"value":663},{"type":13,"tag":147,"props":6075,"children":6076},{"class":149,"line":709},[6077,6081],{"type":13,"tag":147,"props":6078,"children":6079},{"style":174},[6080],{"type":19,"value":5734},{"type":13,"tag":147,"props":6082,"children":6083},{"style":196},[6084],{"type":19,"value":199},{"type":13,"tag":147,"props":6086,"children":6087},{"class":149,"line":717},[6088],{"type":13,"tag":147,"props":6089,"children":6090},{"style":196},[6091],{"type":19,"value":5746},{"type":13,"tag":147,"props":6093,"children":6094},{"class":149,"line":733},[6095],{"type":13,"tag":147,"props":6096,"children":6097},{"style":196},[6098],{"type":19,"value":996},{"type":13,"tag":147,"props":6100,"children":6101},{"class":149,"line":751},[6102],{"type":13,"tag":147,"props":6103,"children":6104},{"emptyLinePlaceholder":164},[6105],{"type":19,"value":167},{"type":13,"tag":147,"props":6107,"children":6108},{"class":149,"line":760},[6109,6113,6117,6121,6125,6130,6135,6139,6144],{"type":13,"tag":147,"props":6110,"children":6111},{"style":245},[6112],{"type":19,"value":4216},{"type":13,"tag":147,"props":6114,"children":6115},{"style":174},[6116],{"type":19,"value":930},{"type":13,"tag":147,"props":6118,"children":6119},{"style":180},[6120],{"type":19,"value":5769},{"type":13,"tag":147,"props":6122,"children":6123},{"style":196},[6124],{"type":19,"value":978},{"type":13,"tag":147,"props":6126,"children":6127},{"style":174},[6128],{"type":19,"value":6129},"match",{"type":13,"tag":147,"props":6131,"children":6132},{"style":196},[6133],{"type":19,"value":6134}," identifier",{"type":13,"tag":147,"props":6136,"children":6137},{"style":174},[6138],{"type":19,"value":930},{"type":13,"tag":147,"props":6140,"children":6141},{"style":180},[6142],{"type":19,"value":6143},"as_str",{"type":13,"tag":147,"props":6145,"children":6146},{"style":196},[6147],{"type":19,"value":5632},{"type":13,"tag":147,"props":6149,"children":6150},{"class":149,"line":782},[6151,6156,6161,6165,6169,6173],{"type":13,"tag":147,"props":6152,"children":6153},{"style":387},[6154],{"type":19,"value":6155},"            \"print\"",{"type":13,"tag":147,"props":6157,"children":6158},{"style":174},[6159],{"type":19,"value":6160}," =>",{"type":13,"tag":147,"props":6162,"children":6163},{"style":180},[6164],{"type":19,"value":3393},{"type":13,"tag":147,"props":6166,"children":6167},{"style":174},[6168],{"type":19,"value":596},{"type":13,"tag":147,"props":6170,"children":6171},{"style":180},[6172],{"type":19,"value":2623},{"type":13,"tag":147,"props":6174,"children":6175},{"style":196},[6176],{"type":19,"value":779},{"type":13,"tag":147,"props":6178,"children":6179},{"class":149,"line":1352},[6180,6185,6189,6193,6197,6201],{"type":13,"tag":147,"props":6181,"children":6182},{"style":196},[6183],{"type":19,"value":6184},"            _ ",{"type":13,"tag":147,"props":6186,"children":6187},{"style":174},[6188],{"type":19,"value":961},{"type":13,"tag":147,"props":6190,"children":6191},{"style":180},[6192],{"type":19,"value":3393},{"type":13,"tag":147,"props":6194,"children":6195},{"style":174},[6196],{"type":19,"value":596},{"type":13,"tag":147,"props":6198,"children":6199},{"style":180},[6200],{"type":19,"value":3596},{"type":13,"tag":147,"props":6202,"children":6203},{"style":196},[6204],{"type":19,"value":6205},"(identifier),\n",{"type":13,"tag":147,"props":6207,"children":6208},{"class":149,"line":1360},[6209],{"type":13,"tag":147,"props":6210,"children":6211},{"style":196},[6212],{"type":19,"value":4944},{"type":13,"tag":147,"props":6214,"children":6215},{"class":149,"line":1369},[6216],{"type":13,"tag":147,"props":6217,"children":6218},{"style":196},[6219],{"type":19,"value":1004},{"type":13,"tag":32,"props":6221,"children":6222},{},[6223],{"type":19,"value":6224},"This code is similar, we will call this on any alphabetic character, and identifiers can contain numbers in them.\nAfter we read the identifier we check if it is a keyword (in this case we only got \"print\"), if not we create an Identifier.",{"type":13,"tag":88,"props":6226,"children":6228},{"code":6227,"language":140,"meta":7,"className":141,"style":7},"    fn consume_whitespace(&mut self) {\n        while let Ok(c) = self.code.peek() {\n            if c.is_ascii_whitespace() {\n                self.void();\n            } else {\n                break;\n            }\n        }\n    }\n",[6229],{"type":13,"tag":93,"props":6230,"children":6231},{"__ignoreMap":7},[6232,6260,6307,6331,6350,6365,6376,6383,6390],{"type":13,"tag":147,"props":6233,"children":6234},{"class":149,"line":150},[6235,6239,6244,6248,6252,6256],{"type":13,"tag":147,"props":6236,"children":6237},{"style":174},[6238],{"type":19,"value":4076},{"type":13,"tag":147,"props":6240,"children":6241},{"style":180},[6242],{"type":19,"value":6243}," consume_whitespace",{"type":13,"tag":147,"props":6245,"children":6246},{"style":196},[6247],{"type":19,"value":978},{"type":13,"tag":147,"props":6249,"children":6250},{"style":174},[6251],{"type":19,"value":4169},{"type":13,"tag":147,"props":6253,"children":6254},{"style":245},[6255],{"type":19,"value":4174},{"type":13,"tag":147,"props":6257,"children":6258},{"style":196},[6259],{"type":19,"value":4300},{"type":13,"tag":147,"props":6261,"children":6262},{"class":149,"line":160},[6263,6267,6271,6275,6279,6283,6287,6291,6295,6299,6303],{"type":13,"tag":147,"props":6264,"children":6265},{"style":174},[6266],{"type":19,"value":5587},{"type":13,"tag":147,"props":6268,"children":6269},{"style":174},[6270],{"type":19,"value":5592},{"type":13,"tag":147,"props":6272,"children":6273},{"style":180},[6274],{"type":19,"value":5597},{"type":13,"tag":147,"props":6276,"children":6277},{"style":196},[6278],{"type":19,"value":5602},{"type":13,"tag":147,"props":6280,"children":6281},{"style":174},[6282],{"type":19,"value":887},{"type":13,"tag":147,"props":6284,"children":6285},{"style":245},[6286],{"type":19,"value":4174},{"type":13,"tag":147,"props":6288,"children":6289},{"style":174},[6290],{"type":19,"value":930},{"type":13,"tag":147,"props":6292,"children":6293},{"style":196},[6294],{"type":19,"value":93},{"type":13,"tag":147,"props":6296,"children":6297},{"style":174},[6298],{"type":19,"value":930},{"type":13,"tag":147,"props":6300,"children":6301},{"style":180},[6302],{"type":19,"value":5627},{"type":13,"tag":147,"props":6304,"children":6305},{"style":196},[6306],{"type":19,"value":5632},{"type":13,"tag":147,"props":6308,"children":6309},{"class":149,"line":170},[6310,6314,6318,6322,6327],{"type":13,"tag":147,"props":6311,"children":6312},{"style":174},[6313],{"type":19,"value":5640},{"type":13,"tag":147,"props":6315,"children":6316},{"style":196},[6317],{"type":19,"value":5645},{"type":13,"tag":147,"props":6319,"children":6320},{"style":174},[6321],{"type":19,"value":930},{"type":13,"tag":147,"props":6323,"children":6324},{"style":180},[6325],{"type":19,"value":6326},"is_ascii_whitespace",{"type":13,"tag":147,"props":6328,"children":6329},{"style":196},[6330],{"type":19,"value":5632},{"type":13,"tag":147,"props":6332,"children":6333},{"class":149,"line":202},[6334,6338,6342,6346],{"type":13,"tag":147,"props":6335,"children":6336},{"style":245},[6337],{"type":19,"value":5697},{"type":13,"tag":147,"props":6339,"children":6340},{"style":174},[6341],{"type":19,"value":930},{"type":13,"tag":147,"props":6343,"children":6344},{"style":180},[6345],{"type":19,"value":5706},{"type":13,"tag":147,"props":6347,"children":6348},{"style":196},[6349],{"type":19,"value":905},{"type":13,"tag":147,"props":6351,"children":6352},{"class":149,"line":228},[6353,6357,6361],{"type":13,"tag":147,"props":6354,"children":6355},{"style":196},[6356],{"type":19,"value":5718},{"type":13,"tag":147,"props":6358,"children":6359},{"style":174},[6360],{"type":19,"value":5327},{"type":13,"tag":147,"props":6362,"children":6363},{"style":196},[6364],{"type":19,"value":663},{"type":13,"tag":147,"props":6366,"children":6367},{"class":149,"line":236},[6368,6372],{"type":13,"tag":147,"props":6369,"children":6370},{"style":174},[6371],{"type":19,"value":5734},{"type":13,"tag":147,"props":6373,"children":6374},{"style":196},[6375],{"type":19,"value":199},{"type":13,"tag":147,"props":6377,"children":6378},{"class":149,"line":274},[6379],{"type":13,"tag":147,"props":6380,"children":6381},{"style":196},[6382],{"type":19,"value":5746},{"type":13,"tag":147,"props":6384,"children":6385},{"class":149,"line":709},[6386],{"type":13,"tag":147,"props":6387,"children":6388},{"style":196},[6389],{"type":19,"value":996},{"type":13,"tag":147,"props":6391,"children":6392},{"class":149,"line":717},[6393],{"type":13,"tag":147,"props":6394,"children":6395},{"style":196},[6396],{"type":19,"value":1004},{"type":13,"tag":32,"props":6398,"children":6399},{},[6400],{"type":19,"value":6401},"This will let us remove whitespace easily, and this is why tokenizing is so useful, not only do we get identifiers and numbers grouped up when parsing, but we also don't have to deal with whitespace!",{"type":13,"tag":88,"props":6403,"children":6405},{"code":6404,"language":140,"meta":7,"className":141,"style":7},"    fn consume_comment(&mut self) {\n        while let Ok(c) = self.code.peek() {\n            if c == &'\\n' {\n                self.void();\n                break;\n            } else {\n                self.void();\n            }\n        }\n    }\n",[6406],{"type":13,"tag":93,"props":6407,"children":6408},{"__ignoreMap":7},[6409,6437,6484,6519,6538,6549,6564,6583,6590,6597],{"type":13,"tag":147,"props":6410,"children":6411},{"class":149,"line":150},[6412,6416,6421,6425,6429,6433],{"type":13,"tag":147,"props":6413,"children":6414},{"style":174},[6415],{"type":19,"value":4076},{"type":13,"tag":147,"props":6417,"children":6418},{"style":180},[6419],{"type":19,"value":6420}," consume_comment",{"type":13,"tag":147,"props":6422,"children":6423},{"style":196},[6424],{"type":19,"value":978},{"type":13,"tag":147,"props":6426,"children":6427},{"style":174},[6428],{"type":19,"value":4169},{"type":13,"tag":147,"props":6430,"children":6431},{"style":245},[6432],{"type":19,"value":4174},{"type":13,"tag":147,"props":6434,"children":6435},{"style":196},[6436],{"type":19,"value":4300},{"type":13,"tag":147,"props":6438,"children":6439},{"class":149,"line":160},[6440,6444,6448,6452,6456,6460,6464,6468,6472,6476,6480],{"type":13,"tag":147,"props":6441,"children":6442},{"style":174},[6443],{"type":19,"value":5587},{"type":13,"tag":147,"props":6445,"children":6446},{"style":174},[6447],{"type":19,"value":5592},{"type":13,"tag":147,"props":6449,"children":6450},{"style":180},[6451],{"type":19,"value":5597},{"type":13,"tag":147,"props":6453,"children":6454},{"style":196},[6455],{"type":19,"value":5602},{"type":13,"tag":147,"props":6457,"children":6458},{"style":174},[6459],{"type":19,"value":887},{"type":13,"tag":147,"props":6461,"children":6462},{"style":245},[6463],{"type":19,"value":4174},{"type":13,"tag":147,"props":6465,"children":6466},{"style":174},[6467],{"type":19,"value":930},{"type":13,"tag":147,"props":6469,"children":6470},{"style":196},[6471],{"type":19,"value":93},{"type":13,"tag":147,"props":6473,"children":6474},{"style":174},[6475],{"type":19,"value":930},{"type":13,"tag":147,"props":6477,"children":6478},{"style":180},[6479],{"type":19,"value":5627},{"type":13,"tag":147,"props":6481,"children":6482},{"style":196},[6483],{"type":19,"value":5632},{"type":13,"tag":147,"props":6485,"children":6486},{"class":149,"line":170},[6487,6491,6495,6499,6503,6507,6511,6515],{"type":13,"tag":147,"props":6488,"children":6489},{"style":174},[6490],{"type":19,"value":5640},{"type":13,"tag":147,"props":6492,"children":6493},{"style":196},[6494],{"type":19,"value":5167},{"type":13,"tag":147,"props":6496,"children":6497},{"style":174},[6498],{"type":19,"value":5235},{"type":13,"tag":147,"props":6500,"children":6501},{"style":174},[6502],{"type":19,"value":1846},{"type":13,"tag":147,"props":6504,"children":6505},{"style":387},[6506],{"type":19,"value":5250},{"type":13,"tag":147,"props":6508,"children":6509},{"style":245},[6510],{"type":19,"value":5245},{"type":13,"tag":147,"props":6512,"children":6513},{"style":387},[6514],{"type":19,"value":5250},{"type":13,"tag":147,"props":6516,"children":6517},{"style":196},[6518],{"type":19,"value":663},{"type":13,"tag":147,"props":6520,"children":6521},{"class":149,"line":202},[6522,6526,6530,6534],{"type":13,"tag":147,"props":6523,"children":6524},{"style":245},[6525],{"type":19,"value":5697},{"type":13,"tag":147,"props":6527,"children":6528},{"style":174},[6529],{"type":19,"value":930},{"type":13,"tag":147,"props":6531,"children":6532},{"style":180},[6533],{"type":19,"value":5706},{"type":13,"tag":147,"props":6535,"children":6536},{"style":196},[6537],{"type":19,"value":905},{"type":13,"tag":147,"props":6539,"children":6540},{"class":149,"line":228},[6541,6545],{"type":13,"tag":147,"props":6542,"children":6543},{"style":174},[6544],{"type":19,"value":5734},{"type":13,"tag":147,"props":6546,"children":6547},{"style":196},[6548],{"type":19,"value":199},{"type":13,"tag":147,"props":6550,"children":6551},{"class":149,"line":236},[6552,6556,6560],{"type":13,"tag":147,"props":6553,"children":6554},{"style":196},[6555],{"type":19,"value":5718},{"type":13,"tag":147,"props":6557,"children":6558},{"style":174},[6559],{"type":19,"value":5327},{"type":13,"tag":147,"props":6561,"children":6562},{"style":196},[6563],{"type":19,"value":663},{"type":13,"tag":147,"props":6565,"children":6566},{"class":149,"line":274},[6567,6571,6575,6579],{"type":13,"tag":147,"props":6568,"children":6569},{"style":245},[6570],{"type":19,"value":5697},{"type":13,"tag":147,"props":6572,"children":6573},{"style":174},[6574],{"type":19,"value":930},{"type":13,"tag":147,"props":6576,"children":6577},{"style":180},[6578],{"type":19,"value":5706},{"type":13,"tag":147,"props":6580,"children":6581},{"style":196},[6582],{"type":19,"value":905},{"type":13,"tag":147,"props":6584,"children":6585},{"class":149,"line":709},[6586],{"type":13,"tag":147,"props":6587,"children":6588},{"style":196},[6589],{"type":19,"value":5746},{"type":13,"tag":147,"props":6591,"children":6592},{"class":149,"line":717},[6593],{"type":13,"tag":147,"props":6594,"children":6595},{"style":196},[6596],{"type":19,"value":996},{"type":13,"tag":147,"props":6598,"children":6599},{"class":149,"line":733},[6600],{"type":13,"tag":147,"props":6601,"children":6602},{"style":196},[6603],{"type":19,"value":1004},{"type":13,"tag":32,"props":6605,"children":6606},{},[6607,6609,6615],{"type":19,"value":6608},"We will use ",{"type":13,"tag":93,"props":6610,"children":6612},{"className":6611},[],[6613],{"type":19,"value":6614},"#",{"type":19,"value":6616}," for comments, and ofc we just ignore it, another reason tokenizing is useful, the parser doesn't have to care about comments!",{"type":13,"tag":88,"props":6618,"children":6620},{"code":6619,"language":140,"meta":7,"className":141,"style":7},"    pub fn tokenize(mut self) -> Result\u003CVec\u003CToken>, TokenizerError> {\n        let mut tokens = Vec::new();\n        while let Ok(&c) = self.code.peek() {\n            match c {\n                c if c.is_ascii_digit() => tokens.push(self.consume_number()),\n                c if c.is_ascii_alphabetic() => tokens.push(self.consume_identifier()),\n                ';' => {\n                    tokens.push(self.token(TokenType::SemiColon));\n                    self.void();\n                }\n                c if c.is_ascii_whitespace() => self.consume_whitespace(),\n                '#' => self.consume_comment(),\n                _ => {\n                    self.error(format!(\"Unexpected character: {}\", c))?;\n                }\n            }\n        }\n        tokens.push(self.token(TokenType::Eof));\n        Ok(tokens)\n    }\n",[6621],{"type":13,"tag":93,"props":6622,"children":6623},{"__ignoreMap":7},[6624,6696,6732,6788,6801,6867,6932,6948,7002,7022,7030,7079,7108,7124,7171,7178,7185,7192,7245,7258],{"type":13,"tag":147,"props":6625,"children":6626},{"class":149,"line":150},[6627,6631,6635,6640,6644,6649,6653,6657,6661,6665,6669,6674,6678,6683,6688,6692],{"type":13,"tag":147,"props":6628,"children":6629},{"style":174},[6630],{"type":19,"value":1688},{"type":13,"tag":147,"props":6632,"children":6633},{"style":174},[6634],{"type":19,"value":1827},{"type":13,"tag":147,"props":6636,"children":6637},{"style":180},[6638],{"type":19,"value":6639}," tokenize",{"type":13,"tag":147,"props":6641,"children":6642},{"style":196},[6643],{"type":19,"value":978},{"type":13,"tag":147,"props":6645,"children":6646},{"style":174},[6647],{"type":19,"value":6648},"mut",{"type":13,"tag":147,"props":6650,"children":6651},{"style":245},[6652],{"type":19,"value":4174},{"type":13,"tag":147,"props":6654,"children":6655},{"style":196},[6656],{"type":19,"value":1869},{"type":13,"tag":147,"props":6658,"children":6659},{"style":174},[6660],{"type":19,"value":850},{"type":13,"tag":147,"props":6662,"children":6663},{"style":180},[6664],{"type":19,"value":4187},{"type":13,"tag":147,"props":6666,"children":6667},{"style":196},[6668],{"type":19,"value":2756},{"type":13,"tag":147,"props":6670,"children":6671},{"style":180},[6672],{"type":19,"value":6673},"Vec",{"type":13,"tag":147,"props":6675,"children":6676},{"style":196},[6677],{"type":19,"value":2756},{"type":13,"tag":147,"props":6679,"children":6680},{"style":180},[6681],{"type":19,"value":6682},"Token",{"type":13,"tag":147,"props":6684,"children":6685},{"style":196},[6686],{"type":19,"value":6687},">, ",{"type":13,"tag":147,"props":6689,"children":6690},{"style":180},[6691],{"type":19,"value":4844},{"type":13,"tag":147,"props":6693,"children":6694},{"style":196},[6695],{"type":19,"value":4068},{"type":13,"tag":147,"props":6697,"children":6698},{"class":149,"line":160},[6699,6703,6707,6712,6716,6720,6724,6728],{"type":13,"tag":147,"props":6700,"children":6701},{"style":174},[6702],{"type":19,"value":5162},{"type":13,"tag":147,"props":6704,"children":6705},{"style":174},[6706],{"type":19,"value":5554},{"type":13,"tag":147,"props":6708,"children":6709},{"style":196},[6710],{"type":19,"value":6711}," tokens ",{"type":13,"tag":147,"props":6713,"children":6714},{"style":174},[6715],{"type":19,"value":887},{"type":13,"tag":147,"props":6717,"children":6718},{"style":180},[6719],{"type":19,"value":2751},{"type":13,"tag":147,"props":6721,"children":6722},{"style":174},[6723],{"type":19,"value":596},{"type":13,"tag":147,"props":6725,"children":6726},{"style":180},[6727],{"type":19,"value":4692},{"type":13,"tag":147,"props":6729,"children":6730},{"style":196},[6731],{"type":19,"value":905},{"type":13,"tag":147,"props":6733,"children":6734},{"class":149,"line":170},[6735,6739,6743,6747,6751,6755,6760,6764,6768,6772,6776,6780,6784],{"type":13,"tag":147,"props":6736,"children":6737},{"style":174},[6738],{"type":19,"value":5587},{"type":13,"tag":147,"props":6740,"children":6741},{"style":174},[6742],{"type":19,"value":5592},{"type":13,"tag":147,"props":6744,"children":6745},{"style":180},[6746],{"type":19,"value":5597},{"type":13,"tag":147,"props":6748,"children":6749},{"style":196},[6750],{"type":19,"value":978},{"type":13,"tag":147,"props":6752,"children":6753},{"style":174},[6754],{"type":19,"value":4358},{"type":13,"tag":147,"props":6756,"children":6757},{"style":196},[6758],{"type":19,"value":6759},"c) ",{"type":13,"tag":147,"props":6761,"children":6762},{"style":174},[6763],{"type":19,"value":887},{"type":13,"tag":147,"props":6765,"children":6766},{"style":245},[6767],{"type":19,"value":4174},{"type":13,"tag":147,"props":6769,"children":6770},{"style":174},[6771],{"type":19,"value":930},{"type":13,"tag":147,"props":6773,"children":6774},{"style":196},[6775],{"type":19,"value":93},{"type":13,"tag":147,"props":6777,"children":6778},{"style":174},[6779],{"type":19,"value":930},{"type":13,"tag":147,"props":6781,"children":6782},{"style":180},[6783],{"type":19,"value":5627},{"type":13,"tag":147,"props":6785,"children":6786},{"style":196},[6787],{"type":19,"value":5632},{"type":13,"tag":147,"props":6789,"children":6790},{"class":149,"line":202},[6791,6796],{"type":13,"tag":147,"props":6792,"children":6793},{"style":174},[6794],{"type":19,"value":6795},"            match",{"type":13,"tag":147,"props":6797,"children":6798},{"style":196},[6799],{"type":19,"value":6800}," c {\n",{"type":13,"tag":147,"props":6802,"children":6803},{"class":149,"line":228},[6804,6809,6814,6818,6822,6826,6830,6834,6838,6842,6846,6850,6854,6858,6863],{"type":13,"tag":147,"props":6805,"children":6806},{"style":196},[6807],{"type":19,"value":6808},"                c ",{"type":13,"tag":147,"props":6810,"children":6811},{"style":174},[6812],{"type":19,"value":6813},"if",{"type":13,"tag":147,"props":6815,"children":6816},{"style":196},[6817],{"type":19,"value":5645},{"type":13,"tag":147,"props":6819,"children":6820},{"style":174},[6821],{"type":19,"value":930},{"type":13,"tag":147,"props":6823,"children":6824},{"style":180},[6825],{"type":19,"value":5654},{"type":13,"tag":147,"props":6827,"children":6828},{"style":196},[6829],{"type":19,"value":845},{"type":13,"tag":147,"props":6831,"children":6832},{"style":174},[6833],{"type":19,"value":961},{"type":13,"tag":147,"props":6835,"children":6836},{"style":196},[6837],{"type":19,"value":3907},{"type":13,"tag":147,"props":6839,"children":6840},{"style":174},[6841],{"type":19,"value":930},{"type":13,"tag":147,"props":6843,"children":6844},{"style":180},[6845],{"type":19,"value":5675},{"type":13,"tag":147,"props":6847,"children":6848},{"style":196},[6849],{"type":19,"value":978},{"type":13,"tag":147,"props":6851,"children":6852},{"style":245},[6853],{"type":19,"value":4363},{"type":13,"tag":147,"props":6855,"children":6856},{"style":174},[6857],{"type":19,"value":930},{"type":13,"tag":147,"props":6859,"children":6860},{"style":180},[6861],{"type":19,"value":6862},"consume_number",{"type":13,"tag":147,"props":6864,"children":6865},{"style":196},[6866],{"type":19,"value":4723},{"type":13,"tag":147,"props":6868,"children":6869},{"class":149,"line":236},[6870,6874,6878,6882,6886,6891,6895,6899,6903,6907,6911,6915,6919,6923,6928],{"type":13,"tag":147,"props":6871,"children":6872},{"style":196},[6873],{"type":19,"value":6808},{"type":13,"tag":147,"props":6875,"children":6876},{"style":174},[6877],{"type":19,"value":6813},{"type":13,"tag":147,"props":6879,"children":6880},{"style":196},[6881],{"type":19,"value":5645},{"type":13,"tag":147,"props":6883,"children":6884},{"style":174},[6885],{"type":19,"value":930},{"type":13,"tag":147,"props":6887,"children":6888},{"style":180},[6889],{"type":19,"value":6890},"is_ascii_alphabetic",{"type":13,"tag":147,"props":6892,"children":6893},{"style":196},[6894],{"type":19,"value":845},{"type":13,"tag":147,"props":6896,"children":6897},{"style":174},[6898],{"type":19,"value":961},{"type":13,"tag":147,"props":6900,"children":6901},{"style":196},[6902],{"type":19,"value":3907},{"type":13,"tag":147,"props":6904,"children":6905},{"style":174},[6906],{"type":19,"value":930},{"type":13,"tag":147,"props":6908,"children":6909},{"style":180},[6910],{"type":19,"value":5675},{"type":13,"tag":147,"props":6912,"children":6913},{"style":196},[6914],{"type":19,"value":978},{"type":13,"tag":147,"props":6916,"children":6917},{"style":245},[6918],{"type":19,"value":4363},{"type":13,"tag":147,"props":6920,"children":6921},{"style":174},[6922],{"type":19,"value":930},{"type":13,"tag":147,"props":6924,"children":6925},{"style":180},[6926],{"type":19,"value":6927},"consume_identifier",{"type":13,"tag":147,"props":6929,"children":6930},{"style":196},[6931],{"type":19,"value":4723},{"type":13,"tag":147,"props":6933,"children":6934},{"class":149,"line":274},[6935,6940,6944],{"type":13,"tag":147,"props":6936,"children":6937},{"style":387},[6938],{"type":19,"value":6939},"                ';'",{"type":13,"tag":147,"props":6941,"children":6942},{"style":174},[6943],{"type":19,"value":6160},{"type":13,"tag":147,"props":6945,"children":6946},{"style":196},[6947],{"type":19,"value":663},{"type":13,"tag":147,"props":6949,"children":6950},{"class":149,"line":709},[6951,6956,6960,6964,6968,6972,6976,6980,6984,6988,6992,6997],{"type":13,"tag":147,"props":6952,"children":6953},{"style":196},[6954],{"type":19,"value":6955},"                    tokens",{"type":13,"tag":147,"props":6957,"children":6958},{"style":174},[6959],{"type":19,"value":930},{"type":13,"tag":147,"props":6961,"children":6962},{"style":180},[6963],{"type":19,"value":5675},{"type":13,"tag":147,"props":6965,"children":6966},{"style":196},[6967],{"type":19,"value":978},{"type":13,"tag":147,"props":6969,"children":6970},{"style":245},[6971],{"type":19,"value":4363},{"type":13,"tag":147,"props":6973,"children":6974},{"style":174},[6975],{"type":19,"value":930},{"type":13,"tag":147,"props":6977,"children":6978},{"style":180},[6979],{"type":19,"value":5769},{"type":13,"tag":147,"props":6981,"children":6982},{"style":196},[6983],{"type":19,"value":978},{"type":13,"tag":147,"props":6985,"children":6986},{"style":180},[6987],{"type":19,"value":5778},{"type":13,"tag":147,"props":6989,"children":6990},{"style":174},[6991],{"type":19,"value":596},{"type":13,"tag":147,"props":6993,"children":6994},{"style":180},[6995],{"type":19,"value":6996},"SemiColon",{"type":13,"tag":147,"props":6998,"children":6999},{"style":196},[7000],{"type":19,"value":7001},"));\n",{"type":13,"tag":147,"props":7003,"children":7004},{"class":149,"line":717},[7005,7010,7014,7018],{"type":13,"tag":147,"props":7006,"children":7007},{"style":245},[7008],{"type":19,"value":7009},"                    self",{"type":13,"tag":147,"props":7011,"children":7012},{"style":174},[7013],{"type":19,"value":930},{"type":13,"tag":147,"props":7015,"children":7016},{"style":180},[7017],{"type":19,"value":5706},{"type":13,"tag":147,"props":7019,"children":7020},{"style":196},[7021],{"type":19,"value":905},{"type":13,"tag":147,"props":7023,"children":7024},{"class":149,"line":733},[7025],{"type":13,"tag":147,"props":7026,"children":7027},{"style":196},[7028],{"type":19,"value":7029},"                }\n",{"type":13,"tag":147,"props":7031,"children":7032},{"class":149,"line":751},[7033,7037,7041,7045,7049,7053,7057,7061,7065,7069,7074],{"type":13,"tag":147,"props":7034,"children":7035},{"style":196},[7036],{"type":19,"value":6808},{"type":13,"tag":147,"props":7038,"children":7039},{"style":174},[7040],{"type":19,"value":6813},{"type":13,"tag":147,"props":7042,"children":7043},{"style":196},[7044],{"type":19,"value":5645},{"type":13,"tag":147,"props":7046,"children":7047},{"style":174},[7048],{"type":19,"value":930},{"type":13,"tag":147,"props":7050,"children":7051},{"style":180},[7052],{"type":19,"value":6326},{"type":13,"tag":147,"props":7054,"children":7055},{"style":196},[7056],{"type":19,"value":845},{"type":13,"tag":147,"props":7058,"children":7059},{"style":174},[7060],{"type":19,"value":961},{"type":13,"tag":147,"props":7062,"children":7063},{"style":245},[7064],{"type":19,"value":4174},{"type":13,"tag":147,"props":7066,"children":7067},{"style":174},[7068],{"type":19,"value":930},{"type":13,"tag":147,"props":7070,"children":7071},{"style":180},[7072],{"type":19,"value":7073},"consume_whitespace",{"type":13,"tag":147,"props":7075,"children":7076},{"style":196},[7077],{"type":19,"value":7078},"(),\n",{"type":13,"tag":147,"props":7080,"children":7081},{"class":149,"line":760},[7082,7087,7091,7095,7099,7104],{"type":13,"tag":147,"props":7083,"children":7084},{"style":387},[7085],{"type":19,"value":7086},"                '#'",{"type":13,"tag":147,"props":7088,"children":7089},{"style":174},[7090],{"type":19,"value":6160},{"type":13,"tag":147,"props":7092,"children":7093},{"style":245},[7094],{"type":19,"value":4174},{"type":13,"tag":147,"props":7096,"children":7097},{"style":174},[7098],{"type":19,"value":930},{"type":13,"tag":147,"props":7100,"children":7101},{"style":180},[7102],{"type":19,"value":7103},"consume_comment",{"type":13,"tag":147,"props":7105,"children":7106},{"style":196},[7107],{"type":19,"value":7078},{"type":13,"tag":147,"props":7109,"children":7110},{"class":149,"line":782},[7111,7116,7120],{"type":13,"tag":147,"props":7112,"children":7113},{"style":196},[7114],{"type":19,"value":7115},"                _ ",{"type":13,"tag":147,"props":7117,"children":7118},{"style":174},[7119],{"type":19,"value":961},{"type":13,"tag":147,"props":7121,"children":7122},{"style":196},[7123],{"type":19,"value":663},{"type":13,"tag":147,"props":7125,"children":7126},{"class":149,"line":1352},[7127,7131,7135,7140,7144,7149,7153,7158,7163,7167],{"type":13,"tag":147,"props":7128,"children":7129},{"style":245},[7130],{"type":19,"value":7009},{"type":13,"tag":147,"props":7132,"children":7133},{"style":174},[7134],{"type":19,"value":930},{"type":13,"tag":147,"props":7136,"children":7137},{"style":180},[7138],{"type":19,"value":7139},"error",{"type":13,"tag":147,"props":7141,"children":7142},{"style":196},[7143],{"type":19,"value":978},{"type":13,"tag":147,"props":7145,"children":7146},{"style":180},[7147],{"type":19,"value":7148},"format!",{"type":13,"tag":147,"props":7150,"children":7151},{"style":196},[7152],{"type":19,"value":978},{"type":13,"tag":147,"props":7154,"children":7155},{"style":387},[7156],{"type":19,"value":7157},"\"Unexpected character: {}\"",{"type":13,"tag":147,"props":7159,"children":7160},{"style":196},[7161],{"type":19,"value":7162},", c))",{"type":13,"tag":147,"props":7164,"children":7165},{"style":174},[7166],{"type":19,"value":2397},{"type":13,"tag":147,"props":7168,"children":7169},{"style":196},[7170],{"type":19,"value":199},{"type":13,"tag":147,"props":7172,"children":7173},{"class":149,"line":1360},[7174],{"type":13,"tag":147,"props":7175,"children":7176},{"style":196},[7177],{"type":19,"value":7029},{"type":13,"tag":147,"props":7179,"children":7180},{"class":149,"line":1369},[7181],{"type":13,"tag":147,"props":7182,"children":7183},{"style":196},[7184],{"type":19,"value":5746},{"type":13,"tag":147,"props":7186,"children":7187},{"class":149,"line":1398},[7188],{"type":13,"tag":147,"props":7189,"children":7190},{"style":196},[7191],{"type":19,"value":996},{"type":13,"tag":147,"props":7193,"children":7194},{"class":149,"line":1419},[7195,7200,7204,7208,7212,7216,7220,7224,7228,7232,7236,7241],{"type":13,"tag":147,"props":7196,"children":7197},{"style":196},[7198],{"type":19,"value":7199},"        tokens",{"type":13,"tag":147,"props":7201,"children":7202},{"style":174},[7203],{"type":19,"value":930},{"type":13,"tag":147,"props":7205,"children":7206},{"style":180},[7207],{"type":19,"value":5675},{"type":13,"tag":147,"props":7209,"children":7210},{"style":196},[7211],{"type":19,"value":978},{"type":13,"tag":147,"props":7213,"children":7214},{"style":245},[7215],{"type":19,"value":4363},{"type":13,"tag":147,"props":7217,"children":7218},{"style":174},[7219],{"type":19,"value":930},{"type":13,"tag":147,"props":7221,"children":7222},{"style":180},[7223],{"type":19,"value":5769},{"type":13,"tag":147,"props":7225,"children":7226},{"style":196},[7227],{"type":19,"value":978},{"type":13,"tag":147,"props":7229,"children":7230},{"style":180},[7231],{"type":19,"value":5778},{"type":13,"tag":147,"props":7233,"children":7234},{"style":174},[7235],{"type":19,"value":596},{"type":13,"tag":147,"props":7237,"children":7238},{"style":180},[7239],{"type":19,"value":7240},"Eof",{"type":13,"tag":147,"props":7242,"children":7243},{"style":196},[7244],{"type":19,"value":7001},{"type":13,"tag":147,"props":7246,"children":7247},{"class":149,"line":1427},[7248,7253],{"type":13,"tag":147,"props":7249,"children":7250},{"style":180},[7251],{"type":19,"value":7252},"        Ok",{"type":13,"tag":147,"props":7254,"children":7255},{"style":196},[7256],{"type":19,"value":7257},"(tokens)\n",{"type":13,"tag":147,"props":7259,"children":7260},{"class":149,"line":1436},[7261],{"type":13,"tag":147,"props":7262,"children":7263},{"style":196},[7264],{"type":19,"value":1004},{"type":13,"tag":32,"props":7266,"children":7267},{},[7268],{"type":19,"value":7269},"And here is our main function, it is rather straightforward when we got those other functions to do the hard work.",{"type":13,"tag":7271,"props":7272,"children":7273},"ul",{},[7274,7280,7285,7290,7295,7300],{"type":13,"tag":7275,"props":7276,"children":7277},"li",{},[7278],{"type":19,"value":7279},"is it a digit? consume a number",{"type":13,"tag":7275,"props":7281,"children":7282},{},[7283],{"type":19,"value":7284},"is it a letter? consume an identifier",{"type":13,"tag":7275,"props":7286,"children":7287},{},[7288],{"type":19,"value":7289},"is it a semicolon? create a semicolon",{"type":13,"tag":7275,"props":7291,"children":7292},{},[7293],{"type":19,"value":7294},"is it whitespace? Consume and ignore",{"type":13,"tag":7275,"props":7296,"children":7297},{},[7298],{"type":19,"value":7299},"Anything else? ERROR",{"type":13,"tag":7275,"props":7301,"children":7302},{},[7303,7305,7310],{"type":19,"value":7304},"And ofc an ",{"type":13,"tag":93,"props":7306,"children":7308},{"className":7307},[],[7309],{"type":19,"value":7240},{"type":19,"value":7311}," at the end!",{"type":13,"tag":28,"props":7313,"children":7314},{},[7315],{"type":13,"tag":32,"props":7316,"children":7317},{},[7318,7320,7325],{"type":19,"value":7319},"Also you might wonder, why are we taking ownership of ",{"type":13,"tag":93,"props":7321,"children":7323},{"className":7322},[],[7324],{"type":19,"value":4363},{"type":19,"value":7326},"? simple, this struct wont be useful anymore once the stream is consumed, so to prevent errors we take ownership!",{"type":13,"tag":32,"props":7328,"children":7329},{},[7330,7332,7337,7339,7344],{"type":19,"value":7331},"Now we can start writing the ",{"type":13,"tag":93,"props":7333,"children":7335},{"className":7334},[],[7336],{"type":19,"value":900},{"type":19,"value":7338}," function in ",{"type":13,"tag":93,"props":7340,"children":7342},{"className":7341},[],[7343],{"type":19,"value":3297},{"type":19,"value":7345},", soon we will also add the parsing step to this",{"type":13,"tag":88,"props":7347,"children":7349},{"code":7348,"language":140,"meta":7,"className":141,"style":7},"// parsing/mod.rs\n\npub fn parse(code: &str, compiler_options: &CompilerOptions) -> anyhow::Result\u003Cast::Module> {\n    let tokenizer = tokens::Tokenizer::new(code);\n    let tokens = tokenizer.tokenize()?;\n\n    if compiler_options.output_tokens {\n        // we dont care about position info in this output\n        let token_types = tokens\n            .iter()\n            .map(|t| format!(\"{:?}\", t._type))\n            // This is inefficient! itertools has a more efficient join method, but I dont want to add a dependency just for that\n            // You however can :D\n            .collect::\u003CVec\u003CString>>()\n            .join(\", \");\n\n        println!(\"TOKENS: {token_types}\");\n    }\n\n    todo!();\n}\n",[7350],{"type":13,"tag":93,"props":7351,"children":7352},{"__ignoreMap":7},[7353,7360,7367,7453,7494,7535,7542,7564,7572,7593,7611,7669,7677,7685,7721,7746,7753,7774,7781,7788,7800],{"type":13,"tag":147,"props":7354,"children":7355},{"class":149,"line":150},[7356],{"type":13,"tag":147,"props":7357,"children":7358},{"style":154},[7359],{"type":19,"value":2584},{"type":13,"tag":147,"props":7361,"children":7362},{"class":149,"line":160},[7363],{"type":13,"tag":147,"props":7364,"children":7365},{"emptyLinePlaceholder":164},[7366],{"type":19,"value":167},{"type":13,"tag":147,"props":7368,"children":7369},{"class":149,"line":170},[7370,7374,7378,7383,7387,7391,7395,7399,7404,7408,7412,7416,7420,7424,7428,7432,7436,7441,7445,7449],{"type":13,"tag":147,"props":7371,"children":7372},{"style":174},[7373],{"type":19,"value":1666},{"type":13,"tag":147,"props":7375,"children":7376},{"style":174},[7377],{"type":19,"value":1827},{"type":13,"tag":147,"props":7379,"children":7380},{"style":180},[7381],{"type":19,"value":7382}," parse",{"type":13,"tag":147,"props":7384,"children":7385},{"style":196},[7386],{"type":19,"value":4628},{"type":13,"tag":147,"props":7388,"children":7389},{"style":174},[7390],{"type":19,"value":253},{"type":13,"tag":147,"props":7392,"children":7393},{"style":174},[7394],{"type":19,"value":1846},{"type":13,"tag":147,"props":7396,"children":7397},{"style":180},[7398],{"type":19,"value":1851},{"type":13,"tag":147,"props":7400,"children":7401},{"style":196},[7402],{"type":19,"value":7403},", compiler_options",{"type":13,"tag":147,"props":7405,"children":7406},{"style":174},[7407],{"type":19,"value":253},{"type":13,"tag":147,"props":7409,"children":7410},{"style":174},[7411],{"type":19,"value":1846},{"type":13,"tag":147,"props":7413,"children":7414},{"style":180},[7415],{"type":19,"value":2013},{"type":13,"tag":147,"props":7417,"children":7418},{"style":196},[7419],{"type":19,"value":1869},{"type":13,"tag":147,"props":7421,"children":7422},{"style":174},[7423],{"type":19,"value":850},{"type":13,"tag":147,"props":7425,"children":7426},{"style":180},[7427],{"type":19,"value":855},{"type":13,"tag":147,"props":7429,"children":7430},{"style":174},[7431],{"type":19,"value":596},{"type":13,"tag":147,"props":7433,"children":7434},{"style":180},[7435],{"type":19,"value":864},{"type":13,"tag":147,"props":7437,"children":7438},{"style":196},[7439],{"type":19,"value":7440},"\u003Cast",{"type":13,"tag":147,"props":7442,"children":7443},{"style":174},[7444],{"type":19,"value":596},{"type":13,"tag":147,"props":7446,"children":7447},{"style":180},[7448],{"type":19,"value":2985},{"type":13,"tag":147,"props":7450,"children":7451},{"style":196},[7452],{"type":19,"value":4068},{"type":13,"tag":147,"props":7454,"children":7455},{"class":149,"line":202},[7456,7460,7465,7469,7473,7477,7481,7485,7489],{"type":13,"tag":147,"props":7457,"children":7458},{"style":174},[7459],{"type":19,"value":877},{"type":13,"tag":147,"props":7461,"children":7462},{"style":196},[7463],{"type":19,"value":7464}," tokenizer ",{"type":13,"tag":147,"props":7466,"children":7467},{"style":174},[7468],{"type":19,"value":887},{"type":13,"tag":147,"props":7470,"children":7471},{"style":180},[7472],{"type":19,"value":3907},{"type":13,"tag":147,"props":7474,"children":7475},{"style":174},[7476],{"type":19,"value":596},{"type":13,"tag":147,"props":7478,"children":7479},{"style":180},[7480],{"type":19,"value":3278},{"type":13,"tag":147,"props":7482,"children":7483},{"style":174},[7484],{"type":19,"value":596},{"type":13,"tag":147,"props":7486,"children":7487},{"style":180},[7488],{"type":19,"value":4692},{"type":13,"tag":147,"props":7490,"children":7491},{"style":196},[7492],{"type":19,"value":7493},"(code);\n",{"type":13,"tag":147,"props":7495,"children":7496},{"class":149,"line":228},[7497,7501,7505,7509,7514,7518,7523,7527,7531],{"type":13,"tag":147,"props":7498,"children":7499},{"style":174},[7500],{"type":19,"value":877},{"type":13,"tag":147,"props":7502,"children":7503},{"style":196},[7504],{"type":19,"value":6711},{"type":13,"tag":147,"props":7506,"children":7507},{"style":174},[7508],{"type":19,"value":887},{"type":13,"tag":147,"props":7510,"children":7511},{"style":196},[7512],{"type":19,"value":7513}," tokenizer",{"type":13,"tag":147,"props":7515,"children":7516},{"style":174},[7517],{"type":19,"value":930},{"type":13,"tag":147,"props":7519,"children":7520},{"style":180},[7521],{"type":19,"value":7522},"tokenize",{"type":13,"tag":147,"props":7524,"children":7525},{"style":196},[7526],{"type":19,"value":4235},{"type":13,"tag":147,"props":7528,"children":7529},{"style":174},[7530],{"type":19,"value":2397},{"type":13,"tag":147,"props":7532,"children":7533},{"style":196},[7534],{"type":19,"value":199},{"type":13,"tag":147,"props":7536,"children":7537},{"class":149,"line":236},[7538],{"type":13,"tag":147,"props":7539,"children":7540},{"emptyLinePlaceholder":164},[7541],{"type":19,"value":167},{"type":13,"tag":147,"props":7543,"children":7544},{"class":149,"line":274},[7545,7550,7555,7559],{"type":13,"tag":147,"props":7546,"children":7547},{"style":174},[7548],{"type":19,"value":7549},"    if",{"type":13,"tag":147,"props":7551,"children":7552},{"style":196},[7553],{"type":19,"value":7554}," compiler_options",{"type":13,"tag":147,"props":7556,"children":7557},{"style":174},[7558],{"type":19,"value":930},{"type":13,"tag":147,"props":7560,"children":7561},{"style":196},[7562],{"type":19,"value":7563},"output_tokens {\n",{"type":13,"tag":147,"props":7565,"children":7566},{"class":149,"line":709},[7567],{"type":13,"tag":147,"props":7568,"children":7569},{"style":154},[7570],{"type":19,"value":7571},"        // we dont care about position info in this output\n",{"type":13,"tag":147,"props":7573,"children":7574},{"class":149,"line":717},[7575,7579,7584,7588],{"type":13,"tag":147,"props":7576,"children":7577},{"style":174},[7578],{"type":19,"value":5162},{"type":13,"tag":147,"props":7580,"children":7581},{"style":196},[7582],{"type":19,"value":7583}," token_types ",{"type":13,"tag":147,"props":7585,"children":7586},{"style":174},[7587],{"type":19,"value":887},{"type":13,"tag":147,"props":7589,"children":7590},{"style":196},[7591],{"type":19,"value":7592}," tokens\n",{"type":13,"tag":147,"props":7594,"children":7595},{"class":149,"line":733},[7596,7601,7606],{"type":13,"tag":147,"props":7597,"children":7598},{"style":174},[7599],{"type":19,"value":7600},"            .",{"type":13,"tag":147,"props":7602,"children":7603},{"style":180},[7604],{"type":19,"value":7605},"iter",{"type":13,"tag":147,"props":7607,"children":7608},{"style":196},[7609],{"type":19,"value":7610},"()\n",{"type":13,"tag":147,"props":7612,"children":7613},{"class":149,"line":751},[7614,7618,7623,7627,7632,7637,7641,7646,7650,7655,7660,7664],{"type":13,"tag":147,"props":7615,"children":7616},{"style":174},[7617],{"type":19,"value":7600},{"type":13,"tag":147,"props":7619,"children":7620},{"style":180},[7621],{"type":19,"value":7622},"map",{"type":13,"tag":147,"props":7624,"children":7625},{"style":196},[7626],{"type":19,"value":978},{"type":13,"tag":147,"props":7628,"children":7629},{"style":174},[7630],{"type":19,"value":7631},"|",{"type":13,"tag":147,"props":7633,"children":7634},{"style":196},[7635],{"type":19,"value":7636},"t",{"type":13,"tag":147,"props":7638,"children":7639},{"style":174},[7640],{"type":19,"value":7631},{"type":13,"tag":147,"props":7642,"children":7643},{"style":180},[7644],{"type":19,"value":7645}," format!",{"type":13,"tag":147,"props":7647,"children":7648},{"style":196},[7649],{"type":19,"value":978},{"type":13,"tag":147,"props":7651,"children":7652},{"style":387},[7653],{"type":19,"value":7654},"\"{:?}\"",{"type":13,"tag":147,"props":7656,"children":7657},{"style":196},[7658],{"type":19,"value":7659},", t",{"type":13,"tag":147,"props":7661,"children":7662},{"style":174},[7663],{"type":19,"value":930},{"type":13,"tag":147,"props":7665,"children":7666},{"style":196},[7667],{"type":19,"value":7668},"_type))\n",{"type":13,"tag":147,"props":7670,"children":7671},{"class":149,"line":760},[7672],{"type":13,"tag":147,"props":7673,"children":7674},{"style":154},[7675],{"type":19,"value":7676},"            // This is inefficient! itertools has a more efficient join method, but I dont want to add a dependency just for that\n",{"type":13,"tag":147,"props":7678,"children":7679},{"class":149,"line":782},[7680],{"type":13,"tag":147,"props":7681,"children":7682},{"style":154},[7683],{"type":19,"value":7684},"            // You however can :D\n",{"type":13,"tag":147,"props":7686,"children":7687},{"class":149,"line":1352},[7688,7692,7696,7700,7704,7708,7712,7716],{"type":13,"tag":147,"props":7689,"children":7690},{"style":174},[7691],{"type":19,"value":7600},{"type":13,"tag":147,"props":7693,"children":7694},{"style":180},[7695],{"type":19,"value":4718},{"type":13,"tag":147,"props":7697,"children":7698},{"style":174},[7699],{"type":19,"value":596},{"type":13,"tag":147,"props":7701,"children":7702},{"style":196},[7703],{"type":19,"value":2756},{"type":13,"tag":147,"props":7705,"children":7706},{"style":180},[7707],{"type":19,"value":6673},{"type":13,"tag":147,"props":7709,"children":7710},{"style":196},[7711],{"type":19,"value":2756},{"type":13,"tag":147,"props":7713,"children":7714},{"style":180},[7715],{"type":19,"value":3433},{"type":13,"tag":147,"props":7717,"children":7718},{"style":196},[7719],{"type":19,"value":7720},">>()\n",{"type":13,"tag":147,"props":7722,"children":7723},{"class":149,"line":1360},[7724,7728,7733,7737,7742],{"type":13,"tag":147,"props":7725,"children":7726},{"style":174},[7727],{"type":19,"value":7600},{"type":13,"tag":147,"props":7729,"children":7730},{"style":180},[7731],{"type":19,"value":7732},"join",{"type":13,"tag":147,"props":7734,"children":7735},{"style":196},[7736],{"type":19,"value":978},{"type":13,"tag":147,"props":7738,"children":7739},{"style":387},[7740],{"type":19,"value":7741},"\", \"",{"type":13,"tag":147,"props":7743,"children":7744},{"style":196},[7745],{"type":19,"value":988},{"type":13,"tag":147,"props":7747,"children":7748},{"class":149,"line":1369},[7749],{"type":13,"tag":147,"props":7750,"children":7751},{"emptyLinePlaceholder":164},[7752],{"type":19,"value":167},{"type":13,"tag":147,"props":7754,"children":7755},{"class":149,"line":1398},[7756,7761,7765,7770],{"type":13,"tag":147,"props":7757,"children":7758},{"style":180},[7759],{"type":19,"value":7760},"        println!",{"type":13,"tag":147,"props":7762,"children":7763},{"style":196},[7764],{"type":19,"value":978},{"type":13,"tag":147,"props":7766,"children":7767},{"style":387},[7768],{"type":19,"value":7769},"\"TOKENS: {token_types}\"",{"type":13,"tag":147,"props":7771,"children":7772},{"style":196},[7773],{"type":19,"value":988},{"type":13,"tag":147,"props":7775,"children":7776},{"class":149,"line":1419},[7777],{"type":13,"tag":147,"props":7778,"children":7779},{"style":196},[7780],{"type":19,"value":1004},{"type":13,"tag":147,"props":7782,"children":7783},{"class":149,"line":1427},[7784],{"type":13,"tag":147,"props":7785,"children":7786},{"emptyLinePlaceholder":164},[7787],{"type":19,"value":167},{"type":13,"tag":147,"props":7789,"children":7790},{"class":149,"line":1436},[7791,7796],{"type":13,"tag":147,"props":7792,"children":7793},{"style":180},[7794],{"type":19,"value":7795},"    todo!",{"type":13,"tag":147,"props":7797,"children":7798},{"style":196},[7799],{"type":19,"value":905},{"type":13,"tag":147,"props":7801,"children":7802},{"class":149,"line":1465},[7803],{"type":13,"tag":147,"props":7804,"children":7805},{"style":196},[7806],{"type":19,"value":706},{"type":13,"tag":32,"props":7808,"children":7809},{},[7810,7812,7818,7820],{"type":19,"value":7811},"Here we also use the compiler flags to maybe print out the tokens!\nWe also have a ",{"type":13,"tag":93,"props":7813,"children":7815},{"className":7814},[],[7816],{"type":19,"value":7817},"todo!()",{"type":19,"value":7819}," at the end so Rust won't complain about our return type ",{"type":13,"tag":5855,"props":7821,"children":7822},{},[],{"type":13,"tag":32,"props":7824,"children":7825},{},[7826,7828,7833,7835,7840],{"type":19,"value":7827},"Now we can add the ",{"type":13,"tag":93,"props":7829,"children":7831},{"className":7830},[],[7832],{"type":19,"value":900},{"type":19,"value":7834}," call to our ",{"type":13,"tag":93,"props":7836,"children":7838},{"className":7837},[],[7839],{"type":19,"value":1948},{"type":19,"value":7841}," function,",{"type":13,"tag":88,"props":7843,"children":7845},{"code":7844,"language":140,"meta":7,"className":141,"style":7},"use anyhow::Context;\n\n// ...\n\npub fn build(file: &str, options: CompilerOptions) -> anyhow::Result\u003C()> {\n    let ast = parsing::parse(&file, &options).context(\"Parsing input file\")?;\n\n    Ok(())\n}\n",[7846],{"type":13,"tag":93,"props":7847,"children":7848},{"__ignoreMap":7},[7849,7872,7879,7886,7893,7960,8039,8046,8057],{"type":13,"tag":147,"props":7850,"children":7851},{"class":149,"line":150},[7852,7856,7860,7864,7868],{"type":13,"tag":147,"props":7853,"children":7854},{"style":174},[7855],{"type":19,"value":587},{"type":13,"tag":147,"props":7857,"children":7858},{"style":180},[7859],{"type":19,"value":855},{"type":13,"tag":147,"props":7861,"children":7862},{"style":174},[7863],{"type":19,"value":596},{"type":13,"tag":147,"props":7865,"children":7866},{"style":180},[7867],{"type":19,"value":1983},{"type":13,"tag":147,"props":7869,"children":7870},{"style":196},[7871],{"type":19,"value":199},{"type":13,"tag":147,"props":7873,"children":7874},{"class":149,"line":160},[7875],{"type":13,"tag":147,"props":7876,"children":7877},{"emptyLinePlaceholder":164},[7878],{"type":19,"value":167},{"type":13,"tag":147,"props":7880,"children":7881},{"class":149,"line":170},[7882],{"type":13,"tag":147,"props":7883,"children":7884},{"style":154},[7885],{"type":19,"value":2032},{"type":13,"tag":147,"props":7887,"children":7888},{"class":149,"line":202},[7889],{"type":13,"tag":147,"props":7890,"children":7891},{"emptyLinePlaceholder":164},[7892],{"type":19,"value":167},{"type":13,"tag":147,"props":7894,"children":7895},{"class":149,"line":228},[7896,7900,7904,7908,7912,7916,7920,7924,7928,7932,7936,7940,7944,7948,7952,7956],{"type":13,"tag":147,"props":7897,"children":7898},{"style":174},[7899],{"type":19,"value":1666},{"type":13,"tag":147,"props":7901,"children":7902},{"style":174},[7903],{"type":19,"value":1827},{"type":13,"tag":147,"props":7905,"children":7906},{"style":180},[7907],{"type":19,"value":1832},{"type":13,"tag":147,"props":7909,"children":7910},{"style":196},[7911],{"type":19,"value":1837},{"type":13,"tag":147,"props":7913,"children":7914},{"style":174},[7915],{"type":19,"value":253},{"type":13,"tag":147,"props":7917,"children":7918},{"style":174},[7919],{"type":19,"value":1846},{"type":13,"tag":147,"props":7921,"children":7922},{"style":180},[7923],{"type":19,"value":1851},{"type":13,"tag":147,"props":7925,"children":7926},{"style":196},[7927],{"type":19,"value":1856},{"type":13,"tag":147,"props":7929,"children":7930},{"style":174},[7931],{"type":19,"value":253},{"type":13,"tag":147,"props":7933,"children":7934},{"style":180},[7935],{"type":19,"value":1676},{"type":13,"tag":147,"props":7937,"children":7938},{"style":196},[7939],{"type":19,"value":1869},{"type":13,"tag":147,"props":7941,"children":7942},{"style":174},[7943],{"type":19,"value":850},{"type":13,"tag":147,"props":7945,"children":7946},{"style":180},[7947],{"type":19,"value":855},{"type":13,"tag":147,"props":7949,"children":7950},{"style":174},[7951],{"type":19,"value":596},{"type":13,"tag":147,"props":7953,"children":7954},{"style":180},[7955],{"type":19,"value":864},{"type":13,"tag":147,"props":7957,"children":7958},{"style":196},[7959],{"type":19,"value":869},{"type":13,"tag":147,"props":7961,"children":7962},{"class":149,"line":236},[7963,7967,7972,7976,7980,7984,7988,7992,7996,8001,8005,8010,8014,8018,8022,8027,8031,8035],{"type":13,"tag":147,"props":7964,"children":7965},{"style":174},[7966],{"type":19,"value":877},{"type":13,"tag":147,"props":7968,"children":7969},{"style":196},[7970],{"type":19,"value":7971}," ast ",{"type":13,"tag":147,"props":7973,"children":7974},{"style":174},[7975],{"type":19,"value":887},{"type":13,"tag":147,"props":7977,"children":7978},{"style":180},[7979],{"type":19,"value":2546},{"type":13,"tag":147,"props":7981,"children":7982},{"style":174},[7983],{"type":19,"value":596},{"type":13,"tag":147,"props":7985,"children":7986},{"style":180},[7987],{"type":19,"value":900},{"type":13,"tag":147,"props":7989,"children":7990},{"style":196},[7991],{"type":19,"value":978},{"type":13,"tag":147,"props":7993,"children":7994},{"style":174},[7995],{"type":19,"value":4358},{"type":13,"tag":147,"props":7997,"children":7998},{"style":196},[7999],{"type":19,"value":8000},"file, ",{"type":13,"tag":147,"props":8002,"children":8003},{"style":174},[8004],{"type":19,"value":4358},{"type":13,"tag":147,"props":8006,"children":8007},{"style":196},[8008],{"type":19,"value":8009},"options)",{"type":13,"tag":147,"props":8011,"children":8012},{"style":174},[8013],{"type":19,"value":930},{"type":13,"tag":147,"props":8015,"children":8016},{"style":180},[8017],{"type":19,"value":2378},{"type":13,"tag":147,"props":8019,"children":8020},{"style":196},[8021],{"type":19,"value":978},{"type":13,"tag":147,"props":8023,"children":8024},{"style":387},[8025],{"type":19,"value":8026},"\"Parsing input file\"",{"type":13,"tag":147,"props":8028,"children":8029},{"style":196},[8030],{"type":19,"value":2392},{"type":13,"tag":147,"props":8032,"children":8033},{"style":174},[8034],{"type":19,"value":2397},{"type":13,"tag":147,"props":8036,"children":8037},{"style":196},[8038],{"type":19,"value":199},{"type":13,"tag":147,"props":8040,"children":8041},{"class":149,"line":274},[8042],{"type":13,"tag":147,"props":8043,"children":8044},{"emptyLinePlaceholder":164},[8045],{"type":19,"value":167},{"type":13,"tag":147,"props":8047,"children":8048},{"class":149,"line":709},[8049,8053],{"type":13,"tag":147,"props":8050,"children":8051},{"style":180},[8052],{"type":19,"value":1019},{"type":13,"tag":147,"props":8054,"children":8055},{"style":196},[8056],{"type":19,"value":1024},{"type":13,"tag":147,"props":8058,"children":8059},{"class":149,"line":717},[8060],{"type":13,"tag":147,"props":8061,"children":8062},{"style":196},[8063],{"type":19,"value":706},{"type":13,"tag":32,"props":8065,"children":8066},{},[8067],{"type":19,"value":8068},"And now we can actually test our code so far, let's write a test script",{"type":13,"tag":88,"props":8070,"children":8072},{"code":8071},"# test.viv\nprint 1;\nprint 2;\n",[8073],{"type":13,"tag":93,"props":8074,"children":8075},{"__ignoreMap":7},[8076],{"type":19,"value":8071},{"type":13,"tag":32,"props":8078,"children":8079},{},[8080],{"type":19,"value":8081},"Now we can check what tokens we get!",{"type":13,"tag":88,"props":8083,"children":8085},{"code":8084,"language":371,"meta":7,"className":372,"style":7},"cargo run -- run test.viv --output-tokens \n",[8086],{"type":13,"tag":93,"props":8087,"children":8088},{"__ignoreMap":7},[8089],{"type":13,"tag":147,"props":8090,"children":8091},{"class":149,"line":150},[8092,8096,8100,8104,8108,8113],{"type":13,"tag":147,"props":8093,"children":8094},{"style":180},[8095],{"type":19,"value":413},{"type":13,"tag":147,"props":8097,"children":8098},{"style":387},[8099],{"type":19,"value":510},{"type":13,"tag":147,"props":8101,"children":8102},{"style":245},[8103],{"type":19,"value":559},{"type":13,"tag":147,"props":8105,"children":8106},{"style":387},[8107],{"type":19,"value":510},{"type":13,"tag":147,"props":8109,"children":8110},{"style":387},[8111],{"type":19,"value":8112}," test.viv",{"type":13,"tag":147,"props":8114,"children":8115},{"style":245},[8116],{"type":19,"value":8117}," --output-tokens\n",{"type":13,"tag":32,"props":8119,"children":8120},{},[8121],{"type":19,"value":8122},"You should get an output like",{"type":13,"tag":88,"props":8124,"children":8126},{"code":8125,"language":140,"meta":7,"className":141,"style":7},"Print, Integer(1), SemiColon, Print, Integer(2), SemiColon, Eof\n",[8127],{"type":13,"tag":93,"props":8128,"children":8129},{"__ignoreMap":7},[8130],{"type":13,"tag":147,"props":8131,"children":8132},{"class":149,"line":150},[8133,8137,8141,8145,8149,8153,8157,8161,8165,8169,8173,8177,8181,8185,8189,8193,8197],{"type":13,"tag":147,"props":8134,"children":8135},{"style":180},[8136],{"type":19,"value":2623},{"type":13,"tag":147,"props":8138,"children":8139},{"style":196},[8140],{"type":19,"value":611},{"type":13,"tag":147,"props":8142,"children":8143},{"style":180},[8144],{"type":19,"value":3083},{"type":13,"tag":147,"props":8146,"children":8147},{"style":196},[8148],{"type":19,"value":978},{"type":13,"tag":147,"props":8150,"children":8151},{"style":245},[8152],{"type":19,"value":3092},{"type":13,"tag":147,"props":8154,"children":8155},{"style":196},[8156],{"type":19,"value":3227},{"type":13,"tag":147,"props":8158,"children":8159},{"style":180},[8160],{"type":19,"value":6996},{"type":13,"tag":147,"props":8162,"children":8163},{"style":196},[8164],{"type":19,"value":611},{"type":13,"tag":147,"props":8166,"children":8167},{"style":180},[8168],{"type":19,"value":2623},{"type":13,"tag":147,"props":8170,"children":8171},{"style":196},[8172],{"type":19,"value":611},{"type":13,"tag":147,"props":8174,"children":8175},{"style":180},[8176],{"type":19,"value":3083},{"type":13,"tag":147,"props":8178,"children":8179},{"style":196},[8180],{"type":19,"value":978},{"type":13,"tag":147,"props":8182,"children":8183},{"style":245},[8184],{"type":19,"value":3153},{"type":13,"tag":147,"props":8186,"children":8187},{"style":196},[8188],{"type":19,"value":3227},{"type":13,"tag":147,"props":8190,"children":8191},{"style":180},[8192],{"type":19,"value":6996},{"type":13,"tag":147,"props":8194,"children":8195},{"style":196},[8196],{"type":19,"value":611},{"type":13,"tag":147,"props":8198,"children":8199},{"style":180},[8200],{"type":19,"value":8201},"Eof\n",{"type":13,"tag":32,"props":8203,"children":8204},{},[8205,8207,8212],{"type":19,"value":8206},"(You can ignore the panic, that is from the ",{"type":13,"tag":93,"props":8208,"children":8210},{"className":8209},[],[8211],{"type":19,"value":7817},{"type":19,"value":2392},{"type":13,"tag":32,"props":8214,"children":8215},{},[8216,8218,8221],{"type":19,"value":8217},"We can also test some error handling now!\nTry specifying a wrong file name, you should get a helpful error ",{"type":13,"tag":5855,"props":8219,"children":8220},{},[],{"type":19,"value":8222},"\nOr add a symbol we haven't supported yet to the file!",{"type":13,"tag":32,"props":8224,"children":8225},{},[8226],{"type":19,"value":8227},"Arent those errors just amazing? Always remember to test your error handling!",{"type":13,"tag":460,"props":8229,"children":8231},{"id":8230},"parser",[8232],{"type":19,"value":606},{"type":13,"tag":32,"props":8234,"children":8235},{},[8236],{"type":19,"value":8237},"Now the more fun part starts! Writing a parser, we can do a very simple parsing because of how we will design the language, basically, we can always know what we are about to parse by looking at the current token.",{"type":13,"tag":32,"props":8239,"children":8240},{},[8241,8243,8249,8251,8256],{"type":19,"value":8242},"Is it a ",{"type":13,"tag":93,"props":8244,"children":8246},{"className":8245},[],[8247],{"type":19,"value":8248},"print",{"type":19,"value":8250},", great we are about to parse a print statement, is it a ",{"type":13,"tag":93,"props":8252,"children":8254},{"className":8253},[],[8255],{"type":19,"value":6813},{"type":19,"value":8257}," ... well you get the point!\nAnd no not all langs are like this,  consider Pythons list comps!",{"type":13,"tag":32,"props":8259,"children":8260},{},[8261,8267,8269,8275,8277,8283,8285,8291],{"type":13,"tag":93,"props":8262,"children":8264},{"className":8263},[],[8265],{"type":19,"value":8266},"[x + 1]",{"type":19,"value":8268}," vs ",{"type":13,"tag":93,"props":8270,"children":8272},{"className":8271},[],[8273],{"type":19,"value":8274},"[x + 1 for x in range(10)]",{"type":19,"value":8276},", when parsing the ",{"type":13,"tag":93,"props":8278,"children":8280},{"className":8279},[],[8281],{"type":19,"value":8282},"X",{"type":19,"value":8284}," token you dont know if it is a list comp or a normal list you are parsing, you don't know that until you hit the ",{"type":13,"tag":93,"props":8286,"children":8288},{"className":8287},[],[8289],{"type":19,"value":8290},"FOR",{"type":19,"value":8292}," token. but we will be careful and avoid issues like this.",{"type":13,"tag":32,"props":8294,"children":8295},{},[8296,8298,8304],{"type":19,"value":8297},"So, let's create our ",{"type":13,"tag":93,"props":8299,"children":8301},{"className":8300},[],[8302],{"type":19,"value":8303},"parser.rs",{"type":19,"value":2656},{"type":13,"tag":88,"props":8306,"children":8308},{"code":8307,"language":140,"meta":7,"className":141,"style":7},"// parsing/parser.rs\nuse anyhow::Context;\nuse thiserror::Error;\n\nuse crate::parsing::{\n    ast,\n    tokens::{Token, TokenType},\n    StreamConsumer,\n};\n\n#[derive(Error, Debug)]\n#[error(\"Parser error on line {line}, char {char}: expected one of {expected}, got {got:?}\")]\npub struct ParsingError {\n    pub line: usize,\n    pub char: usize,\n    pub got: TokenType,\n    pub expected: String,\n}\n",[8309],{"type":13,"tag":93,"props":8310,"children":8311},{"__ignoreMap":7},[8312,8320,8343,8366,8373,8397,8405,8438,8450,8457,8464,8487,8503,8523,8546,8569,8593,8617],{"type":13,"tag":147,"props":8313,"children":8314},{"class":149,"line":150},[8315],{"type":13,"tag":147,"props":8316,"children":8317},{"style":154},[8318],{"type":19,"value":8319},"// parsing/parser.rs\n",{"type":13,"tag":147,"props":8321,"children":8322},{"class":149,"line":160},[8323,8327,8331,8335,8339],{"type":13,"tag":147,"props":8324,"children":8325},{"style":174},[8326],{"type":19,"value":587},{"type":13,"tag":147,"props":8328,"children":8329},{"style":180},[8330],{"type":19,"value":855},{"type":13,"tag":147,"props":8332,"children":8333},{"style":174},[8334],{"type":19,"value":596},{"type":13,"tag":147,"props":8336,"children":8337},{"style":180},[8338],{"type":19,"value":1983},{"type":13,"tag":147,"props":8340,"children":8341},{"style":196},[8342],{"type":19,"value":199},{"type":13,"tag":147,"props":8344,"children":8345},{"class":149,"line":170},[8346,8350,8354,8358,8362],{"type":13,"tag":147,"props":8347,"children":8348},{"style":174},[8349],{"type":19,"value":587},{"type":13,"tag":147,"props":8351,"children":8352},{"style":180},[8353],{"type":19,"value":3622},{"type":13,"tag":147,"props":8355,"children":8356},{"style":174},[8357],{"type":19,"value":596},{"type":13,"tag":147,"props":8359,"children":8360},{"style":180},[8361],{"type":19,"value":3631},{"type":13,"tag":147,"props":8363,"children":8364},{"style":196},[8365],{"type":19,"value":199},{"type":13,"tag":147,"props":8367,"children":8368},{"class":149,"line":202},[8369],{"type":13,"tag":147,"props":8370,"children":8371},{"emptyLinePlaceholder":164},[8372],{"type":19,"value":167},{"type":13,"tag":147,"props":8374,"children":8375},{"class":149,"line":228},[8376,8380,8384,8388,8392],{"type":13,"tag":147,"props":8377,"children":8378},{"style":174},[8379],{"type":19,"value":587},{"type":13,"tag":147,"props":8381,"children":8382},{"style":174},[8383],{"type":19,"value":2690},{"type":13,"tag":147,"props":8385,"children":8386},{"style":180},[8387],{"type":19,"value":2467},{"type":13,"tag":147,"props":8389,"children":8390},{"style":174},[8391],{"type":19,"value":596},{"type":13,"tag":147,"props":8393,"children":8394},{"style":196},[8395],{"type":19,"value":8396},"{\n",{"type":13,"tag":147,"props":8398,"children":8399},{"class":149,"line":236},[8400],{"type":13,"tag":147,"props":8401,"children":8402},{"style":196},[8403],{"type":19,"value":8404},"    ast,\n",{"type":13,"tag":147,"props":8406,"children":8407},{"class":149,"line":274},[8408,8413,8417,8421,8425,8429,8433],{"type":13,"tag":147,"props":8409,"children":8410},{"style":180},[8411],{"type":19,"value":8412},"    tokens",{"type":13,"tag":147,"props":8414,"children":8415},{"style":174},[8416],{"type":19,"value":596},{"type":13,"tag":147,"props":8418,"children":8419},{"style":196},[8420],{"type":19,"value":601},{"type":13,"tag":147,"props":8422,"children":8423},{"style":180},[8424],{"type":19,"value":6682},{"type":13,"tag":147,"props":8426,"children":8427},{"style":196},[8428],{"type":19,"value":611},{"type":13,"tag":147,"props":8430,"children":8431},{"style":180},[8432],{"type":19,"value":5778},{"type":13,"tag":147,"props":8434,"children":8435},{"style":196},[8436],{"type":19,"value":8437},"},\n",{"type":13,"tag":147,"props":8439,"children":8440},{"class":149,"line":709},[8441,8446],{"type":13,"tag":147,"props":8442,"children":8443},{"style":180},[8444],{"type":19,"value":8445},"    StreamConsumer",{"type":13,"tag":147,"props":8447,"children":8448},{"style":196},[8449],{"type":19,"value":779},{"type":13,"tag":147,"props":8451,"children":8452},{"class":149,"line":717},[8453],{"type":13,"tag":147,"props":8454,"children":8455},{"style":196},[8456],{"type":19,"value":621},{"type":13,"tag":147,"props":8458,"children":8459},{"class":149,"line":733},[8460],{"type":13,"tag":147,"props":8461,"children":8462},{"emptyLinePlaceholder":164},[8463],{"type":19,"value":167},{"type":13,"tag":147,"props":8465,"children":8466},{"class":149,"line":751},[8467,8471,8475,8479,8483],{"type":13,"tag":147,"props":8468,"children":8469},{"style":196},[8470],{"type":19,"value":636},{"type":13,"tag":147,"props":8472,"children":8473},{"style":180},[8474],{"type":19,"value":3631},{"type":13,"tag":147,"props":8476,"children":8477},{"style":196},[8478],{"type":19,"value":611},{"type":13,"tag":147,"props":8480,"children":8481},{"style":180},[8482],{"type":19,"value":2718},{"type":13,"tag":147,"props":8484,"children":8485},{"style":196},[8486],{"type":19,"value":645},{"type":13,"tag":147,"props":8488,"children":8489},{"class":149,"line":760},[8490,8494,8499],{"type":13,"tag":147,"props":8491,"children":8492},{"style":196},[8493],{"type":19,"value":3673},{"type":13,"tag":147,"props":8495,"children":8496},{"style":387},[8497],{"type":19,"value":8498},"\"Parser error on line {line}, char {char}: expected one of {expected}, got {got:?}\"",{"type":13,"tag":147,"props":8500,"children":8501},{"style":196},[8502],{"type":19,"value":645},{"type":13,"tag":147,"props":8504,"children":8505},{"class":149,"line":782},[8506,8510,8514,8519],{"type":13,"tag":147,"props":8507,"children":8508},{"style":174},[8509],{"type":19,"value":1666},{"type":13,"tag":147,"props":8511,"children":8512},{"style":174},[8513],{"type":19,"value":1671},{"type":13,"tag":147,"props":8515,"children":8516},{"style":180},[8517],{"type":19,"value":8518}," ParsingError",{"type":13,"tag":147,"props":8520,"children":8521},{"style":196},[8522],{"type":19,"value":663},{"type":13,"tag":147,"props":8524,"children":8525},{"class":149,"line":1352},[8526,8530,8534,8538,8542],{"type":13,"tag":147,"props":8527,"children":8528},{"style":174},[8529],{"type":19,"value":1688},{"type":13,"tag":147,"props":8531,"children":8532},{"style":196},[8533],{"type":19,"value":3542},{"type":13,"tag":147,"props":8535,"children":8536},{"style":174},[8537],{"type":19,"value":253},{"type":13,"tag":147,"props":8539,"children":8540},{"style":180},[8541],{"type":19,"value":258},{"type":13,"tag":147,"props":8543,"children":8544},{"style":196},[8545],{"type":19,"value":779},{"type":13,"tag":147,"props":8547,"children":8548},{"class":149,"line":1360},[8549,8553,8557,8561,8565],{"type":13,"tag":147,"props":8550,"children":8551},{"style":174},[8552],{"type":19,"value":1688},{"type":13,"tag":147,"props":8554,"children":8555},{"style":180},[8556],{"type":19,"value":3566},{"type":13,"tag":147,"props":8558,"children":8559},{"style":174},[8560],{"type":19,"value":253},{"type":13,"tag":147,"props":8562,"children":8563},{"style":180},[8564],{"type":19,"value":258},{"type":13,"tag":147,"props":8566,"children":8567},{"style":196},[8568],{"type":19,"value":779},{"type":13,"tag":147,"props":8570,"children":8571},{"class":149,"line":1369},[8572,8576,8581,8585,8589],{"type":13,"tag":147,"props":8573,"children":8574},{"style":174},[8575],{"type":19,"value":1688},{"type":13,"tag":147,"props":8577,"children":8578},{"style":196},[8579],{"type":19,"value":8580}," got",{"type":13,"tag":147,"props":8582,"children":8583},{"style":174},[8584],{"type":19,"value":253},{"type":13,"tag":147,"props":8586,"children":8587},{"style":180},[8588],{"type":19,"value":3393},{"type":13,"tag":147,"props":8590,"children":8591},{"style":196},[8592],{"type":19,"value":779},{"type":13,"tag":147,"props":8594,"children":8595},{"class":149,"line":1398},[8596,8600,8605,8609,8613],{"type":13,"tag":147,"props":8597,"children":8598},{"style":174},[8599],{"type":19,"value":1688},{"type":13,"tag":147,"props":8601,"children":8602},{"style":196},[8603],{"type":19,"value":8604}," expected",{"type":13,"tag":147,"props":8606,"children":8607},{"style":174},[8608],{"type":19,"value":253},{"type":13,"tag":147,"props":8610,"children":8611},{"style":180},[8612],{"type":19,"value":693},{"type":13,"tag":147,"props":8614,"children":8615},{"style":196},[8616],{"type":19,"value":779},{"type":13,"tag":147,"props":8618,"children":8619},{"class":149,"line":1419},[8620],{"type":13,"tag":147,"props":8621,"children":8622},{"style":196},[8623],{"type":19,"value":706},{"type":13,"tag":32,"props":8625,"children":8626},{},[8627,8629,8634],{"type":19,"value":8628},"Our parsing errors are generally just going to be along the lines of \"expected RIGHT_PAREN got PLUS\" and stuff like that.\nOr like \"expected one of ",{"type":13,"tag":147,"props":8630,"children":8631},{},[8632],{"type":19,"value":8633},"SEMICOLON, PLUS",{"type":19,"value":8635}," got EOF\".",{"type":13,"tag":88,"props":8637,"children":8639},{"code":8638,"language":140,"meta":7,"className":141,"style":7},"fn error(got: Token, expected: String) -> ParsingError {\n    ParsingError {\n        line: got.line,\n        char: got.char,\n        got: got._type,\n        expected,\n    }\n}\n",[8640],{"type":13,"tag":93,"props":8641,"children":8642},{"__ignoreMap":7},[8643,8696,8708,8732,8760,8785,8793,8800],{"type":13,"tag":147,"props":8644,"children":8645},{"class":149,"line":150},[8646,8650,8654,8659,8663,8667,8672,8676,8680,8684,8688,8692],{"type":13,"tag":147,"props":8647,"children":8648},{"style":174},[8649],{"type":19,"value":835},{"type":13,"tag":147,"props":8651,"children":8652},{"style":180},[8653],{"type":19,"value":4797},{"type":13,"tag":147,"props":8655,"children":8656},{"style":196},[8657],{"type":19,"value":8658},"(got",{"type":13,"tag":147,"props":8660,"children":8661},{"style":174},[8662],{"type":19,"value":253},{"type":13,"tag":147,"props":8664,"children":8665},{"style":180},[8666],{"type":19,"value":3502},{"type":13,"tag":147,"props":8668,"children":8669},{"style":196},[8670],{"type":19,"value":8671},", expected",{"type":13,"tag":147,"props":8673,"children":8674},{"style":174},[8675],{"type":19,"value":253},{"type":13,"tag":147,"props":8677,"children":8678},{"style":180},[8679],{"type":19,"value":693},{"type":13,"tag":147,"props":8681,"children":8682},{"style":196},[8683],{"type":19,"value":1869},{"type":13,"tag":147,"props":8685,"children":8686},{"style":174},[8687],{"type":19,"value":850},{"type":13,"tag":147,"props":8689,"children":8690},{"style":180},[8691],{"type":19,"value":8518},{"type":13,"tag":147,"props":8693,"children":8694},{"style":196},[8695],{"type":19,"value":663},{"type":13,"tag":147,"props":8697,"children":8698},{"class":149,"line":160},[8699,8704],{"type":13,"tag":147,"props":8700,"children":8701},{"style":180},[8702],{"type":19,"value":8703},"    ParsingError",{"type":13,"tag":147,"props":8705,"children":8706},{"style":196},[8707],{"type":19,"value":663},{"type":13,"tag":147,"props":8709,"children":8710},{"class":149,"line":170},[8711,8716,8720,8724,8728],{"type":13,"tag":147,"props":8712,"children":8713},{"style":196},[8714],{"type":19,"value":8715},"        line",{"type":13,"tag":147,"props":8717,"children":8718},{"style":174},[8719],{"type":19,"value":253},{"type":13,"tag":147,"props":8721,"children":8722},{"style":196},[8723],{"type":19,"value":8580},{"type":13,"tag":147,"props":8725,"children":8726},{"style":174},[8727],{"type":19,"value":930},{"type":13,"tag":147,"props":8729,"children":8730},{"style":196},[8731],{"type":19,"value":4892},{"type":13,"tag":147,"props":8733,"children":8734},{"class":149,"line":202},[8735,8740,8744,8748,8752,8756],{"type":13,"tag":147,"props":8736,"children":8737},{"style":180},[8738],{"type":19,"value":8739},"        char",{"type":13,"tag":147,"props":8741,"children":8742},{"style":174},[8743],{"type":19,"value":253},{"type":13,"tag":147,"props":8745,"children":8746},{"style":196},[8747],{"type":19,"value":8580},{"type":13,"tag":147,"props":8749,"children":8750},{"style":174},[8751],{"type":19,"value":930},{"type":13,"tag":147,"props":8753,"children":8754},{"style":180},[8755],{"type":19,"value":4534},{"type":13,"tag":147,"props":8757,"children":8758},{"style":196},[8759],{"type":19,"value":779},{"type":13,"tag":147,"props":8761,"children":8762},{"class":149,"line":228},[8763,8768,8772,8776,8780],{"type":13,"tag":147,"props":8764,"children":8765},{"style":196},[8766],{"type":19,"value":8767},"        got",{"type":13,"tag":147,"props":8769,"children":8770},{"style":174},[8771],{"type":19,"value":253},{"type":13,"tag":147,"props":8773,"children":8774},{"style":196},[8775],{"type":19,"value":8580},{"type":13,"tag":147,"props":8777,"children":8778},{"style":174},[8779],{"type":19,"value":930},{"type":13,"tag":147,"props":8781,"children":8782},{"style":196},[8783],{"type":19,"value":8784},"_type,\n",{"type":13,"tag":147,"props":8786,"children":8787},{"class":149,"line":236},[8788],{"type":13,"tag":147,"props":8789,"children":8790},{"style":196},[8791],{"type":19,"value":8792},"        expected,\n",{"type":13,"tag":147,"props":8794,"children":8795},{"class":149,"line":274},[8796],{"type":13,"tag":147,"props":8797,"children":8798},{"style":196},[8799],{"type":19,"value":1004},{"type":13,"tag":147,"props":8801,"children":8802},{"class":149,"line":709},[8803],{"type":13,"tag":147,"props":8804,"children":8805},{"style":196},[8806],{"type":19,"value":706},{"type":13,"tag":32,"props":8808,"children":8809},{},[8810],{"type":19,"value":8811},"Here we generate the error from the got token and the expected ones.",{"type":13,"tag":88,"props":8813,"children":8815},{"code":8814,"language":140,"meta":7,"className":141,"style":7},"pub struct Parser(StreamConsumer\u003CToken>);\n\nimpl Parser {\n    pub fn new(tokens: Vec\u003CToken>) -> Self {\n        Self(StreamConsumer::new(tokens.into_iter().collect()))\n    }\n\n    fn peek(&self) -> anyhow::Result\u003C&TokenType> {\n        self.0\n            .peek()\n            .context(\"Unexpected End of Tokens\")\n            .map(|t| &t._type)\n    }\n\n    fn advance(&mut self) -> anyhow::Result\u003CToken> {\n        self.0.advance().context(\"Unexpected End of Tokens\")\n    }\n\n    fn expect(&mut self, expected_token: TokenType) -> anyhow::Result\u003CTokenType> {\n        let token = self.advance()?;\n\n        if token._type == expected_token {\n            Ok(token._type)\n        } else {\n            Err(error(token, format!(\"{expected_token:?}\")))?\n        }\n    }\n}\n",[8816],{"type":13,"tag":93,"props":8817,"children":8818},{"__ignoreMap":7},[8819,8855,8862,8877,8929,8981,8988,8995,9054,9070,9085,9109,9153,9160,9167,9222,9265,9272,9279,9348,9388,9395,9424,9445,9460,9504,9511,9518],{"type":13,"tag":147,"props":8820,"children":8821},{"class":149,"line":150},[8822,8826,8830,8835,8839,8843,8847,8851],{"type":13,"tag":147,"props":8823,"children":8824},{"style":174},[8825],{"type":19,"value":1666},{"type":13,"tag":147,"props":8827,"children":8828},{"style":174},[8829],{"type":19,"value":1671},{"type":13,"tag":147,"props":8831,"children":8832},{"style":180},[8833],{"type":19,"value":8834}," Parser",{"type":13,"tag":147,"props":8836,"children":8837},{"style":196},[8838],{"type":19,"value":978},{"type":13,"tag":147,"props":8840,"children":8841},{"style":180},[8842],{"type":19,"value":4055},{"type":13,"tag":147,"props":8844,"children":8845},{"style":196},[8846],{"type":19,"value":2756},{"type":13,"tag":147,"props":8848,"children":8849},{"style":180},[8850],{"type":19,"value":6682},{"type":13,"tag":147,"props":8852,"children":8853},{"style":196},[8854],{"type":19,"value":2765},{"type":13,"tag":147,"props":8856,"children":8857},{"class":149,"line":160},[8858],{"type":13,"tag":147,"props":8859,"children":8860},{"emptyLinePlaceholder":164},[8861],{"type":19,"value":167},{"type":13,"tag":147,"props":8863,"children":8864},{"class":149,"line":170},[8865,8869,8873],{"type":13,"tag":147,"props":8866,"children":8867},{"style":174},[8868],{"type":19,"value":4037},{"type":13,"tag":147,"props":8870,"children":8871},{"style":180},[8872],{"type":19,"value":8834},{"type":13,"tag":147,"props":8874,"children":8875},{"style":196},[8876],{"type":19,"value":663},{"type":13,"tag":147,"props":8878,"children":8879},{"class":149,"line":202},[8880,8884,8888,8892,8897,8901,8905,8909,8913,8917,8921,8925],{"type":13,"tag":147,"props":8881,"children":8882},{"style":174},[8883],{"type":19,"value":1688},{"type":13,"tag":147,"props":8885,"children":8886},{"style":174},[8887],{"type":19,"value":1827},{"type":13,"tag":147,"props":8889,"children":8890},{"style":180},[8891],{"type":19,"value":4081},{"type":13,"tag":147,"props":8893,"children":8894},{"style":196},[8895],{"type":19,"value":8896},"(tokens",{"type":13,"tag":147,"props":8898,"children":8899},{"style":174},[8900],{"type":19,"value":253},{"type":13,"tag":147,"props":8902,"children":8903},{"style":180},[8904],{"type":19,"value":2751},{"type":13,"tag":147,"props":8906,"children":8907},{"style":196},[8908],{"type":19,"value":2756},{"type":13,"tag":147,"props":8910,"children":8911},{"style":180},[8912],{"type":19,"value":6682},{"type":13,"tag":147,"props":8914,"children":8915},{"style":196},[8916],{"type":19,"value":4108},{"type":13,"tag":147,"props":8918,"children":8919},{"style":174},[8920],{"type":19,"value":850},{"type":13,"tag":147,"props":8922,"children":8923},{"style":245},[8924],{"type":19,"value":4117},{"type":13,"tag":147,"props":8926,"children":8927},{"style":196},[8928],{"type":19,"value":663},{"type":13,"tag":147,"props":8930,"children":8931},{"class":149,"line":228},[8932,8936,8940,8944,8948,8952,8956,8960,8965,8969,8973,8977],{"type":13,"tag":147,"props":8933,"children":8934},{"style":245},[8935],{"type":19,"value":4129},{"type":13,"tag":147,"props":8937,"children":8938},{"style":196},[8939],{"type":19,"value":978},{"type":13,"tag":147,"props":8941,"children":8942},{"style":180},[8943],{"type":19,"value":4055},{"type":13,"tag":147,"props":8945,"children":8946},{"style":174},[8947],{"type":19,"value":596},{"type":13,"tag":147,"props":8949,"children":8950},{"style":180},[8951],{"type":19,"value":4692},{"type":13,"tag":147,"props":8953,"children":8954},{"style":196},[8955],{"type":19,"value":8896},{"type":13,"tag":147,"props":8957,"children":8958},{"style":174},[8959],{"type":19,"value":930},{"type":13,"tag":147,"props":8961,"children":8962},{"style":180},[8963],{"type":19,"value":8964},"into_iter",{"type":13,"tag":147,"props":8966,"children":8967},{"style":196},[8968],{"type":19,"value":4235},{"type":13,"tag":147,"props":8970,"children":8971},{"style":174},[8972],{"type":19,"value":930},{"type":13,"tag":147,"props":8974,"children":8975},{"style":180},[8976],{"type":19,"value":4718},{"type":13,"tag":147,"props":8978,"children":8979},{"style":196},[8980],{"type":19,"value":5817},{"type":13,"tag":147,"props":8982,"children":8983},{"class":149,"line":236},[8984],{"type":13,"tag":147,"props":8985,"children":8986},{"style":196},[8987],{"type":19,"value":1004},{"type":13,"tag":147,"props":8989,"children":8990},{"class":149,"line":274},[8991],{"type":13,"tag":147,"props":8992,"children":8993},{"emptyLinePlaceholder":164},[8994],{"type":19,"value":167},{"type":13,"tag":147,"props":8996,"children":8997},{"class":149,"line":709},[8998,9002,9006,9010,9014,9018,9022,9026,9030,9034,9038,9042,9046,9050],{"type":13,"tag":147,"props":8999,"children":9000},{"style":174},[9001],{"type":19,"value":4076},{"type":13,"tag":147,"props":9003,"children":9004},{"style":180},[9005],{"type":19,"value":4349},{"type":13,"tag":147,"props":9007,"children":9008},{"style":196},[9009],{"type":19,"value":978},{"type":13,"tag":147,"props":9011,"children":9012},{"style":174},[9013],{"type":19,"value":4358},{"type":13,"tag":147,"props":9015,"children":9016},{"style":245},[9017],{"type":19,"value":4363},{"type":13,"tag":147,"props":9019,"children":9020},{"style":196},[9021],{"type":19,"value":1869},{"type":13,"tag":147,"props":9023,"children":9024},{"style":174},[9025],{"type":19,"value":850},{"type":13,"tag":147,"props":9027,"children":9028},{"style":180},[9029],{"type":19,"value":855},{"type":13,"tag":147,"props":9031,"children":9032},{"style":174},[9033],{"type":19,"value":596},{"type":13,"tag":147,"props":9035,"children":9036},{"style":180},[9037],{"type":19,"value":864},{"type":13,"tag":147,"props":9039,"children":9040},{"style":196},[9041],{"type":19,"value":2756},{"type":13,"tag":147,"props":9043,"children":9044},{"style":174},[9045],{"type":19,"value":4358},{"type":13,"tag":147,"props":9047,"children":9048},{"style":180},[9049],{"type":19,"value":5778},{"type":13,"tag":147,"props":9051,"children":9052},{"style":196},[9053],{"type":19,"value":4068},{"type":13,"tag":147,"props":9055,"children":9056},{"class":149,"line":717},[9057,9061,9065],{"type":13,"tag":147,"props":9058,"children":9059},{"style":245},[9060],{"type":19,"value":4216},{"type":13,"tag":147,"props":9062,"children":9063},{"style":174},[9064],{"type":19,"value":930},{"type":13,"tag":147,"props":9066,"children":9067},{"style":245},[9068],{"type":19,"value":9069},"0\n",{"type":13,"tag":147,"props":9071,"children":9072},{"class":149,"line":733},[9073,9077,9081],{"type":13,"tag":147,"props":9074,"children":9075},{"style":174},[9076],{"type":19,"value":7600},{"type":13,"tag":147,"props":9078,"children":9079},{"style":180},[9080],{"type":19,"value":5627},{"type":13,"tag":147,"props":9082,"children":9083},{"style":196},[9084],{"type":19,"value":7610},{"type":13,"tag":147,"props":9086,"children":9087},{"class":149,"line":751},[9088,9092,9096,9100,9105],{"type":13,"tag":147,"props":9089,"children":9090},{"style":174},[9091],{"type":19,"value":7600},{"type":13,"tag":147,"props":9093,"children":9094},{"style":180},[9095],{"type":19,"value":2378},{"type":13,"tag":147,"props":9097,"children":9098},{"style":196},[9099],{"type":19,"value":978},{"type":13,"tag":147,"props":9101,"children":9102},{"style":387},[9103],{"type":19,"value":9104},"\"Unexpected End of Tokens\"",{"type":13,"tag":147,"props":9106,"children":9107},{"style":196},[9108],{"type":19,"value":4257},{"type":13,"tag":147,"props":9110,"children":9111},{"class":149,"line":760},[9112,9116,9120,9124,9128,9132,9136,9140,9144,9148],{"type":13,"tag":147,"props":9113,"children":9114},{"style":174},[9115],{"type":19,"value":7600},{"type":13,"tag":147,"props":9117,"children":9118},{"style":180},[9119],{"type":19,"value":7622},{"type":13,"tag":147,"props":9121,"children":9122},{"style":196},[9123],{"type":19,"value":978},{"type":13,"tag":147,"props":9125,"children":9126},{"style":174},[9127],{"type":19,"value":7631},{"type":13,"tag":147,"props":9129,"children":9130},{"style":196},[9131],{"type":19,"value":7636},{"type":13,"tag":147,"props":9133,"children":9134},{"style":174},[9135],{"type":19,"value":7631},{"type":13,"tag":147,"props":9137,"children":9138},{"style":174},[9139],{"type":19,"value":1846},{"type":13,"tag":147,"props":9141,"children":9142},{"style":196},[9143],{"type":19,"value":7636},{"type":13,"tag":147,"props":9145,"children":9146},{"style":174},[9147],{"type":19,"value":930},{"type":13,"tag":147,"props":9149,"children":9150},{"style":196},[9151],{"type":19,"value":9152},"_type)\n",{"type":13,"tag":147,"props":9154,"children":9155},{"class":149,"line":782},[9156],{"type":13,"tag":147,"props":9157,"children":9158},{"style":196},[9159],{"type":19,"value":1004},{"type":13,"tag":147,"props":9161,"children":9162},{"class":149,"line":1352},[9163],{"type":13,"tag":147,"props":9164,"children":9165},{"emptyLinePlaceholder":164},[9166],{"type":19,"value":167},{"type":13,"tag":147,"props":9168,"children":9169},{"class":149,"line":1360},[9170,9174,9178,9182,9186,9190,9194,9198,9202,9206,9210,9214,9218],{"type":13,"tag":147,"props":9171,"children":9172},{"style":174},[9173],{"type":19,"value":4076},{"type":13,"tag":147,"props":9175,"children":9176},{"style":180},[9177],{"type":19,"value":4160},{"type":13,"tag":147,"props":9179,"children":9180},{"style":196},[9181],{"type":19,"value":978},{"type":13,"tag":147,"props":9183,"children":9184},{"style":174},[9185],{"type":19,"value":4169},{"type":13,"tag":147,"props":9187,"children":9188},{"style":245},[9189],{"type":19,"value":4174},{"type":13,"tag":147,"props":9191,"children":9192},{"style":196},[9193],{"type":19,"value":1869},{"type":13,"tag":147,"props":9195,"children":9196},{"style":174},[9197],{"type":19,"value":850},{"type":13,"tag":147,"props":9199,"children":9200},{"style":180},[9201],{"type":19,"value":855},{"type":13,"tag":147,"props":9203,"children":9204},{"style":174},[9205],{"type":19,"value":596},{"type":13,"tag":147,"props":9207,"children":9208},{"style":180},[9209],{"type":19,"value":864},{"type":13,"tag":147,"props":9211,"children":9212},{"style":196},[9213],{"type":19,"value":2756},{"type":13,"tag":147,"props":9215,"children":9216},{"style":180},[9217],{"type":19,"value":6682},{"type":13,"tag":147,"props":9219,"children":9220},{"style":196},[9221],{"type":19,"value":4068},{"type":13,"tag":147,"props":9223,"children":9224},{"class":149,"line":1369},[9225,9229,9233,9237,9241,9245,9249,9253,9257,9261],{"type":13,"tag":147,"props":9226,"children":9227},{"style":245},[9228],{"type":19,"value":4216},{"type":13,"tag":147,"props":9230,"children":9231},{"style":174},[9232],{"type":19,"value":930},{"type":13,"tag":147,"props":9234,"children":9235},{"style":245},[9236],{"type":19,"value":4225},{"type":13,"tag":147,"props":9238,"children":9239},{"style":180},[9240],{"type":19,"value":5192},{"type":13,"tag":147,"props":9242,"children":9243},{"style":196},[9244],{"type":19,"value":4235},{"type":13,"tag":147,"props":9246,"children":9247},{"style":174},[9248],{"type":19,"value":930},{"type":13,"tag":147,"props":9250,"children":9251},{"style":180},[9252],{"type":19,"value":2378},{"type":13,"tag":147,"props":9254,"children":9255},{"style":196},[9256],{"type":19,"value":978},{"type":13,"tag":147,"props":9258,"children":9259},{"style":387},[9260],{"type":19,"value":9104},{"type":13,"tag":147,"props":9262,"children":9263},{"style":196},[9264],{"type":19,"value":4257},{"type":13,"tag":147,"props":9266,"children":9267},{"class":149,"line":1398},[9268],{"type":13,"tag":147,"props":9269,"children":9270},{"style":196},[9271],{"type":19,"value":1004},{"type":13,"tag":147,"props":9273,"children":9274},{"class":149,"line":1419},[9275],{"type":13,"tag":147,"props":9276,"children":9277},{"emptyLinePlaceholder":164},[9278],{"type":19,"value":167},{"type":13,"tag":147,"props":9280,"children":9281},{"class":149,"line":1427},[9282,9286,9291,9295,9299,9303,9308,9312,9316,9320,9324,9328,9332,9336,9340,9344],{"type":13,"tag":147,"props":9283,"children":9284},{"style":174},[9285],{"type":19,"value":4076},{"type":13,"tag":147,"props":9287,"children":9288},{"style":180},[9289],{"type":19,"value":9290}," expect",{"type":13,"tag":147,"props":9292,"children":9293},{"style":196},[9294],{"type":19,"value":978},{"type":13,"tag":147,"props":9296,"children":9297},{"style":174},[9298],{"type":19,"value":4169},{"type":13,"tag":147,"props":9300,"children":9301},{"style":245},[9302],{"type":19,"value":4174},{"type":13,"tag":147,"props":9304,"children":9305},{"style":196},[9306],{"type":19,"value":9307},", expected_token",{"type":13,"tag":147,"props":9309,"children":9310},{"style":174},[9311],{"type":19,"value":253},{"type":13,"tag":147,"props":9313,"children":9314},{"style":180},[9315],{"type":19,"value":3393},{"type":13,"tag":147,"props":9317,"children":9318},{"style":196},[9319],{"type":19,"value":1869},{"type":13,"tag":147,"props":9321,"children":9322},{"style":174},[9323],{"type":19,"value":850},{"type":13,"tag":147,"props":9325,"children":9326},{"style":180},[9327],{"type":19,"value":855},{"type":13,"tag":147,"props":9329,"children":9330},{"style":174},[9331],{"type":19,"value":596},{"type":13,"tag":147,"props":9333,"children":9334},{"style":180},[9335],{"type":19,"value":864},{"type":13,"tag":147,"props":9337,"children":9338},{"style":196},[9339],{"type":19,"value":2756},{"type":13,"tag":147,"props":9341,"children":9342},{"style":180},[9343],{"type":19,"value":5778},{"type":13,"tag":147,"props":9345,"children":9346},{"style":196},[9347],{"type":19,"value":4068},{"type":13,"tag":147,"props":9349,"children":9350},{"class":149,"line":1436},[9351,9355,9360,9364,9368,9372,9376,9380,9384],{"type":13,"tag":147,"props":9352,"children":9353},{"style":174},[9354],{"type":19,"value":5162},{"type":13,"tag":147,"props":9356,"children":9357},{"style":196},[9358],{"type":19,"value":9359}," token ",{"type":13,"tag":147,"props":9361,"children":9362},{"style":174},[9363],{"type":19,"value":887},{"type":13,"tag":147,"props":9365,"children":9366},{"style":245},[9367],{"type":19,"value":4174},{"type":13,"tag":147,"props":9369,"children":9370},{"style":174},[9371],{"type":19,"value":930},{"type":13,"tag":147,"props":9373,"children":9374},{"style":180},[9375],{"type":19,"value":5192},{"type":13,"tag":147,"props":9377,"children":9378},{"style":196},[9379],{"type":19,"value":4235},{"type":13,"tag":147,"props":9381,"children":9382},{"style":174},[9383],{"type":19,"value":2397},{"type":13,"tag":147,"props":9385,"children":9386},{"style":196},[9387],{"type":19,"value":199},{"type":13,"tag":147,"props":9389,"children":9390},{"class":149,"line":1465},[9391],{"type":13,"tag":147,"props":9392,"children":9393},{"emptyLinePlaceholder":164},[9394],{"type":19,"value":167},{"type":13,"tag":147,"props":9396,"children":9397},{"class":149,"line":1486},[9398,9402,9406,9410,9415,9419],{"type":13,"tag":147,"props":9399,"children":9400},{"style":174},[9401],{"type":19,"value":5226},{"type":13,"tag":147,"props":9403,"children":9404},{"style":196},[9405],{"type":19,"value":4970},{"type":13,"tag":147,"props":9407,"children":9408},{"style":174},[9409],{"type":19,"value":930},{"type":13,"tag":147,"props":9411,"children":9412},{"style":196},[9413],{"type":19,"value":9414},"_type ",{"type":13,"tag":147,"props":9416,"children":9417},{"style":174},[9418],{"type":19,"value":5235},{"type":13,"tag":147,"props":9420,"children":9421},{"style":196},[9422],{"type":19,"value":9423}," expected_token {\n",{"type":13,"tag":147,"props":9425,"children":9426},{"class":149,"line":1494},[9427,9432,9437,9441],{"type":13,"tag":147,"props":9428,"children":9429},{"style":180},[9430],{"type":19,"value":9431},"            Ok",{"type":13,"tag":147,"props":9433,"children":9434},{"style":196},[9435],{"type":19,"value":9436},"(token",{"type":13,"tag":147,"props":9438,"children":9439},{"style":174},[9440],{"type":19,"value":930},{"type":13,"tag":147,"props":9442,"children":9443},{"style":196},[9444],{"type":19,"value":9152},{"type":13,"tag":147,"props":9446,"children":9447},{"class":149,"line":1502},[9448,9452,9456],{"type":13,"tag":147,"props":9449,"children":9450},{"style":196},[9451],{"type":19,"value":5322},{"type":13,"tag":147,"props":9453,"children":9454},{"style":174},[9455],{"type":19,"value":5327},{"type":13,"tag":147,"props":9457,"children":9458},{"style":196},[9459],{"type":19,"value":663},{"type":13,"tag":147,"props":9461,"children":9462},{"class":149,"line":1518},[9463,9468,9472,9476,9481,9485,9489,9494,9499],{"type":13,"tag":147,"props":9464,"children":9465},{"style":180},[9466],{"type":19,"value":9467},"            Err",{"type":13,"tag":147,"props":9469,"children":9470},{"style":196},[9471],{"type":19,"value":978},{"type":13,"tag":147,"props":9473,"children":9474},{"style":180},[9475],{"type":19,"value":7139},{"type":13,"tag":147,"props":9477,"children":9478},{"style":196},[9479],{"type":19,"value":9480},"(token, ",{"type":13,"tag":147,"props":9482,"children":9483},{"style":180},[9484],{"type":19,"value":7148},{"type":13,"tag":147,"props":9486,"children":9487},{"style":196},[9488],{"type":19,"value":978},{"type":13,"tag":147,"props":9490,"children":9491},{"style":387},[9492],{"type":19,"value":9493},"\"{expected_token:?}\"",{"type":13,"tag":147,"props":9495,"children":9496},{"style":196},[9497],{"type":19,"value":9498},")))",{"type":13,"tag":147,"props":9500,"children":9501},{"style":174},[9502],{"type":19,"value":9503},"?\n",{"type":13,"tag":147,"props":9505,"children":9506},{"class":149,"line":1535},[9507],{"type":13,"tag":147,"props":9508,"children":9509},{"style":196},[9510],{"type":19,"value":996},{"type":13,"tag":147,"props":9512,"children":9513},{"class":149,"line":1543},[9514],{"type":13,"tag":147,"props":9515,"children":9516},{"style":196},[9517],{"type":19,"value":1004},{"type":13,"tag":147,"props":9519,"children":9520},{"class":149,"line":1563},[9521],{"type":13,"tag":147,"props":9522,"children":9523},{"style":196},[9524],{"type":19,"value":706},{"type":13,"tag":32,"props":9526,"children":9527},{},[9528,9530,9536],{"type":19,"value":9529},"This is the general structure of the parser, we are mainly going to be using ",{"type":13,"tag":93,"props":9531,"children":9533},{"className":9532},[],[9534],{"type":19,"value":9535},"expect",{"type":19,"value":9537}," to parse the different things that could show up!",{"type":13,"tag":32,"props":9539,"children":9540},{},[9541],{"type":19,"value":9542},"let's start from the bottom and work up:",{"type":13,"tag":88,"props":9544,"children":9546},{"code":9545,"language":140,"meta":7,"className":141,"style":7},"    fn literal(&mut self) -> anyhow::Result\u003Cast::Literal> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Integer(i) => Ok(ast::Literal::Integer(i)),\n            _ => Err(error(token, \"Literal\".to_string()))?,\n        }\n    }\n\n    fn expression(&mut self) -> anyhow::Result\u003Cast::Expression> {\n        match self.peek()? {\n            TokenType::Integer(_) => Ok(ast::Expression::Literal(self.literal()?)),\n            _ => Err(error(self.advance()?, \"Expression\".to_string()))?,\n        }\n    }\n\n    fn statement(&mut self) -> anyhow::Result\u003Cast::Statement> {\n        let token = self.advance()?;\n        match token._type {\n            TokenType::Print => {\n                let result = ast::Statement::Print(self.expression()?);\n                self.expect(TokenType::SemiColon)?;\n                Ok(result)\n            }\n            _ => Err(error(token, \"Statement\".to_string()))?,\n        }\n    }\n\n    pub fn module(mut self) -> anyhow::Result\u003Cast::Module> {\n        let mut statements = Vec::new();\n\n        while self.peek()? != &TokenType::Eof {\n            statements.push(self.statement()?);\n        }\n\n        Ok(ast::Module(statements))\n    }\n",[9547],{"type":13,"tag":93,"props":9548,"children":9549},{"__ignoreMap":7},[9550,9610,9649,9670,9728,9783,9790,9797,9804,9864,9895,9977,10053,10060,10067,10074,10134,10173,10192,10215,10281,10324,10337,10344,10396,10403,10410,10417,10480,10516,10523,10575,10620,10627,10634,10662],{"type":13,"tag":147,"props":9551,"children":9552},{"class":149,"line":150},[9553,9557,9562,9566,9570,9574,9578,9582,9586,9590,9594,9598,9602,9606],{"type":13,"tag":147,"props":9554,"children":9555},{"style":174},[9556],{"type":19,"value":4076},{"type":13,"tag":147,"props":9558,"children":9559},{"style":180},[9560],{"type":19,"value":9561}," literal",{"type":13,"tag":147,"props":9563,"children":9564},{"style":196},[9565],{"type":19,"value":978},{"type":13,"tag":147,"props":9567,"children":9568},{"style":174},[9569],{"type":19,"value":4169},{"type":13,"tag":147,"props":9571,"children":9572},{"style":245},[9573],{"type":19,"value":4174},{"type":13,"tag":147,"props":9575,"children":9576},{"style":196},[9577],{"type":19,"value":1869},{"type":13,"tag":147,"props":9579,"children":9580},{"style":174},[9581],{"type":19,"value":850},{"type":13,"tag":147,"props":9583,"children":9584},{"style":180},[9585],{"type":19,"value":855},{"type":13,"tag":147,"props":9587,"children":9588},{"style":174},[9589],{"type":19,"value":596},{"type":13,"tag":147,"props":9591,"children":9592},{"style":180},[9593],{"type":19,"value":864},{"type":13,"tag":147,"props":9595,"children":9596},{"style":196},[9597],{"type":19,"value":7440},{"type":13,"tag":147,"props":9599,"children":9600},{"style":174},[9601],{"type":19,"value":596},{"type":13,"tag":147,"props":9603,"children":9604},{"style":180},[9605],{"type":19,"value":2654},{"type":13,"tag":147,"props":9607,"children":9608},{"style":196},[9609],{"type":19,"value":4068},{"type":13,"tag":147,"props":9611,"children":9612},{"class":149,"line":160},[9613,9617,9621,9625,9629,9633,9637,9641,9645],{"type":13,"tag":147,"props":9614,"children":9615},{"style":174},[9616],{"type":19,"value":5162},{"type":13,"tag":147,"props":9618,"children":9619},{"style":196},[9620],{"type":19,"value":9359},{"type":13,"tag":147,"props":9622,"children":9623},{"style":174},[9624],{"type":19,"value":887},{"type":13,"tag":147,"props":9626,"children":9627},{"style":245},[9628],{"type":19,"value":4174},{"type":13,"tag":147,"props":9630,"children":9631},{"style":174},[9632],{"type":19,"value":930},{"type":13,"tag":147,"props":9634,"children":9635},{"style":180},[9636],{"type":19,"value":5192},{"type":13,"tag":147,"props":9638,"children":9639},{"style":196},[9640],{"type":19,"value":4235},{"type":13,"tag":147,"props":9642,"children":9643},{"style":174},[9644],{"type":19,"value":2397},{"type":13,"tag":147,"props":9646,"children":9647},{"style":196},[9648],{"type":19,"value":199},{"type":13,"tag":147,"props":9650,"children":9651},{"class":149,"line":170},[9652,9657,9661,9665],{"type":13,"tag":147,"props":9653,"children":9654},{"style":174},[9655],{"type":19,"value":9656},"        match",{"type":13,"tag":147,"props":9658,"children":9659},{"style":196},[9660],{"type":19,"value":4970},{"type":13,"tag":147,"props":9662,"children":9663},{"style":174},[9664],{"type":19,"value":930},{"type":13,"tag":147,"props":9666,"children":9667},{"style":196},[9668],{"type":19,"value":9669},"_type {\n",{"type":13,"tag":147,"props":9671,"children":9672},{"class":149,"line":202},[9673,9678,9682,9686,9691,9695,9699,9703,9707,9711,9715,9719,9723],{"type":13,"tag":147,"props":9674,"children":9675},{"style":180},[9676],{"type":19,"value":9677},"            TokenType",{"type":13,"tag":147,"props":9679,"children":9680},{"style":174},[9681],{"type":19,"value":596},{"type":13,"tag":147,"props":9683,"children":9684},{"style":180},[9685],{"type":19,"value":3083},{"type":13,"tag":147,"props":9687,"children":9688},{"style":196},[9689],{"type":19,"value":9690},"(i) ",{"type":13,"tag":147,"props":9692,"children":9693},{"style":174},[9694],{"type":19,"value":961},{"type":13,"tag":147,"props":9696,"children":9697},{"style":180},[9698],{"type":19,"value":5597},{"type":13,"tag":147,"props":9700,"children":9701},{"style":196},[9702],{"type":19,"value":978},{"type":13,"tag":147,"props":9704,"children":9705},{"style":180},[9706],{"type":19,"value":2553},{"type":13,"tag":147,"props":9708,"children":9709},{"style":174},[9710],{"type":19,"value":596},{"type":13,"tag":147,"props":9712,"children":9713},{"style":180},[9714],{"type":19,"value":2654},{"type":13,"tag":147,"props":9716,"children":9717},{"style":174},[9718],{"type":19,"value":596},{"type":13,"tag":147,"props":9720,"children":9721},{"style":180},[9722],{"type":19,"value":3083},{"type":13,"tag":147,"props":9724,"children":9725},{"style":196},[9726],{"type":19,"value":9727},"(i)),\n",{"type":13,"tag":147,"props":9729,"children":9730},{"class":149,"line":228},[9731,9735,9739,9744,9748,9752,9756,9761,9765,9770,9775,9779],{"type":13,"tag":147,"props":9732,"children":9733},{"style":196},[9734],{"type":19,"value":6184},{"type":13,"tag":147,"props":9736,"children":9737},{"style":174},[9738],{"type":19,"value":961},{"type":13,"tag":147,"props":9740,"children":9741},{"style":180},[9742],{"type":19,"value":9743}," Err",{"type":13,"tag":147,"props":9745,"children":9746},{"style":196},[9747],{"type":19,"value":978},{"type":13,"tag":147,"props":9749,"children":9750},{"style":180},[9751],{"type":19,"value":7139},{"type":13,"tag":147,"props":9753,"children":9754},{"style":196},[9755],{"type":19,"value":9480},{"type":13,"tag":147,"props":9757,"children":9758},{"style":387},[9759],{"type":19,"value":9760},"\"Literal\"",{"type":13,"tag":147,"props":9762,"children":9763},{"style":174},[9764],{"type":19,"value":930},{"type":13,"tag":147,"props":9766,"children":9767},{"style":180},[9768],{"type":19,"value":9769},"to_string",{"type":13,"tag":147,"props":9771,"children":9772},{"style":196},[9773],{"type":19,"value":9774},"()))",{"type":13,"tag":147,"props":9776,"children":9777},{"style":174},[9778],{"type":19,"value":2397},{"type":13,"tag":147,"props":9780,"children":9781},{"style":196},[9782],{"type":19,"value":779},{"type":13,"tag":147,"props":9784,"children":9785},{"class":149,"line":236},[9786],{"type":13,"tag":147,"props":9787,"children":9788},{"style":196},[9789],{"type":19,"value":996},{"type":13,"tag":147,"props":9791,"children":9792},{"class":149,"line":274},[9793],{"type":13,"tag":147,"props":9794,"children":9795},{"style":196},[9796],{"type":19,"value":1004},{"type":13,"tag":147,"props":9798,"children":9799},{"class":149,"line":709},[9800],{"type":13,"tag":147,"props":9801,"children":9802},{"emptyLinePlaceholder":164},[9803],{"type":19,"value":167},{"type":13,"tag":147,"props":9805,"children":9806},{"class":149,"line":717},[9807,9811,9816,9820,9824,9828,9832,9836,9840,9844,9848,9852,9856,9860],{"type":13,"tag":147,"props":9808,"children":9809},{"style":174},[9810],{"type":19,"value":4076},{"type":13,"tag":147,"props":9812,"children":9813},{"style":180},[9814],{"type":19,"value":9815}," expression",{"type":13,"tag":147,"props":9817,"children":9818},{"style":196},[9819],{"type":19,"value":978},{"type":13,"tag":147,"props":9821,"children":9822},{"style":174},[9823],{"type":19,"value":4169},{"type":13,"tag":147,"props":9825,"children":9826},{"style":245},[9827],{"type":19,"value":4174},{"type":13,"tag":147,"props":9829,"children":9830},{"style":196},[9831],{"type":19,"value":1869},{"type":13,"tag":147,"props":9833,"children":9834},{"style":174},[9835],{"type":19,"value":850},{"type":13,"tag":147,"props":9837,"children":9838},{"style":180},[9839],{"type":19,"value":855},{"type":13,"tag":147,"props":9841,"children":9842},{"style":174},[9843],{"type":19,"value":596},{"type":13,"tag":147,"props":9845,"children":9846},{"style":180},[9847],{"type":19,"value":864},{"type":13,"tag":147,"props":9849,"children":9850},{"style":196},[9851],{"type":19,"value":7440},{"type":13,"tag":147,"props":9853,"children":9854},{"style":174},[9855],{"type":19,"value":596},{"type":13,"tag":147,"props":9857,"children":9858},{"style":180},[9859],{"type":19,"value":2646},{"type":13,"tag":147,"props":9861,"children":9862},{"style":196},[9863],{"type":19,"value":4068},{"type":13,"tag":147,"props":9865,"children":9866},{"class":149,"line":733},[9867,9871,9875,9879,9883,9887,9891],{"type":13,"tag":147,"props":9868,"children":9869},{"style":174},[9870],{"type":19,"value":9656},{"type":13,"tag":147,"props":9872,"children":9873},{"style":245},[9874],{"type":19,"value":4174},{"type":13,"tag":147,"props":9876,"children":9877},{"style":174},[9878],{"type":19,"value":930},{"type":13,"tag":147,"props":9880,"children":9881},{"style":180},[9882],{"type":19,"value":5627},{"type":13,"tag":147,"props":9884,"children":9885},{"style":196},[9886],{"type":19,"value":4235},{"type":13,"tag":147,"props":9888,"children":9889},{"style":174},[9890],{"type":19,"value":2397},{"type":13,"tag":147,"props":9892,"children":9893},{"style":196},[9894],{"type":19,"value":663},{"type":13,"tag":147,"props":9896,"children":9897},{"class":149,"line":751},[9898,9902,9906,9910,9915,9919,9923,9927,9931,9935,9939,9943,9947,9951,9955,9959,9964,9968,9972],{"type":13,"tag":147,"props":9899,"children":9900},{"style":180},[9901],{"type":19,"value":9677},{"type":13,"tag":147,"props":9903,"children":9904},{"style":174},[9905],{"type":19,"value":596},{"type":13,"tag":147,"props":9907,"children":9908},{"style":180},[9909],{"type":19,"value":3083},{"type":13,"tag":147,"props":9911,"children":9912},{"style":196},[9913],{"type":19,"value":9914},"(_) ",{"type":13,"tag":147,"props":9916,"children":9917},{"style":174},[9918],{"type":19,"value":961},{"type":13,"tag":147,"props":9920,"children":9921},{"style":180},[9922],{"type":19,"value":5597},{"type":13,"tag":147,"props":9924,"children":9925},{"style":196},[9926],{"type":19,"value":978},{"type":13,"tag":147,"props":9928,"children":9929},{"style":180},[9930],{"type":19,"value":2553},{"type":13,"tag":147,"props":9932,"children":9933},{"style":174},[9934],{"type":19,"value":596},{"type":13,"tag":147,"props":9936,"children":9937},{"style":180},[9938],{"type":19,"value":2646},{"type":13,"tag":147,"props":9940,"children":9941},{"style":174},[9942],{"type":19,"value":596},{"type":13,"tag":147,"props":9944,"children":9945},{"style":180},[9946],{"type":19,"value":2654},{"type":13,"tag":147,"props":9948,"children":9949},{"style":196},[9950],{"type":19,"value":978},{"type":13,"tag":147,"props":9952,"children":9953},{"style":245},[9954],{"type":19,"value":4363},{"type":13,"tag":147,"props":9956,"children":9957},{"style":174},[9958],{"type":19,"value":930},{"type":13,"tag":147,"props":9960,"children":9961},{"style":180},[9962],{"type":19,"value":9963},"literal",{"type":13,"tag":147,"props":9965,"children":9966},{"style":196},[9967],{"type":19,"value":4235},{"type":13,"tag":147,"props":9969,"children":9970},{"style":174},[9971],{"type":19,"value":2397},{"type":13,"tag":147,"props":9973,"children":9974},{"style":196},[9975],{"type":19,"value":9976},")),\n",{"type":13,"tag":147,"props":9978,"children":9979},{"class":149,"line":760},[9980,9984,9988,9992,9996,10000,10004,10008,10012,10016,10020,10024,10028,10033,10037,10041,10045,10049],{"type":13,"tag":147,"props":9981,"children":9982},{"style":196},[9983],{"type":19,"value":6184},{"type":13,"tag":147,"props":9985,"children":9986},{"style":174},[9987],{"type":19,"value":961},{"type":13,"tag":147,"props":9989,"children":9990},{"style":180},[9991],{"type":19,"value":9743},{"type":13,"tag":147,"props":9993,"children":9994},{"style":196},[9995],{"type":19,"value":978},{"type":13,"tag":147,"props":9997,"children":9998},{"style":180},[9999],{"type":19,"value":7139},{"type":13,"tag":147,"props":10001,"children":10002},{"style":196},[10003],{"type":19,"value":978},{"type":13,"tag":147,"props":10005,"children":10006},{"style":245},[10007],{"type":19,"value":4363},{"type":13,"tag":147,"props":10009,"children":10010},{"style":174},[10011],{"type":19,"value":930},{"type":13,"tag":147,"props":10013,"children":10014},{"style":180},[10015],{"type":19,"value":5192},{"type":13,"tag":147,"props":10017,"children":10018},{"style":196},[10019],{"type":19,"value":4235},{"type":13,"tag":147,"props":10021,"children":10022},{"style":174},[10023],{"type":19,"value":2397},{"type":13,"tag":147,"props":10025,"children":10026},{"style":196},[10027],{"type":19,"value":611},{"type":13,"tag":147,"props":10029,"children":10030},{"style":387},[10031],{"type":19,"value":10032},"\"Expression\"",{"type":13,"tag":147,"props":10034,"children":10035},{"style":174},[10036],{"type":19,"value":930},{"type":13,"tag":147,"props":10038,"children":10039},{"style":180},[10040],{"type":19,"value":9769},{"type":13,"tag":147,"props":10042,"children":10043},{"style":196},[10044],{"type":19,"value":9774},{"type":13,"tag":147,"props":10046,"children":10047},{"style":174},[10048],{"type":19,"value":2397},{"type":13,"tag":147,"props":10050,"children":10051},{"style":196},[10052],{"type":19,"value":779},{"type":13,"tag":147,"props":10054,"children":10055},{"class":149,"line":782},[10056],{"type":13,"tag":147,"props":10057,"children":10058},{"style":196},[10059],{"type":19,"value":996},{"type":13,"tag":147,"props":10061,"children":10062},{"class":149,"line":1352},[10063],{"type":13,"tag":147,"props":10064,"children":10065},{"style":196},[10066],{"type":19,"value":1004},{"type":13,"tag":147,"props":10068,"children":10069},{"class":149,"line":1360},[10070],{"type":13,"tag":147,"props":10071,"children":10072},{"emptyLinePlaceholder":164},[10073],{"type":19,"value":167},{"type":13,"tag":147,"props":10075,"children":10076},{"class":149,"line":1369},[10077,10081,10086,10090,10094,10098,10102,10106,10110,10114,10118,10122,10126,10130],{"type":13,"tag":147,"props":10078,"children":10079},{"style":174},[10080],{"type":19,"value":4076},{"type":13,"tag":147,"props":10082,"children":10083},{"style":180},[10084],{"type":19,"value":10085}," statement",{"type":13,"tag":147,"props":10087,"children":10088},{"style":196},[10089],{"type":19,"value":978},{"type":13,"tag":147,"props":10091,"children":10092},{"style":174},[10093],{"type":19,"value":4169},{"type":13,"tag":147,"props":10095,"children":10096},{"style":245},[10097],{"type":19,"value":4174},{"type":13,"tag":147,"props":10099,"children":10100},{"style":196},[10101],{"type":19,"value":1869},{"type":13,"tag":147,"props":10103,"children":10104},{"style":174},[10105],{"type":19,"value":850},{"type":13,"tag":147,"props":10107,"children":10108},{"style":180},[10109],{"type":19,"value":855},{"type":13,"tag":147,"props":10111,"children":10112},{"style":174},[10113],{"type":19,"value":596},{"type":13,"tag":147,"props":10115,"children":10116},{"style":180},[10117],{"type":19,"value":864},{"type":13,"tag":147,"props":10119,"children":10120},{"style":196},[10121],{"type":19,"value":7440},{"type":13,"tag":147,"props":10123,"children":10124},{"style":174},[10125],{"type":19,"value":596},{"type":13,"tag":147,"props":10127,"children":10128},{"style":180},[10129],{"type":19,"value":2639},{"type":13,"tag":147,"props":10131,"children":10132},{"style":196},[10133],{"type":19,"value":4068},{"type":13,"tag":147,"props":10135,"children":10136},{"class":149,"line":1398},[10137,10141,10145,10149,10153,10157,10161,10165,10169],{"type":13,"tag":147,"props":10138,"children":10139},{"style":174},[10140],{"type":19,"value":5162},{"type":13,"tag":147,"props":10142,"children":10143},{"style":196},[10144],{"type":19,"value":9359},{"type":13,"tag":147,"props":10146,"children":10147},{"style":174},[10148],{"type":19,"value":887},{"type":13,"tag":147,"props":10150,"children":10151},{"style":245},[10152],{"type":19,"value":4174},{"type":13,"tag":147,"props":10154,"children":10155},{"style":174},[10156],{"type":19,"value":930},{"type":13,"tag":147,"props":10158,"children":10159},{"style":180},[10160],{"type":19,"value":5192},{"type":13,"tag":147,"props":10162,"children":10163},{"style":196},[10164],{"type":19,"value":4235},{"type":13,"tag":147,"props":10166,"children":10167},{"style":174},[10168],{"type":19,"value":2397},{"type":13,"tag":147,"props":10170,"children":10171},{"style":196},[10172],{"type":19,"value":199},{"type":13,"tag":147,"props":10174,"children":10175},{"class":149,"line":1419},[10176,10180,10184,10188],{"type":13,"tag":147,"props":10177,"children":10178},{"style":174},[10179],{"type":19,"value":9656},{"type":13,"tag":147,"props":10181,"children":10182},{"style":196},[10183],{"type":19,"value":4970},{"type":13,"tag":147,"props":10185,"children":10186},{"style":174},[10187],{"type":19,"value":930},{"type":13,"tag":147,"props":10189,"children":10190},{"style":196},[10191],{"type":19,"value":9669},{"type":13,"tag":147,"props":10193,"children":10194},{"class":149,"line":1427},[10195,10199,10203,10207,10211],{"type":13,"tag":147,"props":10196,"children":10197},{"style":180},[10198],{"type":19,"value":9677},{"type":13,"tag":147,"props":10200,"children":10201},{"style":174},[10202],{"type":19,"value":596},{"type":13,"tag":147,"props":10204,"children":10205},{"style":180},[10206],{"type":19,"value":2623},{"type":13,"tag":147,"props":10208,"children":10209},{"style":174},[10210],{"type":19,"value":6160},{"type":13,"tag":147,"props":10212,"children":10213},{"style":196},[10214],{"type":19,"value":663},{"type":13,"tag":147,"props":10216,"children":10217},{"class":149,"line":1436},[10218,10223,10228,10232,10236,10240,10244,10248,10252,10256,10260,10264,10269,10273,10277],{"type":13,"tag":147,"props":10219,"children":10220},{"style":174},[10221],{"type":19,"value":10222},"                let",{"type":13,"tag":147,"props":10224,"children":10225},{"style":196},[10226],{"type":19,"value":10227}," result ",{"type":13,"tag":147,"props":10229,"children":10230},{"style":174},[10231],{"type":19,"value":887},{"type":13,"tag":147,"props":10233,"children":10234},{"style":180},[10235],{"type":19,"value":2608},{"type":13,"tag":147,"props":10237,"children":10238},{"style":174},[10239],{"type":19,"value":596},{"type":13,"tag":147,"props":10241,"children":10242},{"style":180},[10243],{"type":19,"value":2639},{"type":13,"tag":147,"props":10245,"children":10246},{"style":174},[10247],{"type":19,"value":596},{"type":13,"tag":147,"props":10249,"children":10250},{"style":180},[10251],{"type":19,"value":2623},{"type":13,"tag":147,"props":10253,"children":10254},{"style":196},[10255],{"type":19,"value":978},{"type":13,"tag":147,"props":10257,"children":10258},{"style":245},[10259],{"type":19,"value":4363},{"type":13,"tag":147,"props":10261,"children":10262},{"style":174},[10263],{"type":19,"value":930},{"type":13,"tag":147,"props":10265,"children":10266},{"style":180},[10267],{"type":19,"value":10268},"expression",{"type":13,"tag":147,"props":10270,"children":10271},{"style":196},[10272],{"type":19,"value":4235},{"type":13,"tag":147,"props":10274,"children":10275},{"style":174},[10276],{"type":19,"value":2397},{"type":13,"tag":147,"props":10278,"children":10279},{"style":196},[10280],{"type":19,"value":988},{"type":13,"tag":147,"props":10282,"children":10283},{"class":149,"line":1465},[10284,10288,10292,10296,10300,10304,10308,10312,10316,10320],{"type":13,"tag":147,"props":10285,"children":10286},{"style":245},[10287],{"type":19,"value":5697},{"type":13,"tag":147,"props":10289,"children":10290},{"style":174},[10291],{"type":19,"value":930},{"type":13,"tag":147,"props":10293,"children":10294},{"style":180},[10295],{"type":19,"value":9535},{"type":13,"tag":147,"props":10297,"children":10298},{"style":196},[10299],{"type":19,"value":978},{"type":13,"tag":147,"props":10301,"children":10302},{"style":180},[10303],{"type":19,"value":5778},{"type":13,"tag":147,"props":10305,"children":10306},{"style":174},[10307],{"type":19,"value":596},{"type":13,"tag":147,"props":10309,"children":10310},{"style":180},[10311],{"type":19,"value":6996},{"type":13,"tag":147,"props":10313,"children":10314},{"style":196},[10315],{"type":19,"value":2392},{"type":13,"tag":147,"props":10317,"children":10318},{"style":174},[10319],{"type":19,"value":2397},{"type":13,"tag":147,"props":10321,"children":10322},{"style":196},[10323],{"type":19,"value":199},{"type":13,"tag":147,"props":10325,"children":10326},{"class":149,"line":1486},[10327,10332],{"type":13,"tag":147,"props":10328,"children":10329},{"style":180},[10330],{"type":19,"value":10331},"                Ok",{"type":13,"tag":147,"props":10333,"children":10334},{"style":196},[10335],{"type":19,"value":10336},"(result)\n",{"type":13,"tag":147,"props":10338,"children":10339},{"class":149,"line":1494},[10340],{"type":13,"tag":147,"props":10341,"children":10342},{"style":196},[10343],{"type":19,"value":5746},{"type":13,"tag":147,"props":10345,"children":10346},{"class":149,"line":1502},[10347,10351,10355,10359,10363,10367,10371,10376,10380,10384,10388,10392],{"type":13,"tag":147,"props":10348,"children":10349},{"style":196},[10350],{"type":19,"value":6184},{"type":13,"tag":147,"props":10352,"children":10353},{"style":174},[10354],{"type":19,"value":961},{"type":13,"tag":147,"props":10356,"children":10357},{"style":180},[10358],{"type":19,"value":9743},{"type":13,"tag":147,"props":10360,"children":10361},{"style":196},[10362],{"type":19,"value":978},{"type":13,"tag":147,"props":10364,"children":10365},{"style":180},[10366],{"type":19,"value":7139},{"type":13,"tag":147,"props":10368,"children":10369},{"style":196},[10370],{"type":19,"value":9480},{"type":13,"tag":147,"props":10372,"children":10373},{"style":387},[10374],{"type":19,"value":10375},"\"Statement\"",{"type":13,"tag":147,"props":10377,"children":10378},{"style":174},[10379],{"type":19,"value":930},{"type":13,"tag":147,"props":10381,"children":10382},{"style":180},[10383],{"type":19,"value":9769},{"type":13,"tag":147,"props":10385,"children":10386},{"style":196},[10387],{"type":19,"value":9774},{"type":13,"tag":147,"props":10389,"children":10390},{"style":174},[10391],{"type":19,"value":2397},{"type":13,"tag":147,"props":10393,"children":10394},{"style":196},[10395],{"type":19,"value":779},{"type":13,"tag":147,"props":10397,"children":10398},{"class":149,"line":1518},[10399],{"type":13,"tag":147,"props":10400,"children":10401},{"style":196},[10402],{"type":19,"value":996},{"type":13,"tag":147,"props":10404,"children":10405},{"class":149,"line":1535},[10406],{"type":13,"tag":147,"props":10407,"children":10408},{"style":196},[10409],{"type":19,"value":1004},{"type":13,"tag":147,"props":10411,"children":10412},{"class":149,"line":1543},[10413],{"type":13,"tag":147,"props":10414,"children":10415},{"emptyLinePlaceholder":164},[10416],{"type":19,"value":167},{"type":13,"tag":147,"props":10418,"children":10419},{"class":149,"line":1563},[10420,10424,10428,10432,10436,10440,10444,10448,10452,10456,10460,10464,10468,10472,10476],{"type":13,"tag":147,"props":10421,"children":10422},{"style":174},[10423],{"type":19,"value":1688},{"type":13,"tag":147,"props":10425,"children":10426},{"style":174},[10427],{"type":19,"value":1827},{"type":13,"tag":147,"props":10429,"children":10430},{"style":180},[10431],{"type":19,"value":2492},{"type":13,"tag":147,"props":10433,"children":10434},{"style":196},[10435],{"type":19,"value":978},{"type":13,"tag":147,"props":10437,"children":10438},{"style":174},[10439],{"type":19,"value":6648},{"type":13,"tag":147,"props":10441,"children":10442},{"style":245},[10443],{"type":19,"value":4174},{"type":13,"tag":147,"props":10445,"children":10446},{"style":196},[10447],{"type":19,"value":1869},{"type":13,"tag":147,"props":10449,"children":10450},{"style":174},[10451],{"type":19,"value":850},{"type":13,"tag":147,"props":10453,"children":10454},{"style":180},[10455],{"type":19,"value":855},{"type":13,"tag":147,"props":10457,"children":10458},{"style":174},[10459],{"type":19,"value":596},{"type":13,"tag":147,"props":10461,"children":10462},{"style":180},[10463],{"type":19,"value":864},{"type":13,"tag":147,"props":10465,"children":10466},{"style":196},[10467],{"type":19,"value":7440},{"type":13,"tag":147,"props":10469,"children":10470},{"style":174},[10471],{"type":19,"value":596},{"type":13,"tag":147,"props":10473,"children":10474},{"style":180},[10475],{"type":19,"value":2985},{"type":13,"tag":147,"props":10477,"children":10478},{"style":196},[10479],{"type":19,"value":4068},{"type":13,"tag":147,"props":10481,"children":10482},{"class":149,"line":1571},[10483,10487,10491,10496,10500,10504,10508,10512],{"type":13,"tag":147,"props":10484,"children":10485},{"style":174},[10486],{"type":19,"value":5162},{"type":13,"tag":147,"props":10488,"children":10489},{"style":174},[10490],{"type":19,"value":5554},{"type":13,"tag":147,"props":10492,"children":10493},{"style":196},[10494],{"type":19,"value":10495}," statements ",{"type":13,"tag":147,"props":10497,"children":10498},{"style":174},[10499],{"type":19,"value":887},{"type":13,"tag":147,"props":10501,"children":10502},{"style":180},[10503],{"type":19,"value":2751},{"type":13,"tag":147,"props":10505,"children":10506},{"style":174},[10507],{"type":19,"value":596},{"type":13,"tag":147,"props":10509,"children":10510},{"style":180},[10511],{"type":19,"value":4692},{"type":13,"tag":147,"props":10513,"children":10514},{"style":196},[10515],{"type":19,"value":905},{"type":13,"tag":147,"props":10517,"children":10518},{"class":149,"line":1580},[10519],{"type":13,"tag":147,"props":10520,"children":10521},{"emptyLinePlaceholder":164},[10522],{"type":19,"value":167},{"type":13,"tag":147,"props":10524,"children":10525},{"class":149,"line":1601},[10526,10530,10534,10538,10542,10546,10550,10555,10559,10563,10567,10571],{"type":13,"tag":147,"props":10527,"children":10528},{"style":174},[10529],{"type":19,"value":5587},{"type":13,"tag":147,"props":10531,"children":10532},{"style":245},[10533],{"type":19,"value":4174},{"type":13,"tag":147,"props":10535,"children":10536},{"style":174},[10537],{"type":19,"value":930},{"type":13,"tag":147,"props":10539,"children":10540},{"style":180},[10541],{"type":19,"value":5627},{"type":13,"tag":147,"props":10543,"children":10544},{"style":196},[10545],{"type":19,"value":4235},{"type":13,"tag":147,"props":10547,"children":10548},{"style":174},[10549],{"type":19,"value":2397},{"type":13,"tag":147,"props":10551,"children":10552},{"style":174},[10553],{"type":19,"value":10554}," !=",{"type":13,"tag":147,"props":10556,"children":10557},{"style":174},[10558],{"type":19,"value":1846},{"type":13,"tag":147,"props":10560,"children":10561},{"style":180},[10562],{"type":19,"value":5778},{"type":13,"tag":147,"props":10564,"children":10565},{"style":174},[10566],{"type":19,"value":596},{"type":13,"tag":147,"props":10568,"children":10569},{"style":180},[10570],{"type":19,"value":7240},{"type":13,"tag":147,"props":10572,"children":10573},{"style":196},[10574],{"type":19,"value":663},{"type":13,"tag":147,"props":10576,"children":10577},{"class":149,"line":5091},[10578,10583,10587,10591,10595,10599,10603,10608,10612,10616],{"type":13,"tag":147,"props":10579,"children":10580},{"style":196},[10581],{"type":19,"value":10582},"            statements",{"type":13,"tag":147,"props":10584,"children":10585},{"style":174},[10586],{"type":19,"value":930},{"type":13,"tag":147,"props":10588,"children":10589},{"style":180},[10590],{"type":19,"value":5675},{"type":13,"tag":147,"props":10592,"children":10593},{"style":196},[10594],{"type":19,"value":978},{"type":13,"tag":147,"props":10596,"children":10597},{"style":245},[10598],{"type":19,"value":4363},{"type":13,"tag":147,"props":10600,"children":10601},{"style":174},[10602],{"type":19,"value":930},{"type":13,"tag":147,"props":10604,"children":10605},{"style":180},[10606],{"type":19,"value":10607},"statement",{"type":13,"tag":147,"props":10609,"children":10610},{"style":196},[10611],{"type":19,"value":4235},{"type":13,"tag":147,"props":10613,"children":10614},{"style":174},[10615],{"type":19,"value":2397},{"type":13,"tag":147,"props":10617,"children":10618},{"style":196},[10619],{"type":19,"value":988},{"type":13,"tag":147,"props":10621,"children":10622},{"class":149,"line":5099},[10623],{"type":13,"tag":147,"props":10624,"children":10625},{"style":196},[10626],{"type":19,"value":996},{"type":13,"tag":147,"props":10628,"children":10629},{"class":149,"line":5107},[10630],{"type":13,"tag":147,"props":10631,"children":10632},{"emptyLinePlaceholder":164},[10633],{"type":19,"value":167},{"type":13,"tag":147,"props":10635,"children":10636},{"class":149,"line":5156},[10637,10641,10645,10649,10653,10657],{"type":13,"tag":147,"props":10638,"children":10639},{"style":180},[10640],{"type":19,"value":7252},{"type":13,"tag":147,"props":10642,"children":10643},{"style":196},[10644],{"type":19,"value":978},{"type":13,"tag":147,"props":10646,"children":10647},{"style":180},[10648],{"type":19,"value":2553},{"type":13,"tag":147,"props":10650,"children":10651},{"style":174},[10652],{"type":19,"value":596},{"type":13,"tag":147,"props":10654,"children":10655},{"style":180},[10656],{"type":19,"value":2985},{"type":13,"tag":147,"props":10658,"children":10659},{"style":196},[10660],{"type":19,"value":10661},"(statements))\n",{"type":13,"tag":147,"props":10663,"children":10664},{"class":149,"line":5220},[10665],{"type":13,"tag":147,"props":10666,"children":10667},{"style":196},[10668],{"type":19,"value":1004},{"type":13,"tag":32,"props":10670,"children":10671},{},[10672,10674,10679],{"type":19,"value":10673},"It is really straightforward really, we check what we are currently at then call the needed function.\nLet's add this to our ",{"type":13,"tag":93,"props":10675,"children":10677},{"className":10676},[],[10678],{"type":19,"value":900},{"type":19,"value":10680}," function!",{"type":13,"tag":88,"props":10682,"children":10684},{"code":10683,"language":140,"meta":7,"className":141,"style":7},"// parsing/mod.rs\n\npub fn parse(code: &str, compiler_options: &CompilerOptions) -> anyhow::Result\u003Cast::Module> {\n    let tokenizer = tokens::Tokenizer::new(code);\n    let tokens = tokenizer.tokenize()?;\n\n    if compiler_options.output_tokens {\n      // ..\n    }\n\n    let parser = parser::Parser::new(tokens);\n    let ast = parser.module()?;\n\n    if compiler_options.output_ast {\n        println!(\"AST: {ast:#?}\");\n    }\n\n    Ok(ast)\n}\n",[10685],{"type":13,"tag":93,"props":10686,"children":10687},{"__ignoreMap":7},[10688,10695,10702,10785,10824,10863,10870,10889,10897,10904,10911,10953,10993,11000,11020,11040,11047,11054,11066],{"type":13,"tag":147,"props":10689,"children":10690},{"class":149,"line":150},[10691],{"type":13,"tag":147,"props":10692,"children":10693},{"style":154},[10694],{"type":19,"value":2584},{"type":13,"tag":147,"props":10696,"children":10697},{"class":149,"line":160},[10698],{"type":13,"tag":147,"props":10699,"children":10700},{"emptyLinePlaceholder":164},[10701],{"type":19,"value":167},{"type":13,"tag":147,"props":10703,"children":10704},{"class":149,"line":170},[10705,10709,10713,10717,10721,10725,10729,10733,10737,10741,10745,10749,10753,10757,10761,10765,10769,10773,10777,10781],{"type":13,"tag":147,"props":10706,"children":10707},{"style":174},[10708],{"type":19,"value":1666},{"type":13,"tag":147,"props":10710,"children":10711},{"style":174},[10712],{"type":19,"value":1827},{"type":13,"tag":147,"props":10714,"children":10715},{"style":180},[10716],{"type":19,"value":7382},{"type":13,"tag":147,"props":10718,"children":10719},{"style":196},[10720],{"type":19,"value":4628},{"type":13,"tag":147,"props":10722,"children":10723},{"style":174},[10724],{"type":19,"value":253},{"type":13,"tag":147,"props":10726,"children":10727},{"style":174},[10728],{"type":19,"value":1846},{"type":13,"tag":147,"props":10730,"children":10731},{"style":180},[10732],{"type":19,"value":1851},{"type":13,"tag":147,"props":10734,"children":10735},{"style":196},[10736],{"type":19,"value":7403},{"type":13,"tag":147,"props":10738,"children":10739},{"style":174},[10740],{"type":19,"value":253},{"type":13,"tag":147,"props":10742,"children":10743},{"style":174},[10744],{"type":19,"value":1846},{"type":13,"tag":147,"props":10746,"children":10747},{"style":180},[10748],{"type":19,"value":2013},{"type":13,"tag":147,"props":10750,"children":10751},{"style":196},[10752],{"type":19,"value":1869},{"type":13,"tag":147,"props":10754,"children":10755},{"style":174},[10756],{"type":19,"value":850},{"type":13,"tag":147,"props":10758,"children":10759},{"style":180},[10760],{"type":19,"value":855},{"type":13,"tag":147,"props":10762,"children":10763},{"style":174},[10764],{"type":19,"value":596},{"type":13,"tag":147,"props":10766,"children":10767},{"style":180},[10768],{"type":19,"value":864},{"type":13,"tag":147,"props":10770,"children":10771},{"style":196},[10772],{"type":19,"value":7440},{"type":13,"tag":147,"props":10774,"children":10775},{"style":174},[10776],{"type":19,"value":596},{"type":13,"tag":147,"props":10778,"children":10779},{"style":180},[10780],{"type":19,"value":2985},{"type":13,"tag":147,"props":10782,"children":10783},{"style":196},[10784],{"type":19,"value":4068},{"type":13,"tag":147,"props":10786,"children":10787},{"class":149,"line":202},[10788,10792,10796,10800,10804,10808,10812,10816,10820],{"type":13,"tag":147,"props":10789,"children":10790},{"style":174},[10791],{"type":19,"value":877},{"type":13,"tag":147,"props":10793,"children":10794},{"style":196},[10795],{"type":19,"value":7464},{"type":13,"tag":147,"props":10797,"children":10798},{"style":174},[10799],{"type":19,"value":887},{"type":13,"tag":147,"props":10801,"children":10802},{"style":180},[10803],{"type":19,"value":3907},{"type":13,"tag":147,"props":10805,"children":10806},{"style":174},[10807],{"type":19,"value":596},{"type":13,"tag":147,"props":10809,"children":10810},{"style":180},[10811],{"type":19,"value":3278},{"type":13,"tag":147,"props":10813,"children":10814},{"style":174},[10815],{"type":19,"value":596},{"type":13,"tag":147,"props":10817,"children":10818},{"style":180},[10819],{"type":19,"value":4692},{"type":13,"tag":147,"props":10821,"children":10822},{"style":196},[10823],{"type":19,"value":7493},{"type":13,"tag":147,"props":10825,"children":10826},{"class":149,"line":228},[10827,10831,10835,10839,10843,10847,10851,10855,10859],{"type":13,"tag":147,"props":10828,"children":10829},{"style":174},[10830],{"type":19,"value":877},{"type":13,"tag":147,"props":10832,"children":10833},{"style":196},[10834],{"type":19,"value":6711},{"type":13,"tag":147,"props":10836,"children":10837},{"style":174},[10838],{"type":19,"value":887},{"type":13,"tag":147,"props":10840,"children":10841},{"style":196},[10842],{"type":19,"value":7513},{"type":13,"tag":147,"props":10844,"children":10845},{"style":174},[10846],{"type":19,"value":930},{"type":13,"tag":147,"props":10848,"children":10849},{"style":180},[10850],{"type":19,"value":7522},{"type":13,"tag":147,"props":10852,"children":10853},{"style":196},[10854],{"type":19,"value":4235},{"type":13,"tag":147,"props":10856,"children":10857},{"style":174},[10858],{"type":19,"value":2397},{"type":13,"tag":147,"props":10860,"children":10861},{"style":196},[10862],{"type":19,"value":199},{"type":13,"tag":147,"props":10864,"children":10865},{"class":149,"line":236},[10866],{"type":13,"tag":147,"props":10867,"children":10868},{"emptyLinePlaceholder":164},[10869],{"type":19,"value":167},{"type":13,"tag":147,"props":10871,"children":10872},{"class":149,"line":274},[10873,10877,10881,10885],{"type":13,"tag":147,"props":10874,"children":10875},{"style":174},[10876],{"type":19,"value":7549},{"type":13,"tag":147,"props":10878,"children":10879},{"style":196},[10880],{"type":19,"value":7554},{"type":13,"tag":147,"props":10882,"children":10883},{"style":174},[10884],{"type":19,"value":930},{"type":13,"tag":147,"props":10886,"children":10887},{"style":196},[10888],{"type":19,"value":7563},{"type":13,"tag":147,"props":10890,"children":10891},{"class":149,"line":709},[10892],{"type":13,"tag":147,"props":10893,"children":10894},{"style":154},[10895],{"type":19,"value":10896},"      // ..\n",{"type":13,"tag":147,"props":10898,"children":10899},{"class":149,"line":717},[10900],{"type":13,"tag":147,"props":10901,"children":10902},{"style":196},[10903],{"type":19,"value":1004},{"type":13,"tag":147,"props":10905,"children":10906},{"class":149,"line":733},[10907],{"type":13,"tag":147,"props":10908,"children":10909},{"emptyLinePlaceholder":164},[10910],{"type":19,"value":167},{"type":13,"tag":147,"props":10912,"children":10913},{"class":149,"line":751},[10914,10918,10923,10927,10932,10936,10940,10944,10948],{"type":13,"tag":147,"props":10915,"children":10916},{"style":174},[10917],{"type":19,"value":877},{"type":13,"tag":147,"props":10919,"children":10920},{"style":196},[10921],{"type":19,"value":10922}," parser ",{"type":13,"tag":147,"props":10924,"children":10925},{"style":174},[10926],{"type":19,"value":887},{"type":13,"tag":147,"props":10928,"children":10929},{"style":180},[10930],{"type":19,"value":10931}," parser",{"type":13,"tag":147,"props":10933,"children":10934},{"style":174},[10935],{"type":19,"value":596},{"type":13,"tag":147,"props":10937,"children":10938},{"style":180},[10939],{"type":19,"value":606},{"type":13,"tag":147,"props":10941,"children":10942},{"style":174},[10943],{"type":19,"value":596},{"type":13,"tag":147,"props":10945,"children":10946},{"style":180},[10947],{"type":19,"value":4692},{"type":13,"tag":147,"props":10949,"children":10950},{"style":196},[10951],{"type":19,"value":10952},"(tokens);\n",{"type":13,"tag":147,"props":10954,"children":10955},{"class":149,"line":760},[10956,10960,10964,10968,10972,10976,10981,10985,10989],{"type":13,"tag":147,"props":10957,"children":10958},{"style":174},[10959],{"type":19,"value":877},{"type":13,"tag":147,"props":10961,"children":10962},{"style":196},[10963],{"type":19,"value":7971},{"type":13,"tag":147,"props":10965,"children":10966},{"style":174},[10967],{"type":19,"value":887},{"type":13,"tag":147,"props":10969,"children":10970},{"style":196},[10971],{"type":19,"value":10931},{"type":13,"tag":147,"props":10973,"children":10974},{"style":174},[10975],{"type":19,"value":930},{"type":13,"tag":147,"props":10977,"children":10978},{"style":180},[10979],{"type":19,"value":10980},"module",{"type":13,"tag":147,"props":10982,"children":10983},{"style":196},[10984],{"type":19,"value":4235},{"type":13,"tag":147,"props":10986,"children":10987},{"style":174},[10988],{"type":19,"value":2397},{"type":13,"tag":147,"props":10990,"children":10991},{"style":196},[10992],{"type":19,"value":199},{"type":13,"tag":147,"props":10994,"children":10995},{"class":149,"line":782},[10996],{"type":13,"tag":147,"props":10997,"children":10998},{"emptyLinePlaceholder":164},[10999],{"type":19,"value":167},{"type":13,"tag":147,"props":11001,"children":11002},{"class":149,"line":1352},[11003,11007,11011,11015],{"type":13,"tag":147,"props":11004,"children":11005},{"style":174},[11006],{"type":19,"value":7549},{"type":13,"tag":147,"props":11008,"children":11009},{"style":196},[11010],{"type":19,"value":7554},{"type":13,"tag":147,"props":11012,"children":11013},{"style":174},[11014],{"type":19,"value":930},{"type":13,"tag":147,"props":11016,"children":11017},{"style":196},[11018],{"type":19,"value":11019},"output_ast {\n",{"type":13,"tag":147,"props":11021,"children":11022},{"class":149,"line":1360},[11023,11027,11031,11036],{"type":13,"tag":147,"props":11024,"children":11025},{"style":180},[11026],{"type":19,"value":7760},{"type":13,"tag":147,"props":11028,"children":11029},{"style":196},[11030],{"type":19,"value":978},{"type":13,"tag":147,"props":11032,"children":11033},{"style":387},[11034],{"type":19,"value":11035},"\"AST: {ast:#?}\"",{"type":13,"tag":147,"props":11037,"children":11038},{"style":196},[11039],{"type":19,"value":988},{"type":13,"tag":147,"props":11041,"children":11042},{"class":149,"line":1369},[11043],{"type":13,"tag":147,"props":11044,"children":11045},{"style":196},[11046],{"type":19,"value":1004},{"type":13,"tag":147,"props":11048,"children":11049},{"class":149,"line":1398},[11050],{"type":13,"tag":147,"props":11051,"children":11052},{"emptyLinePlaceholder":164},[11053],{"type":19,"value":167},{"type":13,"tag":147,"props":11055,"children":11056},{"class":149,"line":1419},[11057,11061],{"type":13,"tag":147,"props":11058,"children":11059},{"style":180},[11060],{"type":19,"value":1019},{"type":13,"tag":147,"props":11062,"children":11063},{"style":196},[11064],{"type":19,"value":11065},"(ast)\n",{"type":13,"tag":147,"props":11067,"children":11068},{"class":149,"line":1427},[11069],{"type":13,"tag":147,"props":11070,"children":11071},{"style":196},[11072],{"type":19,"value":706},{"type":13,"tag":32,"props":11074,"children":11075},{},[11076],{"type":19,"value":11077},"We can now run our code on the same file",{"type":13,"tag":88,"props":11079,"children":11081},{"code":11080,"language":371,"meta":7,"className":372,"style":7},"cargo run -- run test.viv --output-ast\n",[11082],{"type":13,"tag":93,"props":11083,"children":11084},{"__ignoreMap":7},[11085],{"type":13,"tag":147,"props":11086,"children":11087},{"class":149,"line":150},[11088,11092,11096,11100,11104,11108],{"type":13,"tag":147,"props":11089,"children":11090},{"style":180},[11091],{"type":19,"value":413},{"type":13,"tag":147,"props":11093,"children":11094},{"style":387},[11095],{"type":19,"value":510},{"type":13,"tag":147,"props":11097,"children":11098},{"style":245},[11099],{"type":19,"value":559},{"type":13,"tag":147,"props":11101,"children":11102},{"style":387},[11103],{"type":19,"value":510},{"type":13,"tag":147,"props":11105,"children":11106},{"style":387},[11107],{"type":19,"value":8112},{"type":13,"tag":147,"props":11109,"children":11110},{"style":245},[11111],{"type":19,"value":11112}," --output-ast\n",{"type":13,"tag":32,"props":11114,"children":11115},{},[11116],{"type":19,"value":11117},"And you should get something like:",{"type":13,"tag":88,"props":11119,"children":11121},{"code":11120,"language":140,"meta":7,"className":141,"style":7},"Module(\n    [\n        Print(\n            Literal(\n                Integer(\n                    1,\n                ),\n            ),\n        ),\n        Print(\n            Literal(\n                Integer(\n                    2,\n                ),\n            ),\n        ),\n    ],\n)\n",[11122],{"type":13,"tag":93,"props":11123,"children":11124},{"__ignoreMap":7},[11125,11137,11145,11157,11169,11181,11193,11201,11209,11217,11228,11239,11250,11262,11269,11276,11283,11291],{"type":13,"tag":147,"props":11126,"children":11127},{"class":149,"line":150},[11128,11132],{"type":13,"tag":147,"props":11129,"children":11130},{"style":180},[11131],{"type":19,"value":2985},{"type":13,"tag":147,"props":11133,"children":11134},{"style":196},[11135],{"type":19,"value":11136},"(\n",{"type":13,"tag":147,"props":11138,"children":11139},{"class":149,"line":160},[11140],{"type":13,"tag":147,"props":11141,"children":11142},{"style":196},[11143],{"type":19,"value":11144},"    [\n",{"type":13,"tag":147,"props":11146,"children":11147},{"class":149,"line":170},[11148,11153],{"type":13,"tag":147,"props":11149,"children":11150},{"style":180},[11151],{"type":19,"value":11152},"        Print",{"type":13,"tag":147,"props":11154,"children":11155},{"style":196},[11156],{"type":19,"value":11136},{"type":13,"tag":147,"props":11158,"children":11159},{"class":149,"line":202},[11160,11165],{"type":13,"tag":147,"props":11161,"children":11162},{"style":180},[11163],{"type":19,"value":11164},"            Literal",{"type":13,"tag":147,"props":11166,"children":11167},{"style":196},[11168],{"type":19,"value":11136},{"type":13,"tag":147,"props":11170,"children":11171},{"class":149,"line":228},[11172,11177],{"type":13,"tag":147,"props":11173,"children":11174},{"style":180},[11175],{"type":19,"value":11176},"                Integer",{"type":13,"tag":147,"props":11178,"children":11179},{"style":196},[11180],{"type":19,"value":11136},{"type":13,"tag":147,"props":11182,"children":11183},{"class":149,"line":236},[11184,11189],{"type":13,"tag":147,"props":11185,"children":11186},{"style":245},[11187],{"type":19,"value":11188},"                    1",{"type":13,"tag":147,"props":11190,"children":11191},{"style":196},[11192],{"type":19,"value":779},{"type":13,"tag":147,"props":11194,"children":11195},{"class":149,"line":274},[11196],{"type":13,"tag":147,"props":11197,"children":11198},{"style":196},[11199],{"type":19,"value":11200},"                ),\n",{"type":13,"tag":147,"props":11202,"children":11203},{"class":149,"line":709},[11204],{"type":13,"tag":147,"props":11205,"children":11206},{"style":196},[11207],{"type":19,"value":11208},"            ),\n",{"type":13,"tag":147,"props":11210,"children":11211},{"class":149,"line":717},[11212],{"type":13,"tag":147,"props":11213,"children":11214},{"style":196},[11215],{"type":19,"value":11216},"        ),\n",{"type":13,"tag":147,"props":11218,"children":11219},{"class":149,"line":733},[11220,11224],{"type":13,"tag":147,"props":11221,"children":11222},{"style":180},[11223],{"type":19,"value":11152},{"type":13,"tag":147,"props":11225,"children":11226},{"style":196},[11227],{"type":19,"value":11136},{"type":13,"tag":147,"props":11229,"children":11230},{"class":149,"line":751},[11231,11235],{"type":13,"tag":147,"props":11232,"children":11233},{"style":180},[11234],{"type":19,"value":11164},{"type":13,"tag":147,"props":11236,"children":11237},{"style":196},[11238],{"type":19,"value":11136},{"type":13,"tag":147,"props":11240,"children":11241},{"class":149,"line":760},[11242,11246],{"type":13,"tag":147,"props":11243,"children":11244},{"style":180},[11245],{"type":19,"value":11176},{"type":13,"tag":147,"props":11247,"children":11248},{"style":196},[11249],{"type":19,"value":11136},{"type":13,"tag":147,"props":11251,"children":11252},{"class":149,"line":782},[11253,11258],{"type":13,"tag":147,"props":11254,"children":11255},{"style":245},[11256],{"type":19,"value":11257},"                    2",{"type":13,"tag":147,"props":11259,"children":11260},{"style":196},[11261],{"type":19,"value":779},{"type":13,"tag":147,"props":11263,"children":11264},{"class":149,"line":1352},[11265],{"type":13,"tag":147,"props":11266,"children":11267},{"style":196},[11268],{"type":19,"value":11200},{"type":13,"tag":147,"props":11270,"children":11271},{"class":149,"line":1360},[11272],{"type":13,"tag":147,"props":11273,"children":11274},{"style":196},[11275],{"type":19,"value":11208},{"type":13,"tag":147,"props":11277,"children":11278},{"class":149,"line":1369},[11279],{"type":13,"tag":147,"props":11280,"children":11281},{"style":196},[11282],{"type":19,"value":11216},{"type":13,"tag":147,"props":11284,"children":11285},{"class":149,"line":1398},[11286],{"type":13,"tag":147,"props":11287,"children":11288},{"style":196},[11289],{"type":19,"value":11290},"    ],\n",{"type":13,"tag":147,"props":11292,"children":11293},{"class":149,"line":1419},[11294],{"type":13,"tag":147,"props":11295,"children":11296},{"style":196},[11297],{"type":19,"value":4257},{"type":13,"tag":21,"props":11299,"children":11301},{"id":11300},"conclusion",[11302],{"type":19,"value":11303},"Conclusion",{"type":13,"tag":32,"props":11305,"children":11306},{},[11307],{"type":19,"value":11308},"Oh boy this got long, but now we should have a fully working parser generating our ast, In the next blog we will create the internal IR and type analyzer, they should be much simpler than this, so we might fit in the code generation as well! So stay tuned",{"type":13,"tag":11310,"props":11311,"children":11312},"style",{},[11313],{"type":19,"value":11314},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":160,"depth":160,"links":11316},[11317,11318,11322,11328],{"id":23,"depth":160,"text":26},{"id":320,"depth":160,"text":323,"children":11319},[11320,11321],{"id":462,"depth":170,"text":465},{"id":1116,"depth":170,"text":1119},{"id":2467,"depth":160,"text":2470,"children":11323},[11324,11325,11326,11327],{"id":2553,"depth":170,"text":2556},{"id":3169,"depth":170,"text":3172},{"id":3275,"depth":170,"text":3278},{"id":8230,"depth":170,"text":606},{"id":11300,"depth":160,"text":11303},"markdown","content:blog:2.compiler_2.md","content","blog/2.compiler_2.md","md",1703982906030]